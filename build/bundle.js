var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(r)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t){let e;return l(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function f(t,e,n,r){if(t){const o=d(t,e,n,r);return t[0](o)}}function d(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function p(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function h(t,e,n,r,o,s){if(o){const i=d(e,n,r,s);t.p(i,o)}}function $(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function m(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function w(t){return null==t?"":t}function b(e){return e&&i(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let x=v?()=>window.performance.now():()=>Date.now(),y=v?t=>requestAnimationFrame(t):t;const A=new Set;function k(t){A.forEach((e=>{e.c(t)||(A.delete(e),e.f())})),0!==A.size&&y(k)}function C(t){let e;return 0===A.size&&y(k),{promise:new Promise((n=>{A.add(e={c:t,f:n})})),abort(){A.delete(e)}}}function _(t,e){t.appendChild(e)}function R(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function I(t){const e=T("style");return function(t,e){_(t.head||t,e)}(R(t),e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function U(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function S(t){return document.createTextNode(t)}function O(){return S(" ")}function N(){return S("")}function P(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function D(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function F(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function W(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function H(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function B(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function j(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const Z=new Map;let z,X=0;function V(t,e,n,r,o,s,i,c=0){const l=16.666/r;let a="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*s(t);a+=100*t+`%{${i(r,1-r)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,d=R(t),{stylesheet:p,rules:h}=Z.get(d)||function(t,e){const n={stylesheet:I(e),rules:{}};return Z.set(t,n),n}(d,t);h[f]||(h[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${f} ${r}ms linear ${o}ms 1 both`,X+=1,f}function G(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),X-=o,X||y((()=>{X||(Z.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),Z.clear())})))}function J(t){z=t}function q(){if(!z)throw new Error("Function called outside component initialization");return z}function K(t){q().$$.on_mount.push(t)}function Y(){const t=q();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=j(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}function tt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const et=[],nt=[],rt=[],ot=[],st=Promise.resolve();let it=!1;function ct(t){rt.push(t)}function lt(t){ot.push(t)}const at=new Set;let ut,ft=0;function dt(){const t=z;do{for(;ft<et.length;){const t=et[ft];ft++,J(t),pt(t.$$)}for(J(null),et.length=0,ft=0;nt.length;)nt.pop()();for(let t=0;t<rt.length;t+=1){const e=rt[t];at.has(e)||(at.add(e),e())}rt.length=0}while(et.length);for(;ot.length;)ot.pop()();it=!1,at.clear(),J(t)}function pt(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}function ht(){return ut||(ut=Promise.resolve(),ut.then((()=>{ut=null}))),ut}function $t(t,e,n){t.dispatchEvent(j(`${e?"intro":"outro"}${n}`))}const mt=new Set;let gt;function wt(){gt={r:0,c:[],p:gt}}function bt(){gt.r||s(gt.c),gt=gt.p}function vt(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function xt(t,e,n,r){if(t&&t.o){if(mt.has(t))return;mt.add(t),gt.c.push((()=>{mt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const yt={duration:0};function At(n,r,o,c){let l=r(n,o),a=c?0:1,u=null,f=null,d=null;function p(){d&&G(n,d)}function h(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function $(r){const{delay:o=0,duration:i=300,easing:c=e,tick:$=t,css:m}=l||yt,g={start:x()+o,b:r};r||(g.group=gt,gt.r+=1),u||f?f=g:(m&&(p(),d=V(n,a,r,i,o,c,m)),r&&$(0,1),u=h(g,i),ct((()=>$t(n,r,"start"))),C((t=>{if(f&&t>f.start&&(u=h(f,i),f=null,$t(n,u.b,"start"),m&&(p(),d=V(n,a,u.b,u.duration,0,c,l.css))),u)if(t>=u.end)$(a=u.b,1-a),$t(n,u.b,"end"),f||(u.b?p():--u.group.r||s(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*c(e/u.duration),$(a,1-a)}return!(!u&&!f)})))}return{run(t){i(l)?ht().then((()=>{l=l(),$(t)})):$(t)},end(){p(),u=f=null}}}const kt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Ct(t,e){xt(t,1,1,(()=>{e.delete(t.key)}))}function _t(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Rt(t){t&&t.c()}function It(t,e,n,o){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,n),o||ct((()=>{const e=l.map(r).filter(i);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(ct)}function Lt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(et.push(t),it||(it=!0,st.then(dt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(e,n,r,i,c,l,a,u=[-1]){const f=z;J(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let p=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&Et(e,t)),n})):[],d.update(),p=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(E)}else d.fragment&&d.fragment.c();n.intro&&vt(e.$$.fragment),It(e,n.target,n.anchor,n.customElement),dt()}J(f)}class Tt{$destroy(){Lt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Qt=[];function St(e,n=t){let r;const o=new Set;function s(t){if(c(e,t)&&(e=t,r)){const t=!Qt.length;for(const t of o)t[1](),Qt.push(t,e);if(t){for(let t=0;t<Qt.length;t+=2)Qt[t][0](Qt[t+1]);Qt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,c=t){const l=[i,c];return o.add(l),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}var Ot=St(),Nt=St(),Pt=St(),Dt=St(),Ft=St(),Mt=St(),Wt=St(),Ht=St(),Bt={ram:Ot,cpu:Nt,wires:Pt,controls:Dt,debug:Ft,messageFeed:Mt,menu:Ht},jt=St(!1),Zt=St(!1),zt=St(!1),Xt=St(!1),Vt=function(t,e){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Vt(t,e)};function Gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Jt=function(){return Jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Jt.apply(this,arguments)};function qt(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))}function Kt(t,e){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function Yt(t,e,n){if(n||2===arguments.length)for(var r,o=0,s=e.length;o<s;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var te=function(){function t(t,e,n,r){void 0===r&&(r=null),this.x=e,this.y=n,this.name=t,this.neighbours=[],this.intersectionType=r}return t.prototype.isAlignedTo=function(t){return this.x===t.x||this.y===t.y},t.prototype.isConnectedTo=function(t){return this.neighbours.some((function(e){return e===t}))},t.prototype.connectTo=function(t,e){if(!this.isAlignedTo(t))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+t.name+")");if(this.isConnectedTo(t))throw new Error("This node is already connected to "+t.name);this.neighbours.push(t),t.neighbours.push(this)},t.distance=function(t,e){return Math.hypot(t.x-e.x,t.y-e.y)},t.direction=function(t,e){return t.x>e.x?{x:-1,y:0}:t.x<e.x?{x:1,y:0}:t.y>e.y?{x:0,y:-1}:{x:0,y:1}},t}(),ee={name:"DATA_INT",color:"cyan",animationColor:"darkgreen"},ne={name:"DATA_EXT",color:"blue",animationColor:"lime"},re={name:"CONTROL_INT",color:"#ff7a90",animationColor:"lime"},oe={name:"CONTROL_EXT",color:"red",animationColor:"lime"},se={name:"ADDRESS_INT",color:"yellow",animationColor:"darkgreen"},ie={name:"ADDRESS_EXT",color:"darkorange",animationColor:"lime"},ce={name:"INVISIBLE",color:"transparent",animationColor:"transparent"},le=[new te("RAM:DATA",1250,115),new te("DATA:1",1250,85,ne),new te("DATA:2",749,85),new te("DATA:3",527,85),new te("DATA:4",262,85),new te("DATA:5",95,85,ee),new te("DATA:6",95,390),new te("DATA:7",95,617,ee),new te("DATA:8",320,390,ee),new te("DATA:9",312,250,ee),new te("DATA:10",477,250),new te("DATA:11",652,490,ee),new te("IR:1",262,151),new te("IR:2",312,180),new te("IR:3",212,180),new te("MUX:1",477,292),new te("MUX:2",527,292),new te("MUX:3",502,332),new te("ACC:1",327,617),new te("ACC:2",412,601),new te("ALU:1",320,432),new te("ALU:2",502,432),new te("ALU:3",526,490),new te("ALU:4",412,538),new te("SW:1",652,601)],ae=[new te("RAM:ADD",1061,250),new te("ADD:1",749,250),new te("ADD:2",670,250),new te("ADD:3",590,250),new te("ADD:4",590,137,se),new te("ADD:5",532,250),new te("ADD:6",522,250),new te("INC:1",670,210),new te("INC:2",670,182),new te("PC:1",670,150),new te("PC:2",622,137)],ue=[new te("RAM:CTRL",1061,370),new te("CTRL:1",749,370),new te("CTRL:2",507,370),new te("CTRL:3",497,370),new te("CTRL:4",240,370,re),new te("CTRL:5",185,385),new te("CTRL:6",185,395),new te("CTRL:7",185,490,re),new te("CU:1",212,281),new te("CU:2",270,313),new te("CU:3",240,340),new te("CU:4",185,340),new te("MUX:4",464,313),new te("ALU:5",297,490)],fe=Yt(Yt(Yt([],le,!0),ae,!0),ue,!0);function de(t){return fe.find((function(e){return e.name===t}))}var pe=function(){function t(t,e,n){this.a=t,this.b=e,this.type=n,this.a.connectTo(e,this)}return t.prototype.isConnecting=function(t,e){return this.a===t&&this.b===e||this.a===e&&this.b===t},t.WIDTH=5,t}(),he=[new pe(de("RAM:DATA"),de("DATA:1"),ne),new pe(de("DATA:1"),de("DATA:2"),ne),new pe(de("DATA:2"),de("DATA:3"),ee),new pe(de("DATA:3"),de("DATA:4"),ee),new pe(de("DATA:4"),de("DATA:5"),ee),new pe(de("DATA:5"),de("DATA:6"),ee),new pe(de("DATA:6"),de("DATA:7"),ee),new pe(de("DATA:6"),de("DATA:8"),ee),new pe(de("DATA:8"),de("ALU:1"),ee),new pe(de("DATA:7"),de("ACC:1"),ee),new pe(de("MUX:3"),de("ALU:2"),ee),new pe(de("ALU:4"),de("ACC:2"),ee),new pe(de("ALU:3"),de("DATA:11"),ee),new pe(de("DATA:11"),de("SW:1"),ee),new pe(de("DATA:4"),de("IR:1"),ee),new pe(de("IR:3"),de("CU:1"),ee),new pe(de("IR:2"),de("DATA:9"),ee),new pe(de("DATA:9"),de("DATA:10"),ee),new pe(de("DATA:10"),de("MUX:1"),ee),new pe(de("DATA:3"),de("MUX:2"),ee)],$e=[new pe(de("RAM:ADD"),de("ADD:1"),ie),new pe(de("ADD:1"),de("ADD:2"),se),new pe(de("ADD:2"),de("INC:1"),se),new pe(de("INC:2"),de("PC:1"),se),new pe(de("PC:2"),de("ADD:4"),se),new pe(de("ADD:2"),de("ADD:3"),se),new pe(de("ADD:3"),de("ADD:4"),se),new pe(de("ADD:3"),de("ADD:5"),se),new pe(de("ADD:5"),de("ADD:6"),ce),new pe(de("ADD:6"),de("DATA:10"),se)],me=[new pe(de("CU:2"),de("MUX:4"),re),new pe(de("RAM:CTRL"),de("CTRL:1"),oe),new pe(de("CTRL:1"),de("CTRL:2"),re),new pe(de("CTRL:2"),de("CTRL:3"),ce),new pe(de("CTRL:3"),de("CTRL:4"),re),new pe(de("CTRL:4"),de("CU:3"),re),new pe(de("CU:4"),de("CTRL:5"),re),new pe(de("CTRL:5"),de("CTRL:6"),ce),new pe(de("CTRL:6"),de("CTRL:7"),re),new pe(de("CTRL:7"),de("ALU:5"),re)],ge=Yt(Yt(Yt([],he,!0),$e,!0),me,!0);function we(t){return ge.find((function(e){return e.a.name+"-"+e.b.name===t||e.b.name+"-"+e.a.name===t}))}var be,ve,xe,ye=["en"],Ae=St(!1),ke=St(!0),Ce=St(!0),_e=St(1.6),Re=St((be=(be=void 0!==navigator.languages?navigator.languages[0]:navigator.language).split("-")[0],ye.includes(be)?be:"en")),Ie=St(!1);var Le=function(){function t(t,e){this.pos={x:0,y:0},this.path=Yt([],t,!0),this.wires=Yt([],e,!0),this.reset()}return t.prototype.play=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,new Promise(this._play.bind(this))]}))}))},t.prototype._play=function(t,e){this.resolve=t,requestAnimationFrame(this.startAnimation.bind(this))},t.prototype.startAnimation=function(t){this.previousTimestamp=t,this.animate(t)},t.prototype.animate=function(t){this.deltatime=(t-this.previousTimestamp)/1e3;var e=Math.floor(400*this.deltatime*a(_e));if(this.draw(e),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return Ue(0),this.reset(),void this.resolve();this.previousTimestamp=t,requestAnimationFrame(this.animate.bind(this))},t.prototype.draw=function(t){for(xe.beginPath(),xe.moveTo(this.pos.x,this.pos.y);t>0;){for(this.nextNode=Te(this.pos,this.path[this.nextNodeIndex],t),xe.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor;(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&t>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,xe.lineTo(this.incrementedX,this.incrementedY),xe.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,t--;Ee(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(t=0))}xe.closePath()},t.prototype.reset=function(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1},t}();function Ee(t){xe.save(),xe.globalAlpha=t,xe.globalCompositeOperation="destination-out",xe.fillStyle="#FFF",xe.fillRect(0,0,ve.width,ve.height),xe.restore()}function Ue(t){Ee(.1),40!==++t?requestAnimationFrame((function(){return Ue(t)})):xe.clearRect(0,0,ve.width,ve.height)}function Te(t,e,n){var r=te.direction(t,e),o=te.distance(t,e),s=e;return o>n&&(o=n,s=function(t,e,n){return{x:t.x+e*n.x,y:t.y+e*n.y}}(t,n,r)),{distance:o,direction:r,node:s}}function Qe(e){let n,r,o;return{c(){n=T("canvas"),r=O(),o=T("canvas"),D(n,"class","absolute z-[2] top-0 left-0 w-app h-app"),D(o,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(t,s){L(t,n,s),e[4](n),L(t,r,s),L(t,o,s),e[5](o)},p:t,i:t,o:t,d(t){t&&E(n),e[4](null),t&&E(r),t&&E(o),e[5](null)}}}function Se(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};const o=new Map;let s,i;function c(){const t=s.getContext("2d");t.lineWidth=pe.WIDTH,t.clearRect(0,0,i.width,i.height);for(const e of ge)t.strokeStyle=e.type.color,t.beginPath(),t.moveTo(e.a.x,e.a.y),t.lineTo(e.b.x,e.b.y),t.stroke();for(const e of fe.filter((t=>null!==t.intersectionType))){const n=pe.WIDTH/2-.5;t.beginPath(),t.fillStyle=e.intersectionType.color,t.arc(e.x,e.y,n,0,2*Math.PI),t.fill()}}return K((()=>r(void 0,void 0,void 0,(function*(){n(0,s.width=n(1,i.width=1400,i),s),n(0,s.height=n(1,i.height=800,i),s),c(),(xe=(ve=i).getContext("2d")).lineCap="round",xe.lineWidth=pe.WIDTH})))),[s,i,function(t,e){return r(this,void 0,void 0,(function*(){const n=de(t),r=de(e);if(!n)throw new Error("Node "+t+" is undefined");if(!r)throw new Error("Node "+e+" is undefined");let s;if(s=o.get(t+e))s.reset();else{const i=function(t,e){for(var n=[t],r=new Set,o={},s=0;s<n.length;)for(var i=n[s++],c=0,l=i.neighbours;c<l.length;c++){var a=l[c];if(!r.has(a)){if(r.add(a),a===e){for(var u=[a];i!==t;)u.push(i),i=o[i.name];return u.push(i),u.reverse(),u}o[a.name]=i,n.push(a)}}throw new Error("No path connecting "+t.name+" to "+e.name)}(n,r),c=function(t){for(var e=[],n=0;n<t.length-1;n++)e.push(we("".concat(t[n].name,"-").concat(t[n+1].name)));return e}(i);s=new Le(i,c),o.set(t+e,s)}yield s.play()}))},c,function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class Oe extends Tt{constructor(t){super(),Ut(this,t,Se,Qe,c,{flashWire:2,drawStaticWires:3})}get flashWire(){return this.$$.ctx[2]}get drawStaticWires(){return this.$$.ctx[3]}}function Ne(e){let n,r,o,s=(e[6]?e[0]:"")+"";return{c(){n=T("div"),r=S(s),D(n,"class",o="absolute w-fit font-bold cursor-default "+e[7][e[5]]+" leading-tight"),W(n,"top",e[1]),W(n,"left",e[2]),W(n,"bottom",e[4]),W(n,"right",e[3]),W(n,"font-size",e[7][e[5]])},m(t,e){L(t,n,e),_(n,r)},p(t,[e]){65&e&&s!==(s=(t[6]?t[0]:"")+"")&&F(r,s),32&e&&o!==(o="absolute w-fit font-bold cursor-default "+t[7][t[5]]+" leading-tight")&&D(n,"class",o),2&e&&W(n,"top",t[1]),4&e&&W(n,"left",t[2]),16&e&&W(n,"bottom",t[4]),8&e&&W(n,"right",t[3]),32&e&&W(n,"font-size",t[7][t[5]])},i:t,o:t,d(t){t&&E(n)}}}function Pe(t,e,n){let r;u(t,ke,(t=>n(6,r=t)));let{text:o=""}=e,{top:s="auto"}=e,{left:i="auto"}=e,{right:c="auto"}=e,{bottom:l="auto"}=e,{fontSize:a="MEDIUM"}=e;return t.$$set=t=>{"text"in t&&n(0,o=t.text),"top"in t&&n(1,s=t.top),"left"in t&&n(2,i=t.left),"right"in t&&n(3,c=t.right),"bottom"in t&&n(4,l=t.bottom),"fontSize"in t&&n(5,a=t.fontSize)},[o,s,i,c,l,a,r,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class De extends Tt{constructor(t){super(),Ut(this,t,Pe,Ne,c,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}var Fe=function(t){function e(e){var n=t.call(this,e)||this;return n.isChecked=!0,n}return Gt(e,t),e}(Error),Me=function(t){function e(e,n){return t.call(this,"Value ".concat(e," out of ").concat(n,"-bit valid range"))||this}return Gt(e,t),e}(Fe);function We(t,e){if(Math.abs(t)>e)throw new Error("Position ".concat(t," out of range +/-").concat(e));if(0===t)throw new Error("Positions start from 1");return t<0?this.value.length+t:t-1}function He(t){if(t<1||t>32)throw new Error("Binary numbers must be between ".concat(1," and ").concat(32," bits"))}function Be(t,e){return t<=function(t){return He(t),Math.pow(2,t)}(e)&&t>=Ze(e)}function je(t,e){return t<=function(t){return He(t),Math.pow(2,t-1)-1}(e)&&t>=Ze(e)}function Ze(t){return He(t),-Math.pow(2,t-1)}function ze(t,e){return He(e),Xe((t>>>0).toString(2),e)}function Xe(t,e){return("00000000000000000000000000000000"+t).slice(-e)}var Ve,Ge=function(){function t(t,e){if("string"==typeof e){if(!function(t,e){return He(e),new RegExp("^[01]{1,".concat(e,"}$")).test(t)}(e,t))throw new Me(e,t);this.value=Xe(e,t)}else if("number"==typeof e){if(!Be(e,t))throw new Me(e,t);this.value=ze(e,t)}else this.value=ze(e.signed(),t)}return t.prototype.signed=function(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)},t.prototype.unsigned=function(){return parseInt(this.value,2)},t.prototype.toBinaryString=function(){return this.value},t.prototype.bits=function(){return this.value.length},t.prototype.bytes=function(){return this.bits()/8},t.prototype.getByte=function(e){var n=8*We(e,this.bytes());return new t(8,this.value.substring(n,n+8))},t.prototype.getBytes=function(){for(var t=[],e=1;e<=this.bytes();e++)t.push(this.getByte(e));return t},t.prototype.isBitSet=function(t){return"1"===this.value.charAt(We(t,this.bits()))},t.prototype.setBit=function(e,n){return new t(this.bits(),function(t,e,n){if(!/^[10]*$/.test(t))throw new Error("Invalid binary string");var r=t.split("");return r[We(e,t.length)]=n?"1":"0",r.join("")}(this.value,e,n))},t.fromBytesValues=function(e){return He(8*e.length),"number"==typeof e[0]?t.fromBytesValues(e.map((function(e){return new t(8,e)}))):"string"==typeof e[0]?new t(8*e.length,e.join("")):new t(8*e.length,e.map((function(t){return t.toBinaryString()})).join(""))},t}(),Je=254;function qe(t){if(!Ke(t))throw new Error("Invalid address: "+t);return t/2}function Ke(t){return t%2==0&&t>=0&&t<=Je}var Ye=St(),tn=Ye.subscribe,en=Ye.set,nn=Ye.update;function rn(t){nn(t),Ve=t(Ve)}function on(){var t;t={instructionRegister:null,programCounter:new Ge(8,0),increment:new Ge(8,2),alu1:null,alu2:null,operation:"",accumulator:new Ge(16,0),zeroFlag:!0,negativeFlag:!1,isJumping:!1,isHalting:!1},en(t),Ve=t}on();var sn={subscribe:tn,reset:on,clear:function(){rn((function(t){return Jt(Jt({},t),{instructionRegister:null,alu1:null,alu2:null,operation:"",isJumping:!1,isHalting:!1})}))},setIR:function(t){if(t&&!t.opcode)throw new Error("Invalid opcode");rn((function(e){return Jt(Jt({},e),{instructionRegister:t})}))},setPC:function(t){if("number"==typeof t&&(t=new Ge(8,t)),!Ke(t.unsigned()))throw new Error("Invalid address");rn((function(e){return Jt(Jt({},e),{programCounter:t})}))},setALU1:function(t){"number"==typeof t&&(t=new Ge(16,t)),rn((function(e){return Jt(Jt({},e),{alu1:null===t?null:t})}))},setALU2:function(t){"number"==typeof t&&(t=new Ge(16,t)),rn((function(e){return Jt(Jt({},e),{alu2:null===t?null:t})}))},setOperation:function(t){rn((function(e){return Jt(Jt({},e),{operation:t})}))},setACC:function(t){"number"==typeof t&&(t=new Ge(16,t)),rn((function(e){return Jt(Jt({},e),{accumulator:t})}))},setZeroFlag:function(t){rn((function(e){return Jt(Jt({},e),{zeroFlag:t})}))},setNegativeFlag:function(t){rn((function(e){return Jt(Jt({},e),{negativeFlag:t})}))},setIsJumping:function(t){rn((function(e){return Jt(Jt({},e),{isJumping:t})}))},setIsHalting:function(t){rn((function(e){return Jt(Jt({},e),{isHalting:t})}))}};function cn(t,e,n){return(1-n)*t+n*e}function ln(t,e,n,r){return qt(this,void 0,void 0,(function(){return Kt(this,(function(o){return[2,new Promise((function(o,s){var i,c=0,l=function(s){if(i||(i=s),c>=1)return o(),void t.style.setProperty(e,"rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")"));var u=Math.round(cn(n.r,r.r,c)),f=Math.round(cn(n.g,r.g,c)),d=Math.round(cn(n.b,r.b,c));t.style.setProperty(e,"rgb(".concat(u,", ").concat(f,", ").concat(d,")")),c=(s-i)/(300/a(_e)),requestAnimationFrame(l)};requestAnimationFrame(l)}))]}))}))}function an(t,e,n,r){return qt(this,void 0,void 0,(function(){return Kt(this,(function(o){return[2,ln(t,e,n,r).then((function(){return ln(t,e,r,n)}))]}))}))}function un(t){let e,n,r,o,s,i,c,l,a;return n=new De({props:{text:"IR",top:"-25px",left:"10px"}}),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),o=T("div"),s=S(t[2]),i=O(),c=T("div"),l=S(t[3]),D(o,"class","flex items-center justify-center w-full h-full rounded-l-md"),D(c,"class","flex items-center justify-center w-full h-full rounded-r-md"),D(e,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 ")},m(u,f){L(u,e,f),It(n,e,null),_(e,r),_(e,o),_(o,s),t[8](o),_(e,i),_(e,c),_(c,l),t[9](c),a=!0},p(t,[e]){(!a||4&e)&&F(s,t[2]),(!a||8&e)&&F(l,t[3])},i(t){a||(vt(n.$$.fragment,t),a=!0)},o(t){xt(n.$$.fragment,t),a=!1},d(r){r&&E(e),Lt(n),t[8](null),t[9](null)}}}function fn(t,e,n){let r,o;u(t,sn,(t=>n(6,r=t))),u(t,Ae,(t=>n(7,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c,l,a;return t.$$.update=()=>{192&t.$$.dirty&&(o?(n(2,l=r.instructionRegister?r.instructionRegister.binaryOpcode():""),n(3,a=r.instructionRegister?r.instructionRegister.binaryOperand():"")):(n(2,l=r.instructionRegister?r.instructionRegister.opcode.symbolic:""),r.instructionRegister&&r.instructionRegister.opcode.takesOperand?r.instructionRegister.immediateFlag()?n(3,a=`#${r.instructionRegister.numericOperand()}`):n(3,a=`${r.instructionRegister.numericOperand()}`):n(3,a="")))},[i,c,l,a,function(){return s(this,void 0,void 0,(function*(){return an(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return an(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},r,o,function(t){nt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class dn extends Tt{constructor(t){super(),Ut(this,t,fn,un,c,{flashOpcode:4,flashOperand:5})}get flashOpcode(){return this.$$.ctx[4]}get flashOperand(){return this.$$.ctx[5]}}function pn(e){let n,r,o;return r=new De({props:{text:"Control Unit / Decoder"}}),{c(){n=T("div"),Rt(r.$$.fragment),D(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(t,s){L(t,n,s),It(r,n,null),e[2](n),o=!0},p:t,i(t){o||(vt(r.$$.fragment,t),o=!0)},o(t){xt(r.$$.fragment,t),o=!1},d(t){t&&E(n),Lt(r),e[2](null)}}}function hn(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o;return[o,function(){return r(this,void 0,void 0,(function*(){return an(o,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class $n extends Tt{constructor(t){super(),Ut(this,t,hn,pn,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function mn(t){let e,n,r,o,s,i=(t[1]?t[2].accumulator.toBinaryString():t[2].accumulator.signed())+"";return n=new De({props:{text:"ACC",top:"-25px",left:"0"}}),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),o=S(i),D(e,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(i,c){L(i,e,c),It(n,e,null),_(e,r),_(e,o),t[4](e),s=!0},p(t,[e]){(!s||6&e)&&i!==(i=(t[1]?t[2].accumulator.toBinaryString():t[2].accumulator.signed())+"")&&F(o,i)},i(t){s||(vt(n.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),s=!1},d(r){r&&E(e),Lt(n),t[4](null)}}}function gn(t,e,n){let r,o;u(t,Ae,(t=>n(1,r=t))),u(t,sn,(t=>n(2,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i;return[i,r,o,function(){return s(this,void 0,void 0,(function*(){return an(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class wn extends Tt{constructor(t){super(),Ut(this,t,gn,mn,c,{flash:3})}get flash(){return this.$$.ctx[3]}}function bn(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,h,$,m,g,w=t[2].zeroFlag?"1":"0",b=t[2].negativeFlag?"1":"0";return n=new De({props:{text:"SW",top:"-25px",left:"0"}}),s=new De({props:{text:"Z",bottom:"-21px",left:"25%"}}),u=new De({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),o=T("div"),Rt(s.$$.fragment),i=O(),c=S(w),l=O(),a=T("div"),Rt(u.$$.fragment),f=O(),d=S(b),p=O(),h=T("div"),h.textContent="------",$=O(),m=T("div"),D(o,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md"),D(a,"class","relative h-full flex items-center justify-center w-[19%]"),D(h,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md"),D(e,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center "),D(m,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black")},m(w,b){L(w,e,b),It(n,e,null),_(e,r),_(e,o),It(s,o,null),_(o,i),_(o,c),t[5](o),_(e,l),_(e,a),It(u,a,null),_(a,f),_(a,d),t[6](a),_(e,p),_(e,h),L(w,$,b),L(w,m,b),g=!0},p(t,[e]){(!g||4&e)&&w!==(w=t[2].zeroFlag?"1":"0")&&F(c,w),(!g||4&e)&&b!==(b=t[2].negativeFlag?"1":"0")&&F(d,b)},i(t){g||(vt(n.$$.fragment,t),vt(s.$$.fragment,t),vt(u.$$.fragment,t),g=!0)},o(t){xt(n.$$.fragment,t),xt(s.$$.fragment,t),xt(u.$$.fragment,t),g=!1},d(r){r&&E(e),Lt(n),Lt(s),t[5](null),Lt(u),t[6](null),r&&E($),r&&E(m)}}}function vn(t,e,n){let r;u(t,sn,(t=>n(2,r=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s,i;return[s,i,r,function(){return o(this,void 0,void 0,(function*(){return an(s,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return o(this,void 0,void 0,(function*(){return an(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class xn extends Tt{constructor(t){super(),Ut(this,t,vn,bn,c,{flashZeroFlag:3,flashNegativeFlag:4})}get flashZeroFlag(){return this.$$.ctx[3]}get flashNegativeFlag(){return this.$$.ctx[4]}}function yn(t){let e,n,r,o,s,i,c,l,a,u=(t[2]?t[3].programCounter.toBinaryString():t[3].programCounter.unsigned())+"",f=(t[2]?t[3].increment.toBinaryString():t[3].increment.unsigned())+"";return n=new De({props:{text:"PC",top:"-25px",left:"0"}}),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),o=S(u),s=O(),i=T("div"),c=S("+"),l=S(f),D(e,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center "),D(i,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(u,f){L(u,e,f),It(n,e,null),_(e,r),_(e,o),t[6](e),L(u,s,f),L(u,i,f),_(i,c),_(i,l),t[7](i),a=!0},p(t,[e]){(!a||12&e)&&u!==(u=(t[2]?t[3].programCounter.toBinaryString():t[3].programCounter.unsigned())+"")&&F(o,u),(!a||12&e)&&f!==(f=(t[2]?t[3].increment.toBinaryString():t[3].increment.unsigned())+"")&&F(l,f)},i(t){a||(vt(n.$$.fragment,t),a=!0)},o(t){xt(n.$$.fragment,t),a=!1},d(r){r&&E(e),Lt(n),t[6](null),r&&E(s),r&&E(i),t[7](null)}}}function An(t,e,n){let r,o;u(t,Ae,(t=>n(2,r=t))),u(t,sn,(t=>n(3,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c;return[i,c,r,o,function(){return s(this,void 0,void 0,(function*(){return an(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return an(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class kn extends Tt{constructor(t){super(),Ut(this,t,An,yn,c,{flashPC:4,flashINC:5})}get flashPC(){return this.$$.ctx[4]}get flashINC(){return this.$$.ctx[5]}}function Cn(e){let n,r,o,s,i,c;return i=new De({props:{text:"MUX"}}),{c(){n=T("div"),r=Q("svg"),o=Q("path"),s=O(),Rt(i.$$.fragment),D(o,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),D(r,"xmlns","http://www.w3.org/2000/svg"),D(r,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),D(r,"viewBox","-1 -1 102 42"),D(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(t,l){L(t,n,l),_(n,r),_(r,o),e[2](r),_(n,s),It(i,n,null),c=!0},p:t,i(t){c||(vt(i.$$.fragment,t),c=!0)},o(t){xt(i.$$.fragment,t),c=!1},d(t){t&&E(n),e[2](null),Lt(i)}}}function _n(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o;return[o,function(){return r(this,void 0,void 0,(function*(){return an(o,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Rn extends Tt{constructor(t){super(),Ut(this,t,_n,Cn,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function In(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,h,$,m,g,w=t[0].operation+"";return s=new De({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){e=T("div"),n=Q("svg"),r=Q("path"),o=O(),Rt(s.$$.fragment),i=O(),c=T("div"),l=S(t[5]),u=O(),f=T("div"),d=S(w),p=O(),h=T("div"),$=S(t[6]),D(r,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),D(n,"xmlns","http://www.w3.org/2000/svg"),D(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),D(n,"viewBox","-1 -1 450 162"),D(c,"class",a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),D(f,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),D(h,"class",m="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),D(e,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(a,m){L(a,e,m),_(e,n),_(n,r),_(e,o),It(s,e,null),_(e,i),_(e,c),_(c,l),t[10](c),_(e,u),_(e,f),_(f,d),t[11](f),_(e,p),_(e,h),_(h,$),t[12](h),g=!0},p(t,[e]){(!g||32&e)&&F(l,t[5]),(!g||2&e&&a!==(a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&D(c,"class",a),(!g||1&e)&&w!==(w=t[0].operation+"")&&F(d,w),(!g||64&e)&&F($,t[6]),(!g||2&e&&m!==(m="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&D(h,"class",m)},i(t){g||(vt(s.$$.fragment,t),g=!0)},o(t){xt(s.$$.fragment,t),g=!1},d(n){n&&E(e),Lt(s),t[10](null),t[11](null),t[12](null)}}}function Ln(t){return[t.slice(0,8),t.slice(8)].join(" ")}function En(t,e,n){let r,o;u(t,sn,(t=>n(0,r=t))),u(t,Ae,(t=>n(1,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c,l,a="",f="";return t.$$.update=()=>{3&t.$$.dirty&&(o?(n(5,a=null!==r.alu1?Ln(r.alu1.toBinaryString()):""),n(6,f=null!==r.alu2?Ln(r.alu2.toBinaryString()):"")):(n(5,a=null!==r.alu1?""+r.alu1.signed():""),n(6,f=null!==r.alu2?""+r.alu2.signed():"")))},[r,o,i,c,l,a,f,function(){return s(this,void 0,void 0,(function*(){return an(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return an(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return an(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(3,c)}))}]}class Un extends Tt{constructor(t){super(),Ut(this,t,En,In,c,{flashFirstOperand:7,flashSecondOperand:8,flashOperator:9})}get flashFirstOperand(){return this.$$.ctx[7]}get flashSecondOperand(){return this.$$.ctx[8]}get flashOperator(){return this.$$.ctx[9]}}var Tn=St([]),Qn={subscribe:Tn.subscribe,push:function(t){Tn.update((function(e){return Yt(Yt([],e,!0),[t],!1)}))}},Sn=St({showLogger:!1}),On={subscribe:Sn.subscribe,updateShowLogger:function(t){Sn.update((function(e){return Jt(Jt({},e),{showLogger:t(e.showLogger)})}))}},Nn=Date.now(),Pn=["EXECUTION","USER_INPUT","DEBUG","UNCAUGHT"],Dn=["UNCHECKED_ERROR","CHECKED_ERROR","INFO"];function Fn(){return Date.now()-Nn}var Mn,Wn,Hn,Bn,jn={error:function(t,e,n){void 0===n&&(n=!1),Qn.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:e,timestamp:Fn(),message:n?t.message:t.stack})},info:function(t,e){Qn.push({logType:"INFO",logGroup:e,timestamp:Fn(),message:t})}},Zn=function(){function t(){this._conditions=[],this._endsStep=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}return t.prototype.condition=function(t){return this._conditions.push(t),this},t.prototype.endstep=function(){return this._endsStep=!0,this},t.prototype.sideffects=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._sideffects).push.apply(t,e),this},t.prototype.waitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_before).push.apply(t,e),this},t.prototype.thenWaitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_after).push.apply(t,e),this},t.prototype.execute=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return this._conditions.reduceRight((function(t,e){return t&&e()}),!0)?(jn.info("Executing: ".concat(this.toString()),"EXECUTION"),[4,Promise.all(this._waits_before.map((function(t){return t()})))]):[2];case 1:return t.sent(),[4,Promise.all(Yt(Yt([],this._sideffects.map((function(t){return t.execute()})),!0),[this.action()],!1))];case 2:return t.sent(),[2,Promise.all(this._waits_after.map((function(t){return t()})))]}}))}))},t.prototype.doesEndStep=function(){return this._endsStep},t.prototype.toString=function(){return"".concat(this.constructor.name)},t}(),zn={IR:a(sn).instructionRegister,"IR:OPC":null===(Mn=a(sn).instructionRegister)||void 0===Mn?void 0:Mn.numericOpcode(),"IR:OPR":null===(Wn=a(sn).instructionRegister)||void 0===Wn?void 0:Wn.numericOperand(),PC:a(sn).programCounter.unsigned(),INC:a(sn).increment.unsigned(),"ALU:1":null===(Hn=a(sn).alu1)||void 0===Hn?void 0:Hn.signed(),"ALU:2":null===(Bn=a(sn).alu2)||void 0===Bn?void 0:Bn.signed(),"ALU:OPR":a(sn).operation,ACC:a(sn).accumulator.signed(),"SW:Z":a(sn).zeroFlag,"SW:N":a(sn).negativeFlag,RAM:null};function Xn(){return zn["SW:Z"]}function Vn(){return!zn["SW:Z"]}function Gn(){return zn["SW:N"]}function Jn(){return!zn["SW:N"]}function qn(){return a(Ce)}function Kn(){return a(Ie)}var Yn=function(t){function e(){var e=t.call(this)||this;return e.condition(qn),e}return Gt(e,t),e}(Zn),tr=function(t){function e(e){var n=t.call(this)||this;return n.component=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,a(Bt.cpu).flash(this.component)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component)},e}(Yn);function er(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,h,$,m,g,w,b;o=new De({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});i=new dn({props:{}}),t[8](i);l=new $n({props:{}}),t[9](l);u=new kn({props:{}}),t[10](u);d=new Rn({props:{}}),t[11](d);h=new Un({props:{}}),t[12](h);m=new xn({props:{}}),t[13](m);return w=new wn({props:{}}),t[14](w),{c(){e=T("div"),n=O(),r=T("div"),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),c=O(),Rt(l.$$.fragment),a=O(),Rt(u.$$.fragment),f=O(),Rt(d.$$.fragment),p=O(),Rt(h.$$.fragment),$=O(),Rt(m.$$.fragment),g=O(),Rt(w.$$.fragment),D(e,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),D(r,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(t,v){L(t,e,v),L(t,n,v),L(t,r,v),It(o,r,null),_(r,s),It(i,r,null),_(r,c),It(l,r,null),_(r,a),It(u,r,null),_(r,f),It(d,r,null),_(r,p),It(h,r,null),_(r,$),It(m,r,null),_(r,g),It(w,r,null),b=!0},p(t,[e]){i.$set({});l.$set({});u.$set({});d.$set({});h.$set({});m.$set({});w.$set({})},i(t){b||(vt(o.$$.fragment,t),vt(i.$$.fragment,t),vt(l.$$.fragment,t),vt(u.$$.fragment,t),vt(d.$$.fragment,t),vt(h.$$.fragment,t),vt(m.$$.fragment,t),vt(w.$$.fragment,t),b=!0)},o(t){xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),xt(u.$$.fragment,t),xt(d.$$.fragment,t),xt(h.$$.fragment,t),xt(m.$$.fragment,t),xt(w.$$.fragment,t),b=!1},d(s){s&&E(e),s&&E(n),s&&E(r),Lt(o),t[8](null),Lt(i),t[9](null),Lt(l),t[10](null),Lt(u),t[11](null),Lt(d),t[12](null),Lt(h),t[13](null),Lt(m),t[14](null),Lt(w)}}}function nr(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o,s,i,c,l,a,u;return[o,s,i,c,l,a,u,function(t){return r(this,void 0,void 0,(function*(){switch(t){case"IR":return Promise.all([o.flashOpcode(),o.flashOperand()]);case"IR:OPC":return o.flashOpcode();case"IR:OPR":return o.flashOperand();case"PC":return i.flashPC();case"INC":return i.flashINC();case"MUX":return c.flash();case"CU":return s.flash();case"ALU:1":return l.flashFirstOperand();case"ALU:2":return l.flashSecondOperand();case"ALU:OPR":return l.flashOperator();case"ACC":return u.flash();case"SW:Z":return a.flashZeroFlag();case"SW:N":return a.flashNegativeFlag()}}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){nt[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(t){nt[t?"unshift":"push"]((()=>{u=t,n(6,u)}))}]}class rr extends Tt{constructor(t){super(),Ut(this,t,nr,er,c,{flash:7})}get flash(){return this.$$.ctx[7]}}var or=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:""},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:""},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"="},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!"}];function sr(t){return"string"==typeof t?or.find((function(e){return e.symbolic===t})):or.find((function(e){return e.numeric===t.getByte(1).unsigned()}))}function ir(t){return t.isBitSet(1)}function cr(t,e){return t.setBit(1,e)}function lr(t){return cr(t,!1)}var ar=function(){function t(t,e,n,r){if(void 0===r&&(r=!1),16!==n.bits())throw new Error("Value must be 16 bit");this.opcode=sr(lr(n)),this.symbolicOpcode=t,this.symbolicOperand=e,this.value=n,r&&(this.opcode=void 0)}return t.prototype.immediateFlag=function(){return ir(this.value)},t.prototype.opcodeValue=function(){return this.value.getByte(1)},t.prototype.operandValue=function(){return this.value.getByte(2)},t.prototype.numericOpcode=function(){return this.value.getByte(1).signed()},t.prototype.numericOperand=function(){return this.immediateFlag()?this.value.getByte(2).signed():this.value.getByte(2).unsigned()},t.prototype.binaryOpcode=function(){return this.value.getByte(1).toBinaryString()},t.prototype.binaryOperand=function(){return this.value.getByte(2).toBinaryString()},t.prototype.symbolic=function(){return this.symbolicOpcode+(""!==this.symbolicOperand?" ".concat(this.symbolicOperand):"")},t}(),ur=function(t){function e(e,n){var r=t.call(this,e)||this;return r.inputString=n,r}return Gt(e,t),e}(Fe),fr=/^[01]{0,8}\s?[01]{1,8}?$/,dr=/^-?[0-9]{1,5}$/,pr=/#-?[0-9]{1,3}/,hr=/[A-Z_]{1,10}/,$r=/#[A-Z_]{1,10}/,mr=new RegExp("^"+/[A-Z]{2,3}/.source+"( (("+pr.source+")|("+$r.source+")|("+/[0-9]{1,3}/.source+")|("+hr.source+")))?$");function gr(t,e,n){void 0===n&&(n=[]);var r=fr.test(t),o=mr.test(t),s=dr.test(t);if(e&&!r)throw new ur("Invalid binary input",t);if(!e&&!s&&!o)throw new ur("Invalid input",t);return o?function(t,e){var n=t.split(" "),r=n[0],o=n[1],s=!!o,i=sr(r);if(!i)throw new ur("Invalid opcode",t);if(s){if(!i.takesOperand)throw new ur("Opcode doesn't allow operand",t);return $r.test(o)?function(t,e,n){var r=t.split(" "),o=r[0],s=r[1],i=s.slice(1);if(!n.includes(i))throw new ur("Unknown label",t);var c=cr(new Ge(8,e.numeric),!0).signed(),l=n.indexOf(i);if(!e.takesImmediate)throw new ur("Opcode doesn't allow immediate operand",t);if(!je(l,8))throw new ur("Operand is not a valid 8 bit signed value",t);return new ar(o,s,Ge.fromBytesValues([c,l]))}(t,i,e):hr.test(o)?function(t,e,n){var r=t.split(" "),o=r[0],s=r[1];if(!n.includes(s))throw new ur("Unknown label",t);var i=n.indexOf(s);return new ar(o,s,Ge.fromBytesValues([e.numeric,i]))}(t,i,e):pr.test(o)?function(t,e){var n=t.split(" "),r=n[0],o=n[1],s=cr(new Ge(8,e.numeric),!0).signed(),i=parseInt(o.slice(1));if(!e.takesImmediate)throw new ur("Opcode doesn't allow immediate operand",t);if(!je(i,8))throw new ur("Operand is not a valid 8 bit signed value",t);return new ar(r,o,Ge.fromBytesValues([s,i]))}(t,i):function(t,e){var n=t.split(" "),r=n[0],o=n[1],s=parseInt(o);if(!Ke(s))throw new ur("Operand is not a valid address",t);return new ar(r,o,Ge.fromBytesValues([e.numeric,s]))}(t,i)}if(i.takesOperand)throw new ur("Opcode requires operand",t);return new ar(r,"",Ge.fromBytesValues([i.numeric,0]))}(t,n):r&&e?function(t){if(t.includes(" ")){var e=t.split(" ");t=e[0]+Xe(e[1],8)}var n=new Ge(16,t),r=n.getByte(1),o=n.getByte(2),s=ir(r),i=sr(lr(r)),c=!1;i&&i.takesOperand?s&&!i.takesImmediate?c=!0:s||Ke(o.unsigned())||(c=!0):c=!0;var l=c?n.signed().toString():i.symbolic,a=s?"#"+o.signed():o.unsigned().toString();c&&(a="");return new ar(l,a,n,c)}(t):function(t){var e=parseInt(t);if(!je(e,16))throw new ur("Input is not a valid 16 bit signed value",t);var n=new Ge(16,e),r=n.getByte(1),o=sr(lr(r)),s=ir(r),i=!o||s&&!o.takesImmediate||s&&!o.takesOperand;return new ar(t,"",n,i)}(t)}var wr=St(new Array),br=wr.subscribe,vr=wr.set,xr=wr.update,yr=[];function Ar(t){xr(t),yr=t(yr)}function kr(){for(var t=qe(0);t<=qe(Je);t++)yr[t]=gr("NOP",!1);var e;vr(e=yr),yr=e}kr();var Cr={subscribe:br,read:function(t){if(!Ke(t))throw new Error("Invalid address: "+t);return yr[qe(t)]},write:function(t,e){if(!Ke(t))throw new Error("Invalid address: "+t);var n=qe(t);Ar((function(t){return t.map((function(t,r){return n===r?e:t}))}))},clear:kr,updateLabels:function(t,e){Ar((function(n){return n.map((function(n){return n.symbolicOperand===t?new ar(n.symbolicOpcode,e,n.value):n.symbolicOperand==="#"+t?new ar(n.symbolicOpcode,"#"+e,n.value):n}))}))},deleteLabel:function(t){Ar((function(e){return e.map((function(e){return e.symbolicOperand===t?new ar(e.symbolicOpcode,e.numericOperand().toString(),e.value):e.symbolicOperand==="#"+t?new ar(e.symbolicOpcode,"#"+e.numericOperand(),e.value):e}))}))},moveFirstHalfUpFromAddress:function(t){console.log("moveFirstHalfUpFromAddress "+t)},moveFirstHalfDownFromAddress:function(t){console.log("moveFirstHalfDownFromAddress "+t)},moveSecondHalfUpFromAddress:function(t){console.log("moveSecondHalfUpFromAddress "+t)},moveSecondHalfDownFromAddress:function(t){console.log("moveSecondHalfDownFromAddress "+t)}},_r=St({displayName:"English",steps:{pc_to_ram:"The value of the Program Counter is put on the address bus",ram_to_ir:"The instruction is loaded into the Instruction Register",ir_to_cu:"The opcode is decoded",cu_to_mux:"The Control Unit sets wether the operand is direct or immediate",cu_to_alu:"The Control Unit sets the operation",acc_to_alu1:"The Accumulator is loaded in the ALU",pc_increment:"The Program Counter is incremented",ir_to_alu2:"The second operand is loaded from the Instruction Register",ir_to_ram:"The operand is put on the address bus",memory_read:"A memory read signal is sent to the RAM",memory_fetch:"A memory fetch signal is sent to the RAM",memory_write:"A memory write signal is sent to the RAM",ram_to_alu2:"The second operand is loaded from the RAM",ir_to_pc:"The Program Counter is set to the Instruction Register operand value",execute:"The operation is executed",alu_to_sw:"The Status Word is updated",acc_to_ram:"The value of the Accumulator is put on the data bus",acc_stored_to_ram:"The value of the Accumulator is written into the RAM"},menu:{buttons:{settings:{title:"Settings"},save:{title:"Save program"},open:{title:"Load program"},language:{title:"Language"},help:{title:"Help"}}},controls:{labels:{execution:"Execution",step:"Step",instruction:"Instruction",speed:"Speed"},buttons:{reset:{title:"Reset"},play:{title:"Play"},pause:{title:"Pause"},end:{title:"Skip to end"},play_step:{title:"Play step"},skip_step:{title:"Skip step"},play_instruction:{title:"Play instruction"},skip_instruction:{title:"Skip instruction"}},sliders:{speed:{title:"Speed"}},checkboxes:{binary:{text:"Binary"},animations:{text:"Animations"}}},errors:{program_parsing:{invalid_syntax:'Invalid syntax at line {0}: "{1}"',parsing_error:'Error on line {0}: "{1}"'},symbol_table:{label_already_exists:"Label already exists"},user_input:{invalid_file_name:"Invalid file name"}}});!function(t){fetch("resources/texts/".concat(t,".json")).then((function(t){return t.json()})).then((function(t){return _r.set(t)}))}(a(Re));var Rr=St([]);function Ir(t){return a(Rr)[t]}function Lr(t){if(""===t)return-1;var e=a(Rr).findIndex((function(e){return e===t}));return-1===e?-1:e}function Er(t){return-1!==Lr(t)}function Ur(){for(var t=[],e=0;e<=Je;e+=2)t[e]="";Rr.set(t)}Ur();var Tr={subscribe:Rr.subscribe,getLabel:Ir,getAddress:Lr,setLabel:function(t,e){var n=Ir(t);if(n!==e){if(Er(e))throw new Fe(a(_r).errors.symbol_table.label_already_exists);Rr.update((function(n){return n[t]=e,n})),""!==n&&(""===e?Cr.deleteLabel(n):Cr.updateLabels(n,e))}},hasLabel:Er,clear:Ur,load:function(t){Rr.set(t)}},Qr={address:null,column:"CELL"},Sr=St(Qr),Or=Sr.subscribe;Sr.set;var Nr=Sr.update;function Pr(t){Nr(t),Qr=t(Qr)}var Dr={subscribe:Or,selectUp:function(){Pr((function(t){var e=t.address-=2;return Jt(Jt({},t),{address:e<0?Je:e})}))},selectDown:function(){Pr((function(t){var e=t.address+=2;return Jt(Jt({},t),{address:e>Je?0:e})}))},selectLeft:function(){Pr((function(t){return Jt(Jt({},t),{column:"LABEL"})}))},selectRight:function(){Pr((function(t){return Jt(Jt({},t),{column:"CELL"})}))},select:function(t,e){if(void 0===e&&(e="CELL"),!Ke(t))throw new Error("Invalid address");Pr((function(n){return Jt(Jt({},n),{address:t,column:e})}))},deselect:function(){Pr((function(t){return Jt(Jt({},t),{address:null})}))},noSelection:function(){return null===Qr.address}};function Fr(n){let r,o,s,c,l,a;return{c(){r=Q("svg"),o=Q("rect"),s=Q("path"),D(o,"fill","none"),D(o,"height","24px"),D(o,"width","24px"),D(s,"d","M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"),D(r,"xmlns","http://www.w3.org/2000/svg"),D(r,"viewBox","0 0 24 24"),D(r,"class","absolute right-0 fill-black/30 cursor-pointer w-6 h-6 transition-colors hover:fill-black")},m(t,e){L(t,r,e),_(r,o),_(r,s),l||(a=P(r,"click",n[0]),l=!0)},p:t,i(o){c||ct((()=>{c=function(n,r,o){let s,c,l=r(n,o),a=!1,u=0;function f(){s&&G(n,s)}function d(){const{delay:r=0,duration:o=300,easing:i=e,tick:d=t,css:p}=l||yt;p&&(s=V(n,0,1,o,r,i,p,u++)),d(0,1);const h=x()+r,$=h+o;c&&c.abort(),a=!0,ct((()=>$t(n,!0,"start"))),c=C((t=>{if(a){if(t>=$)return d(1,0),$t(n,!0,"end"),f(),a=!1;if(t>=h){const e=i((t-h)/o);d(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,G(n),i(l)?(l=l(),ht().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}(r,n[6],{delay:300}),c.start()}))},o:t,d(t){t&&E(r),l=!1,a()}}}function Mr(t){let e,n,r,o,i;return{c(){e=T("input"),e.value=t[3],D(e,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/50 text-black shadow-ramlabels rounded-l-md origin-right  svelte-154hxnx")},m(n,s){L(n,e,s),t[13](e),r=!0,o||(i=[P(e,"input",Hr),P(e,"focus",t[0]),P(e,"focusout",t[1])],o=!0)},p(t,n){(!r||8&n&&e.value!==t[3])&&(e.value=t[3])},i(o){r||(ct((()=>{n||(n=At(e,t[5],{},!0)),n.run(1)})),r=!0)},o(o){n||(n=At(e,t[5],{},!1)),n.run(0),r=!1},d(r){r&&E(e),t[13](null),r&&n&&n.end(),o=!1,s(i)}}}function Wr(t){let e,n,r,o,s;const i=[Mr,Fr],c=[];function l(t,e){return t[4]?0:1}return n=l(t),r=c[n]=i[n](t),{c(){e=T("div"),r.c(),D(e,"class",o="relative h-[30px] flex items-center "+t[7].class+" svelte-154hxnx")},m(t,r){L(t,e,r),c[n].m(e,null),s=!0},p(t,[a]){let u=n;n=l(t),n===u?c[n].p(t,a):(wt(),xt(c[u],1,1,(()=>{c[u]=null})),bt(),r=c[n],r?r.p(t,a):(r=c[n]=i[n](t),r.c()),vt(r,1),r.m(e,null)),(!s||128&a&&o!==(o="relative h-[30px] flex items-center "+t[7].class+" svelte-154hxnx"))&&D(e,"class",o)},i(t){s||(vt(r),s=!0)},o(t){xt(r),s=!1},d(t){t&&E(e),c[n].d()}}}function Hr({target:t}){t.value=t.value.toUpperCase().replaceAll(/[^A-Z_]/g,"").slice(0,10)}function Br(t,e,r){let o,s,i;const c=["address","selected","select","deselect","commitInput","getAddress"];let l,a,f,d=g(e,c);u(t,Mt,(t=>r(15,l=t))),u(t,Tr,(t=>r(12,a=t))),u(t,Dr,(t=>r(16,f=t)));let p,{address:h}=e,{selected:$}=e;function w(){try{if(!p)return;jn.info(`RamLabel input: "${p.value}"`,"USER_INPUT"),Tr.setLabel(h,p.value),r(3,o=a[h])}catch(t){l.message("ERROR",t.message),jn.error(t,"USER_INPUT",t.isChecked)}}return t.$$set=t=>{e=n(n({},e),m(t)),r(7,d=g(e,c)),"address"in t&&r(8,h=t.address),"selected"in t&&r(9,$=t.selected)},t.$$.update=()=>{4352&t.$$.dirty&&r(3,o=a[h]),8&t.$$.dirty&&(s=!o),520&t.$$.dirty&&r(4,i=$||!!o),516&t.$$.dirty&&$&&p&&p.focus()},[function(){Dr.select(h,"LABEL")},function(){w(),"LABEL"===f.column&&h===f.address&&Dr.deselect()},p,o,i,function(t,{delay:e=0,duration:n=200}){return{delay:0,duration:s?n:0,css:t=>s?`transform: scaleX(${t})`:""}},function(t,{delay:e=0,duration:n=0}){return{delay:s?e:0,duration:n,css:t=>s?`filter: opacity(${t})`:""}},d,h,$,w,function(){return h},a,function(t){nt[t?"unshift":"push"]((()=>{p=t,r(2,p)}))}]}class jr extends Tt{constructor(t){super(),Ut(this,t,Br,Wr,c,{address:8,selected:9,select:0,deselect:1,commitInput:10,getAddress:11})}get select(){return this.$$.ctx[0]}get deselect(){return this.$$.ctx[1]}get commitInput(){return this.$$.ctx[10]}get getAddress(){return this.$$.ctx[11]}}function Zr(e){let n,r,o,s=(e[2]?new Ge(8,e[0]).toBinaryString():e[0])+"";return{c(){n=T("div"),r=S(s),D(n,"class",o="h-[30px] w-[100px] flex items-center justify-center bg-[#FF8C00] border border-black border-t-0 "+e[3].class+" svelte-1v2acx4")},m(t,o){L(t,n,o),_(n,r),e[6](n)},p(t,[e]){5&e&&s!==(s=(t[2]?new Ge(8,t[0]).toBinaryString():t[0])+"")&&F(r,s),8&e&&o!==(o="h-[30px] w-[100px] flex items-center justify-center bg-[#FF8C00] border border-black border-t-0 "+t[3].class+" svelte-1v2acx4")&&D(n,"class",o)},i:t,o:t,d(t){t&&E(n),e[6](null)}}}function zr(t,e,r){const o=["address","getAddress","flash"];let s,i=g(e,o);u(t,Ae,(t=>r(2,s=t)));var c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let l,{address:a}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(3,i=g(e,o)),"address"in t&&r(0,a=t.address)},[a,l,s,i,function(){return a},function(){return c(this,void 0,void 0,(function*(){return an(l,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class Xr extends Tt{constructor(t){super(),Ut(this,t,zr,Zr,c,{address:0,getAddress:4,flash:5})}get getAddress(){return this.$$.ctx[4]}get flash(){return this.$$.ctx[5]}}function Vr(t){let e,n,r,o,s=t[5]&&Jr(t);return{c(){e=T("div"),n=S(t[6]),r=O(),s&&s.c(),o=N(),D(e,"class","h-[30px] w-[190px] flex items-center justify-start pl-[10px]")},m(t,i){L(t,e,i),_(e,n),L(t,r,i),s&&s.m(t,i),L(t,o,i)},p(t,e){64&e&&F(n,t[6]),t[5]?s?s.p(t,e):(s=Jr(t),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(t){t&&E(e),t&&E(r),s&&s.d(t),t&&E(o)}}}function Gr(t){let e,n,r,o;return{c(){e=T("input"),e.value=n=t[6]+(t[5]?" "+t[5]:""),D(e,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(n,s){L(n,e,s),t[16](e),r||(o=[b(t[7].call(null,e)),P(e,"focusout",t[2]),P(e,"input",Kr)],r=!0)},p(t,r){96&r&&n!==(n=t[6]+(t[5]?" "+t[5]:""))&&e.value!==n&&(e.value=n)},d(n){n&&E(e),t[16](null),r=!1,s(o)}}}function Jr(t){let e,n;return{c(){e=T("div"),n=S(t[5]),D(e,"class","h-[30px] w-[190px] flex items-center justify-start overflow-hidden")},m(t,r){L(t,e,r),_(e,n)},p(t,e){32&e&&F(n,t[5])},d(t){t&&E(e)}}}function qr(e){let n,r,o,s;function i(t,e){return t[0]?Gr:Vr}let c=i(e),l=c(e);return{c(){n=T("div"),l.c(),D(n,"class",r="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+e[8].class+" svelte-67wtpq")},m(t,r){L(t,n,r),l.m(n,null),e[17](n),o||(s=P(n,"click",e[1]),o=!0)},p(t,[e]){c===(c=i(t))&&l?l.p(t,e):(l.d(1),l=c(t),l&&(l.c(),l.m(n,null))),256&e&&r!==(r="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+t[8].class+" svelte-67wtpq")&&D(n,"class",r)},i:t,o:t,d(t){t&&E(n),l.d(),e[17](null),o=!1,s()}}}function Kr({target:t}){t.value=t.value.toUpperCase().replaceAll(/[^A-Z0-9 _\-#\(\)]*/g,"")}function Yr(t,e,r){let o,s,i;const c=["address","selected","select","deselect","commitInput","flash","getAddress"];let l,a,f,d,p,h=g(e,c);u(t,Mt,(t=>r(18,l=t))),u(t,Tr,(t=>r(19,a=t))),u(t,Ae,(t=>r(14,f=t))),u(t,Dr,(t=>r(20,d=t))),u(t,Cr,(t=>r(15,p=t)));var $=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let w,b,{address:v}=e,{selected:x=!1}=e;function y(){try{b&&""!==b.value&&(jn.info(`RamCell input: "${b.value}"`,"USER_INPUT"),Cr.write(v,gr(b.value.trim(),f,a)))}catch(t){l.message("ERROR",t.message),jn.error(t,"USER_INPUT",t.isChecked)}}return t.$$set=t=>{e=n(n({},e),m(t)),r(8,h=g(e,c)),"address"in t&&r(9,v=t.address),"selected"in t&&r(0,x=t.selected)},t.$$.update=()=>{33280&t.$$.dirty&&r(13,o=p[qe(v)]),24576&t.$$.dirty&&r(6,s=f?o.binaryOpcode():o.symbolicOpcode),24576&t.$$.dirty&&r(5,i=f?o.binaryOperand():o.symbolicOperand)},[x,function(){Dr.select(v,"CELL")},function(){y(),"CELL"===d.column&&v===d.address&&Dr.deselect()},w,b,i,s,function(t){t.value=s+(i?` ${i}`:""),t.focus(),setTimeout((()=>t.select()))},h,v,y,function(){return $(this,void 0,void 0,(function*(){return an(w,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return v},o,f,p,function(t){nt[t?"unshift":"push"]((()=>{b=t,r(4,b)}))},function(t){nt[t?"unshift":"push"]((()=>{w=t,r(3,w)}))}]}class to extends Tt{constructor(t){super(),Ut(this,t,Yr,qr,c,{address:9,selected:0,select:1,deselect:2,commitInput:10,flash:11,getAddress:12})}get select(){return this.$$.ctx[1]}get deselect(){return this.$$.ctx[2]}get commitInput(){return this.$$.ctx[10]}get flash(){return this.$$.ctx[11]}get getAddress(){return this.$$.ctx[12]}}function eo(t,e,n){const r=t.slice();return r[25]=e[n],r[26]=e,r[27]=n,r}function no(t,e,n){const r=t.slice();return r[25]=e[n],r[28]=e,r[27]=n,r}function ro(t){let e,n,r=t[27];const o=()=>t[15](e,r),s=()=>t[15](null,r);let i={address:t[25],selected:t[6].address===t[25]&&"LABEL"===t[6].column,class:"\n\t\t\t\t\t"+(t[25]===t[0]?"first-label":"")+"\n\t\t\t\t\t"+(t[25]===t[1]?"last-label":"")+"\n\t\t\t\t"};return e=new jr({props:i}),o(),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){r!==t[27]&&(s(),r=t[27],o());const i={};4&n&&(i.address=t[25]),68&n&&(i.selected=t[6].address===t[25]&&"LABEL"===t[6].column),7&n&&(i.class="\n\t\t\t\t\t"+(t[25]===t[0]?"first-label":"")+"\n\t\t\t\t\t"+(t[25]===t[1]?"last-label":"")+"\n\t\t\t\t"),e.$set(i)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){s(),Lt(e,t)}}}function oo(t){let e,n,r,o,s,i,c=t[27];const l=()=>t[16](n,c),a=()=>t[16](null,c);let u={address:t[25],class:"\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-address":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-address":"")+"\n\t\t\t\t\t"};n=new Xr({props:u}),l();const f=()=>t[17](o,c),d=()=>t[17](null,c);let p={address:t[25],selected:t[6].address===t[25]&&"CELL"===t[6].column,class:"\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-cell":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-cell":"")+"\n\t\t\t\t\t"};return o=new to({props:p}),f(),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),D(e,"class","flex flex-nowrap")},m(t,c){L(t,e,c),It(n,e,null),_(e,r),It(o,e,null),_(e,s),i=!0},p(t,e){c!==t[27]&&(a(),c=t[27],l());const r={};4&e&&(r.address=t[25]),7&e&&(r.class="\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-address":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-address":"")+"\n\t\t\t\t\t"),n.$set(r),c!==t[27]&&(d(),c=t[27],f());const s={};4&e&&(s.address=t[25]),68&e&&(s.selected=t[6].address===t[25]&&"CELL"===t[6].column),7&e&&(s.class="\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-cell":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-cell":"")+"\n\t\t\t\t\t"),o.$set(s)},i(t){i||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),i=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){t&&E(e),a(),Lt(n),d(),Lt(o)}}}function so(t){let e,n,r,o,i,c,l,a,u;n=new De({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=ro(no(t,f,e));const p=t=>xt(d[t],1,1,(()=>{d[t]=null}));let h=t[2],$=[];for(let e=0;e<h.length;e+=1)$[e]=oo(eo(t,h,e));const m=t=>xt($[t],1,1,(()=>{$[t]=null}));return{c(){e=T("div"),Rt(n.$$.fragment),r=O(),o=T("div");for(let t=0;t<d.length;t+=1)d[t].c();i=O(),c=T("div");for(let t=0;t<$.length;t+=1)$[t].c();D(o,"class","flex flex-col items-end justify-center"),D(c,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),D(e,"class","absolute top-[115px] right-[50px] z-[3] flex")},m(s,f){L(s,e,f),It(n,e,null),_(e,r),_(e,o);for(let t=0;t<d.length;t+=1)d[t].m(o,null);_(e,i),_(e,c);for(let t=0;t<$.length;t+=1)$[t].m(c,null);l=!0,a||(u=[P(e,"wheel",t[7]),b(t[8].call(null,e))],a=!0)},p(t,[e]){if(79&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const r=no(t,f,n);d[n]?(d[n].p(r,e),vt(d[n],1)):(d[n]=ro(r),d[n].c(),vt(d[n],1),d[n].m(o,null))}for(wt(),n=f.length;n<d.length;n+=1)p(n);bt()}if(119&e){let n;for(h=t[2],n=0;n<h.length;n+=1){const r=eo(t,h,n);$[n]?($[n].p(r,e),vt($[n],1)):($[n]=oo(r),$[n].c(),vt($[n],1),$[n].m(c,null))}for(wt(),n=h.length;n<$.length;n+=1)m(n);bt()}},i(t){if(!l){vt(n.$$.fragment,t);for(let t=0;t<f.length;t+=1)vt(d[t]);for(let t=0;t<h.length;t+=1)vt($[t]);l=!0}},o(t){xt(n.$$.fragment,t),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)xt(d[t]);$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)xt($[t]);l=!1},d(t){t&&E(e),Lt(n),U(d,t),U($,t),a=!1,s(u)}}}function io(t,e,n){let r;u(t,Dr,(t=>n(6,r=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s,i,c=[],l=0;$();let a=[],f=[],d=[];var p;function h({deltaY:t}){let e=l+(t>0?2:-2);e<0&&(e=220),e>220&&(e=0),n(0,l=e),$()}function $(){n(1,s=l+34),n(2,i=[]);for(let t=l,e=0;t<=s;t+=2,e++)n(2,i[e]=t,i)}function m(){h({deltaY:-1})}function g(){h({deltaY:1})}function w(t){if(!Ke(t))throw new Error("Invalid address");return t>=l&&t<=s}function b(t){return o(this,void 0,void 0,(function*(){if(!Ke(t))throw new Error("Invalid address");if(w(t))return;let e=t,r=e+34;return r>Je&&(e-=r-Je),n(0,l=e),$(),new Promise(((t,e)=>{c.push(t)}))}))}return p=()=>{c.forEach((t=>t())),c=[]},q().$$.after_update.push(p),[l,s,i,a,f,d,r,function({deltaY:t}){Dr.deselect(),h({deltaY:t})},function(t){const e=t=>{switch(t.key){case"ArrowUp":!function(t){Dr.noSelection()||(t.ctrlKey?Cr.moveSecondHalfUpFromAddress(r.address):t.shiftKey&&Cr.moveFirstHalfUpFromAddress(r.address),r.address===l&&m(),Dr.selectUp())}(t);break;case"ArrowDown":!function(t){Dr.noSelection()||(t.ctrlKey?Cr.moveSecondHalfDownFromAddress(r.address):t.shiftKey&&Cr.moveFirstHalfDownFromAddress(r.address),r.address===s&&g(),Dr.selectDown())}(t);break;case"Enter":Dr.noSelection()?Dr.select(l):Dr.deselect()}};return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}},m,g,w,b,function(t){return o(this,void 0,void 0,(function*(){if(!Ke(t))throw new Error("Invalid address");return b(t).then((()=>f.find((e=>e.getAddress()===t)).flash()))}))},function(t){return o(this,void 0,void 0,(function*(){if(!Ke(t))throw new Error("Invalid address");return b(t).then((()=>d.find((e=>e.getAddress()===t)).flash()))}))},function(t,e){nt[t?"unshift":"push"]((()=>{a[e]=t,n(3,a)}))},function(t,e){nt[t?"unshift":"push"]((()=>{f[e]=t,n(4,f)}))},function(t,e){nt[t?"unshift":"push"]((()=>{d[e]=t,n(5,d)}))}]}class co extends Tt{constructor(t){super(),Ut(this,t,io,so,c,{scrollUp:9,scrollDown:10,addressIsVisible:11,showAddress:12,flashAddress:13,flashContent:14})}get scrollUp(){return this.$$.ctx[9]}get scrollDown(){return this.$$.ctx[10]}get addressIsVisible(){return this.$$.ctx[11]}get showAddress(){return this.$$.ctx[12]}get flashAddress(){return this.$$.ctx[13]}get flashContent(){return this.$$.ctx[14]}}function lo(t){let e,n,r=t[0].name+"";return{c(){e=T("span"),n=S(r),D(e,"class","text-fuchsia-500")},m(t,r){L(t,e,r),_(e,n)},p(t,e){1&e&&r!==(r=t[0].name+"")&&F(n,r)},d(t){t&&E(e)}}}function ao(t){let e,n,r,o,s,i,c,l=t[0].x+"",a=t[0].y+"";return{c(){e=T("span"),n=S("x: "),r=S(l),o=O(),s=T("span"),i=S("y: "),c=S(a),D(e,"class","text-blue-700"),D(s,"class","text-red-700")},m(t,l){L(t,e,l),_(e,n),_(e,r),L(t,o,l),L(t,s,l),_(s,i),_(s,c)},p(t,e){1&e&&l!==(l=t[0].x+"")&&F(r,l),1&e&&a!==(a=t[0].y+"")&&F(c,a)},d(t){t&&E(e),t&&E(o),t&&E(s)}}}function uo(e){let n,r,o,s,i,c,l=e[1]&&lo(e),a=e[2]&&ao(e);return{c(){n=T("div"),r=T("div"),s=O(),i=T("div"),l&&l.c(),c=O(),a&&a.c(),D(r,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),D(r,"title",o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`),D(i,"class","relative left-[7px] top-[-10px] bg-white font-bold"),D(n,"class","absolute z-10"),W(n,"top",e[0].y+"px"),W(n,"left",e[0].x+"px")},m(t,e){L(t,n,e),_(n,r),_(n,s),_(n,i),l&&l.m(i,null),_(i,c),a&&a.m(i,null)},p(t,[e]){1&e&&o!==(o=`${t[0].name} x: ${t[0].x} y: ${t[0].y}`)&&D(r,"title",o),t[1]?l?l.p(t,e):(l=lo(t),l.c(),l.m(i,c)):l&&(l.d(1),l=null),t[2]?a?a.p(t,e):(a=ao(t),a.c(),a.m(i,null)):a&&(a.d(1),a=null),1&e&&W(n,"top",t[0].y+"px"),1&e&&W(n,"left",t[0].x+"px")},i:t,o:t,d(t){t&&E(n),l&&l.d(),a&&a.d()}}}function fo(t,e,n){let r,o;u(t,zt,(t=>n(1,r=t))),u(t,Xt,(t=>n(2,o=t)));let{node:s}=e;return t.$$set=t=>{"node"in t&&n(0,s=t.node)},[s,r,o]}class po extends Tt{constructor(t){super(),Ut(this,t,fo,uo,c,{node:0})}}function ho(t,e,n){const r=t.slice();return r[7]=e[n],r}function $o(t){let e,n,r=fe,o=[];for(let e=0;e<r.length;e+=1)o[e]=mo(ho(t,r,e));const s=t=>xt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=N()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);L(t,e,r),n=!0},p(t,n){if(0&n){let i;for(r=fe,i=0;i<r.length;i+=1){const s=ho(t,r,i);o[i]?(o[i].p(s,n),vt(o[i],1)):(o[i]=mo(s),o[i].c(),vt(o[i],1),o[i].m(e.parentNode,e))}for(wt(),i=r.length;i<o.length;i+=1)s(i);bt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)vt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)xt(o[t]);n=!1},d(t){U(o,t),t&&E(e)}}}function mo(e){let n,r;return n=new po({props:{node:e[7]}}),{c(){Rt(n.$$.fragment)},m(t,e){It(n,t,e),r=!0},p:t,i(t){r||(vt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){Lt(n,t)}}}function go(t){let e,n,r,o,s,i,c,l;n=new Oe({props:{}}),t[4](n);o=new rr({props:{}}),t[5](o);i=new co({props:{}}),t[6](i);let a=t[3]&&$o(t);return{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),c=O(),a&&a.c(),D(e,"class","absolute top-0 left-0 w-app h-app")},m(t,u){L(t,e,u),It(n,e,null),_(e,r),It(o,e,null),_(e,s),It(i,e,null),_(e,c),a&&a.m(e,null),l=!0},p(t,[r]){n.$set({});o.$set({});i.$set({}),t[3]?a?(a.p(t,r),8&r&&vt(a,1)):(a=$o(t),a.c(),vt(a,1),a.m(e,null)):a&&(wt(),xt(a,1,1,(()=>{a=null})),bt())},i(t){l||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),vt(i.$$.fragment,t),vt(a),l=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(a),l=!1},d(r){r&&E(e),t[4](null),Lt(n),t[5](null),Lt(o),t[6](null),Lt(i),a&&a.d()}}}function wo(t,e,n){let r,o,s,i;return u(t,Pt,(t=>n(0,r=t))),u(t,Nt,(t=>n(1,o=t))),u(t,Ot,(t=>n(2,s=t))),u(t,Zt,(t=>n(3,i=t))),[r,o,s,i,function(t){nt[t?"unshift":"push"]((()=>{r=t,Pt.set(r)}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,Nt.set(o)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,Ot.set(s)}))}]}class bo extends Tt{constructor(t){super(),Ut(this,t,wo,go,c,{})}}var vo=function(t){function e(e,n){var r=t.call(this)||this;return r.component=e,r.address=n,r}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){if(t=a(Bt.ram),"number"!=typeof(e="number"==typeof this.address?this.address:zn[this.address]))throw new Error(this.address+" is not a number");switch(this.component){case"ADDRESS":return[2,t.flashAddress(e)];case"DATA":return[2,t.flashContent(e)]}return[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component,", address: ").concat(this.address)},e}(Yn),xo=function(t){function e(e,n){var r=t.call(this)||this;return r.from=e,r.to=n,r}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,a(Bt.wires).flashWire(this.from,this.to)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", from: ").concat(this.from,", to: ").concat(this.to)},e}(Yn),yo=function(t){function e(e){var n=t.call(this)||this;return n.key=e,n}return Gt(e,t),e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", key: ").concat(this.key)},e}(Zn),Ao=function(t){function e(e){var n=t.call(this,e)||this;if("RAM"===e)throw new Error("CacheCpuValue cannot cache RAM value");return n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(t=a(sn),this.key){case"ACC":zn.ACC=t.accumulator.signed();break;case"ALU:1":zn["ALU:1"]=t.alu1.signed();break;case"ALU:2":zn["ALU:2"]=t.alu2.signed();break;case"ALU:OPR":zn["ALU:OPR"]=t.operation;break;case"IR":zn.IR=t.instructionRegister,zn["IR:OPC"]=t.instructionRegister.numericOpcode(),zn["IR:OPR"]=t.instructionRegister.numericOperand();break;case"PC":zn.PC=t.programCounter.unsigned();break;case"INC":zn.INC=t.increment.unsigned();break;case"SW:Z":zn["SW:Z"]=t.zeroFlag;break;case"SW:N":zn["SW:N"]=t.negativeFlag;break;default:throw new Error('Unexpected cacheable key "'.concat(this.key,'"'))}return[2]}))}))},e}(yo),ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e}(Zn),Co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){switch(n.label){case 0:return t=zn["ALU:2"]===zn["ALU:1"],e=zn["ALU:2"]>zn["ALU:1"],t===a(sn).zeroFlag||e===a(sn).negativeFlag?[3,2]:(sn.setZeroFlag(t),sn.setNegativeFlag(e),[4,Promise.all([a(Nt).flash("SW:Z"),a(Nt).flash("SW:N")])]);case 1:return n.sent(),[3,6];case 2:return t===a(sn).zeroFlag?[3,4]:(sn.setZeroFlag(t),[4,a(Nt).flash("SW:Z")]);case 3:n.sent(),n.label=4;case 4:return e===a(sn).negativeFlag?[3,6]:(sn.setNegativeFlag(e),[4,a(Nt).flash("SW:N")]);case 5:n.sent(),n.label=6;case 6:return zn["SW:Z"]=t,zn["SW:N"]=e,[2]}}))}))},e}(ko),_o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:switch(zn["ALU:OPR"]){case"!":t=~zn["ALU:2"];break;case"&":t=zn["ALU:1"]&zn["ALU:2"];break;case"*":t=zn["ALU:1"]*zn["ALU:2"];break;case"+":t=zn["ALU:1"]+zn["ALU:2"];break;case"-":t=zn["ALU:1"]-zn["ALU:2"];break;case"/":if(0===zn["ALU:2"])throw new Error("Division by zero");t=zn["ALU:1"]/zn["ALU:2"];break;case"=":t=zn["ALU:2"];break;default:throw new Error('Operator "'.concat(zn["ALU:OP"],"\" doesn't set the Accumulator"))}return sn.setACC(t),[4,a(Nt).flash("ACC")];case 1:return e.sent(),zn.ACC=t,[2]}}))}))},e}(ko),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){switch(n.label){case 0:return t=0===zn.ACC,e=zn.ACC<0,t===a(sn).zeroFlag||e===a(sn).negativeFlag?[3,2]:(sn.setZeroFlag(t),sn.setNegativeFlag(e),[4,Promise.all([a(Nt).flash("SW:Z"),a(Nt).flash("SW:N")])]);case 1:return n.sent(),[3,6];case 2:return t===a(sn).zeroFlag?[3,4]:(sn.setZeroFlag(t),[4,a(Nt).flash("SW:Z")]);case 3:n.sent(),n.label=4;case 4:return e===a(sn).negativeFlag?[3,6]:(sn.setNegativeFlag(e),[4,a(Nt).flash("SW:N")]);case 5:n.sent(),n.label=6;case 6:return zn["SW:Z"]=t,zn["SW:N"]=e,[2]}}))}))},e}(ko),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e}(Zn),Lo=function(t){function e(e){var n=t.call(this)||this;return n.address=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){switch(n.label){case 0:if("number"!=typeof(t="number"==typeof this.address?this.address:zn[this.address]))throw new Error("Address is not a number");return e=Cr.read(t).symbolicOpcode,/^[A-Z]+$/.test(e)&&"NOP"!==e?Cr.write(t,gr(new Ge(16,zn.ACC).toBinaryString(),!0)):Cr.write(t,gr(zn.ACC.toString(),!1)),[4,a(Ot).flashContent(t)];case 1:return n.sent(),[2]}}))}))},e}(Io),Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return sn.setIsHalting(!0),[2]}))}))},e}(ko),Uo=function(t){function e(e){var n=t.call(this,"RAM")||this;return n.address=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){if("number"!=typeof(t="number"==typeof this.address?this.address:zn[this.address]))throw new Error("Address is not a number");return zn.RAM={address:t,data:Cr.read(t)},[2]}))}))},e}(yo),To=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return sn.setALU1(zn.ACC),[4,a(Nt).flash("ALU:1")];case 1:return t.sent(),zn["ALU:1"]=zn.ACC,[2]}}))}))},e}(ko),Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return sn.setIR(zn.RAM.data),[4,a(Nt).flash("IR")];case 1:return t.sent(),zn.IR=zn.RAM.data,zn["IR:OPC"]=zn.IR.numericOpcode(),zn["IR:OPR"]=zn.IR.numericOperand(),[2]}}))}))},e}(ko),So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:return t=zn.PC+zn.INC,sn.setPC(t),[4,a(Nt).flash("PC")];case 1:return e.sent(),zn.PC=t,[2]}}))}))},e}(ko),Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return sn.setIsJumping(!0),sn.setPC(zn["IR:OPR"]),[4,a(Nt).flash("PC")];case 1:return t.sent(),zn.PC=zn["IR:OPR"],[2]}}))}))},e}(ko),No=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:switch(this.value){case"IR:OPR":sn.setALU2(zn.IR.numericOperand()),zn["ALU:2"]=zn.IR.numericOperand();break;case"RAM":sn.setALU2(zn.RAM.data.value.signed()),zn["ALU:2"]=zn.RAM.data.value.signed();break;default:throw new Error('Unexpected value "'.concat(this.value,'"'))}return[4,a(Nt).flash("ALU:2")];case 1:return t.sent(),[2]}}))}))},e}(ko),Po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return sn.setOperation(zn.IR.opcode.operator),[4,a(Nt).flash("ALU:OPR")];case 1:return t.sent(),zn["ALU:OPR"]=zn.IR.opcode.operator,[2]}}))}))},e}(ko),Do=null,Fo=a(Re);function Mo(t){Fo=t,null!==Do&&(Do.lang=Fo)}Re.subscribe(Mo);var Wo={read:function(t,e){void 0===e&&(e=null),(Do=new SpeechSynthesisUtterance(t)).rate=1.2,Do.lang=Fo,Do.onend=Do.onerror=function(){Do=null,null==e||e()},speechSynthesis.speak(Do)},endedReading:function(){return null===Do}},Ho=function(t){function e(e){var n=t.call(this)||this;return n.step=e,n.condition(Kn),n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(n){return e.utteranceEndedPromise=new Promise((function(e){return t=e})),Wo.read(a(_r).steps[this.step],(function(){return t()})),[2]}))}))},e}(Zn),Bo=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.call(this)||this;return r.subactions=Yt([],e,!0),r}return Gt(e,t),e}(Zn),jo=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,e)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,Promise.all(this.subactions.map((function(t){return t.execute()})))]}))}))},e}(Bo);function Zo(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,Ho.utteranceEndedPromise]}))}))}var zo=[new jo(new Ao("INC"),new xo("PC:1","INC:2"),new Ho("pc_increment")),new xo("INC:1","PC:2"),(new So).thenWaitFor(Zo).endstep()],Xo=[new jo(new Ao("PC"),new tr("PC"),new Ho("pc_to_ram")),new xo("PC:2","RAM:ADD"),new vo("ADDRESS","PC").thenWaitFor(Zo).endstep(),new jo(new xo("CU:3","RAM:CTRL"),new Ho("memory_fetch")).thenWaitFor(Zo).endstep(),new jo(new Uo("PC"),new vo("DATA","PC"),new Ho("ram_to_ir")),new xo("RAM:DATA","IR:1"),(new Qo).thenWaitFor(Zo).endstep()],Vo=[new jo(new tr("IR:OPC"),new Ho("ir_to_cu")),new xo("IR:3","CU:1"),new tr("CU").thenWaitFor(Zo).endstep()],Go=[new jo(new xo("CU:2","MUX:4"),new Ho("cu_to_mux")),new tr("MUX").thenWaitFor(Zo).endstep()],Jo=[new jo(new xo("CU:4","ALU:5"),new Ho("cu_to_alu")),(new Po).thenWaitFor(Zo).endstep()],qo=[new jo(new Ao("ACC"),new tr("ACC"),new Ho("acc_to_alu1")),new xo("ACC:1","ALU:1"),(new To).thenWaitFor(Zo).endstep()];function Ko(t){return t?Yo:ts}var Yo=[new jo(new tr("IR:OPR"),new Ho("ir_to_alu2")),new xo("IR:2","MUX:1"),new xo("MUX:3","ALU:2"),new No("IR:OPR").thenWaitFor(Zo).endstep()],ts=[new jo(new tr("IR:OPR"),new Ho("ir_to_ram")),new xo("IR:2","RAM:ADD"),new vo("ADDRESS","IR:OPR").thenWaitFor(Zo).endstep(),new jo(new tr("CU"),new Ho("memory_read")),new xo("CU:3","RAM:CTRL").thenWaitFor(Zo).endstep(),new jo(new Uo("IR:OPR"),new vo("DATA","IR:OPR"),new Ho("ram_to_alu2")),new xo("RAM:DATA","MUX:2"),new xo("MUX:3","ALU:2"),new No("RAM").thenWaitFor(Zo).endstep()],es=[new jo(new tr("IR:OPR"),new Ho("ir_to_pc")),new xo("IR:2","PC:2"),(new Oo).thenWaitFor(Zo).endstep()],ns=[new jo(new tr("IR:OPR"),new Ho("ir_to_pc")).condition(Xn),new xo("IR:2","PC:2").condition(Xn),(new Oo).condition(Xn).thenWaitFor(Zo).endstep()],rs=[new jo(new tr("IR:OPR"),new Ho("ir_to_pc")).condition(Vn),new xo("IR:2","PC:2").condition(Vn),(new Oo).condition(Vn).thenWaitFor(Zo).endstep()],os=[new jo(new tr("IR:OPR"),new Ho("ir_to_pc")).condition(Gn),new xo("IR:2","PC:2").condition(Gn),(new Oo).condition(Gn).thenWaitFor(Zo).endstep()],ss=[new jo(new tr("IR:OPR"),new Ho("ir_to_pc")).condition(Jn),new xo("IR:2","PC:2").condition(Jn),(new Oo).condition(Jn).thenWaitFor(Zo).endstep()];var is=!1,cs=!1,ls=!1,as=!1,us="ENQUEUING_FETCH",fs=[],ds=Jt(Jt({},St(!1)),{update:function(){return ds.set(is||cs||ls)}}),ps={subscribe:ds.subscribe};function hs(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:return bs()||!ws()?[3,2]:[4,(t=fs.shift()).execute()];case 1:return e.sent(),cs&&t.doesEndStep()&&xs(!1),[3,0];case 2:return[2]}}))}))}function $s(){vs(!0),xs(!1),ys(!1),jn.info("Execution - START","EXECUTION")}function ms(){vs(!1),xs(!1),ys(!1),jn.info("Execution - PAUSE","EXECUTION")}function gs(){ms(),us="ENQUEUING_FETCH",fs=[],jn.info("Execution - RESET","EXECUTION")}function ws(){return is||cs||ls}function bs(){return 0===fs.length}function vs(t){is=t,ds.update()}function xs(t){cs=t,ds.update()}function ys(t){ls=t,ds.update()}setInterval((function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:if(as||!ws())return[2];as=!0,e.label=1;case 1:switch(e.trys.push([1,12,13,14]),us){case"ENQUEUING_FETCH":return[3,2];case"EXECUTING_FETCH":return[3,3];case"ENQUEUING_INSTRUCTION":return[3,5];case"EXECUTING_INSTRUCTION":return[3,6];case"ENQUEUEING_PC_INCREMENT":return[3,8];case"EXECUTING_PC_INCREMENT":return[3,9]}return[3,11];case 2:return fs.push.apply(fs,Xo),sn.clear(),us="EXECUTING_FETCH",[3,11];case 3:return[4,hs()];case 4:return e.sent(),bs()&&(us="ENQUEUING_INSTRUCTION"),[3,11];case 5:return fs.push.apply(fs,function(t){if(!t.opcode)throw new Error("Invalid opcode");var e=[];switch(t.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":e.push.apply(e,Yt(Yt(Yt(Yt(Yt(Yt([],Vo,!1),Go,!1),Jo,!1),qo,!1),Ko(t.immediateFlag()),!1),[new jo(new xo("ALU:4","ACC:2"),new Ho("execute")),(new _o).thenWaitFor(Zo).endstep(),new jo(new xo("ALU:3","SW:1"),new Ho("alu_to_sw")),(new Ro).thenWaitFor(Zo).endstep()],!1));break;case"NOT":e.push.apply(e,Yt(Yt(Yt(Yt(Yt([],Vo,!1),Go,!1),Jo,!1),Ko(t.immediateFlag()),!1),[new jo(new xo("ALU:4","ACC:2"),new Ho("execute")),(new _o).thenWaitFor(Zo).endstep(),new jo(new xo("ALU:3","SW:1"),new Ho("alu_to_sw")),(new Ro).thenWaitFor(Zo).endstep()],!1));break;case"CMP":e.push.apply(e,Yt(Yt(Yt(Yt(Yt(Yt([],Vo,!1),Go,!1),Jo,!1),qo,!1),Ko(t.immediateFlag()),!1),[new jo(new xo("ALU:3","SW:1"),new Ho("alu_to_sw")),(new Co).thenWaitFor(Zo).endstep()],!1));break;case"LOD":e.push.apply(e,Yt(Yt(Yt(Yt(Yt([],Vo,!1),Go,!1),Jo,!1),Ko(t.immediateFlag()),!1),[new jo(new xo("ALU:4","ACC:2"),new Ho("execute")),(new _o).thenWaitFor(Zo).endstep()],!1));break;case"STO":e.push.apply(e,Yt(Yt([],Vo,!1),[new jo(new xo("IR:2","RAM:ADD"),new Ho("ir_to_ram")),new vo("ADDRESS","IR:OPR").thenWaitFor(Zo).endstep(),new jo(new Ao("ACC"),new tr("ACC"),new Ho("acc_to_ram")),new xo("ACC:1","RAM:DATA").thenWaitFor(Zo).endstep(),new jo(new xo("CU:3","RAM:CTRL"),new Ho("memory_write")).thenWaitFor(Zo).endstep(),new jo(new Lo("IR:OPR"),new Ho("acc_stored_to_ram")).thenWaitFor(Zo).endstep()],!1));break;case"JMP":e.push.apply(e,Yt(Yt([],Vo,!1),es,!1));break;case"JZ":e.push.apply(e,Yt(Yt(Yt([],Vo,!1),[new tr("SW:Z")],!1),ns,!1));break;case"JNZ":e.push.apply(e,Yt(Yt(Yt([],Vo,!1),[new tr("SW:Z")],!1),rs,!1));break;case"JN":e.push.apply(e,Yt(Yt(Yt([],Vo,!1),[new tr("SW:N")],!1),os,!1));break;case"JNN":e.push.apply(e,Yt(Yt(Yt([],Vo,!1),[new tr("SW:N")],!1),ss,!1));break;case"NOP":e.push.apply(e,Vo);break;case"HLT":e.push.apply(e,Yt(Yt([],Vo,!1),[new Eo],!1));break;default:throw new Error('Unrecognized opcode: "'.concat(t.opcode.symbolic,'"'))}return e}(zn.IR)),us="EXECUTING_INSTRUCTION",[3,11];case 6:return[4,hs()];case 7:return e.sent(),bs()&&(a(sn).programCounter.unsigned()!==Je||a(sn).isJumping||sn.setIsHalting(!0),a(sn).isJumping?(us="ENQUEUING_FETCH",ls&&ys(!1)):us="ENQUEUEING_PC_INCREMENT"),[3,11];case 8:return fs.push.apply(fs,zo),us="EXECUTING_PC_INCREMENT",[3,11];case 9:return[4,hs()];case 10:return e.sent(),ls&&(ys(!1),sn.setIsHalting(!0)),bs()&&(us="ENQUEUING_FETCH"),[3,11];case 11:return[3,14];case 12:return t=e.sent(),sn.setIsHalting(!0),a(Mt).message("ERROR",t.message),jn.error(t,"EXECUTION",t.isChecked),[3,14];case 13:return a(sn).isHalting&&gs(),as=!1,[7];case 14:return[2]}}))}))}),50);var As={start:$s,pause:ms,toggle:function(){a(ds)?ms():$s()},step:function(){vs(!1),xs(!0),ys(!1),jn.info("Execution - STEP","EXECUTION")},instruction:function(){vs(!1),xs(!1),ys(!0),jn.info("Execution - INSTRUCTION","EXECUTION")},reset:gs};function ks(t){let e,n,r,o,i;const c=t[3].default,l=f(c,t,t[2],null);return{c(){e=T("button"),l&&l.c(),D(e,"class",n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class),e.disabled=t[0]},m(n,s){L(n,e,s),l&&l.m(e,null),r=!0,o||(i=[P(e,"click",t[4]),P(e,"focus",t[5]),P(e,"focusout",t[6]),P(e,"mouseenter",t[7]),P(e,"mouseleave",t[8]),P(e,"mouseover",t[9])],o=!0)},p(t,[o]){l&&l.p&&(!r||4&o)&&h(l,c,t,t[2],r?p(c,t[2],o,null):$(t[2]),null),(!r||2&o&&n!==(n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class))&&D(e,"class",n),(!r||1&o)&&(e.disabled=t[0])},i(t){r||(vt(l,t),r=!0)},o(t){xt(l,t),r=!1},d(t){t&&E(e),l&&l.d(t),o=!1,s(i)}}}function Cs(t,e,r){const o=["disabled"];let s=g(e,o),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(1,s=g(e,o)),"disabled"in t&&r(0,l=t.disabled),"$$scope"in t&&r(2,c=t.$$scope)},[l,s,c,i,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class _s extends Tt{constructor(t){super(),Ut(this,t,Cs,ks,c,{disabled:0})}}function Rs(t){let e,n,r,o,i;const c=t[5].default,l=f(c,t,t[4],null);return{c(){e=T("button"),l&&l.c(),D(e,"class",n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class),e.disabled=t[1]},m(n,s){L(n,e,s),l&&l.m(e,null),r=!0,o||(i=[P(e,"click",t[2]),P(e,"focus",t[6]),P(e,"focusout",t[7]),P(e,"mouseenter",t[8]),P(e,"mouseleave",t[9]),P(e,"mouseover",t[10])],o=!0)},p(t,[o]){l&&l.p&&(!r||16&o)&&h(l,c,t,t[4],r?p(c,t[4],o,null):$(t[4]),null),(!r||9&o&&n!==(n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class))&&D(e,"class",n),(!r||2&o)&&(e.disabled=t[1])},i(t){r||(vt(l,t),r=!0)},o(t){xt(l,t),r=!1},d(t){t&&E(e),l&&l.d(t),o=!1,s(i)}}}function Is(t,e,r){const o=["disabled","checked"];let s=g(e,o),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=Y();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,s=g(e,o)),"disabled"in t&&r(1,l=t.disabled),"checked"in t&&r(0,a=t.checked),"$$scope"in t&&r(4,c=t.$$scope)},[a,l,function(t){r(0,a=!a),u("click",t)},s,c,i,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class Ls extends Tt{constructor(t){super(),Ut(this,t,Is,Rs,c,{disabled:1,checked:0})}}function Es(e){let n,r,o,i;return{c(){n=T("input"),D(n,"class",r="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+e[4].class),D(n,"type","text"),D(n,"placeholder",e[1]),n.disabled=e[2]},m(t,r){L(t,n,r),M(n,e[0]),o||(i=[P(n,"input",e[6]),P(n,"change",e[7]),P(n,"focus",e[8]),P(n,"focusout",e[9]),P(n,"mouseenter",e[10]),P(n,"mouseleave",e[11]),P(n,"mouseover",e[12]),P(n,"input",e[13]),b(e[3].call(null,n))],o=!0)},p(t,[e]){16&e&&r!==(r="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+t[4].class)&&D(n,"class",r),2&e&&D(n,"placeholder",t[1]),4&e&&(n.disabled=t[2]),1&e&&n.value!==t[0]&&M(n,t[0])},i:t,o:t,d(t){t&&E(n),o=!1,s(i)}}}function Us(t,e,r){const o=["value","placeholder","disabled","type"];let s=g(e,o),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{type:a="text"}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"type"in t&&r(5,a=t.type)},[i,c,l,function(t){t.type=a},s,a,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(){i=this.value,r(0,i)}]}class Ts extends Tt{constructor(t){super(),Ut(this,t,Us,Es,c,{value:0,placeholder:1,disabled:2,type:5})}}function Qs(t,e,n){const r=t.slice();return r[13]=e[n],r}function Ss(t){let e,n;return{c(){e=T("option"),n=S(t[1]),D(e,"class","text-black bg-white"),e.__value="",e.value=e.__value,e.selected=!0,e.disabled=!0},m(t,r){L(t,e,r),_(e,n)},p(t,e){2&e&&F(n,t[1])},d(t){t&&E(e)}}}function Os(t){let e,n,r,o=t[13]+"";return{c(){e=T("option"),n=S(o),D(e,"class","text-black bg-white"),e.__value=r=t[13],e.value=e.__value},m(t,r){L(t,e,r),_(e,n)},p(t,s){8&s&&o!==(o=t[13]+"")&&F(n,o),8&s&&r!==(r=t[13])&&(e.__value=r,e.value=e.__value)},d(t){t&&E(e)}}}function Ns(e){let n,r,o,i,c,l=""!==e[1]&&Ss(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=Os(Qs(e,a,t));return{c(){n=T("select"),l&&l.c(),r=N();for(let t=0;t<u.length;t+=1)u[t].c();D(n,"class",o="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+e[4].class),n.disabled=e[2],void 0===e[0]&&ct((()=>e[12].call(n)))},m(t,o){L(t,n,o),l&&l.m(n,null),_(n,r);for(let t=0;t<u.length;t+=1)u[t].m(n,null);H(n,e[0]),i||(c=[P(n,"input",e[5]),P(n,"change",e[6]),P(n,"focus",e[7]),P(n,"focusout",e[8]),P(n,"mouseenter",e[9]),P(n,"mouseleave",e[10]),P(n,"mouseover",e[11]),P(n,"change",e[12])],i=!0)},p(t,[e]){if(""!==t[1]?l?l.p(t,e):(l=Ss(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),8&e){let r;for(a=t[3],r=0;r<a.length;r+=1){const o=Qs(t,a,r);u[r]?u[r].p(o,e):(u[r]=Os(o),u[r].c(),u[r].m(n,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}16&e&&o!==(o="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+t[4].class)&&D(n,"class",o),4&e&&(n.disabled=t[2]),9&e&&H(n,t[0])},i:t,o:t,d(t){t&&E(n),l&&l.d(),U(u,t),i=!1,s(c)}}}function Ps(t,e,r){const o=["value","placeholder","disabled","options"];let s=g(e,o),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{options:a=[]}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"options"in t&&r(3,a=t.options)},[i,c,l,a,s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(){i=B(this),r(0,i),r(3,a)}]}class Ds extends Tt{constructor(t){super(),Ut(this,t,Ps,Ns,c,{value:0,placeholder:1,disabled:2,options:3})}}function Fs(t){let e,n;return{c(){e=T("p"),n=S(t[4]),D(e,"class","text-red-500")},m(t,r){L(t,e,r),_(e,n)},p(t,e){16&e&&F(n,t[4])},d(t){t&&E(e)}}}function Ms(t){let e;return{c(){e=S("#")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ws(t){let e,n,r,o,s,i,c,l,a,u,f,d,p=null!==t[4]&&Fs(t);function h(e){t[6](e)}let $={options:or.map(Hs)};function m(e){t[7](e)}void 0!==t[0]&&($.value=t[0]),o=new Ds({props:$}),nt.push((()=>_t(o,"value",h)));let g={disabled:!t[3].takesOperand||!t[3].takesImmediate,$$slots:{default:[Ms]},$$scope:{ctx:t}};function w(e){t[8](e)}void 0!==t[2]&&(g.checked=t[2]),c=new Ls({props:g}),nt.push((()=>_t(c,"checked",m)));let b={class:"w-20",type:"number",disabled:!t[3].takesOperand};return void 0!==t[1]&&(b.value=t[1]),u=new Ts({props:b}),nt.push((()=>_t(u,"value",w))),{c(){e=T("div"),p&&p.c(),n=O(),r=T("div"),Rt(o.$$.fragment),i=O(),Rt(c.$$.fragment),a=O(),Rt(u.$$.fragment),D(r,"class","flex items-center justify-center gap-1"),D(e,"class","flex flex-col items-center justify-center gap-1")},m(t,s){L(t,e,s),p&&p.m(e,null),_(e,n),_(e,r),It(o,r,null),_(r,i),It(c,r,null),_(r,a),It(u,r,null),d=!0},p(t,[r]){null!==t[4]?p?p.p(t,r):(p=Fs(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null);const i={};!s&&1&r&&(s=!0,i.value=t[0],lt((()=>s=!1))),o.$set(i);const a={};8&r&&(a.disabled=!t[3].takesOperand||!t[3].takesImmediate),512&r&&(a.$$scope={dirty:r,ctx:t}),!l&&4&r&&(l=!0,a.checked=t[2],lt((()=>l=!1))),c.$set(a);const d={};8&r&&(d.disabled=!t[3].takesOperand),!f&&2&r&&(f=!0,d.value=t[1],lt((()=>f=!1))),u.$set(d)},i(t){d||(vt(o.$$.fragment,t),vt(c.$$.fragment,t),vt(u.$$.fragment,t),d=!0)},o(t){xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(u.$$.fragment,t),d=!1},d(t){t&&E(e),p&&p.d(),Lt(o),Lt(c),Lt(u)}}}const Hs=t=>t.symbolic;function Bs(t,e,n){let r,{value:o=gr("NOP",!1)}=e,s="NOP",i=0,c=!1,l=null;return t.$$set=t=>{"value"in t&&n(5,o=t.value)},t.$$.update=()=>{if(1&t.$$.dirty&&n(3,r=sr(s)),15&t.$$.dirty){n(4,l=null);try{r.takesOperand?c&&r.takesImmediate?n(5,o=gr(`${s} #${i}`,!1)):n(5,o=gr(`${s} ${i}`,!1)):n(5,o=gr(s,!1))}catch(t){n(4,l=t.message)}}},[s,i,c,r,l,o,function(t){s=t,n(0,s)},function(t){c=t,n(2,c)},function(t){i=t,n(1,i)}]}class js extends Tt{constructor(t){super(),Ut(this,t,Bs,Ws,c,{value:5})}}const Zs=t=>({}),zs=t=>({}),Xs=t=>({}),Vs=t=>({});function Gs(t){let e,n,r,o,s,i,c,l;const a=t[2].inputs,u=f(a,t,t[1],Vs),d=t[2].buttons,m=f(d,t,t[1],zs);return{c(){e=T("div"),n=T("h2"),r=S(t[0]),o=O(),s=T("div"),u&&u.c(),i=O(),c=T("div"),m&&m.c(),D(n,"class","text-lg mx-auto"),D(s,"class","w-full flex flex-col items-center gap-0.5"),D(c,"class","w-full flex flex-wrap justify-center gap-1"),D(e,"class","flex flex-col items-center gap-1.5 max-w-[250px]")},m(t,a){L(t,e,a),_(e,n),_(n,r),_(e,o),_(e,s),u&&u.m(s,null),_(e,i),_(e,c),m&&m.m(c,null),l=!0},p(t,[e]){(!l||1&e)&&F(r,t[0]),u&&u.p&&(!l||2&e)&&h(u,a,t,t[1],l?p(a,t[1],e,Xs):$(t[1]),Vs),m&&m.p&&(!l||2&e)&&h(m,d,t,t[1],l?p(d,t[1],e,Zs):$(t[1]),zs)},i(t){l||(vt(u,t),vt(m,t),l=!0)},o(t){xt(u,t),xt(m,t),l=!1},d(t){t&&E(e),u&&u.d(t),m&&m.d(t)}}}function Js(t,e,n){let{$$slots:r={},$$scope:o}=e,{title:s=""}=e;return t.$$set=t=>{"title"in t&&n(0,s=t.title),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,r]}class qs extends Tt{constructor(t){super(),Ut(this,t,Js,Gs,c,{title:0})}}function Ks(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,h,$,m,g,w,b,v,x,y,A,k,C,R,I;return l=new qs({props:{title:"Execution",$$slots:{buttons:[ii]},$$scope:{ctx:t}}}),u=new qs({props:{title:"CPU",$$slots:{buttons:[bi],inputs:[li]},$$scope:{ctx:t}}}),d=new qs({props:{title:"CPU ANIMATION",$$slots:{buttons:[yi],inputs:[vi]},$$scope:{ctx:t}}}),h=new qs({props:{title:"RAM",$$slots:{buttons:[Ei],inputs:[Ai]},$$scope:{ctx:t}}}),m=new qs({props:{title:"MESSAGE",$$slots:{buttons:[Ni],inputs:[Ui]},$$scope:{ctx:t}}}),w=new qs({props:{title:"WIRES",$$slots:{buttons:[Fi],inputs:[Pi]},$$scope:{ctx:t}}}),v=new qs({props:{title:"NODES",$$slots:{buttons:[Bi]},$$scope:{ctx:t}}}),y=new qs({props:{title:"DISPLAY",$$slots:{buttons:[zi]},$$scope:{ctx:t}}}),k=new qs({props:{title:"TTS",$$slots:{buttons:[Gi],inputs:[Xi]},$$scope:{ctx:t}}}),{c(){e=T("div"),n=T("div"),r=T("h1"),r.textContent="Debugger",o=O(),s=T("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',i=O(),c=T("div"),Rt(l.$$.fragment),a=O(),Rt(u.$$.fragment),f=O(),Rt(d.$$.fragment),p=O(),Rt(h.$$.fragment),$=O(),Rt(m.$$.fragment),g=O(),Rt(w.$$.fragment),b=O(),Rt(v.$$.fragment),x=O(),Rt(y.$$.fragment),A=O(),Rt(k.$$.fragment),D(r,"class","text-xl"),D(s,"title","Close debugger"),D(n,"class","w-full flex flex-wrap items-center justify-between p-4"),D(c,"class","w-full overflow-y-auto p-5 flex flex-wrap gap-8"),D(e,"class","fixed top-0 left-0 w-screen h-screen bg-black/50 text-white")},m(E,U){L(E,e,U),_(e,n),_(n,r),_(n,o),_(n,s),_(e,i),_(e,c),It(l,c,null),_(c,a),It(u,c,null),_(c,f),It(d,c,null),_(c,p),It(h,c,null),_(c,$),It(m,c,null),_(c,g),It(w,c,null),_(c,b),It(v,c,null),_(c,x),It(y,c,null),_(c,A),It(k,c,null),C=!0,R||(I=P(s,"click",t[23]),R=!0)},p(t,e){const n={};64&e[2]&&(n.$$scope={dirty:e,ctx:t}),l.$set(n);const r={};15&e[0]|64&e[2]&&(r.$$scope={dirty:e,ctx:t}),u.$set(r);const o={};4112&e[0]|64&e[2]&&(o.$$scope={dirty:e,ctx:t}),d.$set(o);const s={};24672&e[0]|64&e[2]&&(s.$$scope={dirty:e,ctx:t}),h.$set(s);const i={};32896&e[0]|64&e[2]&&(i.$$scope={dirty:e,ctx:t}),m.$set(i);const c={};66304&e[0]|64&e[2]&&(c.$$scope={dirty:e,ctx:t}),w.$set(c);const a={};917504&e[0]|64&e[2]&&(a.$$scope={dirty:e,ctx:t}),v.$set(a);const f={};3145728&e[0]|64&e[2]&&(f.$$scope={dirty:e,ctx:t}),y.$set(f);const p={};1024&e[0]|64&e[2]&&(p.$$scope={dirty:e,ctx:t}),k.$set(p)},i(t){C||(vt(l.$$.fragment,t),vt(u.$$.fragment,t),vt(d.$$.fragment,t),vt(h.$$.fragment,t),vt(m.$$.fragment,t),vt(w.$$.fragment,t),vt(v.$$.fragment,t),vt(y.$$.fragment,t),vt(k.$$.fragment,t),C=!0)},o(t){xt(l.$$.fragment,t),xt(u.$$.fragment,t),xt(d.$$.fragment,t),xt(h.$$.fragment,t),xt(m.$$.fragment,t),xt(w.$$.fragment,t),xt(v.$$.fragment,t),xt(y.$$.fragment,t),xt(k.$$.fragment,t),C=!1},d(t){t&&E(e),Lt(l),Lt(u),Lt(d),Lt(h),Lt(m),Lt(w),Lt(v),Lt(y),Lt(k),R=!1,I()}}}function Ys(t){let e;return{c(){e=S("Reset")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ti(t){let e;return{c(){e=S("Play")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ei(t){let e;return{c(){e=S("Pause")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ni(t){let e;return{c(){e=S("Step")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ri(t){let e;return{c(){e=S("Instruction")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function oi(t){let e;return{c(){e=S("Skip Step")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function si(t){let e;return{c(){e=S("Skip Instruction")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ii(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,h;return e=new _s({props:{$$slots:{default:[Ys]},$$scope:{ctx:t}}}),e.$on("click",t[24]),r=new _s({props:{$$slots:{default:[ti]},$$scope:{ctx:t}}}),r.$on("click",t[25]),s=new _s({props:{$$slots:{default:[ei]},$$scope:{ctx:t}}}),s.$on("click",t[26]),c=new _s({props:{$$slots:{default:[ni]},$$scope:{ctx:t}}}),c.$on("click",t[27]),a=new _s({props:{$$slots:{default:[ri]},$$scope:{ctx:t}}}),a.$on("click",t[28]),f=new _s({props:{disabled:!0,$$slots:{default:[oi]},$$scope:{ctx:t}}}),p=new _s({props:{disabled:!0,$$slots:{default:[si]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment),d=O(),Rt(p.$$.fragment)},m(t,$){It(e,t,$),L(t,n,$),It(r,t,$),L(t,o,$),It(s,t,$),L(t,i,$),It(c,t,$),L(t,l,$),It(a,t,$),L(t,u,$),It(f,t,$),L(t,d,$),It(p,t,$),h=!0},p(t,n){const o={};64&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};64&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};64&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const u={};64&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};64&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const h={};64&n[2]&&(h.$$scope={dirty:n,ctx:t}),f.$set(h);const $={};64&n[2]&&($.$$scope={dirty:n,ctx:t}),p.$set($)},i(t){h||(vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),vt(a.$$.fragment,t),vt(f.$$.fragment,t),vt(p.$$.fragment,t),h=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),h=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t),t&&E(l),Lt(a,t),t&&E(u),Lt(f,t),t&&E(d),Lt(p,t)}}}function ci(t){let e;return{c(){e=S("Flag")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function li(t){let e,n,r,o,s,i,c,l,a,u,f,d,p;function h(e){t[39](e)}let $={};function m(e){t[40](e)}void 0!==t[0]&&($.value=t[0]),e=new js({props:$}),nt.push((()=>_t(e,"value",h)));let g={type:"number",placeholder:"Value"};function w(e){t[41](e)}void 0!==t[1]&&(g.value=t[1]),o=new Ts({props:g}),nt.push((()=>_t(o,"value",m)));let b={placeholder:"Operation",options:["+","-","*","/",":","!","&","="],class:"w-fit"};function v(e){t[42](e)}void 0!==t[2]&&(b.value=t[2]),l=new Ds({props:b}),nt.push((()=>_t(l,"value",w)));let x={$$slots:{default:[ci]},$$scope:{ctx:t}};return void 0!==t[3]&&(x.checked=t[3]),f=new Ls({props:x}),nt.push((()=>_t(f,"checked",v))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment),i=O(),c=T("div"),Rt(l.$$.fragment),u=O(),Rt(f.$$.fragment),D(c,"class","flex gap-1")},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),L(t,i,n),L(t,c,n),It(l,c,null),_(c,u),It(f,c,null),p=!0},p(t,r){const i={};!n&&1&r[0]&&(n=!0,i.value=t[0],lt((()=>n=!1))),e.$set(i);const c={};!s&&2&r[0]&&(s=!0,c.value=t[1],lt((()=>s=!1))),o.$set(c);const u={};!a&&4&r[0]&&(a=!0,u.value=t[2],lt((()=>a=!1))),l.$set(u);const p={};64&r[2]&&(p.$$scope={dirty:r,ctx:t}),!d&&8&r[0]&&(d=!0,p.checked=t[3],lt((()=>d=!1))),f.$set(p)},i(t){p||(vt(e.$$.fragment,t),vt(o.$$.fragment,t),vt(l.$$.fragment,t),vt(f.$$.fragment,t),p=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),xt(l.$$.fragment,t),xt(f.$$.fragment,t),p=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t),t&&E(i),t&&E(c),Lt(l),Lt(f)}}}function ai(t){let e;return{c(){e=S("Clear")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ui(t){let e;return{c(){e=S("Reset")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function fi(t){let e;return{c(){e=S("Set IR")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function di(t){let e;return{c(){e=S("Set PC")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function pi(t){let e;return{c(){e=S("Set ALU:1")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function hi(t){let e;return{c(){e=S("Set ALU:2")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function $i(t){let e;return{c(){e=S("Set ALU:OPR")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function mi(t){let e;return{c(){e=S("Set ACC")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function gi(t){let e;return{c(){e=S("Set SW:Z")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function wi(t){let e;return{c(){e=S("Set SW:N")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function bi(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,h,$,m,g,w,b,v;return e=new _s({props:{$$slots:{default:[ai]},$$scope:{ctx:t}}}),e.$on("click",t[29]),r=new _s({props:{$$slots:{default:[ui]},$$scope:{ctx:t}}}),r.$on("click",t[30]),s=new _s({props:{$$slots:{default:[fi]},$$scope:{ctx:t}}}),s.$on("click",t[31]),c=new _s({props:{$$slots:{default:[di]},$$scope:{ctx:t}}}),c.$on("click",t[32]),a=new _s({props:{$$slots:{default:[pi]},$$scope:{ctx:t}}}),a.$on("click",t[33]),f=new _s({props:{$$slots:{default:[hi]},$$scope:{ctx:t}}}),f.$on("click",t[34]),p=new _s({props:{$$slots:{default:[$i]},$$scope:{ctx:t}}}),p.$on("click",t[35]),$=new _s({props:{$$slots:{default:[mi]},$$scope:{ctx:t}}}),$.$on("click",t[36]),g=new _s({props:{$$slots:{default:[gi]},$$scope:{ctx:t}}}),g.$on("click",t[37]),b=new _s({props:{$$slots:{default:[wi]},$$scope:{ctx:t}}}),b.$on("click",t[38]),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment),d=O(),Rt(p.$$.fragment),h=O(),Rt($.$$.fragment),m=O(),Rt(g.$$.fragment),w=O(),Rt(b.$$.fragment)},m(t,x){It(e,t,x),L(t,n,x),It(r,t,x),L(t,o,x),It(s,t,x),L(t,i,x),It(c,t,x),L(t,l,x),It(a,t,x),L(t,u,x),It(f,t,x),L(t,d,x),It(p,t,x),L(t,h,x),It($,t,x),L(t,m,x),It(g,t,x),L(t,w,x),It(b,t,x),v=!0},p(t,n){const o={};64&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};64&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};64&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const u={};64&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};64&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const h={};64&n[2]&&(h.$$scope={dirty:n,ctx:t}),f.$set(h);const m={};64&n[2]&&(m.$$scope={dirty:n,ctx:t}),p.$set(m);const w={};64&n[2]&&(w.$$scope={dirty:n,ctx:t}),$.$set(w);const v={};64&n[2]&&(v.$$scope={dirty:n,ctx:t}),g.$set(v);const x={};64&n[2]&&(x.$$scope={dirty:n,ctx:t}),b.$set(x)},i(t){v||(vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),vt(a.$$.fragment,t),vt(f.$$.fragment,t),vt(p.$$.fragment,t),vt($.$$.fragment,t),vt(g.$$.fragment,t),vt(b.$$.fragment,t),v=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),xt($.$$.fragment,t),xt(g.$$.fragment,t),xt(b.$$.fragment,t),v=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t),t&&E(l),Lt(a,t),t&&E(u),Lt(f,t),t&&E(d),Lt(p,t),t&&E(h),Lt($,t),t&&E(m),Lt(g,t),t&&E(w),Lt(b,t)}}}function vi(t){let e,n,r;function o(e){t[44](e)}let s={placeholder:"Flashable component",options:t[22],class:"w-fit"};return void 0!==t[4]&&(s.value=t[4]),e=new Ds({props:s}),nt.push((()=>_t(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&16&r[0]&&(n=!0,o.value=t[4],lt((()=>n=!1))),e.$set(o)},i(t){r||(vt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function xi(t){let e;return{c(){e=S("Flash")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function yi(t){let e,n;return e=new _s({props:{$$slots:{default:[xi]},$$scope:{ctx:t}}}),e.$on("click",t[43]),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){const r={};64&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Ai(t){let e,n,r,o,s,i;function c(e){t[51](e)}let l={type:"number",placeholder:"Address"};function a(e){t[52](e)}void 0!==t[6]&&(l.value=t[6]),e=new Ts({props:l}),nt.push((()=>_t(e,"value",c)));let u={};return void 0!==t[5]&&(u.value=t[5]),o=new js({props:u}),nt.push((()=>_t(o,"value",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};!n&&64&r[0]&&(n=!0,i.value=t[6],lt((()=>n=!1))),e.$set(i);const c={};!s&&32&r[0]&&(s=!0,c.value=t[5],lt((()=>s=!1))),o.$set(c)},i(t){i||(vt(e.$$.fragment,t),vt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function ki(t){let e;return{c(){e=S("Flash address")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ci(t){let e;return{c(){e=S("Flash data")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function _i(t){let e;return{c(){e=S("Show address")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ri(t){let e;return{c(){e=S("Clear")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ii(t){let e;return{c(){e=S("Write")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Li(t){let e;return{c(){e=S("Dump")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ei(t){let e,n,r,o,s,i,c,l,a,u,f,d;return e=new _s({props:{$$slots:{default:[ki]},$$scope:{ctx:t}}}),e.$on("click",t[45]),r=new _s({props:{$$slots:{default:[Ci]},$$scope:{ctx:t}}}),r.$on("click",t[46]),s=new _s({props:{$$slots:{default:[_i]},$$scope:{ctx:t}}}),s.$on("click",t[47]),c=new _s({props:{$$slots:{default:[Ri]},$$scope:{ctx:t}}}),c.$on("click",t[48]),a=new _s({props:{$$slots:{default:[Ii]},$$scope:{ctx:t}}}),a.$on("click",t[49]),f=new _s({props:{$$slots:{default:[Li]},$$scope:{ctx:t}}}),f.$on("click",t[50]),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment)},m(t,p){It(e,t,p),L(t,n,p),It(r,t,p),L(t,o,p),It(s,t,p),L(t,i,p),It(c,t,p),L(t,l,p),It(a,t,p),L(t,u,p),It(f,t,p),d=!0},p(t,n){const o={};64&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};64&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};64&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const u={};64&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};64&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const p={};64&n[2]&&(p.$$scope={dirty:n,ctx:t}),f.$set(p)},i(t){d||(vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),vt(a.$$.fragment,t),vt(f.$$.fragment,t),d=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),d=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t),t&&E(l),Lt(a,t),t&&E(u),Lt(f,t)}}}function Ui(t){let e,n,r;function o(e){t[57](e)}let s={};return void 0!==t[7]&&(s.value=t[7]),e=new Ts({props:s}),nt.push((()=>_t(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&128&r[0]&&(n=!0,o.value=t[7],lt((()=>n=!1))),e.$set(o)},i(t){r||(vt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Ti(t){let e;return{c(){e=S("Error")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Qi(t){let e;return{c(){e=S("Warning")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Si(t){let e;return{c(){e=S("Success")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Oi(t){let e;return{c(){e=S("Info")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ni(t){let e,n,r,o,s,i,c,l;return e=new _s({props:{$$slots:{default:[Ti]},$$scope:{ctx:t}}}),e.$on("click",t[53]),r=new _s({props:{$$slots:{default:[Qi]},$$scope:{ctx:t}}}),r.$on("click",t[54]),s=new _s({props:{$$slots:{default:[Si]},$$scope:{ctx:t}}}),s.$on("click",t[55]),c=new _s({props:{$$slots:{default:[Oi]},$$scope:{ctx:t}}}),c.$on("click",t[56]),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment)},m(t,a){It(e,t,a),L(t,n,a),It(r,t,a),L(t,o,a),It(s,t,a),L(t,i,a),It(c,t,a),l=!0},p(t,n){const o={};64&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};64&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};64&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const a={};64&n[2]&&(a.$$scope={dirty:n,ctx:t}),c.$set(a)},i(t){l||(vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),l=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),l=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t)}}}function Pi(t){let e,n,r,o,s,i;function c(e){t[59](e)}let l={placeholder:"From node",options:fe.map(qi),class:"w-fit"};function a(e){t[60](e)}void 0!==t[8]&&(l.value=t[8]),e=new Ds({props:l}),nt.push((()=>_t(e,"value",c)));let u={placeholder:"To node",options:fe.map(Ki),class:"w-fit"};return void 0!==t[9]&&(u.value=t[9]),o=new Ds({props:u}),nt.push((()=>_t(o,"value",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};!n&&256&r[0]&&(n=!0,i.value=t[8],lt((()=>n=!1))),e.$set(i);const c={};!s&&512&r[0]&&(s=!0,c.value=t[9],lt((()=>s=!1))),o.$set(c)},i(t){i||(vt(e.$$.fragment,t),vt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function Di(t){let e;return{c(){e=S("Flash")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Fi(t){let e,n;return e=new _s({props:{$$slots:{default:[Di]},$$scope:{ctx:t}}}),e.$on("click",t[58]),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){const r={};64&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Mi(t){let e;return{c(){e=S("Show nodes")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Wi(t){let e;return{c(){e=S("Show names")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Hi(t){let e;return{c(){e=S("Show coordinates")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Bi(t){let e,n,r,o,s,i,c,l,a;function u(e){t[61](e)}let f={$$slots:{default:[Mi]},$$scope:{ctx:t}};function d(e){t[62](e)}void 0!==t[17]&&(f.checked=t[17]),e=new Ls({props:f}),nt.push((()=>_t(e,"checked",u)));let p={disabled:!t[17],$$slots:{default:[Wi]},$$scope:{ctx:t}};function h(e){t[63](e)}void 0!==t[18]&&(p.checked=t[18]),o=new Ls({props:p}),nt.push((()=>_t(o,"checked",d)));let $={disabled:!t[17],$$slots:{default:[Hi]},$$scope:{ctx:t}};return void 0!==t[19]&&($.checked=t[19]),c=new Ls({props:$}),nt.push((()=>_t(c,"checked",h))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment),i=O(),Rt(c.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),L(t,i,n),It(c,t,n),a=!0},p(t,r){const i={};64&r[2]&&(i.$$scope={dirty:r,ctx:t}),!n&&131072&r[0]&&(n=!0,i.checked=t[17],lt((()=>n=!1))),e.$set(i);const a={};131072&r[0]&&(a.disabled=!t[17]),64&r[2]&&(a.$$scope={dirty:r,ctx:t}),!s&&262144&r[0]&&(s=!0,a.checked=t[18],lt((()=>s=!1))),o.$set(a);const u={};131072&r[0]&&(u.disabled=!t[17]),64&r[2]&&(u.$$scope={dirty:r,ctx:t}),!l&&524288&r[0]&&(l=!0,u.checked=t[19],lt((()=>l=!1))),c.$set(u)},i(t){a||(vt(e.$$.fragment,t),vt(o.$$.fragment,t),vt(c.$$.fragment,t),a=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),a=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t),t&&E(i),Lt(c,t)}}}function ji(t){let e;return{c(){e=S("Binary")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Zi(t){let e;return{c(){e=S("Labels")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function zi(t){let e,n,r,o,s,i;function c(e){t[64](e)}let l={$$slots:{default:[ji]},$$scope:{ctx:t}};function a(e){t[65](e)}void 0!==t[20]&&(l.checked=t[20]),e=new Ls({props:l}),nt.push((()=>_t(e,"checked",c)));let u={$$slots:{default:[Zi]},$$scope:{ctx:t}};return void 0!==t[21]&&(u.checked=t[21]),o=new Ls({props:u}),nt.push((()=>_t(o,"checked",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};64&r[2]&&(i.$$scope={dirty:r,ctx:t}),!n&&1048576&r[0]&&(n=!0,i.checked=t[20],lt((()=>n=!1))),e.$set(i);const c={};64&r[2]&&(c.$$scope={dirty:r,ctx:t}),!s&&2097152&r[0]&&(s=!0,c.checked=t[21],lt((()=>s=!1))),o.$set(c)},i(t){i||(vt(e.$$.fragment,t),vt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function Xi(t){let e,n,r;function o(e){t[67](e)}let s={placeholder:"Utterance"};return void 0!==t[10]&&(s.value=t[10]),e=new Ts({props:s}),nt.push((()=>_t(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&1024&r[0]&&(n=!0,o.value=t[10],lt((()=>n=!1))),e.$set(o)},i(t){r||(vt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Vi(t){let e;return{c(){e=S("Speak")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Gi(t){let e,n;return e=new _s({props:{$$slots:{default:[Vi]},$$scope:{ctx:t}}}),e.$on("click",t[66]),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){const r={};64&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(vt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Ji(t){let e,n,r=t[11]&&Ks(t);return{c(){r&&r.c(),e=N()},m(t,o){r&&r.m(t,o),L(t,e,o),n=!0},p(t,n){t[11]?r?(r.p(t,n),2048&n[0]&&vt(r,1)):(r=Ks(t),r.c(),vt(r,1),r.m(e.parentNode,e)):r&&(wt(),xt(r,1,1,(()=>{r=null})),bt())},i(t){n||(vt(r),n=!0)},o(t){xt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}const qi=t=>t.name,Ki=t=>t.name;function Yi(t,e,n){let r,o,s,i,c,l,a,f,d,p,h;u(t,jt,(t=>n(11,r=t))),u(t,Nt,(t=>n(12,o=t))),u(t,Ot,(t=>n(13,s=t))),u(t,Cr,(t=>n(14,i=t))),u(t,Mt,(t=>n(15,c=t))),u(t,Pt,(t=>n(16,l=t))),u(t,Zt,(t=>n(17,a=t))),u(t,zt,(t=>n(18,f=t))),u(t,Xt,(t=>n(19,d=t))),u(t,Ae,(t=>n(20,p=t))),u(t,ke,(t=>n(21,h=t))),K((()=>{const t=t=>{t.altKey&&"d"===t.key.toLowerCase()&&(t.preventDefault(),_())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}));let $,m,g,w,b,v,x,y,A,k,C=!1;function _(){!function(t,e,n){t.set(n)}(jt,r=!r,r)}return[$,m,g,C,w,b,v,x,y,A,k,r,o,s,i,c,l,a,f,d,p,h,["IR","IR:OPC","IR:OPR","PC","INC","MUX","CU","ALU:1","ALU:2","ALU:OPR","ACC","SW:Z","SW:N"],_,()=>As.reset(),()=>As.start(),()=>As.pause(),()=>As.step(),()=>As.instruction(),()=>sn.clear(),()=>sn.reset(),()=>sn.setIR($),()=>sn.setPC(parseInt(m)),()=>sn.setALU1(parseInt(m)),()=>sn.setALU2(parseInt(m)),()=>sn.setOperation(g),()=>sn.setACC(parseInt(m)),()=>sn.setZeroFlag(C),()=>sn.setNegativeFlag(C),function(t){$=t,n(0,$)},function(t){m=t,n(1,m)},function(t){g=t,n(2,g)},function(t){C=t,n(3,C)},()=>o.flash(w),function(t){w=t,n(4,w)},()=>s.flashAddress(parseInt(v)),()=>s.flashContent(parseInt(v)),()=>s.showAddress(parseInt(v)),()=>Cr.clear(),()=>Cr.write(parseInt(v),b),()=>{console.log("--- RAM CONTENT ----------------"),console.dir(i),console.log("--------------------------------")},function(t){v=t,n(6,v)},function(t){b=t,n(5,b)},()=>c.message("ERROR",x),()=>c.message("WARNING",x),()=>c.message("SUCCESS",x),()=>c.message("INFO",x),function(t){x=t,n(7,x)},()=>l.flashWire(y,A),function(t){y=t,n(8,y)},function(t){A=t,n(9,A)},function(t){a=t,Zt.set(a)},function(t){f=t,zt.set(f)},function(t){d=t,Xt.set(d)},function(t){p=t,Ae.set(p)},function(t){h=t,ke.set(h)},()=>Wo.read(k),function(t){k=t,n(10,k)}]}class tc extends Tt{constructor(t){super(),Ut(this,t,Yi,Ji,c,{},null,[-1,-1,-1])}}function ec(t){const e=t-1;return e*e*e+1}function nc(t,{delay:e=0,duration:n=400,easing:r=ec}={}){const o=getComputedStyle(t),s=+o.opacity,i=parseFloat(o.height),c=parseFloat(o.paddingTop),l=parseFloat(o.paddingBottom),a=parseFloat(o.marginTop),u=parseFloat(o.marginBottom),f=parseFloat(o.borderTopWidth),d=parseFloat(o.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*i}px;padding-top: ${t*c}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}function rc(t,e,n){const r=t.slice();return r[0]=e[n],r}function oc(t,e){let n,r,o,s,i,c,l,a,u,f,d,p=e[0].message+"";function h(){return e[3](e[0])}return{key:t,first:null,c(){n=T("div"),r=T("button"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#FFFFFF" class="hover:scale-105"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>',o=O(),s=T("p"),i=S(p),c=O(),D(r,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),D(s,"class","w-3/4 text-center text-xl"),D(n,"class",l="relative w-full h-fit flex justify-center items-center p-5 origin-left border text-white "+e[0].type+" svelte-tz4rgo"),this.first=n},m(t,e){L(t,n,e),_(n,r),_(n,o),_(n,s),_(s,i),_(n,c),u=!0,f||(d=P(r,"click",h),f=!0)},p(t,r){e=t,(!u||2&r)&&p!==(p=e[0].message+"")&&F(i,p),(!u||2&r&&l!==(l="relative w-full h-fit flex justify-center items-center p-5 origin-left border text-white "+e[0].type+" svelte-tz4rgo"))&&D(n,"class",l)},i(t){u||(ct((()=>{a||(a=At(n,nc,{},!0)),a.run(1)})),u=!0)},o(t){a||(a=At(n,nc,{},!1)),a.run(0),u=!1},d(t){t&&E(n),t&&a&&a.end(),f=!1,d()}}}function sc(t){let e,n,r=[],o=new Map,s=t[1];const i=t=>t[0].id;for(let e=0;e<s.length;e+=1){let n=rc(t,s,e),c=i(n);o.set(c,r[e]=oc(c,n))}return{c(){e=T("div");for(let t=0;t<r.length;t+=1)r[t].c();D(e,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(t,o){L(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){6&n&&(s=t[1],wt(),r=function(t,e,n,r,o,s,i,c,l,a,u,f){let d=t.length,p=s.length,h=d;const $={};for(;h--;)$[t[h].key]=h;const m=[],g=new Map,w=new Map;for(h=p;h--;){const t=f(o,s,h),c=n(t);let l=i.get(c);l?r&&l.p(t,e):(l=a(c,t),l.c()),g.set(c,m[h]=l),c in $&&w.set(c,Math.abs(h-$[c]))}const b=new Set,v=new Set;function x(t){vt(t,1),t.m(c,u),i.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=m[p-1],n=t[d-1],r=e.key,o=n.key;e===n?(u=e.first,d--,p--):g.has(o)?!i.has(r)||b.has(r)?x(e):v.has(o)?d--:w.get(r)>w.get(o)?(v.add(r),x(e)):(b.add(o),d--):(l(n,i),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,i)}for(;p;)x(m[p-1]);return m}(r,n,i,1,t,s,o,e,Ct,oc,null,rc),bt())},i(t){if(!n){for(let t=0;t<s.length;t+=1)vt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)xt(r[t]);n=!1},d(t){t&&E(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function ic(t,e,n){let r=[];function o(t){n(1,r=r.filter((e=>e.id!==t)))}return[function(t,e){3===r.length&&r.shift(),n(1,r=[...r,{id:Math.random(),type:t,message:e}])},r,o,t=>o(t.id)]}class cc extends Tt{constructor(t){super(),Ut(this,t,ic,sc,c,{message:0})}get message(){return this.$$.ctx[0]}}function lc(t,e){var n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download=e,n.click()}function ac(t){return qt(this,void 0,void 0,(function(){return Kt(this,(function(e){return[2,new Promise((function(e,n){var r=document.createElement("input");r.type="file",r.accept=t,r.click(),r.oninput=function(){return e(r.files)}}))]}))}))}function uc(t,e,n){const r=t.slice();return r[17]=e[n],r}function fc(t,e,n){const r=t.slice();return r[20]=e[n],r}function dc(t,e,n){const r=t.slice();return r[23]=e[n],r}function pc(t){let e,n,r,o,i,c,l,a,u,f,d,p,h,$,m,g,w,b,v,x,y,A,k,C,R,I,Q,N,F,W,B,j,Z,z,X,V,G=Dn,J=[];for(let e=0;e<G.length;e+=1)J[e]=hc(dc(t,G,e));let q=Pn,K=[];for(let e=0;e<q.length;e+=1)K[e]=$c(fc(t,q,e));let Y=t[5],tt=[];for(let e=0;e<Y.length;e+=1)tt[e]=gc(uc(t,Y,e));return{c(){e=T("div"),n=T("div"),r=T("h2"),r.textContent="Logs",o=O(),i=T("div"),c=T("label"),l=S("Keyword:\n\t\t\t\t\t"),a=T("input"),u=O(),f=T("label"),d=S("Type:\n\t\t\t\t\t"),p=T("select"),h=T("option"),h.textContent="ALL";for(let t=0;t<J.length;t+=1)J[t].c();$=O(),m=T("label"),g=S("Group:\n\t\t\t\t\t"),w=T("select"),b=T("option"),b.textContent="ALL";for(let t=0;t<K.length;t+=1)K[t].c();v=O(),x=T("div"),y=T("label"),A=S("Lock scroll to bottom\n\t\t\t\t\t"),k=T("input"),C=O(),R=T("label"),I=S("Show timestamp\n\t\t\t\t\t"),Q=T("input"),N=O(),F=T("div"),W=T("button"),W.textContent="Export",B=O(),j=T("button"),j.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',Z=O(),z=T("div");for(let t=0;t<tt.length;t+=1)tt[t].c();D(r,"class","text-2xl"),D(a,"type","text"),D(a,"class","text-black px-1 py-0.5"),D(c,"for","keyword"),h.__value="ALL",h.value=h.__value,D(p,"id","type"),D(p,"class","text-black px-1 py-0.5"),void 0===t[1]&&ct((()=>t[12].call(p))),D(f,"for","type"),b.__value="ALL",b.value=b.__value,D(w,"id","group"),D(w,"class","text-black px-1 py-0.5"),void 0===t[2]&&ct((()=>t[13].call(w))),D(m,"for","group"),D(i,"class","flex items-center flex-wrap gap-4 p-2"),D(k,"type","checkbox"),D(k,"id","lock-scroll-to-bottom"),D(y,"for","lock-scroll-to-bottom"),D(Q,"type","checkbox"),D(Q,"id","show-timestamp"),D(R,"for","show-timestamp"),D(x,"class","flex items-center flex-wrap gap-4 p-2"),D(W,"class","border px-1"),D(F,"class","flex items-center flex-wrap gap-4 p-2"),D(j,"title","Close logs"),D(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),D(z,"class","w-full h-[90%] overflow-y-auto"),D(e,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(s,E){L(s,e,E),_(e,n),_(n,r),_(n,o),_(n,i),_(i,c),_(c,l),_(c,a),M(a,t[3]),_(i,u),_(i,f),_(f,d),_(f,p),_(p,h);for(let t=0;t<J.length;t+=1)J[t].m(p,null);H(p,t[1]),_(i,$),_(i,m),_(m,g),_(m,w),_(w,b);for(let t=0;t<K.length;t+=1)K[t].m(w,null);H(w,t[2]),_(n,v),_(n,x),_(x,y),_(y,A),_(y,k),k.checked=t[4],_(x,C),_(x,R),_(R,I),_(R,Q),Q.checked=t[6],_(n,N),_(n,F),_(F,W),_(n,B),_(n,j),_(e,Z),_(e,z);for(let t=0;t<tt.length;t+=1)tt[t].m(z,null);t[16](z),X||(V=[P(a,"input",t[11]),P(p,"change",t[12]),P(w,"change",t[13]),P(k,"change",t[14]),P(Q,"change",t[15]),P(W,"click",t[9]),P(j,"click",t[8])],X=!0)},p(t,e){if(8&e&&a.value!==t[3]&&M(a,t[3]),0&e){let n;for(G=Dn,n=0;n<G.length;n+=1){const r=dc(t,G,n);J[n]?J[n].p(r,e):(J[n]=hc(r),J[n].c(),J[n].m(p,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=G.length}if(2&e&&H(p,t[1]),0&e){let n;for(q=Pn,n=0;n<q.length;n+=1){const r=fc(t,q,n);K[n]?K[n].p(r,e):(K[n]=$c(r),K[n].c(),K[n].m(w,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=q.length}if(4&e&&H(w,t[2]),16&e&&(k.checked=t[4]),64&e&&(Q.checked=t[6]),96&e){let n;for(Y=t[5],n=0;n<Y.length;n+=1){const r=uc(t,Y,n);tt[n]?tt[n].p(r,e):(tt[n]=gc(r),tt[n].c(),tt[n].m(z,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=Y.length}},d(n){n&&E(e),U(J,n),U(K,n),U(tt,n),t[16](null),X=!1,s(V)}}}function hc(e){let n,r,o,s=e[23]+"";return{c(){n=T("option"),r=S(s),n.__value=o=e[23],n.value=n.__value},m(t,e){L(t,n,e),_(n,r)},p:t,d(t){t&&E(n)}}}function $c(e){let n,r,o,s=e[20]+"";return{c(){n=T("option"),r=S(s),n.__value=o=e[20],n.value=n.__value},m(t,e){L(t,n,e),_(n,r)},p:t,d(t){t&&E(n)}}}function mc(t){let e,n,r=t[17].timestamp+"";return{c(){e=S(r),n=S(" - ")},m(t,r){L(t,e,r),L(t,n,r)},p(t,n){32&n&&r!==(r=t[17].timestamp+"")&&F(e,r)},d(t){t&&E(e),t&&E(n)}}}function gc(t){let e,n,r,o,s=t[17].message+"",i=t[6]&&mc(t);return{c(){e=T("p"),i&&i.c(),n=S(s),r=O(),D(e,"class",o="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")},m(t,o){L(t,e,o),i&&i.m(e,null),_(e,n),_(e,r)},p(t,r){t[6]?i?i.p(t,r):(i=mc(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),32&r&&s!==(s=t[17].message+"")&&F(n,s),32&r&&o!==(o="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")&&D(e,"class",o)},d(t){t&&E(e),i&&i.d()}}}function wc(e){let n,r=e[7].showLogger&&pc(e);return{c(){r&&r.c(),n=N()},m(t,e){r&&r.m(t,e),L(t,n,e)},p(t,[e]){t[7].showLogger?r?r.p(t,e):(r=pc(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&E(n)}}}function bc(t,e,n){let r,o,s;u(t,Qn,(t=>n(10,r=t))),u(t,On,(t=>n(7,o=t)));let i=[],c="ALL",l="ALL",a="",f=!1,d=!0;function p(){On.updateShowLogger((t=>!t))}return K((()=>{const t=t=>{t.altKey&&t.shiftKey&&"l"===t.key.toLowerCase()&&p()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)})),t.$$.update=()=>{1055&t.$$.dirty&&s&&(n(5,i=r.filter((t=>("ALL"===c||t.logType===c)&&("ALL"===l||t.logGroup===l)&&t.message.toLowerCase().includes(a)))),d&&n(0,s.scrollTop=s.scrollHeight,s))},[s,c,l,a,d,i,f,o,p,function(){lc(JSON.stringify(r),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},r,function(){a=this.value,n(3,a)},function(){c=B(this),n(1,c)},function(){l=B(this),n(2,l)},function(){d=this.checked,n(4,d)},function(){f=this.checked,n(6,f)},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s),n(10,r),n(1,c),n(2,l),n(3,a),n(4,d)}))}]}class vc extends Tt{constructor(t){super(),Ut(this,t,bc,wc,c,{})}}function xc(t){let e,n,r;const o=t[2].default,s=f(o,t,t[1],null);return{c(){e=T("div"),s&&s.c(),D(e,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class)},m(t,n){L(t,e,n),s&&s.m(e,null),r=!0},p(t,[i]){s&&s.p&&(!r||2&i)&&h(s,o,t,t[1],r?p(o,t[1],i,null):$(t[1]),null),(!r||1&i&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class))&&D(e,"class",n)},i(t){r||(vt(s,t),r=!0)},o(t){xt(s,t),r=!1},d(t){t&&E(e),s&&s.d(t)}}}function yc(t,e,r){const o=[];let s=g(e,o),{$$slots:i={},$$scope:c}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(0,s=g(e,o)),"$$scope"in t&&r(1,c=t.$$scope)},[s,c,i]}class Ac extends Tt{constructor(t){super(),Ut(this,t,yc,xc,c,{})}}function kc(e){let n,r,o,i,c,l,a;return{c(){n=T("button"),r=Q("svg"),o=Q("path"),D(o,"d",i=e[3][e[2]]),D(r,"xmlns","http://www.w3.org/2000/svg"),D(r,"viewBox","0 0 24 24"),D(r,"class","fill-black w-6 h-6 scale-[1.4]"),D(n,"class",c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],D(n,"title",e[1])},m(t,s){L(t,n,s),_(n,r),_(r,o),l||(a=[P(n,"click",e[5]),P(n,"focus",e[6]),P(n,"focusout",e[7]),P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9]),P(n,"mouseover",e[10])],l=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&D(o,"d",i),16&e&&c!==(c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&D(n,"class",c),1&e&&(n.disabled=t[0]),2&e&&D(n,"title",t[1])},i:t,o:t,d(t){t&&E(n),l=!1,s(a)}}}function Cc(t,e,r){const o=["disabled","title","icon"];let s=g(e,o),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"disabled"in t&&r(0,i=t.disabled),"title"in t&&r(1,c=t.title),"icon"in t&&r(2,l=t.icon)},[i,c,l,{"":"",reset:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",skip:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class _c extends Tt{constructor(t){super(),Ut(this,t,Cc,kc,c,{disabled:0,title:1,icon:2})}}function Rc(t){let e,n,r,o,i,c,l,a,u;const d=t[5].default,m=f(d,t,t[4],null);return{c(){e=T("div"),n=T("div"),o=O(),i=T("div"),m&&m.c(),D(n,"class",r="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")),D(i,"class","font-medium pb-[3px]"),D(e,"class",c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class),D(e,"disabled",t[1])},m(r,s){L(r,e,s),_(e,n),_(e,o),_(e,i),m&&m.m(i,null),l=!0,a||(u=[P(e,"click",t[2]),P(e,"focus",t[6]),P(e,"focusout",t[7]),P(e,"mouseenter",t[8]),P(e,"mouseleave",t[9]),P(e,"mouseover",t[10])],a=!0)},p(t,[o]){(!l||3&o&&r!==(r="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")))&&D(n,"class",r),m&&m.p&&(!l||16&o)&&h(m,d,t,t[4],l?p(d,t[4],o,null):$(t[4]),null),(!l||10&o&&c!==(c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class))&&D(e,"class",c),(!l||2&o)&&D(e,"disabled",t[1])},i(t){l||(vt(m,t),l=!0)},o(t){xt(m,t),l=!1},d(t){t&&E(e),m&&m.d(t),a=!1,s(u)}}}function Ic(t,e,r){const o=["disabled","checked"];let s=g(e,o),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=Y();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,s=g(e,o)),"disabled"in t&&r(1,l=t.disabled),"checked"in t&&r(0,a=t.checked),"$$scope"in t&&r(4,c=t.$$scope)},[a,l,function(t){r(0,a=!a),u("click",t)},s,c,i,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class Lc extends Tt{constructor(t){super(),Ut(this,t,Ic,Rc,c,{disabled:1,checked:0})}}function Ec(e){let n,r,o,i;return{c(){n=T("input"),D(n,"type","range"),D(n,"class",r=w(e[6].class)+" svelte-dtr8pe"),D(n,"min",e[1]),D(n,"max",e[2]),D(n,"step",e[3]),n.disabled=e[4],D(n,"title",e[5])},m(t,r){L(t,n,r),M(n,e[0]),o||(i=[P(n,"change",e[14]),P(n,"input",e[14]),P(n,"input",e[7]),P(n,"change",e[8]),P(n,"focus",e[9]),P(n,"focusout",e[10]),P(n,"mouseenter",e[11]),P(n,"mouseleave",e[12]),P(n,"mouseover",e[13])],o=!0)},p(t,[e]){64&e&&r!==(r=w(t[6].class)+" svelte-dtr8pe")&&D(n,"class",r),2&e&&D(n,"min",t[1]),4&e&&D(n,"max",t[2]),8&e&&D(n,"step",t[3]),16&e&&(n.disabled=t[4]),32&e&&D(n,"title",t[5]),1&e&&M(n,t[0])},i:t,o:t,d(t){t&&E(n),o=!1,s(i)}}}function Uc(t,e,r){const o=["min","max","value","step","disabled","title"];let s=g(e,o),{min:i=0}=e,{max:c=1}=e,{value:l=c/2+i}=e,{step:a=.1}=e,{disabled:u=!1}=e,{title:f=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(6,s=g(e,o)),"min"in t&&r(1,i=t.min),"max"in t&&r(2,c=t.max),"value"in t&&r(0,l=t.value),"step"in t&&r(3,a=t.step),"disabled"in t&&r(4,u=t.disabled),"title"in t&&r(5,f=t.title)},[l,i,c,a,u,f,s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(){l=function(t){return""===t?null:+t}(this.value),r(0,l)}]}class Tc extends Tt{constructor(t){super(),Ut(this,t,Uc,Ec,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function Qc(t){let e,n,r,o,s;const i=t[2].default,c=f(i,t,t[1],null);return{c(){e=T("div"),n=T("span"),r=S(t[0]),o=O(),c&&c.c(),D(n,"class","text-gray-200"),D(e,"class","h-full py-2 flex flex-col items-center justify-between")},m(t,i){L(t,e,i),_(e,n),_(n,r),_(e,o),c&&c.m(e,null),s=!0},p(t,[e]){(!s||1&e)&&F(r,t[0]),c&&c.p&&(!s||2&e)&&h(c,i,t,t[1],s?p(i,t[1],e,null):$(t[1]),null)},i(t){s||(vt(c,t),s=!0)},o(t){xt(c,t),s=!1},d(t){t&&E(e),c&&c.d(t)}}}function Sc(t,e,n){let{$$slots:r={},$$scope:o}=e,{label:s=""}=e;return t.$$set=t=>{"label"in t&&n(0,s=t.label),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,r]}class Oc extends Tt{constructor(t){super(),Ut(this,t,Sc,Qc,c,{label:0})}}function Nc(t){let e,n,r,o,s,i,c;return n=new _c({props:{icon:"reset",title:t[0].controls.buttons.reset.title,disabled:!0}}),n.$on("click",t[5]),o=new _c({props:{icon:t[1]?"pause":"play",title:t[1]?t[0].controls.buttons.pause.title:t[0].controls.buttons.play.title}}),o.$on("click",t[6]),i=new _c({props:{icon:"skip",title:t[0].controls.buttons.end.title,disabled:!0}}),i.$on("click",Zc),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),D(e,"class","flex items-center justify-center gap-1")},m(t,l){L(t,e,l),It(n,e,null),_(e,r),It(o,e,null),_(e,s),It(i,e,null),c=!0},p(t,e){const r={};1&e&&(r.title=t[0].controls.buttons.reset.title),n.$set(r);const s={};2&e&&(s.icon=t[1]?"pause":"play"),3&e&&(s.title=t[1]?t[0].controls.buttons.pause.title:t[0].controls.buttons.play.title),o.$set(s);const c={};1&e&&(c.title=t[0].controls.buttons.end.title),i.$set(c)},i(t){c||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),vt(i.$$.fragment,t),c=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),c=!1},d(t){t&&E(e),Lt(n),Lt(o),Lt(i)}}}function Pc(t){let e,n,r,o,s;return n=new _c({props:{icon:"play",title:t[0].controls.buttons.play_step.title}}),n.$on("click",t[7]),o=new _c({props:{icon:"skip",title:t[0].controls.buttons.skip_step.title,disabled:!0}}),o.$on("click",zc),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),D(e,"class","flex items-center justify-center gap-1")},m(t,i){L(t,e,i),It(n,e,null),_(e,r),It(o,e,null),s=!0},p(t,e){const r={};1&e&&(r.title=t[0].controls.buttons.play_step.title),n.$set(r);const s={};1&e&&(s.title=t[0].controls.buttons.skip_step.title),o.$set(s)},i(t){s||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),s=!1},d(t){t&&E(e),Lt(n),Lt(o)}}}function Dc(t){let e,n,r,o,s;return n=new _c({props:{icon:"play",title:t[0].controls.buttons.play_instruction.title}}),n.$on("click",t[8]),o=new _c({props:{icon:"skip",title:t[0].controls.buttons.skip_instruction.title,disabled:!0}}),o.$on("click",Xc),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),D(e,"class","flex items-center justify-center gap-1")},m(t,i){L(t,e,i),It(n,e,null),_(e,r),It(o,e,null),s=!0},p(t,e){const r={};1&e&&(r.title=t[0].controls.buttons.play_instruction.title),n.$set(r);const s={};1&e&&(s.title=t[0].controls.buttons.skip_instruction.title),o.$set(s)},i(t){s||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),s=!1},d(t){t&&E(e),Lt(n),Lt(o)}}}function Fc(t){let e,n,r;function o(e){t[9](e)}let s={min:.1,max:3,title:t[0].controls.sliders.speed.title};return void 0!==t[2]&&(s.value=t[2]),e=new Tc({props:s}),nt.push((()=>_t(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};1&r&&(o.title=t[0].controls.sliders.speed.title),!n&&4&r&&(n=!0,o.value=t[2],lt((()=>n=!1))),e.$set(o)},i(t){r||(vt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Mc(t){let e,n,r,o,s,i,c,l;return e=new Oc({props:{label:t[0].controls.labels.execution,$$slots:{default:[Nc]},$$scope:{ctx:t}}}),r=new Oc({props:{label:t[0].controls.labels.step,$$slots:{default:[Pc]},$$scope:{ctx:t}}}),s=new Oc({props:{label:t[0].controls.labels.instruction,$$slots:{default:[Dc]},$$scope:{ctx:t}}}),c=new Oc({props:{label:t[0].controls.labels.speed,$$slots:{default:[Fc]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment)},m(t,a){It(e,t,a),L(t,n,a),It(r,t,a),L(t,o,a),It(s,t,a),L(t,i,a),It(c,t,a),l=!0},p(t,n){const o={};1&n&&(o.label=t[0].controls.labels.execution),4099&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1&n&&(i.label=t[0].controls.labels.step),4097&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1&n&&(l.label=t[0].controls.labels.instruction),4097&n&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const a={};1&n&&(a.label=t[0].controls.labels.speed),4101&n&&(a.$$scope={dirty:n,ctx:t}),c.$set(a)},i(t){l||(vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(c.$$.fragment,t),l=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),l=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t)}}}function Wc(t){let e,n=t[0].controls.checkboxes.binary.text+"";return{c(){e=S(n)},m(t,n){L(t,e,n)},p(t,r){1&r&&n!==(n=t[0].controls.checkboxes.binary.text+"")&&F(e,n)},d(t){t&&E(e)}}}function Hc(t){let e,n=t[0].controls.checkboxes.animations.text+"";return{c(){e=S(n)},m(t,n){L(t,e,n)},p(t,r){1&r&&n!==(n=t[0].controls.checkboxes.animations.text+"")&&F(e,n)},d(t){t&&E(e)}}}function Bc(t){let e,n,r,o,s,i;function c(e){t[10](e)}let l={$$slots:{default:[Wc]},$$scope:{ctx:t}};function a(e){t[11](e)}void 0!==t[3]&&(l.checked=t[3]),e=new Lc({props:l}),nt.push((()=>_t(e,"checked",c)));let u={$$slots:{default:[Hc]},$$scope:{ctx:t}};return void 0!==t[4]&&(u.checked=t[4]),o=new Lc({props:u}),nt.push((()=>_t(o,"checked",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};4097&r&&(i.$$scope={dirty:r,ctx:t}),!n&&8&r&&(n=!0,i.checked=t[3],lt((()=>n=!1))),e.$set(i);const c={};4097&r&&(c.$$scope={dirty:r,ctx:t}),!s&&16&r&&(s=!0,c.checked=t[4],lt((()=>s=!1))),o.$set(c)},i(t){i||(vt(e.$$.fragment,t),vt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function jc(t){let e,n,r,o,s;return n=new Ac({props:{class:"gap-5",$$slots:{default:[Mc]},$$scope:{ctx:t}}}),o=new Ac({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[Bc]},$$scope:{ctx:t}}}),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),D(e,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(t,i){L(t,e,i),It(n,e,null),_(e,r),It(o,e,null),s=!0},p(t,[e]){const r={};4103&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const s={};4121&e&&(s.$$scope={dirty:e,ctx:t}),o.$set(s)},i(t){s||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),s=!1},d(t){t&&E(e),Lt(n),Lt(o)}}}function Zc(){}function zc(){}function Xc(){}function Vc(t,e,n){let r,o,s,i,c;return u(t,_r,(t=>n(0,r=t))),u(t,ps,(t=>n(1,o=t))),u(t,_e,(t=>n(2,s=t))),u(t,Ae,(t=>n(3,i=t))),u(t,Ce,(t=>n(4,c=t))),[r,o,s,i,c,function(){As.reset()},function(){As.toggle()},function(){As.step()},function(){As.instruction()},function(t){s=t,_e.set(s)},function(t){i=t,Ae.set(i)},function(t){c=t,Ce.set(c)}]}class Gc extends Tt{constructor(t){super(),Ut(this,t,Vc,jc,c,{})}}var Jc=function(t){function e(e){return t.call(this,e)||this}return Gt(e,t),e}(Fe);function qc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return e.forEach((function(t,e){r=r.replace("{".concat(e,"}"),t.toString())})),r}var Kc=/;.*/g,Yc=new RegExp(":"+hr.source),tl=new RegExp("^(".concat(mr.source.replace(/\^|\$/g,""),"|").concat(dr.source.replace(/\^|\$/g,""),")( ").concat(Yc.source,")?$"));function el(t){var e=t.split(/\r\n|\r|\n/g),n=[],r=[],o=0;e.forEach((function(t,e){var s=e+1,i=t.replace(Kc,"").replace(/\s+/g," ").trim();if(""!==i){if(!tl.test(i)){var c=i.length>30?"".concat(i.slice(0,30),"..."):i;throw new Jc(qc(a(_r).errors.program_parsing.invalid_syntax,s,c))}var l=i.split(":").map((function(t){return t.trim()})),u=l[0],f=l[1];n.push({text:u,lineNumber:s,address:o}),r[o]=f,o+=2}})),o=0;var s=[];n.forEach((function(t){try{var e=gr(t.text,!1,r);s.push(e)}catch(e){throw new Jc(qc(a(_r).errors.program_parsing.parsing_error,t.lineNumber,e.message))}})),Tr.load(r),Cr.clear(),s.forEach((function(t,e){Cr.write(function(t){var e=2*t;if(!Ke(e))throw new Error("Invalid index: "+t);return e}(e),t)}))}function nl(e){let n,r,o,i,c,l,a;return{c(){n=T("button"),r=Q("svg"),o=Q("path"),D(o,"d",i=e[3][e[2]]),D(r,"xmlns","http://www.w3.org/2000/svg"),D(r,"viewBox","0 0 48 48"),D(r,"class","fill-neutral-800 w-8 h-8 drop-shadow-component hover:scale-105"),D(n,"class",c="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],D(n,"title",e[1])},m(t,s){L(t,n,s),_(n,r),_(r,o),l||(a=[P(n,"click",e[5]),P(n,"focus",e[6]),P(n,"focusout",e[7]),P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9]),P(n,"mouseover",e[10])],l=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&D(o,"d",i),16&e&&c!==(c="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&D(n,"class",c),1&e&&(n.disabled=t[0]),2&e&&D(n,"title",t[1])},i:t,o:t,d(t){t&&E(n),l=!1,s(a)}}}function rl(t,e,r){const o=["disabled","title","icon"];let s=g(e,o),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"disabled"in t&&r(0,i=t.disabled),"title"in t&&r(1,c=t.title),"icon"in t&&r(2,l=t.icon)},[i,c,l,{"":"",settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",help:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z"},s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class ol extends Tt{constructor(t){super(),Ut(this,t,rl,nl,c,{disabled:0,title:1,icon:2})}}function sl(t){let e,n,r,o,s,i,c,l,a,u,f;return n=new ol({props:{icon:"settings",title:t[0].menu.buttons.settings.title}}),o=new ol({props:{icon:"save",title:t[0].menu.buttons.save.title}}),o.$on("click",t[2]),i=new ol({props:{icon:"open",title:t[0].menu.buttons.open.title}}),i.$on("click",t[1]),l=new ol({props:{icon:"language",title:t[0].menu.buttons.language.title}}),u=new ol({props:{icon:"help",title:t[0].menu.buttons.help.title}}),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),c=O(),Rt(l.$$.fragment),a=O(),Rt(u.$$.fragment),D(e,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-1 z-[4]")},m(t,d){L(t,e,d),It(n,e,null),_(e,r),It(o,e,null),_(e,s),It(i,e,null),_(e,c),It(l,e,null),_(e,a),It(u,e,null),f=!0},p(t,[e]){const r={};1&e&&(r.title=t[0].menu.buttons.settings.title),n.$set(r);const s={};1&e&&(s.title=t[0].menu.buttons.save.title),o.$set(s);const c={};1&e&&(c.title=t[0].menu.buttons.open.title),i.$set(c);const a={};1&e&&(a.title=t[0].menu.buttons.language.title),l.$set(a);const f={};1&e&&(f.title=t[0].menu.buttons.help.title),u.$set(f)},i(t){f||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),vt(i.$$.fragment,t),vt(l.$$.fragment,t),vt(u.$$.fragment,t),f=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),xt(u.$$.fragment,t),f=!1},d(t){t&&E(e),Lt(n),Lt(o),Lt(i),Lt(l),Lt(u)}}}function il(t,e,n){let r,o;u(t,Mt,(t=>n(3,r=t))),u(t,_r,(t=>n(0,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};return[o,function(){return s(this,void 0,void 0,(function*(){try{const t=(yield ac(".cpuvs"))[0];el(yield t.text())}catch(t){jn.error(t,"USER_INPUT",t.isChecked),r.message("ERROR",t.message)}jn.info("Program loaded from file","USER_INPUT")}))},function(){try{let t=prompt("File name");if(!t)throw new Fe(a(_r).errors.user_input.invalid_file_name);lc(function(){for(var t="",e="",n="",r=0;r<=Je;r+=2)e=Cr.read(r).symbolic(),t+="\t".concat(e),n=" ".repeat(20-e.length),Tr.getLabel(r)&&(t+="".concat(n,":").concat(Tr.getLabel(r))),t+="\n";return t.replace(/(\tNOP\n)*$/g,"").replace(/\n$/g,"")}(),`${t}.cpuvs`)}catch(t){jn.error(t,"USER_INPUT",t.isChecked),r.message("ERROR",t.message)}jn.info("Program saved to file","USER_INPUT")}]}class cl extends Tt{constructor(t){super(),Ut(this,t,il,sl,c,{})}}const{window:ll}=kt;function al(t){let e,n,r,o,i,c,l,a,u,f,d,p,h,$,m;n=new bo({});o=new Gc({props:{}}),t[8](o);c=new cl({props:{}}),t[9](c);a=new tc({props:{}}),t[11](a);f=new vc({props:{}}),t[12](f);return p=new cc({props:{}}),t[13](p),{c(){e=T("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment),d=O(),Rt(p.$$.fragment),D(e,"class","relative w-app h-app origin-top-left")},m(s,g){L(s,e,g),It(n,e,null),_(e,r),It(o,e,null),_(e,i),It(c,e,null),t[10](e),L(s,l,g),It(a,s,g),L(s,u,g),It(f,s,g),L(s,d,g),It(p,s,g),h=!0,$||(m=[P(ll,"resize",t[6]),P(ll,"error",t[7])],$=!0)},p(t,[e]){o.$set({});c.$set({});a.$set({});f.$set({});p.$set({})},i(t){h||(vt(n.$$.fragment,t),vt(o.$$.fragment,t),vt(c.$$.fragment,t),vt(a.$$.fragment,t),vt(f.$$.fragment,t),vt(p.$$.fragment,t),h=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),h=!1},d(r){r&&E(e),Lt(n),t[8](null),Lt(o),t[9](null),Lt(c),t[10](null),r&&E(l),t[11](null),Lt(a,r),r&&E(u),t[12](null),Lt(f,r),r&&E(d),t[13](null),Lt(p,r),$=!1,s(m)}}}function ul(t,e,n){let r,o,s,i,c,l;function a(){let t=window.innerWidth/1400,e=window.innerHeight/800,r=t<e?t:e;n(0,l.style.transform=`scale(${r})`,l)}return u(t,Dt,(t=>n(1,r=t))),u(t,Ht,(t=>n(2,o=t))),u(t,Ft,(t=>n(3,s=t))),u(t,Wt,(t=>n(4,i=t))),u(t,Mt,(t=>n(5,c=t))),K(a),[l,r,o,s,i,c,a,function(t){t.preventDefault(),jn.error(t.error,"UNCAUGHT")},function(t){nt[t?"unshift":"push"]((()=>{r=t,Dt.set(r)}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,Ht.set(o)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,Ft.set(s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,Wt.set(i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,Mt.set(c)}))}]}return new class extends Tt{constructor(t){super(),Ut(this,t,ul,al,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
