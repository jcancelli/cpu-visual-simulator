var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(s)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return l(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function f(t,e,n,s){if(t){const r=d(t,e,n,s);return t[0](r)}}function d(t,e,s,r){return t[1]&&r?n(s.ctx.slice(),t[1](r(e))):s.ctx}function p(t,e,n,s){if(t[2]&&s){const r=t[2](s(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|r[s];return t}return e.dirty|r}return e.dirty}function h(t,e,n,s,r,o){if(r){const i=d(e,n,s,o);t.p(i,r)}}function m(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function g(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function $(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}function b(t){return null==t?"":t}function y(t,e,n){return t.set(n),e}function w(e){return e&&i(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let x=v?()=>window.performance.now():()=>Date.now(),_=v?t=>requestAnimationFrame(t):t;const k=new Set;function A(t){k.forEach((e=>{e.c(t)||(k.delete(e),e.f())})),0!==k.size&&_(A)}function S(t){let e;return 0===k.size&&_(A),{promise:new Promise((n=>{k.add(e={c:t,f:n})})),abort(){k.delete(e)}}}function E(t,e){t.appendChild(e)}function T(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function N(t){const e=L("style");return function(t,e){E(t.head||t,e)}(T(t),e),e.sheet}function I(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function O(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function L(t){return document.createElement(t)}function D(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t){return document.createTextNode(t)}function U(){return R(" ")}function B(){return R("")}function P(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Q(t){return""===t?null:+t}function F(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=null==e?"":e}function K(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function W(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function H(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function q(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,s,e),r}const V=new Map;let G,X=0;function J(t,e,n,s,r,o,i,c=0){const l=16.666/s;let a="{\n";for(let t=0;t<=1;t+=l){const s=e+(n-e)*o(t);a+=100*t+`%{${i(s,1-s)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,d=T(t),{stylesheet:p,rules:h}=V.get(d)||function(t,e){const n={stylesheet:N(e),rules:{}};return V.set(t,n),n}(d,t);h[f]||(h[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${s}ms linear ${r}ms 1 both`,X+=1,f}function z(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-s.length;r&&(t.style.animation=s.join(", "),X-=r,X||_((()=>{X||(V.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),V.clear())})))}function Z(t){G=t}function Y(){if(!G)throw new Error("Function called outside component initialization");return G}function tt(t){Y().$$.on_mount.push(t)}function et(){const t=Y();return(e,n,{cancelable:s=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=q(e,n,{cancelable:s});return r.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function nt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const st=[],rt=[],ot=[],it=[],ct=Promise.resolve();let lt=!1;function at(t){ot.push(t)}function ut(t){it.push(t)}const ft=new Set;let dt,pt=0;function ht(){const t=G;do{for(;pt<st.length;){const t=st[pt];pt++,Z(t),mt(t.$$)}for(Z(null),st.length=0,pt=0;rt.length;)rt.pop()();for(let t=0;t<ot.length;t+=1){const e=ot[t];ft.has(e)||(ft.add(e),e())}ot.length=0}while(st.length);for(;it.length;)it.pop()();lt=!1,ft.clear(),Z(t)}function mt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(at)}}function gt(){return dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt}function $t(t,e,n){t.dispatchEvent(q(`${e?"intro":"outro"}${n}`))}const bt=new Set;let yt;function wt(){yt={r:0,c:[],p:yt}}function vt(){yt.r||o(yt.c),yt=yt.p}function xt(t,e){t&&t.i&&(bt.delete(t),t.i(e))}function _t(t,e,n,s){if(t&&t.o){if(bt.has(t))return;bt.add(t),yt.c.push((()=>{bt.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}else s&&s()}const kt={duration:0};function At(n,s,r){let o,c,l=s(n,r),a=!1,u=0;function f(){o&&z(n,o)}function d(){const{delay:s=0,duration:r=300,easing:i=e,tick:d=t,css:p}=l||kt;p&&(o=J(n,0,1,r,s,i,p,u++)),d(0,1);const h=x()+s,m=h+r;c&&c.abort(),a=!0,at((()=>$t(n,!0,"start"))),c=S((t=>{if(a){if(t>=m)return d(1,0),$t(n,!0,"end"),f(),a=!1;if(t>=h){const e=i((t-h)/r);d(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,z(n),i(l)?(l=l(),gt().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}function St(n,s,r,c){let l=s(n,r),a=c?0:1,u=null,f=null,d=null;function p(){d&&z(n,d)}function h(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(s){const{delay:r=0,duration:i=300,easing:c=e,tick:m=t,css:g}=l||kt,$={start:x()+r,b:s};s||($.group=yt,yt.r+=1),u||f?f=$:(g&&(p(),d=J(n,a,s,i,r,c,g)),s&&m(0,1),u=h($,i),at((()=>$t(n,s,"start"))),S((t=>{if(f&&t>f.start&&(u=h(f,i),f=null,$t(n,u.b,"start"),g&&(p(),d=J(n,a,u.b,u.duration,0,c,l.css))),u)if(t>=u.end)m(a=u.b,1-a),$t(n,u.b,"end"),f||(u.b?p():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*c(e/u.duration),m(a,1-a)}return!(!u&&!f)})))}return{run(t){i(l)?gt().then((()=>{l=l(),m(t)})):m(t)},end(){p(),u=f=null}}}const Et="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Tt(t,e){_t(t,1,1,(()=>{e.delete(t.key)}))}function Nt(t,e,n,s,r,o,i,c,l,a,u,f){let d=t.length,p=o.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const g=[],$=new Map,b=new Map;for(h=p;h--;){const t=f(r,o,h),c=n(t);let l=i.get(c);l?s&&l.p(t,e):(l=a(c,t),l.c()),$.set(c,g[h]=l),c in m&&b.set(c,Math.abs(h-m[c]))}const y=new Set,w=new Set;function v(t){xt(t,1),t.m(c,u),i.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=g[p-1],n=t[d-1],s=e.key,r=n.key;e===n?(u=e.first,d--,p--):$.has(r)?!i.has(s)||y.has(s)?v(e):w.has(r)?d--:b.get(s)>b.get(r)?(w.add(s),v(e)):(y.add(r),d--):(l(n,i),d--)}for(;d--;){const e=t[d];$.has(e.key)||l(e,i)}for(;p;)v(g[p-1]);return g}function It(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function Ct(t){t&&t.c()}function Ot(t,e,n,r){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,n),r||at((()=>{const e=l.map(s).filter(i);a?a.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(at)}function Lt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Dt(t,e){-1===t.$$.dirty[0]&&(st.push(t),lt||(lt=!0,ct.then(ht)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rt(e,n,s,i,c,l,a,u=[-1]){const f=G;Z(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let p=!1;if(d.ctx=s?s(e,n.props||{},((t,n,...s)=>{const r=s.length?s[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),p&&Dt(e,t)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(C)}else d.fragment&&d.fragment.c();n.intro&&xt(e.$$.fragment),Ot(e,n.target,n.anchor,n.customElement),ht()}Z(f)}class Ut{$destroy(){Lt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Bt=[];function Pt(e,n=t){let s;const r=new Set;function o(t){if(c(e,t)&&(e=t,s)){const t=!Bt.length;for(const t of r)t[1](),Bt.push(t,e);if(t){for(let t=0;t<Bt.length;t+=2)Bt[t][0](Bt[t+1]);Bt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,c=t){const l=[i,c];return r.add(l),1===r.size&&(s=n(o)||t),i(e),()=>{r.delete(l),0===r.size&&(s(),s=null)}}}}var Mt=Pt(),Qt=Pt(),Ft=Pt(),jt=Pt(),Kt=Pt(),Wt=Pt(),Ht=Pt(),qt=Pt(),Vt=Pt(),Gt=Pt(),Xt=Pt(!1),Jt=Pt(!1),zt=Pt(!1),Zt=Pt(!1),Yt=function(t,e){return Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Yt(t,e)};function te(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ee=function(){return ee=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},ee.apply(this,arguments)};function ne(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))}function se(t,e){var n,s,r,o,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,s&&(r=2&o[0]?s.return:o[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,o[1])).done)return r;switch(s=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,s=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(r=i.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){i.label=o[1];break}if(6===o[0]&&i.label<r[1]){i.label=r[1],r=o;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(o);break}r[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],s=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function re(t,e,n){if(n||2===arguments.length)for(var s,r=0,o=e.length;r<o;r++)!s&&r in e||(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var oe=function(){function t(t,e,n,s){void 0===s&&(s=null),this.x=e,this.y=n,this.name=t,this.neighbours=[],this.intersectionType=s}return t.prototype.isAlignedTo=function(t){return this.x===t.x||this.y===t.y},t.prototype.isConnectedTo=function(t){return this.neighbours.some((function(e){return e===t}))},t.prototype.connectTo=function(t,e){if(!this.isAlignedTo(t))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+t.name+")");if(this.isConnectedTo(t))throw new Error("This node is already connected to "+t.name);this.neighbours.push(t),t.neighbours.push(this)},t.distance=function(t,e){return Math.hypot(t.x-e.x,t.y-e.y)},t.direction=function(t,e){return t.x>e.x?{x:-1,y:0}:t.x<e.x?{x:1,y:0}:t.y>e.y?{x:0,y:-1}:{x:0,y:1}},t}(),ie=function(t){function e(e){var n=t.call(this,e)||this;return n.isChecked=!0,n}return te(e,t),e}(Error),ce=function(t){function e(e,n){return t.call(this,"Value ".concat(e," out of ").concat(n,"-bit valid range"))||this}return te(e,t),e}(ie),le=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"=",category:"DATA_FLOW"},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:"",category:"DATA_FLOW"},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+",category:"ARITHMETIC_LOGIC"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-",category:"ARITHMETIC_LOGIC"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*",category:"ARITHMETIC_LOGIC"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/",category:"ARITHMETIC_LOGIC"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&",category:"ARITHMETIC_LOGIC"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":",category:"ARITHMETIC_LOGIC"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!",category:"ARITHMETIC_LOGIC"}];function ae(t){return"string"==typeof t?le.find((function(e){return e.symbolic===t})):le.find((function(e){return e.numeric===t.getByte(1).unsigned()}))}function ue(t){return t.isBitSet(1)}function fe(t,e){return t.setBit(1,e)}function de(t){return fe(t,!1)}var pe=function(t){function e(e,n){var s=t.call(this,e)||this;return s.inputString=n,s}return te(e,t),e}(ie);function he(t,e){if(Math.abs(t)>e)throw new Error("Position ".concat(t," out of range +/-").concat(e));if(0===t)throw new Error("Positions start from 1");return t<0?this.value.length+t:t-1}function me(t){if(t<1||t>32)throw new Error("Binary numbers must be between ".concat(1," and ").concat(32," bits"))}function ge(t,e){return t<=function(t){return me(t),Math.pow(2,t)}(e)&&t>=be(e)}function $e(t,e){return t<=function(t){return me(t),Math.pow(2,t-1)-1}(e)&&t>=be(e)}function be(t){return me(t),-Math.pow(2,t-1)}function ye(t,e){return me(e),we((t>>>0).toString(2),e)}function we(t,e){return("00000000000000000000000000000000"+t).slice(-e)}var ve=254;function xe(t){if(!_e(t))throw new Error("Invalid address: "+t);return t/2}function _e(t){return t%2==0&&t>=0&&t<=ve}var ke=function(){function t(t,e,n,s){if(void 0===s&&(s=!1),16!==n.bits())throw new Error("Value must be 16 bit");this.opcode=ae(de(n)),this.symbolicOpcode=t,this.symbolicOperand=e,this.value=n,s&&(this.opcode=void 0)}return t.prototype.immediateFlag=function(){return ue(this.value)},t.prototype.opcodeValue=function(){return this.value.getByte(1)},t.prototype.operandValue=function(){return this.value.getByte(2)},t.prototype.numericOpcode=function(){return this.value.getByte(1).signed()},t.prototype.numericOperand=function(){return this.immediateFlag()?this.value.getByte(2).signed():this.value.getByte(2).unsigned()},t.prototype.binaryOpcode=function(){return this.value.getByte(1).toBinaryString()},t.prototype.binaryOperand=function(){return this.value.getByte(2).toBinaryString()},t.prototype.symbolic=function(){return this.symbolicOpcode+(""!==this.symbolicOperand?" ".concat(this.symbolicOperand):"")},t}();function Ae(t,e){localStorage.setItem(t,e.toString())}function Se(t){return null!==localStorage.getItem(t)}function Ee(t){return"true"===localStorage.getItem(t)}function Te(t){return+localStorage.getItem(t)}function Ne(t){return localStorage.getItem(t)}var Ie,Ce=["en","it"],Oe=Pt(!1),Le=Pt(!!Se("displayAsBinary")&&Ee("displayAsBinary")),De=Pt(!Se("displayLabels")||Ee("displayLabels")),Re=Pt(!Se("displayBussesLabels")||Ee("displayBussesLabels")),Ue=Pt(!!Se("displayStepText")&&Ee("displayStepText")),Be=Pt(!!Se("minimalAnimations")&&Ee("minimalAnimations")),Pe=Pt(Se("animationSpeed")?Te("animationSpeed"):1.6),Me=Pt(Se("language")?(Ie="language",localStorage.getItem(Ie)):function(){var t=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return t=t.split("-")[0],Ce.includes(t)?t:"en"}()),Qe=Pt(!!Se("ttsEnabled")&&Ee("ttsEnabled")),Fe=Pt(Se("ttsSpeed")?Te("ttsSpeed"):1),je=Pt(Se("ttsVoice")?Ne("ttsVoice"):""),Ke=Pt();function We(t){return window.speechSynthesis.getVoices().filter((function(e){return e.lang.startsWith(t)}))}Me.subscribe((function(t){return Ke.set(We(t))})),Ke.subscribe((function(t){var e;Se("ttsVoice")&&(null==t?void 0:t.find((function(t){return t.name===Ne("ttsVoice")})))?je.set(Ne("ttsVoice")):je.set((null===(e=t[0])||void 0===e?void 0:e.name)||"")})),window.addEventListener("load",(function(){Ke.set(We(a(Me))),Le.subscribe((function(t){return Ae("displayAsBinary",t)})),De.subscribe((function(t){return Ae("displayLabels",t)})),Re.subscribe((function(t){return Ae("displayBussesLabels",t)})),Ue.subscribe((function(t){return Ae("displayStepText",t)})),Be.subscribe((function(t){return Ae("minimalAnimations",t)})),Pe.subscribe((function(t){return Ae("animationSpeed",t)})),Me.subscribe((function(t){return Ae("language",t)})),Qe.subscribe((function(t){return Ae("ttsEnabled",t)})),Fe.subscribe((function(t){return Ae("ttsSpeed",t)})),je.subscribe((function(t){return Ae("ttsVoice",t)}))}));const He=Symbol.for("yaml.alias"),qe=Symbol.for("yaml.document"),Ve=Symbol.for("yaml.map"),Ge=Symbol.for("yaml.pair"),Xe=Symbol.for("yaml.scalar"),Je=Symbol.for("yaml.seq"),ze=Symbol.for("yaml.node.type"),Ze=t=>!!t&&"object"==typeof t&&t[ze]===He,Ye=t=>!!t&&"object"==typeof t&&t[ze]===qe,tn=t=>!!t&&"object"==typeof t&&t[ze]===Ve,en=t=>!!t&&"object"==typeof t&&t[ze]===Ge,nn=t=>!!t&&"object"==typeof t&&t[ze]===Xe,sn=t=>!!t&&"object"==typeof t&&t[ze]===Je;function rn(t){if(t&&"object"==typeof t)switch(t[ze]){case Ve:case Je:return!0}return!1}function on(t){if(t&&"object"==typeof t)switch(t[ze]){case He:case Ve:case Xe:case Je:return!0}return!1}class cn{constructor(t){Object.defineProperty(this,ze,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}}const ln=Symbol("break visit"),an=Symbol("skip children"),un=Symbol("remove node");function fn(t,e){const n=function(t){if("object"==typeof t&&(t.Collection||t.Node||t.Value))return Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t);return t}(e);if(Ye(t)){dn(null,t.contents,n,Object.freeze([t]))===un&&(t.contents=null)}else dn(null,t,n,Object.freeze([]))}function dn(t,e,n,s){const r=function(t,e,n,s){return"function"==typeof n?n(t,e,s):tn(e)?n.Map?.(t,e,s):sn(e)?n.Seq?.(t,e,s):en(e)?n.Pair?.(t,e,s):nn(e)?n.Scalar?.(t,e,s):Ze(e)?n.Alias?.(t,e,s):void 0}(t,e,n,s);if(on(r)||en(r))return function(t,e,n){const s=e[e.length-1];if(rn(s))s.items[t]=n;else if(en(s))"key"===t?s.key=n:s.value=n;else{if(!Ye(s)){const t=Ze(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${t} parent`)}s.contents=n}}(t,s,r),dn(t,r,n,s);if("symbol"!=typeof r)if(rn(e)){s=Object.freeze(s.concat(e));for(let t=0;t<e.items.length;++t){const r=dn(t,e.items[t],n,s);if("number"==typeof r)t=r-1;else{if(r===ln)return ln;r===un&&(e.items.splice(t,1),t-=1)}}}else if(en(e)){s=Object.freeze(s.concat(e));const t=dn("key",e.key,n,s);if(t===ln)return ln;t===un&&(e.key=null);const r=dn("value",e.value,n,s);if(r===ln)return ln;r===un&&(e.value=null)}return r}fn.BREAK=ln,fn.SKIP=an,fn.REMOVE=un;const pn={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class hn{constructor(t,e){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},hn.defaultYaml,t),this.tags=Object.assign({},hn.defaultTags,e)}clone(){const t=new hn(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){const t=new hn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:hn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},hn.defaultTags)}return t}add(t,e){this.atNextDocument&&(this.yaml={explicit:hn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},hn.defaultTags),this.atNextDocument=!1);const n=t.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(e(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[t,s]=n;return this.tags[t]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return e(0,"%YAML directive should contain exactly one part"),!1;const[t]=n;if("1.1"===t||"1.2"===t)return this.yaml.version=t,!0;return e(6,`Unsupported YAML version ${t}`,/^\d+\.\d+$/.test(t)),!1}default:return e(0,`Unknown directive ${s}`,!0),!1}}tagName(t,e){if("!"===t)return"!";if("!"!==t[0])return e(`Not a valid tag: ${t}`),null;if("<"===t[1]){const n=t.slice(2,-1);return"!"===n||"!!"===n?(e(`Verbatim tags aren't resolved, so ${t} is invalid.`),null):(">"!==t[t.length-1]&&e("Verbatim tags must end with a >"),n)}const[,n,s]=t.match(/^(.*!)([^!]*)$/);s||e(`The ${t} tag has no suffix`);const r=this.tags[n];return r?r+decodeURIComponent(s):"!"===n?t:(e(`Could not resolve tag: ${t}`),null)}tagString(t){for(const[e,n]of Object.entries(this.tags))if(t.startsWith(n))return e+t.substring(n.length).replace(/[!,[\]{}]/g,(t=>pn[t]));return"!"===t[0]?t:`!<${t}>`}toString(t){const e=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(t&&n.length>0&&on(t.contents)){const e={};fn(t.contents,((t,n)=>{on(n)&&n.tag&&(e[n.tag]=!0)})),s=Object.keys(e)}else s=[];for(const[r,o]of n)"!!"===r&&"tag:yaml.org,2002:"===o||t&&!s.some((t=>t.startsWith(o)))||e.push(`%TAG ${r} ${o}`);return e.join("\n")}}function mn(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const e=JSON.stringify(t);throw new Error(`Anchor must not contain whitespace or control characters: ${e}`)}return!0}function gn(t){const e=new Set;return fn(t,{Value(t,n){n.anchor&&e.add(n.anchor)}}),e}function $n(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}hn.defaultYaml={explicit:!1,version:"1.2"},hn.defaultTags={"!!":"tag:yaml.org,2002:"};class bn extends cn{constructor(t){super(He),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return fn(t,{Node:(t,n)=>{if(n===this)return fn.BREAK;n.anchor===this.source&&(e=n)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:r}=e,o=this.resolve(s);if(!o){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(t)}const i=n.get(o);if(!i||void 0===i.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(r>=0&&(i.count+=1,0===i.aliasCount&&(i.aliasCount=yn(s,o,n)),i.count*i.aliasCount>r)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return i.res}toString(t,e,n){const s=`*${this.source}`;if(t){if(mn(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){const t=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(t)}if(t.implicitKey)return`${s} `}return s}}function yn(t,e,n){if(Ze(e)){const s=e.resolve(t),r=n&&s&&n.get(s);return r?r.count*r.aliasCount:0}if(rn(e)){let s=0;for(const r of e.items){const e=yn(t,r,n);e>s&&(s=e)}return s}if(en(e)){const s=yn(t,e.key,n),r=yn(t,e.value,n);return Math.max(s,r)}return 1}function wn(t,e,n){if(Array.isArray(t))return t.map(((t,e)=>wn(t,String(e),n)));if(t&&"function"==typeof t.toJSON){if(!n||!(t=>(nn(t)||rn(t))&&!!t.anchor)(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=t=>{s.res=t,delete n.onCreate};const r=t.toJSON(e,n);return n.onCreate&&n.onCreate(r),r}return"bigint"!=typeof t||n?.keep?t:Number(t)}const vn=t=>!t||"function"!=typeof t&&"object"!=typeof t;class xn extends cn{constructor(t){super(Xe),this.value=t}toJSON(t,e){return e?.keep?this.value:wn(this.value,t,e)}toString(){return String(this.value)}}xn.BLOCK_FOLDED="BLOCK_FOLDED",xn.BLOCK_LITERAL="BLOCK_LITERAL",xn.PLAIN="PLAIN",xn.QUOTE_DOUBLE="QUOTE_DOUBLE",xn.QUOTE_SINGLE="QUOTE_SINGLE";function _n(t,e,n){if(Ye(t)&&(t=t.contents),on(t))return t;if(en(t)){const e=n.schema[Ve].createNode?.(n.schema,null,n);return e.items.push(t),e}(t instanceof String||t instanceof Number||t instanceof Boolean||"function"==typeof BigInt&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:r,onTagObj:o,schema:i,sourceObjects:c}=n;let l;if(s&&t&&"object"==typeof t){if(l=c.get(t),l)return l.anchor||(l.anchor=r(t)),new bn(l.anchor);l={anchor:null,node:null},c.set(t,l)}e?.startsWith("!!")&&(e="tag:yaml.org,2002:"+e.slice(2));let a=function(t,e,n){if(e){const t=n.filter((t=>t.tag===e)),s=t.find((t=>!t.format))??t[0];if(!s)throw new Error(`Tag ${e} not found`);return s}return n.find((e=>e.identify?.(t)&&!e.format))}(t,e,i.tags);if(!a){if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t||"object"!=typeof t){const e=new xn(t);return l&&(l.node=e),e}a=t instanceof Map?i[Ve]:Symbol.iterator in Object(t)?i[Je]:i[Ve]}o&&(o(a),delete n.onTagObj);const u=a?.createNode?a.createNode(n.schema,t,n):new xn(t);return e&&(u.tag=e),l&&(l.node=u),u}function kn(t,e,n){let s=n;for(let t=e.length-1;t>=0;--t){const n=e[t];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const t=[];t[n]=s,s=t}else s=new Map([[n,s]])}return _n(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const An=t=>null==t||"object"==typeof t&&!!t[Symbol.iterator]().next().done;class Sn extends cn{constructor(t,e){super(t),Object.defineProperty(this,"schema",{value:e,configurable:!0,enumerable:!1,writable:!0})}clone(t){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(e.schema=t),e.items=e.items.map((e=>on(e)||en(e)?e.clone(t):e)),this.range&&(e.range=this.range.slice()),e}addIn(t,e){if(An(t))this.add(e);else{const[n,...s]=t,r=this.get(n,!0);if(rn(r))r.addIn(s,e);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,kn(this.schema,s,e))}}}deleteIn(t){const[e,...n]=t;if(0===n.length)return this.delete(e);const s=this.get(e,!0);if(rn(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${e}. Remaining path: ${n}`)}getIn(t,e){const[n,...s]=t,r=this.get(n,!0);return 0===s.length?!e&&nn(r)?r.value:r:rn(r)?r.getIn(s,e):void 0}hasAllNullValues(t){return this.items.every((e=>{if(!en(e))return!1;const n=e.value;return null==n||t&&nn(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(t){const[e,...n]=t;if(0===n.length)return this.has(e);const s=this.get(e,!0);return!!rn(s)&&s.hasIn(n)}setIn(t,e){const[n,...s]=t;if(0===s.length)this.set(n,e);else{const t=this.get(n,!0);if(rn(t))t.setIn(s,e);else{if(void 0!==t||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,kn(this.schema,s,e))}}}}Sn.maxFlowStringSingleLineLength=60;const En=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function Tn(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Nn=(t,e,n)=>t.endsWith("\n")?Tn(n,e):n.includes("\n")?"\n"+Tn(n,e):(t.endsWith(" ")?"":" ")+n,In="flow",Cn="block",On="quoted";function Ln(t,e,n="flow",{indentAtStart:s,lineWidth:r=80,minContentWidth:o=20,onFold:i,onOverflow:c}={}){if(!r||r<0)return t;const l=Math.max(1+o,1+r-e.length);if(t.length<=l)return t;const a=[],u={};let f,d,p=r-e.length;"number"==typeof s&&(s>r-Math.max(2,o)?a.push(0):p=r-s);let h,m=!1,g=-1,$=-1,b=-1;for(n===Cn&&(g=Dn(t,g),-1!==g&&(p=g+l));h=t[g+=1];){if(n===On&&"\\"===h){switch($=g,t[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if("\n"===h)n===Cn&&(g=Dn(t,g)),p=g+l,f=void 0;else{if(" "===h&&d&&" "!==d&&"\n"!==d&&"\t"!==d){const e=t[g+1];e&&" "!==e&&"\n"!==e&&"\t"!==e&&(f=g)}if(g>=p)if(f)a.push(f),p=f+l,f=void 0;else if(n===On){for(;" "===d||"\t"===d;)d=h,h=t[g+=1],m=!0;const e=g>b+1?g-2:$-1;if(u[e])return t;a.push(e),u[e]=!0,p=e+l,f=void 0}else m=!0}d=h}if(m&&c&&c(),0===a.length)return t;i&&i();let y=t.slice(0,a[0]);for(let s=0;s<a.length;++s){const r=a[s],o=a[s+1]||t.length;0===r?y=`\n${e}${t.slice(0,o)}`:(n===On&&u[r]&&(y+=`${t[r]}\\`),y+=`\n${e}${t.slice(r+1,o)}`)}return y}function Dn(t,e){let n=t[e+1];for(;" "===n||"\t"===n;){do{n=t[e+=1]}while(n&&"\n"!==n);n=t[e+1]}return e}const Rn=t=>({indentAtStart:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Un=t=>/^(%|---|\.\.\.)/m.test(t);function Bn(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,r=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(Un(t)?"  ":"");let i="",c=0;for(let t=0,e=n[t];e;e=n[++t])if(" "===e&&"\\"===n[t+1]&&"n"===n[t+2]&&(i+=n.slice(c,t)+"\\ ",t+=1,c=t,e="\\"),"\\"===e)switch(n[t+1]){case"u":{i+=n.slice(c,t);const e=n.substr(t+2,4);switch(e){case"0000":i+="\\0";break;case"0007":i+="\\a";break;case"000b":i+="\\v";break;case"001b":i+="\\e";break;case"0085":i+="\\N";break;case"00a0":i+="\\_";break;case"2028":i+="\\L";break;case"2029":i+="\\P";break;default:"00"===e.substr(0,2)?i+="\\x"+e.substr(2):i+=n.substr(t,6)}t+=5,c=t+1}break;case"n":if(s||'"'===n[t+2]||n.length<r)t+=1;else{for(i+=n.slice(c,t)+"\n\n";"\\"===n[t+2]&&"n"===n[t+3]&&'"'!==n[t+4];)i+="\n",t+=2;i+=o," "===n[t+2]&&(i+="\\"),t+=1,c=t+1}break;default:t+=1}return i=c?i+n.slice(c):n,s?i:Ln(i,o,On,Rn(e))}function Pn(t,e){if(!1===e.options.singleQuote||e.implicitKey&&t.includes("\n")||/[ \t]\n|\n[ \t]/.test(t))return Bn(t,e);const n=e.indent||(Un(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return e.implicitKey?s:Ln(s,n,In,Rn(e))}function Mn(t,e){const{singleQuote:n}=e.options;let s;if(!1===n)s=Bn;else{const e=t.includes('"'),r=t.includes("'");s=e&&!r?Pn:r&&!e?Bn:n?Pn:Bn}return s(t,e)}function Qn({comment:t,type:e,value:n},s,r,o){const{blockQuote:i,commentString:c,lineWidth:l}=s.options;if(!i||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Mn(n,s);const a=s.indent||(s.forceBlockIndent||Un(n)?"  ":""),u="literal"===i||"folded"!==i&&e!==xn.BLOCK_FOLDED&&(e===xn.BLOCK_LITERAL||!function(t,e,n){if(!e||e<0)return!1;const s=e-n,r=t.length;if(r<=s)return!1;for(let e=0,n=0;e<r;++e)if("\n"===t[e]){if(e-n>s)return!0;if(n=e+1,r-n<=s)return!1}return!0}(n,l,a.length));if(!n)return u?"|\n":">\n";let f,d;for(d=n.length;d>0;--d){const t=n[d-1];if("\n"!==t&&"\t"!==t&&" "!==t)break}let p=n.substring(d);const h=p.indexOf("\n");-1===h?f="-":n===p||h!==p.length-1?(f="+",o&&o()):f="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${a}`));let m,g=!1,$=-1;for(m=0;m<n.length;++m){const t=n[m];if(" "===t)g=!0;else{if("\n"!==t)break;$=m}}let b=n.substring(0,$<m?$+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${a}`));let y=(u?"|":">")+(g?a?"2":"1":"")+f;if(t&&(y+=" "+c(t.replace(/ ?[\r\n]+/g," ")),r&&r()),u)return`${y}\n${a}${b}${n=n.replace(/\n+/g,`$&${a}`)}${p}`;return`${y}\n${a}${Ln(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`)}${p}`,a,Cn,Rn(s))}`}function Fn(t,e,n,s){const{implicitKey:r,inFlow:o}=e,i="string"==typeof t.value?t:Object.assign({},t,{value:String(t.value)});let{type:c}=t;c!==xn.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(i.value)&&(c=xn.QUOTE_DOUBLE);const l=t=>{switch(t){case xn.BLOCK_FOLDED:case xn.BLOCK_LITERAL:return r||o?Mn(i.value,e):Qn(i,e,n,s);case xn.QUOTE_DOUBLE:return Bn(i.value,e);case xn.QUOTE_SINGLE:return Pn(i.value,e);case xn.PLAIN:return function(t,e,n,s){const{type:r,value:o}=t,{actualString:i,implicitKey:c,indent:l,inFlow:a}=e;if(c&&/[\n[\]{},]/.test(o)||a&&/[[\]{},]/.test(o))return Mn(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return c||a||!o.includes("\n")?Mn(o,e):Qn(t,e,n,s);if(!c&&!a&&r!==xn.PLAIN&&o.includes("\n"))return Qn(t,e,n,s);if(""===l&&Un(o))return e.forceBlockIndent=!0,Qn(t,e,n,s);const u=o.replace(/\n+/g,`$&\n${l}`);if(i){const t=t=>t.default&&"tag:yaml.org,2002:str"!==t.tag&&t.test?.test(u),{compat:n,tags:s}=e.doc.schema;if(s.some(t)||n?.some(t))return Mn(o,e)}return c?u:Ln(u,l,In,Rn(e))}(i,e,n,s);default:return null}};let a=l(c);if(null===a){const{defaultKeyType:t,defaultStringType:n}=e.options,s=r&&t||n;if(a=l(s),null===a)throw new Error(`Unsupported default string type ${s}`)}return a}function jn(t,e){const n=Object.assign({blockQuote:!0,commentString:En,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Kn(t,e,n,s){if(en(t))return t.toString(e,n,s);if(Ze(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let r;const o=on(t)?t:e.doc.createNode(t,{onTagObj:t=>r=t});r||(r=function(t,e){if(e.tag){const n=t.filter((t=>t.tag===e.tag));if(n.length>0)return n.find((t=>t.format===e.format))??n[0]}let n,s;if(nn(e)){s=e.value;const r=t.filter((t=>t.identify?.(s)));n=r.find((t=>t.format===e.format))??r.find((t=>!t.format))}else s=e,n=t.find((t=>t.nodeClass&&s instanceof t.nodeClass));if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??typeof s} value`);return n}(e.doc.schema.tags,o));const i=function(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const r=[],o=(nn(t)||rn(t))&&t.anchor;o&&mn(o)&&(n.add(o),r.push(`&${o}`));const i=t.tag?t.tag:e.default?null:e.tag;return i&&r.push(s.directives.tagString(i)),r.join(" ")}(o,r,e);i.length>0&&(e.indentAtStart=(e.indentAtStart??0)+i.length+1);const c="function"==typeof r.stringify?r.stringify(o,e,n,s):nn(o)?Fn(o,e,n,s):o.toString(e,n,s);return i?nn(o)||"{"===c[0]||"["===c[0]?`${i} ${c}`:`${i}\n${e.indent}${c}`:c}function Wn(t,e){"debug"!==t&&"warn"!==t||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(e):console.warn(e))}function Hn(t,e,{key:n,value:s}){if(t?.doc.schema.merge&&qn(n))if(s=Ze(s)?s.resolve(t.doc):s,sn(s))for(const n of s.items)Vn(t,e,n);else if(Array.isArray(s))for(const n of s)Vn(t,e,n);else Vn(t,e,s);else{const r=wn(n,"",t);if(e instanceof Map)e.set(r,wn(s,r,t));else if(e instanceof Set)e.add(r);else{const o=function(t,e,n){if(null===e)return"";if("object"!=typeof e)return String(e);if(on(t)&&n&&n.doc){const e=jn(n.doc,{});e.anchors=new Set;for(const t of n.anchors.keys())e.anchors.add(t.anchor);e.inFlow=!0,e.inStringifyKey=!0;const s=t.toString(e);if(!n.mapKeyWarned){let t=JSON.stringify(s);t.length>40&&(t=t.substring(0,36)+'..."'),Wn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${t}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(e)}(n,r,t),i=wn(s,o,t);o in e?Object.defineProperty(e,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):e[o]=i}}return e}const qn=t=>"<<"===t||nn(t)&&"<<"===t.value&&(!t.type||t.type===xn.PLAIN);function Vn(t,e,n){const s=t&&Ze(n)?n.resolve(t.doc):n;if(!tn(s))throw new Error("Merge sources must be maps or map aliases");const r=s.toJSON(null,t,Map);for(const[t,n]of r)e instanceof Map?e.has(t)||e.set(t,n):e instanceof Set?e.add(t):Object.prototype.hasOwnProperty.call(e,t)||Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0});return e}function Gn(t,e,n){const s=_n(t,void 0,n),r=_n(e,void 0,n);return new Xn(s,r)}class Xn{constructor(t,e=null){Object.defineProperty(this,ze,{value:Ge}),this.key=t,this.value=e}clone(t){let{key:e,value:n}=this;return on(e)&&(e=e.clone(t)),on(n)&&(n=n.clone(t)),new Xn(e,n)}toJSON(t,e){return Hn(e,e?.mapAsMap?new Map:{},this)}toString(t,e,n){return t?.doc?function({key:t,value:e},n,s,r){const{allNullValues:o,doc:i,indent:c,indentStep:l,options:{commentString:a,indentSeq:u,simpleKeys:f}}=n;let d=on(t)&&t.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(rn(t))throw new Error("With simple keys, collection cannot be used as a key value")}let p=!f&&(!t||d&&null==e&&!n.inFlow||rn(t)||(nn(t)?t.type===xn.BLOCK_FOLDED||t.type===xn.BLOCK_LITERAL:"object"==typeof t));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(f||!o),indent:c+l});let h=!1,m=!1,g=Kn(t,n,(()=>h=!0),(()=>m=!0));if(!p&&!n.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(o||null==e)return h&&s&&s(),""===g?"?":p?`? ${g}`:g}else if(o&&!f||null==e&&p)return g=`? ${g}`,d&&!h?g+=Nn(g,n.indent,a(d)):m&&r&&r(),g;h&&(d=null),p?(d&&(g+=Nn(g,n.indent,a(d))),g=`? ${g}\n${c}:`):(g=`${g}:`,d&&(g+=Nn(g,n.indent,a(d))));let $="",b=null;on(e)?(e.spaceBefore&&($="\n"),e.commentBefore&&($+=`\n${Tn(a(e.commentBefore),n.indent)}`),b=e.comment):e&&"object"==typeof e&&(e=i.createNode(e));n.implicitKey=!1,p||d||!nn(e)||(n.indentAtStart=g.length+1),m=!1,u||!(l.length>=2)||n.inFlow||p||!sn(e)||e.flow||e.tag||e.anchor||(n.indent=n.indent.substr(2));let y=!1;const w=Kn(e,n,(()=>y=!0),(()=>m=!0));let v=" ";$||d?v=""!==w||n.inFlow?`${$}\n${n.indent}`:"\n"===$?"\n\n":$:!p&&rn(e)?("["===w[0]||"{"===w[0])&&!w.includes("\n")||(v=`\n${n.indent}`):""!==w&&"\n"!==w[0]||(v="");return g+=v+w,n.inFlow?y&&s&&s():b&&!y?g+=Nn(g,n.indent,a(b)):m&&r&&r(),g}(this,t,e,n):JSON.stringify(this)}}function Jn(t,e,n){return(e.inFlow??t.flow?Zn:zn)(t,e,n)}function zn({comment:t,items:e},n,{blockItemPrefix:s,flowChars:r,itemIndent:o,onChompKeep:i,onComment:c}){const{indent:l,options:{commentString:a}}=n,u=Object.assign({},n,{indent:o,type:null});let f=!1;const d=[];for(let t=0;t<e.length;++t){const r=e[t];let i=null;if(on(r))!f&&r.spaceBefore&&d.push(""),Yn(n,d,r.commentBefore,f),r.comment&&(i=r.comment);else if(en(r)){const t=on(r.key)?r.key:null;t&&(!f&&t.spaceBefore&&d.push(""),Yn(n,d,t.commentBefore,f))}f=!1;let c=Kn(r,u,(()=>i=null),(()=>f=!0));i&&(c+=Nn(c,o,a(i))),f&&i&&(f=!1),d.push(s+c)}let p;if(0===d.length)p=r.start+r.end;else{p=d[0];for(let t=1;t<d.length;++t){const e=d[t];p+=e?`\n${l}${e}`:"\n"}}return t?(p+="\n"+Tn(a(t),l),c&&c()):f&&i&&i(),p}function Zn({comment:t,items:e},n,{flowChars:s,itemIndent:r,onComment:o}){const{indent:i,indentStep:c,options:{commentString:l}}=n;r+=c;const a=Object.assign({},n,{indent:r,inFlow:!0,type:null});let u=!1,f=0;const d=[];for(let t=0;t<e.length;++t){const s=e[t];let o=null;if(on(s))s.spaceBefore&&d.push(""),Yn(n,d,s.commentBefore,!1),s.comment&&(o=s.comment);else if(en(s)){const t=on(s.key)?s.key:null;t&&(t.spaceBefore&&d.push(""),Yn(n,d,t.commentBefore,!1),t.comment&&(u=!0));const e=on(s.value)?s.value:null;e?(e.comment&&(o=e.comment),e.commentBefore&&(u=!0)):null==s.value&&t&&t.comment&&(o=t.comment)}o&&(u=!0);let i=Kn(s,a,(()=>o=null));t<e.length-1&&(i+=","),o&&(i+=Nn(i,r,l(o))),!u&&(d.length>f||i.includes("\n"))&&(u=!0),d.push(i),f=d.length}let p;const{start:h,end:m}=s;if(0===d.length)p=h+m;else{if(!u){u=d.reduce(((t,e)=>t+e.length+2),2)>Sn.maxFlowStringSingleLineLength}if(u){p=h;for(const t of d)p+=t?`\n${c}${i}${t}`:"\n";p+=`\n${i}${m}`}else p=`${h} ${d.join(" ")} ${m}`}return t&&(p+=Nn(p,l(t),i),o&&o()),p}function Yn({indent:t,options:{commentString:e}},n,s,r){if(s&&r&&(s=s.replace(/^\n+/,"")),s){const r=Tn(e(s),t);n.push(r.trimStart())}}function ts(t,e){const n=nn(e)?e.value:e;for(const s of t)if(en(s)){if(s.key===e||s.key===n)return s;if(nn(s.key)&&s.key.value===n)return s}}class es extends Sn{constructor(t){super(Ve,t),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(t,e){let n;n=en(t)?t:t&&"object"==typeof t&&"key"in t?new Xn(t.key,t.value):new Xn(t,t?.value);const s=ts(this.items,n.key),r=this.schema?.sortMapEntries;if(s){if(!e)throw new Error(`Key ${n.key} already set`);nn(s.value)&&vn(n.value)?s.value.value=n.value:s.value=n.value}else if(r){const t=this.items.findIndex((t=>r(n,t)<0));-1===t?this.items.push(n):this.items.splice(t,0,n)}else this.items.push(n)}delete(t){const e=ts(this.items,t);if(!e)return!1;return this.items.splice(this.items.indexOf(e),1).length>0}get(t,e){const n=ts(this.items,t)?.value;return(!e&&nn(n)?n.value:n)??void 0}has(t){return!!ts(this.items,t)}set(t,e){this.add(new Xn(t,e),!0)}toJSON(t,e,n){const s=n?new n:e?.mapAsMap?new Map:{};e?.onCreate&&e.onCreate(s);for(const t of this.items)Hn(e,s,t);return s}toString(t,e,n){if(!t)return JSON.stringify(this);for(const t of this.items)if(!en(t))throw new Error(`Map items must all be pairs; found ${JSON.stringify(t)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),Jn(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:e})}}const ns={collection:"map",createNode:function(t,e,n){const{keepUndefined:s,replacer:r}=n,o=new es(t),i=(t,i)=>{if("function"==typeof r)i=r.call(e,t,i);else if(Array.isArray(r)&&!r.includes(t))return;(void 0!==i||s)&&o.items.push(Gn(t,i,n))};if(e instanceof Map)for(const[t,n]of e)i(t,n);else if(e&&"object"==typeof e)for(const t of Object.keys(e))i(t,e[t]);return"function"==typeof t.sortMapEntries&&o.items.sort(t.sortMapEntries),o},default:!0,nodeClass:es,tag:"tag:yaml.org,2002:map",resolve:(t,e)=>(tn(t)||e("Expected a mapping for this tag"),t)};class ss extends Sn{constructor(t){super(Je,t),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(t){this.items.push(t)}delete(t){const e=rs(t);if("number"!=typeof e)return!1;return this.items.splice(e,1).length>0}get(t,e){const n=rs(t);if("number"!=typeof n)return;const s=this.items[n];return!e&&nn(s)?s.value:s}has(t){const e=rs(t);return"number"==typeof e&&e<this.items.length}set(t,e){const n=rs(t);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${t}.`);const s=this.items[n];nn(s)&&vn(e)?s.value=e:this.items[n]=e}toJSON(t,e){const n=[];e?.onCreate&&e.onCreate(n);let s=0;for(const t of this.items)n.push(wn(t,String(s++),e));return n}toString(t,e,n){return t?Jn(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:e}):JSON.stringify(this)}}function rs(t){let e=nn(t)?t.value:t;return e&&"string"==typeof e&&(e=Number(e)),"number"==typeof e&&Number.isInteger(e)&&e>=0?e:null}const os={collection:"seq",createNode:function(t,e,n){const{replacer:s}=n,r=new ss(t);if(e&&Symbol.iterator in Object(e)){let t=0;for(let o of e){if("function"==typeof s){const n=e instanceof Set?o:String(t++);o=s.call(e,n,o)}r.items.push(_n(o,void 0,n))}}return r},default:!0,nodeClass:ss,tag:"tag:yaml.org,2002:seq",resolve:(t,e)=>(sn(t)||e("Expected a sequence for this tag"),t)},is={identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:(t,e,n,s)=>Fn(t,e=Object.assign({actualString:!0},e),n,s)},cs={identify:t=>null==t,createNode:()=>new xn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new xn(null),stringify:({source:t},e)=>"string"==typeof t&&cs.test.test(t)?t:e.options.nullStr},ls={identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new xn("t"===t[0]||"T"===t[0]),stringify({source:t,value:e},n){if(t&&ls.test.test(t)){if(e===("t"===t[0]||"T"===t[0]))return t}return e?n.options.trueStr:n.options.falseStr}};function as({format:t,minFractionDigits:e,tag:n,value:s}){if("bigint"==typeof s)return String(s);const r="number"==typeof s?s:Number(s);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let o=JSON.stringify(s);if(!t&&e&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){let t=o.indexOf(".");t<0&&(t=o.length,o+=".");let n=e-(o.length-t-1);for(;n-- >0;)o+="0"}return o}const us={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:as},fs={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():as(t)}},ds={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new xn(parseFloat(t)),n=t.indexOf(".");return-1!==n&&"0"===t[t.length-1]&&(e.minFractionDigits=t.length-n-1),e},stringify:as},ps=t=>"bigint"==typeof t||Number.isInteger(t),hs=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function ms(t,e,n){const{value:s}=t;return ps(s)&&s>=0?n+s.toString(e):as(t)}const gs={identify:t=>ps(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>hs(t,2,8,n),stringify:t=>ms(t,8,"0o")},$s={identify:ps,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>hs(t,0,10,n),stringify:as},bs={identify:t=>ps(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>hs(t,2,16,n),stringify:t=>ms(t,16,"0x")},ys=[ns,os,is,cs,ls,gs,$s,bs,us,fs,ds];function ws(t){return"bigint"==typeof t||Number.isInteger(t)}const vs=({value:t})=>JSON.stringify(t),xs=[{identify:t=>"string"==typeof t,default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:vs},{identify:t=>null==t,createNode:()=>new xn(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:vs},{identify:t=>"boolean"==typeof t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>"true"===t,stringify:vs},{identify:ws,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>ws(t)?t.toString():JSON.stringify(t)},{identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:vs}],_s={default:!0,tag:"",test:/^/,resolve:(t,e)=>(e(`Unresolved plain scalar ${JSON.stringify(t)}`),t)},ks=[ns,os].concat(xs,_s),As={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if("function"==typeof Buffer)return Buffer.from(t,"base64");if("function"==typeof atob){const e=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(e.length);for(let t=0;t<e.length;++t)n[t]=e.charCodeAt(t);return n}return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,r,o){const i=n;let c;if("function"==typeof Buffer)c=i instanceof Buffer?i.toString("base64"):Buffer.from(i.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let t="";for(let e=0;e<i.length;++e)t+=String.fromCharCode(i[e]);c=btoa(t)}}if(e||(e=xn.BLOCK_LITERAL),e!==xn.QUOTE_DOUBLE){const t=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),n=Math.ceil(c.length/t),r=new Array(n);for(let e=0,s=0;e<n;++e,s+=t)r[e]=c.substr(s,t);c=r.join(e===xn.BLOCK_LITERAL?"\n":" ")}return Fn({comment:t,type:e,value:c},s,r,o)}};function Ss(t,e){if(sn(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!en(s)){if(tn(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const t=s.items[0]||new Xn(new xn(null));if(s.commentBefore&&(t.key.commentBefore=t.key.commentBefore?`${s.commentBefore}\n${t.key.commentBefore}`:s.commentBefore),s.comment){const e=t.value??t.key;e.comment=e.comment?`${s.comment}\n${e.comment}`:s.comment}s=t}t.items[n]=en(s)?s:new Xn(s)}}else e("Expected a sequence for this tag");return t}function Es(t,e,n){const{replacer:s}=n,r=new ss(t);r.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let t of e){let i,c;if("function"==typeof s&&(t=s.call(e,String(o++),t)),Array.isArray(t)){if(2!==t.length)throw new TypeError(`Expected [key, value] tuple: ${t}`);i=t[0],c=t[1]}else if(t&&t instanceof Object){const e=Object.keys(t);if(1!==e.length)throw new TypeError(`Expected { key: value } tuple: ${t}`);i=e[0],c=t[i]}else i=t;r.items.push(Gn(i,c,n))}return r}const Ts={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ss,createNode:Es};class Ns extends ss{constructor(){super(),this.add=es.prototype.add.bind(this),this.delete=es.prototype.delete.bind(this),this.get=es.prototype.get.bind(this),this.has=es.prototype.has.bind(this),this.set=es.prototype.set.bind(this),this.tag=Ns.tag}toJSON(t,e){if(!e)return super.toJSON(t);const n=new Map;e?.onCreate&&e.onCreate(n);for(const t of this.items){let s,r;if(en(t)?(s=wn(t.key,"",e),r=wn(t.value,s,e)):s=wn(t,"",e),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,r)}return n}}Ns.tag="tag:yaml.org,2002:omap";const Is={collection:"seq",identify:t=>t instanceof Map,nodeClass:Ns,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=Ss(t,e),s=[];for(const{key:t}of n.items)nn(t)&&(s.includes(t.value)?e(`Ordered maps must not include duplicate keys: ${t.value}`):s.push(t.value));return Object.assign(new Ns,n)},createNode(t,e,n){const s=Es(t,e,n),r=new Ns;return r.items=s.items,r}};function Cs({value:t,source:e},n){return e&&(t?Os:Ls).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Os={identify:t=>!0===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new xn(!0),stringify:Cs},Ls={identify:t=>!1===t,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new xn(!1),stringify:Cs},Ds={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>"nan"===t.slice(-3).toLowerCase()?NaN:"-"===t[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:as},Rs={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():as(t)}},Us={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new xn(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(-1!==n){const s=t.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(e.minFractionDigits=s.length)}return e},stringify:as},Bs=t=>"bigint"==typeof t||Number.isInteger(t);function Ps(t,e,n,{intAsBigInt:s}){const r=t[0];if("-"!==r&&"+"!==r||(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`}const e=BigInt(t);return"-"===r?BigInt(-1)*e:e}const o=parseInt(t,n);return"-"===r?-1*o:o}function Ms(t,e,n){const{value:s}=t;if(Bs(s)){const t=s.toString(e);return s<0?"-"+n+t.substr(1):n+t}return as(t)}const Qs={identify:Bs,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>Ps(t,2,2,n),stringify:t=>Ms(t,2,"0b")},Fs={identify:Bs,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>Ps(t,1,8,n),stringify:t=>Ms(t,8,"0")},js={identify:Bs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>Ps(t,0,10,n),stringify:as},Ks={identify:Bs,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>Ps(t,2,16,n),stringify:t=>Ms(t,16,"0x")};class Ws extends es{constructor(t){super(t),this.tag=Ws.tag}add(t){let e;e=en(t)?t:"object"==typeof t&&"key"in t&&"value"in t&&null===t.value?new Xn(t.key,null):new Xn(t,null);ts(this.items,e.key)||this.items.push(e)}get(t,e){const n=ts(this.items,t);return!e&&en(n)?nn(n.key)?n.key.value:n.key:n}set(t,e){if("boolean"!=typeof e)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof e);const n=ts(this.items,t);n&&!e?this.items.splice(this.items.indexOf(n),1):!n&&e&&this.items.push(new Xn(t))}toJSON(t,e){return super.toJSON(t,e,Set)}toString(t,e,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),e,n);throw new Error("Set items must all have null values")}}Ws.tag="tag:yaml.org,2002:set";const Hs={collection:"map",identify:t=>t instanceof Set,nodeClass:Ws,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(tn(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ws,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,n){const{replacer:s}=n,r=new Ws(t);if(e&&Symbol.iterator in Object(e))for(let t of e)"function"==typeof s&&(t=s.call(e,t,t)),r.items.push(Gn(t,null,n));return r}};function qs(t,e){const n=t[0],s="-"===n||"+"===n?t.substring(1):t,r=t=>e?BigInt(t):Number(t),o=s.replace(/_/g,"").split(":").reduce(((t,e)=>t*r(60)+r(e)),r(0));return"-"===n?r(-1)*o:o}function Vs(t){let{value:e}=t,n=t=>t;if("bigint"==typeof e)n=t=>BigInt(t);else if(isNaN(e)||!isFinite(e))return as(t);let s="";e<0&&(s="-",e*=n(-1));const r=n(60),o=[e%r];return e<60?o.unshift(0):(e=(e-o[0])/r,o.unshift(e%r),e>=60&&(e=(e-o[0])/r,o.unshift(e))),s+o.map((t=>t<10?"0"+String(t):String(t))).join(":").replace(/000000\d*$/,"")}const Gs={identify:t=>"bigint"==typeof t||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>qs(t,n),stringify:Vs},Xs={identify:t=>"number"==typeof t,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>qs(t,!1),stringify:Vs},Js={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Js.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,r,o,i,c]=e.map(Number),l=e[7]?Number((e[7]+"00").substr(1,3)):0;let a=Date.UTC(n,s-1,r,o||0,i||0,c||0,l);const u=e[8];if(u&&"Z"!==u){let t=qs(u,!1);Math.abs(t)<30&&(t*=60),a-=6e4*t}return new Date(a)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},zs=[ns,os,is,cs,Os,Ls,Qs,Fs,js,Ks,Ds,Rs,Us,As,Is,Ts,Hs,Gs,Xs,Js],Zs=new Map([["core",ys],["failsafe",[ns,os,is]],["json",ks],["yaml11",zs],["yaml-1.1",zs]]),Ys={binary:As,bool:ls,float:ds,floatExp:fs,floatNaN:us,floatTime:Xs,int:$s,intHex:bs,intOct:gs,intTime:Gs,map:ns,null:cs,omap:Is,pairs:Ts,seq:os,set:Hs,timestamp:Js},tr={"tag:yaml.org,2002:binary":As,"tag:yaml.org,2002:omap":Is,"tag:yaml.org,2002:pairs":Ts,"tag:yaml.org,2002:set":Hs,"tag:yaml.org,2002:timestamp":Js};function er(t,e){let n=Zs.get(e);if(!n){if(!Array.isArray(t)){const t=Array.from(Zs.keys()).filter((t=>"yaml11"!==t)).map((t=>JSON.stringify(t))).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${t} or define customTags array`)}n=[]}if(Array.isArray(t))for(const e of t)n=n.concat(e);else"function"==typeof t&&(n=t(n.slice()));return n.map((t=>{if("string"!=typeof t)return t;const e=Ys[t];if(e)return e;const n=Object.keys(Ys).map((t=>JSON.stringify(t))).join(", ");throw new Error(`Unknown custom tag "${t}"; use one of ${n}`)}))}const nr=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class sr{constructor({compat:t,customTags:e,merge:n,resolveKnownTags:s,schema:r,sortMapEntries:o,toStringDefaults:i}){this.compat=Array.isArray(t)?er(t,"compat"):t?er(null,t):null,this.merge=!!n,this.name="string"==typeof r&&r||"core",this.knownTags=s?tr:{},this.tags=er(e,this.name),this.toStringOptions=i??null,Object.defineProperty(this,Ve,{value:ns}),Object.defineProperty(this,Xe,{value:is}),Object.defineProperty(this,Je,{value:os}),this.sortMapEntries="function"==typeof o?o:!0===o?nr:null}clone(){const t=Object.create(sr.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}function rr(t,e,n,s){if(s&&"object"==typeof s)if(Array.isArray(s))for(let e=0,n=s.length;e<n;++e){const n=s[e],r=rr(t,s,String(e),n);void 0===r?delete s[e]:r!==n&&(s[e]=r)}else if(s instanceof Map)for(const e of Array.from(s.keys())){const n=s.get(e),r=rr(t,s,e,n);void 0===r?s.delete(e):r!==n&&s.set(e,r)}else if(s instanceof Set)for(const e of Array.from(s)){const n=rr(t,s,e,e);void 0===n?s.delete(e):n!==e&&(s.delete(e),s.add(n))}else for(const[e,n]of Object.entries(s)){const r=rr(t,s,e,n);void 0===r?delete s[e]:r!==n&&(s[e]=r)}return t.call(e,n,s)}class or{constructor(t,e,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ze,{value:qe});let s=null;"function"==typeof e||Array.isArray(e)?s=e:void 0===n&&e&&(n=e,e=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=r;let{version:o}=r;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new hn({version:o}),this.setSchema(o,n),this.contents=void 0===t?null:this.createNode(t,s,n)}clone(){const t=Object.create(or.prototype,{[ze]:{value:qe}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=on(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){ir(this.contents)&&this.contents.add(t)}addIn(t,e){ir(this.contents)&&this.contents.addIn(t,e)}createAlias(t,e){if(!t.anchor){const n=gn(this);t.anchor=!e||n.has(e)?$n(e||"a",n):e}return new bn(t.anchor)}createNode(t,e,n){let s;if("function"==typeof e)t=e.call({"":t},"",t),s=e;else if(Array.isArray(e)){const t=t=>"number"==typeof t||t instanceof String||t instanceof Number,n=e.filter(t).map(String);n.length>0&&(e=e.concat(n)),s=e}else void 0===n&&e&&(n=e,e=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:i,keepUndefined:c,onTagObj:l,tag:a}=n??{},{onAnchor:u,setAnchors:f,sourceObjects:d}=function(t,e){const n=[],s=new Map;let r=null;return{onAnchor:s=>{n.push(s),r||(r=gn(t));const o=$n(e,r);return r.add(o),o},setAnchors:()=>{for(const t of n){const e=s.get(t);if("object"!=typeof e||!e.anchor||!nn(e.node)&&!rn(e.node)){const e=new Error("Failed to resolve repeated object (this should not happen)");throw e.source=t,e}e.node.anchor=e.anchor}},sourceObjects:s}}(this,o||"a"),p=_n(t,a,{aliasDuplicateObjects:r??!0,keepUndefined:c??!1,onAnchor:u,onTagObj:l,replacer:s,schema:this.schema,sourceObjects:d});return i&&rn(p)&&(p.flow=!0),f(),p}createPair(t,e,n={}){const s=this.createNode(t,null,n),r=this.createNode(e,null,n);return new Xn(s,r)}delete(t){return!!ir(this.contents)&&this.contents.delete(t)}deleteIn(t){return An(t)?null!=this.contents&&(this.contents=null,!0):!!ir(this.contents)&&this.contents.deleteIn(t)}get(t,e){return rn(this.contents)?this.contents.get(t,e):void 0}getIn(t,e){return An(t)?!e&&nn(this.contents)?this.contents.value:this.contents:rn(this.contents)?this.contents.getIn(t,e):void 0}has(t){return!!rn(this.contents)&&this.contents.has(t)}hasIn(t){return An(t)?void 0!==this.contents:!!rn(this.contents)&&this.contents.hasIn(t)}set(t,e){null==this.contents?this.contents=kn(this.schema,[t],e):ir(this.contents)&&this.contents.set(t,e)}setIn(t,e){An(t)?this.contents=e:null==this.contents?this.contents=kn(this.schema,Array.from(t),e):ir(this.contents)&&this.contents.setIn(t,e)}setSchema(t,e={}){let n;switch("number"==typeof t&&(t=String(t)),t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new hn({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new hn({version:t}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const e=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${e}`)}}if(e.schema instanceof Object)this.schema=e.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new sr(Object.assign(n,e))}}toJS({json:t,jsonArg:e,mapAsMap:n,maxAliasCount:s,onAnchor:r,reviver:o}={}){const i={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100,stringify:Kn},c=wn(this.contents,e??"",i);if("function"==typeof r)for(const{count:t,res:e}of i.anchors.values())r(e,t);return"function"==typeof o?rr(o,{"":c},"",c):c}toJSON(t,e){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:e})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const e=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${e}`)}return function(t,e){const n=[];let s=!0===e.directives;if(!1!==e.directives&&t.directives){const e=t.directives.toString(t);e?(n.push(e),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const r=jn(t,e),{commentString:o}=r.options;if(t.commentBefore){1!==n.length&&n.unshift("");const e=o(t.commentBefore);n.unshift(Tn(e,""))}let i=!1,c=null;if(t.contents){if(on(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const e=o(t.contents.commentBefore);n.push(Tn(e,""))}r.forceBlockIndent=!!t.comment,c=t.contents.comment}const e=c?void 0:()=>i=!0;let l=Kn(t.contents,r,(()=>c=null),e);c&&(l+=Nn(l,"",o(c))),"|"!==l[0]&&">"!==l[0]||"---"!==n[n.length-1]?n.push(l):n[n.length-1]=`--- ${l}`}else n.push(Kn(t.contents,r));if(t.directives?.docEnd)if(t.comment){const e=o(t.comment);e.includes("\n")?(n.push("..."),n.push(Tn(e,""))):n.push(`... ${e}`)}else n.push("...");else{let e=t.comment;e&&i&&(e=e.replace(/^\n+/,"")),e&&(i&&!c||""===n[n.length-1]||n.push(""),n.push(Tn(o(e),"")))}return n.join("\n")+"\n"}(this,t)}}function ir(t){if(rn(t))return!0;throw new Error("Expected a YAML collection as document contents")}class cr extends Error{constructor(t,e,n,s){super(),this.name=t,this.code=n,this.message=s,this.pos=e}}class lr extends cr{constructor(t,e,n){super("YAMLParseError",t,e,n)}}class ar extends cr{constructor(t,e,n){super("YAMLWarning",t,e,n)}}const ur=(t,e)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((t=>e.linePos(t)));const{line:s,col:r}=n.linePos[0];n.message+=` at line ${s}, column ${r}`;let o=r-1,i=t.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(o>=60&&i.length>80){const t=Math.min(o-39,i.length-79);i=""+i.substring(t),o-=t-1}if(i.length>80&&(i=i.substring(0,79)+""),s>1&&/^ *$/.test(i.substring(0,o))){let n=t.substring(e.lineStarts[s-2],e.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\n"),i=n+i}if(/[^ ]/.test(i)){let t=1;const e=n.linePos[1];e&&e.line===s&&e.col>r&&(t=Math.min(e.col-r,80-o));const c=" ".repeat(o)+"^".repeat(t);n.message+=`:\n\n${i}\n${c}\n`}};function fr(t,{flow:e,indicator:n,next:s,offset:r,onError:o,startOnNewline:i}){let c=!1,l=i,a=i,u="",f="",d=!1,p=!1,h=!1,m=null,g=null,$=null,b=null,y=null;for(const s of t)switch(h&&("space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&o(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),s.type){case"space":!e&&l&&"doc-start"!==n&&"\t"===s.source[0]&&o(s,"TAB_AS_INDENT","Tabs are not allowed as indentation"),a=!0;break;case"comment":{a||o(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=s.source.substring(1)||" ";u?u+=f+t:u=t,f="",l=!1;break}case"newline":l?u?u+=s.source:c=!0:f+=s.source,l=!0,d=!0,(m||g)&&(p=!0),a=!0;break;case"anchor":m&&o(s,"MULTIPLE_ANCHORS","A node can have at most one anchor"),s.source.endsWith(":")&&o(s.offset+s.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=s,null===y&&(y=s.offset),l=!1,a=!1,h=!0;break;case"tag":g&&o(s,"MULTIPLE_TAGS","A node can have at most one tag"),g=s,null===y&&(y=s.offset),l=!1,a=!1,h=!0;break;case n:(m||g)&&o(s,"BAD_PROP_ORDER",`Anchors and tags must be after the ${s.source} indicator`),b&&o(s,"UNEXPECTED_TOKEN",`Unexpected ${s.source} in ${e??"collection"}`),b=s,l=!1,a=!1;break;case"comma":if(e){$&&o(s,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),$=s,l=!1,a=!1;break}default:o(s,"UNEXPECTED_TOKEN",`Unexpected ${s.type} token`),l=!1,a=!1}const w=t[t.length-1],v=w?w.offset+w.source.length:r;return h&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&o(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:$,found:b,spaceBefore:c,comment:u,hasNewline:d,hasNewlineAfterProp:p,anchor:m,tag:g,end:v,start:y??v}}function dr(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes("\n"))return!0;if(t.end)for(const e of t.end)if("newline"===e.type)return!0;return!1;case"flow-collection":for(const e of t.items){for(const t of e.start)if("newline"===t.type)return!0;if(e.sep)for(const t of e.sep)if("newline"===t.type)return!0;if(dr(e.key)||dr(e.value))return!0}return!1;default:return!0}}function pr(t,e,n){if("flow-collection"===e?.type){const s=e.end[0];if(s.indent===t&&("]"===s.source||"}"===s.source)&&dr(e)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function hr(t,e,n){const{uniqueKeys:s}=t.options;if(!1===s)return!1;const r="function"==typeof s?s:(e,n)=>e===n||nn(e)&&nn(n)&&e.value===n.value&&!("<<"===e.value&&t.schema.merge);return e.some((t=>r(t.key,n)))}const mr="All mapping items must start at the same column";function gr(t,e,n,s){let r="";if(t){let o=!1,i="";for(const c of t){const{source:t,type:l}=c;switch(l){case"space":o=!0;break;case"comment":{n&&!o&&s(c,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=t.substring(1)||" ";r?r+=i+e:r=e,i="";break}case"newline":r&&(i+=t),o=!0;break;default:s(c,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=t.length}}return{comment:r,offset:e}}const $r="Block collections are not allowed within flow collections",br=t=>t&&("block-map"===t.type||"block-seq"===t.type);function yr(t,e,n,s,r){let o;switch(n.type){case"block-map":o=function({composeNode:t,composeEmptyNode:e},n,s,r){const o=new es(n.schema);n.atRoot&&(n.atRoot=!1);let i=s.offset;for(const c of s.items){const{start:l,key:a,sep:u,value:f}=c,d=fr(l,{indicator:"explicit-key-ind",next:a??u?.[0],offset:i,onError:r,startOnNewline:!0}),p=!d.found;if(p){if(a&&("block-seq"===a.type?r(i,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in a&&a.indent!==s.indent&&r(i,"BAD_INDENT",mr)),!d.anchor&&!d.tag&&!u){d.comment&&(o.comment?o.comment+="\n"+d.comment:o.comment=d.comment);continue}(d.hasNewlineAfterProp||dr(a))&&r(a??l[l.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else d.found?.indent!==s.indent&&r(i,"BAD_INDENT",mr);const h=d.end,m=a?t(n,a,d,r):e(n,h,l,null,d,r);n.schema.compat&&pr(s.indent,a,r),hr(n,o.items,m)&&r(h,"DUPLICATE_KEY","Map keys must be unique");const g=fr(u??[],{indicator:"map-value-ind",next:f,offset:m.range[2],onError:r,startOnNewline:!a||"block-scalar"===a.type});if(i=g.end,g.found){p&&("block-map"!==f?.type||g.hasNewline||r(i,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&d.start<g.found.offset-1024&&r(m.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const l=f?t(n,f,g,r):e(n,i,u,null,g,r);n.schema.compat&&pr(s.indent,f,r),i=l.range[2];const a=new Xn(m,l);n.options.keepSourceTokens&&(a.srcToken=c),o.items.push(a)}else{p&&r(m.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),g.comment&&(m.comment?m.comment+="\n"+g.comment:m.comment=g.comment);const t=new Xn(m);n.options.keepSourceTokens&&(t.srcToken=c),o.items.push(t)}}return o.range=[s.offset,i,i],o}(t,e,n,r);break;case"block-seq":o=function({composeNode:t,composeEmptyNode:e},n,s,r){const o=new ss(n.schema);n.atRoot&&(n.atRoot=!1);let i=s.offset;for(const{start:c,value:l}of s.items){const a=fr(c,{indicator:"seq-item-ind",next:l,offset:i,onError:r,startOnNewline:!0});if(i=a.end,!a.found){if(!(a.anchor||a.tag||l)){a.comment&&(o.comment=a.comment);continue}l&&"block-seq"===l.type?r(i,"BAD_INDENT","All sequence items must start at the same column"):r(i,"MISSING_CHAR","Sequence item without - indicator")}const u=l?t(n,l,a,r):e(n,i,c,null,a,r);n.schema.compat&&pr(s.indent,l,r),i=u.range[2],o.items.push(u)}return o.range=[s.offset,i,i],o}(t,e,n,r);break;case"flow-collection":o=function({composeNode:t,composeEmptyNode:e},n,s,r){const o="{"===s.start.source,i=o?"flow map":"flow sequence",c=o?new es(n.schema):new ss(n.schema);c.flow=!0;const l=n.atRoot;l&&(n.atRoot=!1);let a=s.offset+s.start.source.length;for(let l=0;l<s.items.length;++l){const u=s.items[l],{start:f,key:d,sep:p,value:h}=u,m=fr(f,{flow:i,indicator:"explicit-key-ind",next:d??p?.[0],offset:a,onError:r,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||p||h)){0===l&&m.comma?r(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${i}`):l<s.items.length-1&&r(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${i}`),m.comment&&(c.comment?c.comment+="\n"+m.comment:c.comment=m.comment),a=m.end;continue}!o&&n.options.strict&&dr(d)&&r(d,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===l)m.comma&&r(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${i}`);else if(m.comma||r(m.start,"MISSING_CHAR",`Missing , between ${i} items`),m.comment){let t="";t:for(const e of f)switch(e.type){case"comma":case"space":break;case"comment":t=e.source.substring(1);break t;default:break t}if(t){let e=c.items[c.items.length-1];en(e)&&(e=e.value??e.key),e.comment?e.comment+="\n"+t:e.comment=t,m.comment=m.comment.substring(t.length+1)}}if(o||p||m.found){const s=m.end,l=d?t(n,d,m,r):e(n,s,f,null,m,r);br(d)&&r(l.range,"BLOCK_IN_FLOW",$r);const g=fr(p??[],{flow:i,indicator:"map-value-ind",next:h,offset:l.range[2],onError:r,startOnNewline:!1});if(g.found){if(!o&&!m.found&&n.options.strict){if(p)for(const t of p){if(t===g.found)break;if("newline"===t.type){r(t,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<g.found.offset-1024&&r(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else h&&("source"in h&&h.source&&":"===h.source[0]?r(h,"MISSING_CHAR",`Missing space after : in ${i}`):r(g.start,"MISSING_CHAR",`Missing , or : between ${i} items`));const $=h?t(n,h,g,r):g.found?e(n,g.end,p,null,g,r):null;$?br(h)&&r($.range,"BLOCK_IN_FLOW",$r):g.comment&&(l.comment?l.comment+="\n"+g.comment:l.comment=g.comment);const b=new Xn(l,$);if(n.options.keepSourceTokens&&(b.srcToken=u),o){const t=c;hr(n,t.items,l)&&r(s,"DUPLICATE_KEY","Map keys must be unique"),t.items.push(b)}else{const t=new es(n.schema);t.flow=!0,t.items.push(b),c.items.push(t)}a=$?$.range[2]:g.end}else{const s=h?t(n,h,m,r):e(n,m.end,p,null,m,r);c.items.push(s),a=s.range[2],br(h)&&r(s.range,"BLOCK_IN_FLOW",$r)}}const u=o?"}":"]",[f,...d]=s.end;let p=a;if(f&&f.source===u)p=f.offset+f.source.length;else{const t=i[0].toUpperCase()+i.substring(1);r(a,l?"MISSING_CHAR":"BAD_INDENT",l?`${t} must end with a ${u}`:`${t} in block collection must be sufficiently indented and end with a ${u}`),f&&1!==f.source.length&&d.unshift(f)}if(d.length>0){const t=gr(d,p,n.options.strict,r);t.comment&&(c.comment?c.comment+="\n"+t.comment:c.comment=t.comment),c.range=[s.offset,p,t.offset]}else c.range=[s.offset,p,p];return c}(t,e,n,r)}if(!s)return o;const i=e.directives.tagName(s.source,(t=>r(s,"TAG_RESOLVE_FAILED",t)));if(!i)return o;const c=o.constructor;if("!"===i||i===c.tagName)return o.tag=c.tagName,o;const l=tn(o)?"map":"seq";let a=e.schema.tags.find((t=>t.collection===l&&t.tag===i));if(!a){const t=e.schema.knownTags[i];if(!t||t.collection!==l)return r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${i}`,!0),o.tag=i,o;e.schema.tags.push(Object.assign({},t,{default:!1})),a=t}const u=a.resolve(o,(t=>r(s,"TAG_RESOLVE_FAILED",t)),e.options),f=on(u)?u:new xn(u);return f.range=o.range,f.tag=i,a?.format&&(f.format=a.format),f}function wr(t,e,n){const s=t.offset,r=function({offset:t,props:e},n,s){if("block-scalar-header"!==e[0].type)return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=e[0],o=r[0];let i=0,c="",l=-1;for(let e=1;e<r.length;++e){const n=r[e];if(c||"-"!==n&&"+"!==n){const s=Number(n);!i&&s?i=s:-1===l&&(l=t+e)}else c=n}-1!==l&&s(l,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let a=!1,u="",f=r.length;for(let t=1;t<e.length;++t){const r=e[t];switch(r.type){case"space":a=!0;case"newline":f+=r.source.length;break;case"comment":if(n&&!a){s(r,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}f+=r.source.length,u=r.source.substring(1);break;case"error":s(r,"UNEXPECTED_TOKEN",r.message),f+=r.source.length;break;default:{s(r,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${r.type}`);const t=r.source;t&&"string"==typeof t&&(f+=t.length)}}}return{mode:o,indent:i,chomp:c,comment:u,length:f}}(t,e,n);if(!r)return{value:"",type:null,comment:"",range:[s,s,s]};const o=">"===r.mode?xn.BLOCK_FOLDED:xn.BLOCK_LITERAL,i=t.source?function(t){const e=t.split(/\n( *)/),n=e[0],s=n.match(/^( *)/),r=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let t=1;t<e.length;t+=2)r.push([e[t],e[t+1]]);return r}(t.source):[];let c=i.length;for(let t=i.length-1;t>=0;--t){const e=i[t][1];if(""!==e&&"\r"!==e)break;c=t}if(0===c){const e="+"===r.chomp&&i.length>0?"\n".repeat(Math.max(1,i.length-1)):"";let n=s+r.length;return t.source&&(n+=t.source.length),{value:e,type:o,comment:r.comment,range:[s,n,n]}}let l=t.indent+r.indent,a=t.offset+r.length,u=0;for(let t=0;t<c;++t){const[e,s]=i[t];if(""!==s&&"\r"!==s){if(e.length<l){const t="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(a+e.length,"MISSING_CHAR",t)}0===r.indent&&(l=e.length),u=t;break}0===r.indent&&e.length>l&&(l=e.length),a+=e.length+s.length+1}for(let t=i.length-1;t>=c;--t)i[t][0].length>l&&(c=t+1);let f="",d="",p=!1;for(let t=0;t<u;++t)f+=i[t][0].slice(l)+"\n";for(let t=u;t<c;++t){let[e,s]=i[t];a+=e.length+s.length+1;const c="\r"===s[s.length-1];if(c&&(s=s.slice(0,-1)),s&&e.length<l){const t=`Block scalar lines must not be less indented than their ${r.indent?"explicit indentation indicator":"first line"}`;n(a-s.length-(c?2:1),"BAD_INDENT",t),e=""}o===xn.BLOCK_LITERAL?(f+=d+e.slice(l)+s,d="\n"):e.length>l||"\t"===s[0]?(" "===d?d="\n":p||"\n"!==d||(d="\n\n"),f+=d+e.slice(l)+s,d="\n",p=!0):""===s?"\n"===d?f+="\n":d="\n":(f+=d+s,d=" ",p=!1)}switch(r.chomp){case"-":break;case"+":for(let t=c;t<i.length;++t)f+="\n"+i[t][0].slice(l);"\n"!==f[f.length-1]&&(f+="\n");break;default:f+="\n"}const h=s+r.length+t.source.length;return{value:f,type:o,comment:r.comment,range:[s,h,h]}}function vr(t,e,n){const{offset:s,type:r,source:o,end:i}=t;let c,l;const a=(t,e,r)=>n(s+t,e,r);switch(r){case"scalar":c=xn.PLAIN,l=function(t,e){let n="";switch(t[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${t[0]}`;break;case"@":case"`":n=`reserved character ${t[0]}`}n&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return xr(t)}(o,a);break;case"single-quoted-scalar":c=xn.QUOTE_SINGLE,l=function(t,e){"'"===t[t.length-1]&&1!==t.length||e(t.length,"MISSING_CHAR","Missing closing 'quote");return xr(t.slice(1,-1)).replace(/''/g,"'")}(o,a);break;case"double-quoted-scalar":c=xn.QUOTE_DOUBLE,l=function(t,e){let n="";for(let s=1;s<t.length-1;++s){const r=t[s];if("\r"!==r||"\n"!==t[s+1])if("\n"===r){const{fold:e,offset:r}=_r(t,s);n+=e,s=r}else if("\\"===r){let r=t[++s];const o=kr[r];if(o)n+=o;else if("\n"===r)for(r=t[s+1];" "===r||"\t"===r;)r=t[1+ ++s];else if("\r"===r&&"\n"===t[s+1])for(r=t[1+ ++s];" "===r||"\t"===r;)r=t[1+ ++s];else if("x"===r||"u"===r||"U"===r){const o={x:2,u:4,U:8}[r];n+=Ar(t,s+1,o,e),s+=o}else{const r=t.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),n+=r}}else if(" "===r||"\t"===r){const e=s;let o=t[s+1];for(;" "===o||"\t"===o;)o=t[1+ ++s];"\n"===o||"\r"===o&&"\n"===t[s+2]||(n+=s>e?t.slice(e,s+1):r)}else n+=r}'"'===t[t.length-1]&&1!==t.length||e(t.length,"MISSING_CHAR",'Missing closing "quote');return n}(o,a);break;default:return n(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[s,s+o.length,s+o.length]}}const u=s+o.length,f=gr(i,u,e,n);return{value:l,type:c,comment:f.comment,range:[s,u,f.offset]}}function xr(t){let e,n;try{e=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(t){e=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(t);if(!s)return t;let r=s[1],o=" ",i=e.lastIndex;for(n.lastIndex=i;s=n.exec(t);)""===s[1]?"\n"===o?r+=o:o="\n":(r+=o+s[1],o=" "),i=n.lastIndex;const c=/[ \t]*(.*)/sy;return c.lastIndex=i,s=c.exec(t),r+o+(s?.[1]??"")}function _r(t,e){let n="",s=t[e+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==t[e+2]);)"\n"===s&&(n+="\n"),s=t[(e+=1)+1];return n||(n=" "),{fold:n,offset:e}}const kr={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Ar(t,e,n,s){const r=t.substr(e,n),o=r.length===n&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(o)){const r=t.substr(e-2,n+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${r}`),r}return String.fromCodePoint(o)}function Sr(t,e,n,s){const{value:r,type:o,comment:i,range:c}="block-scalar"===e.type?wr(e,t.options.strict,s):vr(e,t.options.strict,s),l=n?t.directives.tagName(n.source,(t=>s(n,"TAG_RESOLVE_FAILED",t))):null,a=n&&l?function(t,e,n,s,r){if("!"===n)return t[Xe];const o=[];for(const e of t.tags)if(!e.collection&&e.tag===n){if(!e.default||!e.test)return e;o.push(e)}for(const t of o)if(t.test?.test(e))return t;const i=t.knownTags[n];if(i&&!i.collection)return t.tags.push(Object.assign({},i,{default:!1,test:void 0})),i;return r(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),t[Xe]}(t.schema,r,l,n,s):"scalar"===e.type?function({directives:t,schema:e},n,s,r){const o=e.tags.find((t=>t.default&&t.test?.test(n)))||e[Xe];if(e.compat){const i=e.compat.find((t=>t.default&&t.test?.test(n)))??e[Xe];if(o.tag!==i.tag){r(s,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${t.tagString(o.tag)} or ${t.tagString(i.tag)}`,!0)}}return o}(t,r,e,s):t.schema[Xe];let u;try{const o=a.resolve(r,(t=>s(n??e,"TAG_RESOLVE_FAILED",t)),t.options);u=nn(o)?o:new xn(o)}catch(t){const o=t instanceof Error?t.message:String(t);s(n??e,"TAG_RESOLVE_FAILED",o),u=new xn(r)}return u.range=c,u.source=r,o&&(u.type=o),l&&(u.tag=l),a.format&&(u.format=a.format),i&&(u.comment=i),u}function Er(t,e,n){if(e){null===n&&(n=e.length);for(let s=n-1;s>=0;--s){let n=e[s];switch(n.type){case"space":case"comment":case"newline":t-=n.source.length;continue}for(n=e[++s];"space"===n?.type;)t+=n.source.length,n=e[++s];break}}return t}const Tr={composeNode:Nr,composeEmptyNode:Ir};function Nr(t,e,n,s){const{spaceBefore:r,comment:o,anchor:i,tag:c}=n;let l,a=!0;switch(e.type){case"alias":l=function({options:t},{offset:e,source:n,end:s},r){const o=new bn(n.substring(1));""===o.source&&r(e,"BAD_ALIAS","Alias cannot be an empty string");o.source.endsWith(":")&&r(e+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const i=e+n.length,c=gr(s,i,t.strict,r);o.range=[e,i,c.offset],c.comment&&(o.comment=c.comment);return o}(t,e,s),(i||c)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":l=Sr(t,e,c,s),i&&(l.anchor=i.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":l=yr(Tr,t,e,c,s),i&&(l.anchor=i.source.substring(1));break;default:s(e,"UNEXPECTED_TOKEN","error"===e.type?e.message:`Unsupported token (type: ${e.type})`),l=Ir(t,e.offset,void 0,null,n,s),a=!1}return i&&""===l.anchor&&s(i,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(l.spaceBefore=!0),o&&("scalar"===e.type&&""===e.source?l.comment=o:l.commentBefore=o),t.options.keepSourceTokens&&a&&(l.srcToken=e),l}function Ir(t,e,n,s,{spaceBefore:r,comment:o,anchor:i,tag:c},l){const a=Sr(t,{type:"scalar",offset:Er(e,n,s),indent:-1,source:""},c,l);return i&&(a.anchor=i.source.substring(1),""===a.anchor&&l(i,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(a.spaceBefore=!0),o&&(a.comment=o),a}function Cr(t){if("number"==typeof t)return[t,t+1];if(Array.isArray(t))return 2===t.length?t:[t[0],t[1]];const{offset:e,source:n}=t;return[e,e+("string"==typeof n?n.length:1)]}function Or(t){let e="",n=!1,s=!1;for(let r=0;r<t.length;++r){const o=t[r];switch(o[0]){case"#":e+=(""===e?"":s?"\n\n":"\n")+(o.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==t[r+1]?.[0]&&(r+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:e,afterEmptyLine:s}}class Lr{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,e,n,s)=>{const r=Cr(t);s?this.warnings.push(new ar(r,e,n)):this.errors.push(new lr(r,e,n))},this.directives=new hn({version:t.version||"1.2"}),this.options=t}decorate(t,e){const{comment:n,afterEmptyLine:s}=Or(this.prelude);if(n){const r=t.contents;if(e)t.comment=t.comment?`${t.comment}\n${n}`:n;else if(s||t.directives.docStart||!r)t.commentBefore=n;else if(rn(r)&&!r.flow&&r.items.length>0){let t=r.items[0];en(t)&&(t=t.key);const e=t.commentBefore;t.commentBefore=e?`${n}\n${e}`:n}else{const t=r.commentBefore;r.commentBefore=t?`${n}\n${t}`:n}}e?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Or(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,e=!1,n=-1){for(const e of t)yield*this.next(e);yield*this.end(e,n)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,((e,n,s)=>{const r=Cr(t);r[0]+=e,this.onError(r,"BAD_DIRECTIVE",n,s)})),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const e=function(t,e,{offset:n,start:s,value:r,end:o},i){const c=Object.assign({_directives:e},t),l=new or(void 0,c),a={atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},u=fr(s,{indicator:"doc-start",next:r??o?.[0],offset:n,onError:i,startOnNewline:!0});u.found&&(l.directives.docStart=!0,!r||"block-map"!==r.type&&"block-seq"!==r.type||u.hasNewline||i(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=r?Nr(a,r,u,i):Ir(a,u.end,s,null,u,i);const f=l.contents.range[2],d=gr(o,f,!1,i);return d.comment&&(l.comment=d.comment),l.range=[n,f,d.offset],l}(this.options,this.directives,t,this.onError);this.atDirectives&&!e.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(e,!1),this.doc&&(yield this.doc),this.doc=e,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const e=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,n=new lr(Cr(t),"UNEXPECTED_TOKEN",e);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const e="Unexpected doc-end without preceding document";this.errors.push(new lr(Cr(t),"UNEXPECTED_TOKEN",e));break}this.doc.directives.docEnd=!0;const e=gr(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),e.comment){const t=this.doc.comment;this.doc.comment=t?`${t}\n${e.comment}`:e.comment}this.doc.range[2]=e.offset;break}default:this.errors.push(new lr(Cr(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,e=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const t=Object.assign({_directives:this.directives},this.options),n=new or(void 0,t);this.atDirectives&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,e,e],this.decorate(n,!1),yield n}}}function Dr(t){switch(t){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const Rr="0123456789ABCDEFabcdef".split(""),Ur="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),Br=",[]{}".split(""),Pr=" ,[]{}\n\r\t".split(""),Mr=t=>!t||Pr.includes(t);class Qr{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,e=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!e;let n=this.next??"stream";for(;n&&(e||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,e=this.buffer[t];for(;" "===e||"\t"===e;)e=this.buffer[++t];return!e||"#"===e||"\n"===e||"\r"===e&&"\n"===this.buffer[t+1]}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let e=this.buffer[t];if(this.indentNext>0){let n=0;for(;" "===e;)e=this.buffer[++n+t];if("\r"===e){const e=this.buffer[n+t+1];if("\n"===e||!e&&!this.atEnd)return t+n+1}return"\n"===e||n>=this.indentNext||!e&&!this.atEnd?t+n:-1}if("-"===e||"."===e){const e=this.buffer.substr(t,3);if(("---"===e||"..."===e)&&Dr(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return("number"!=typeof t||-1!==t&&t<this.pos)&&(t=this.buffer.indexOf("\n",this.pos),this.lineEndPos=t),-1===t?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[t-1]&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(null===t)return this.setNext("stream");if("\ufeff"===t[0]&&(yield*this.pushCount(1),t=t.substring(1)),"%"===t[0]){let e=t.length;const n=t.indexOf("#");if(-1!==n){const s=t[n-1];" "!==s&&"\t"!==s||(e=n-1)}for(;;){const n=t[e-1];if(" "!==n&&"\t"!==n)break;e-=1}const s=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const e=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-e),yield*this.pushNewline(),"stream"}return yield"",yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if("-"===t||"."===t){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const t=this.peek(3);if("---"===t&&Dr(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===t&&Dr(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Dr(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,e]=this.peek(2);if(!e&&!this.atEnd)return this.setNext("block-start");if(("-"===t||"?"===t||":"===t)&&Dr(e)){const t=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=t,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(null===t)return this.setNext("doc");let e=yield*this.pushIndicators();switch(t[e]){case"#":yield*this.pushCount(t.length-e);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Mr),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return e+=(yield*this.parseBlockScalarHeader()),e+=(yield*this.pushSpaces(!0)),yield*this.pushCount(t.length-e),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,e,n=-1;do{t=yield*this.pushNewline(),t>0?(e=yield*this.pushSpaces(!1),this.indentValue=n=e):e=0,e+=(yield*this.pushSpaces(!0))}while(t+e>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&Dr(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart()}let r=0;for(;","===s[r];)r+=(yield*this.pushCount(1)),r+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(r+=(yield*this.pushIndicators()),s[r]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Mr),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const t=this.charAt(1);if(this.flowKey||Dr(t)||","===t)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let e=this.buffer.indexOf(t,this.pos+1);if("'"===t)for(;-1!==e&&"'"===this.buffer[e+1];)e=this.buffer.indexOf("'",e+2);else for(;-1!==e;){let t=0;for(;"\\"===this.buffer[e-1-t];)t+=1;if(t%2==0)break;e=this.buffer.indexOf('"',e+1)}const n=this.buffer.substring(0,e);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const t=this.continueScalar(s+1);if(-1===t)break;s=n.indexOf("\n",t)}-1!==s&&(e=s-("\r"===n[s-1]?2:1))}if(-1===e){if(!this.atEnd)return this.setNext("quoted-scalar");e=this.buffer.length}return yield*this.pushToIndex(e+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const e=this.buffer[++t];if("+"===e)this.blockScalarKeep=!0;else if(e>"0"&&e<="9")this.blockScalarIndent=Number(e)-1;else if("-"!==e)break}return yield*this.pushUntil((t=>Dr(t)||"#"===t))}*parseBlockScalar(){let t,e=this.pos-1,n=0;t:for(let s=this.pos;t=this.buffer[s];++s)switch(t){case" ":n+=1;break;case"\n":e=s,n=0;break;case"\r":{const t=this.buffer[s+1];if(!t&&!this.atEnd)return this.setNext("block-scalar");if("\n"===t)break}default:break t}if(!t&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const t=this.continueScalar(e+1);if(-1===t)break;e=this.buffer.indexOf("\n",t)}while(-1!==e);if(-1===e){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let t=e-1,s=this.buffer[t];"\r"===s&&(s=this.buffer[--t]);const r=t;for(;" "===s||"\t"===s;)s=this.buffer[--t];if(!("\n"===s&&t>=this.pos&&t+1+n>r))break;e=t}return yield"",yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let e,n=this.pos-1,s=this.pos-1;for(;e=this.buffer[++s];)if(":"===e){const e=this.buffer[s+1];if(Dr(e)||t&&","===e)break;n=s}else if(Dr(e)){let r=this.buffer[s+1];if("\r"===e&&("\n"===r?(s+=1,e="\n",r=this.buffer[s+1]):n=s),"#"===r||t&&Br.includes(r))break;if("\n"===e){const t=this.continueScalar(s+1);if(-1===t)break;s=Math.max(s,t-2)}}else{if(t&&Br.includes(e))break;n=s}return e||this.atEnd?(yield"",yield*this.pushToIndex(n+1,!0),t?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,e){const n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(e&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Mr))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,e=this.charAt(1);if(Dr(e)||t&&Br.includes(e))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let t=this.pos+2,e=this.buffer[t];for(;!Dr(e)&&">"!==e;)e=this.buffer[++t];return yield*this.pushToIndex(">"===e?t+1:t,!1)}{let t=this.pos+1,e=this.buffer[t];for(;e;)if(Ur.includes(e))e=this.buffer[++t];else{if("%"!==e||!Rr.includes(this.buffer[t+1])||!Rr.includes(this.buffer[t+2]))break;e=this.buffer[t+=3]}return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return"\n"===t?yield*this.pushCount(1):"\r"===t&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(t){let e,n=this.pos-1;do{e=this.buffer[++n]}while(" "===e||t&&"\t"===e);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(t){let e=this.pos,n=this.buffer[e];for(;!t(n);)n=this.buffer[++e];return yield*this.pushToIndex(e,!1)}}class Fr{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let e=0,n=this.lineStarts.length;for(;e<n;){const s=e+n>>1;this.lineStarts[s]<t?e=s+1:n=s}if(this.lineStarts[e]===t)return{line:e+1,col:1};if(0===e)return{line:0,col:t};return{line:e,col:t-this.lineStarts[e-1]+1}}}}function jr(t,e){for(let n=0;n<t.length;++n)if(t[n].type===e)return!0;return!1}function Kr(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Wr(t){switch(t?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Hr(t){switch(t.type){case"document":return t.start;case"block-map":{const e=t.items[t.items.length-1];return e.sep??e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function qr(t){if(0===t.length)return[];let e=t.length;t:for(;--e>=0;)switch(t[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break t}for(;"space"===t[++e]?.type;);return t.splice(e,t.length)}function Vr(t){if("flow-seq-start"===t.start.type)for(const e of t.items)!e.sep||e.value||jr(e.start,"explicit-key-ind")||jr(e.sep,"map-value-ind")||(e.key&&(e.value=e.key),delete e.key,Wr(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}class Gr{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Qr,this.onNewLine=t}*parse(t,e=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(t,e))yield*this.next(n);e||(yield*this.end())}*next(t){if(this.source=t,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=t.length);const e=function(t){switch(t){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(t);if(e)if("scalar"===e)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=e,yield*this.step(),e){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&" "===t[0]&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const e=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:e,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if("doc-end"!==this.type||t&&"doc-end"===t.type){if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(t){return this.stack[this.stack.length-t]}*pop(t){const e=t??this.stack.pop();if(e)if(0===this.stack.length)yield e;else{const t=this.peek(1);switch("block-scalar"===e.type?e.indent="indent"in t?t.indent:0:"flow-collection"===e.type&&"document"===t.type&&(e.indent=0),"flow-collection"===e.type&&Vr(e),t.type){case"document":t.value=e;break;case"block-scalar":t.props.push(e);break;case"block-map":{const n=t.items[t.items.length-1];if(n.value)return t.items.push({start:[],key:e,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:e,sep:[]}),void(this.onKeyLine=!jr(n.start,"explicit-key-ind"));n.value=e;break}case"block-seq":{const n=t.items[t.items.length-1];n.value?t.items.push({start:[],value:e}):n.value=e;break}case"flow-collection":{const n=t.items[t.items.length-1];return void(!n||n.value?t.items.push({start:[],key:e,sep:[]}):n.sep?n.value=e:Object.assign(n,{key:e,sep:[]}))}default:yield*this.pop(),yield*this.pop(e)}if(!("document"!==t.type&&"block-map"!==t.type&&"block-seq"!==t.type||"block-map"!==e.type&&"block-seq"!==e.type)){const n=e.items[e.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Kr(n.start)&&(0===e.indent||n.start.every((t=>"comment"!==t.type||t.indent<e.indent)))&&("document"===t.type?t.end=n.start:t.items.push({start:n.start}),e.items.splice(-1,1))}}else{const t="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:t}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&t.start.push(this.sourceToken),void this.stack.push(t)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":return void(-1!==Kr(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void t.start.push(this.sourceToken)}const e=this.startBlockValue(t);e?this.stack.push(e):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if("map-value-ind"===this.type){const e=qr(Hr(this.peek(2)));let n;t.end?(n=t.end,n.push(this.sourceToken),delete t.end):n=[this.sourceToken];const s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:e,key:t,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":return void t.props.push(this.sourceToken);case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf("\n")+1;for(;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,e.value){const n="end"in e.value?e.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else if(e.sep)e.sep.push(this.sourceToken);else{if(this.atIndentedComment(e.start,t.indent)){const n=t.items[t.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,e.start),n.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const n=!this.onKeyLine&&this.indent===t.indent&&e.sep;let s=[];if(n&&e.sep&&!e.value){const n=[];for(let s=0;s<e.sep.length;++s){const r=e.sep[s];switch(r.type){case"newline":n.push(s);break;case"space":break;case"comment":r.indent>t.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(s=e.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||e.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"explicit-key-ind":return e.sep||jr(e.start,"explicit-key-ind")?n||e.value?(s.push(this.sourceToken),t.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):e.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(jr(e.start,"explicit-key-ind"))if(e.sep)if(e.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(jr(e.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Wr(e.key)&&!jr(e.sep,"newline")){const t=qr(e.start),n=e.key,s=e.sep;s.push(this.sourceToken),delete e.key,delete e.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:n,sep:s}]})}else s.length>0?e.sep=e.sep.concat(s,this.sourceToken):e.sep.push(this.sourceToken);else if(jr(e.start,"newline"))Object.assign(e,{key:null,sep:[this.sourceToken]});else{const t=qr(e.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]})}else e.sep?e.value||n?t.items.push({start:s,key:null,sep:[this.sourceToken]}):jr(e.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);return void(n||e.value?(t.items.push({start:s,key:r,sep:[]}),this.onKeyLine=!0):e.sep?this.stack.push(r):(Object.assign(e,{key:r,sep:[]}),this.onKeyLine=!0))}default:{const r=this.startBlockValue(t);if(r)return n&&"block-seq"!==r.type&&jr(e.start,"explicit-key-ind")&&t.items.push({start:s}),void this.stack.push(r)}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(e.value){const n="end"in e.value?e.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(e.start,t.indent)){const n=t.items[t.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,e.start),n.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return;case"anchor":case"tag":if(e.value||this.indent<=t.indent)break;return void e.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==t.indent)break;return void(e.value||jr(e.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken))}if(this.indent>t.indent){const e=this.startBlockValue(t);if(e)return void this.stack.push(e)}yield*this.pop(),yield*this.step()}*flowCollection(t){const e=t.items[t.items.length-1];if("flow-error-end"===this.type){let t;do{yield*this.pop(),t=this.peek(1)}while(t&&"flow-collection"===t.type)}else if(0===t.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!e||e.sep?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken));case"map-value-ind":return void(!e||e.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!e||e.value?t.items.push({start:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!e||e.value?t.items.push({start:[],key:n,sep:[]}):e.sep?this.stack.push(n):Object.assign(e,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void t.end.push(this.sourceToken)}const n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const e=this.peek(2);if("block-map"===e.type&&("map-value-ind"===this.type&&e.indent===t.indent||"newline"===this.type&&!e.items[e.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==e.type){const n=qr(Hr(e));Vr(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const r={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let t=this.source.indexOf("\n")+1;for(;0!==t;)this.onNewLine(this.offset+t),t=this.source.indexOf("\n",t)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const e=qr(Hr(t));return e.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e}]}}case"map-value-ind":{this.onKeyLine=!0;const e=qr(Hr(t));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,e){return"comment"===this.type&&(!(this.indent<=e)&&t.every((t=>"newline"===t.type||"space"===t.type)))}*documentEnd(t){"doc-mode"!==this.type&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Xr(t,e={}){const{lineCounter:n,prettyErrors:s}=function(t){const e=!1!==t.prettyErrors;return{lineCounter:t.lineCounter||e&&new Fr||null,prettyErrors:e}}(e),r=new Gr(n?.addNewLine),o=new Lr(e);let i=null;for(const e of o.compose(r.parse(t),!0,t.length))if(i){if("silent"!==i.options.logLevel){i.errors.push(new lr(e.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else i=e;return s&&n&&(i.errors.forEach(ur(t,n)),i.warnings.forEach(ur(t,n))),i}var Jr=Pt({displayName:"",steps:{pc_to_ram:{tts:"",text:""},ram_to_ir:{tts:"",text:""},ir_to_cu:{tts:"",text:""},cu_to_mux:{tts:"",text:""},cu_to_alu:{tts:"",text:""},acc_to_alu1:{tts:"",text:""},pc_increment:{tts:"",text:""},ir_to_alu2:{tts:"",text:""},ir_to_ram:{tts:"",text:""},memory_read:{tts:"",text:""},memory_fetch:{tts:"",text:""},memory_write:{tts:"",text:""},ram_to_alu2:{tts:"",text:""},ir_to_pc:{tts:"",text:""},execute:{tts:"",text:""},alu_to_sw:{tts:"",text:""},acc_to_ram:{tts:"",text:""},acc_stored_to_ram:{tts:"",text:""}},cpu:{ir:{invalid_instruction:""}},ram:{buttons:{clear:{text:"",title:""},undo:{title:""},redo:{title:""}}},menu:{buttons:{settings:{title:""},save:{title:""},open:{title:""},help:{title:""}}},controls:{labels:{execution:"",step:"",instruction:"",speed:""},buttons:{reset:{title:""},play:{title:""},pause:{title:""},end:{title:""},play_step:{title:""},skip_step:{title:""},play_instruction:{title:""},skip_instruction:{title:""}},sliders:{speed:{title:""}},checkboxes:{binary:{text:""},animations:{text:""}}},message_feed:{buttons:{export_logs:{text:""},close_message:{title:""}}},settings:{title:"",language:{title:"",description:""},dispaly_components_labels:{title:"",description:""},dispaly_busses_labels:{title:"",description:""},display_step_text:{title:"",description:""},tts_enabled:{title:"",description:""},tts_speed:{title:"",description:""},tts_voice:{title:"",description:""},databus_ext_color:{title:"",description:""},databus_int_color:{title:"",description:""},databus_ext_anim_color:{title:"",description:""},databus_int_anim_color:{title:"",description:""},addressbus_ext_color:{title:"",description:""},addressbus_int_color:{title:"",description:""},addressbus_ext_anim_color:{title:"",description:""},addressbus_int_anim_color:{title:"",description:""},controlbus_ext_color:{title:"",description:""},controlbus_int_color:{title:"",description:""},controlbus_ext_anim_color:{title:"",description:""},controlbus_int_anim_color:{title:"",description:""}},errors:{program_parsing:{invalid_syntax:"",parsing_error:"",duplicate_label:""},instruction_parsing:{invalid_binary_input:"",invalid_symbolic_input:"",invalid_opcode:"",operand_not_allowed:"",operand_required:"",unknown_label:"",immediate_operand_not_allowed:"",invalid_immediate_operand:"",invalid_direct_operand:"",invalid_data:""},symbol_table:{label_already_exists:""},user_input:{invalid_file_name:"",invalid_pc_value:"",invalid_acc_value:""},execution:{invalid_instruction:"",division_by_zero:""}}});function zr(t){fetch("resources/i18n/".concat(t,".yaml")).then((function(t){return t.text()})).then((function(t){return function(t,e,n){let s;"function"==typeof e?s=e:void 0===n&&e&&"object"==typeof e&&(n=e);const r=Xr(t,n);if(!r)return null;if(r.warnings.forEach((t=>Wn(r.options.logLevel,t))),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:s},n))}(t)})).then((function(t){return Jr.set(t)}))}zr(a(Me)),Me.subscribe(zr);var Zr=/^[01]{0,8}\s?[01]{1,8}?$/,Yr=/^-?[0-9]{1,5}$/,to=/#-?[0-9]{1,3}/,eo=/[A-Z_]{1,10}/,no=/#[A-Z_]{1,10}/,so=new RegExp("^"+/[A-Z]{2,3}/.source+"( (("+to.source+")|("+no.source+")|("+/[0-9]{1,3}/.source+")|("+eo.source+")))?$");function ro(t,e){if(void 0===e&&(e=[]),so.test(t))return function(t,e){var n=t.split(" "),s=n[0],r=n[1],o=!!r,i=ae(s);if(!i)throw new pe(a(Jr).errors.instruction_parsing.invalid_opcode,t);if(o){if(!i.takesOperand)throw new pe(a(Jr).errors.instruction_parsing.operand_not_allowed,t);return no.test(r)?function(t,e,n){var s=t.split(" "),r=s[0],o=s[1],i=o.slice(1);if(!n.includes(i))throw new pe(a(Jr).errors.instruction_parsing.unknown_label,t);var c=fe(new io(8,e.numeric),!0).signed(),l=n.indexOf(i);if(!e.takesImmediate)throw new pe(a(Jr).errors.instruction_parsing.immediate_operand_not_allowed,t);if(!$e(l,8))throw new pe(a(Jr).errors.instruction_parsing.invalid_immediate_operand,t);return new ke(r,o,io.fromBytesValues([c,l]))}(t,i,e):eo.test(r)?function(t,e,n){var s=t.split(" "),r=s[0],o=s[1];if(!n.includes(o))throw new pe(a(Jr).errors.instruction_parsing.unknown_label,t);var i=n.indexOf(o);return new ke(r,o,io.fromBytesValues([e.numeric,i]))}(t,i,e):to.test(r)?function(t,e){var n=t.split(" "),s=n[0],r=n[1],o=fe(new io(8,e.numeric),!0).signed(),i=parseInt(r.slice(1));if(!e.takesImmediate)throw new pe(a(Jr).errors.instruction_parsing.immediate_operand_not_allowed,t);if(!$e(i,8))throw new pe(a(Jr).errors.instruction_parsing.invalid_immediate_operand,t);return new ke(s,r,io.fromBytesValues([o,i]))}(t,i):function(t,e){var n=t.split(" "),s=n[0],r=n[1],o=parseInt(r);if(!_e(o))throw new pe(a(Jr).errors.instruction_parsing.invalid_direct_operand,t);return new ke(s,r,io.fromBytesValues([e.numeric,o]))}(t,i)}if(i.takesOperand)throw new pe(a(Jr).errors.instruction_parsing.operand_required,t);return new ke(s,"",io.fromBytesValues([i.numeric,0]))}(t,e);if(Yr.test(t))return function(t){var e=parseInt(t);if(!$e(e,16))throw new pe(a(Jr).errors.instruction_parsing.invalid_data,t);var n=new io(16,e),s=n.getByte(1),r=n.getByte(2),o=ae(de(s)),i=ue(s),c=!o||!o.takesOperand&&0!==r.signed()||!o.takesImmediate&&i||!o.takesOperand&&i;return new ke(t,"",n,c)}(t);throw new pe(a(Jr).errors.instruction_parsing.invalid_symbolic_input,t)}function oo(t){if(Zr.test(t))return function(t){if(t.includes(" ")){var e=t.split(" ");t=e[0]+we(e[1],8)}var n=new io(16,t),s=n.getByte(1),r=n.getByte(2),o=ue(s),i=ae(de(s)),c=!1;i&&(i.takesOperand||0===r.unsigned())?o&&!i.takesImmediate?c=!0:o||_e(r.unsigned())||(c=!0):c=!0;var l=c?n.signed().toString():i.symbolic,a=o?"#"+r.signed():r.unsigned().toString();c&&(a="");return new ke(l,a,n,c)}(t);throw new pe(a(Jr).errors.instruction_parsing.invalid_binary_input,t)}var io=function(){function t(t,e){if("string"==typeof e){if(!function(t,e){return me(e),new RegExp("^[01]{1,".concat(e,"}$")).test(t)}(e,t))throw new ce(e,t);this.value=we(e,t)}else if("number"==typeof e){if(!ge(e,t))throw new ce(e,t);this.value=ye(e,t)}else this.value=ye(e.signed(),t)}return t.prototype.signed=function(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)},t.prototype.unsigned=function(){return parseInt(this.value,2)},t.prototype.toBinaryString=function(){return this.value},t.prototype.toInstruction=function(){try{return oo(this.toBinaryString())}catch(t){throw new ie("Not a vali instruction")}},t.prototype.bits=function(){return this.value.length},t.prototype.bytes=function(){return this.bits()/8},t.prototype.getByte=function(e){var n=8*he(e,this.bytes());return new t(8,this.value.substring(n,n+8))},t.prototype.getBytes=function(){for(var t=[],e=1;e<=this.bytes();e++)t.push(this.getByte(e));return t},t.prototype.isBitSet=function(t){return"1"===this.value.charAt(he(t,this.bits()))},t.prototype.setBit=function(e,n){return new t(this.bits(),function(t,e,n){if(!/^[10]*$/.test(t))throw new Error("Invalid binary string");var s=t.split("");return s[he(e,t.length)]=n?"1":"0",s.join("")}(this.value,e,n))},t.fromBytesValues=function(e){return me(8*e.length),"number"==typeof e[0]?t.fromBytesValues(e.map((function(e){return new t(8,e)}))):"string"==typeof e[0]?new t(8*e.length,e.join("")):new t(8*e.length,e.map((function(t){return t.toBinaryString()})).join(""))},t}(),co=Pt(new io(16,0)),lo=Pt(new io(16,0)),ao=Pt(new io(16,0)),uo=Pt(new io(16,0)),fo=Pt(new io(16,0)),po=Pt(new io(16,0)),ho=Pt(new io(16,0)),mo=Pt(new io(16,0)),go=Pt(new io(16,0)),$o=Pt(new io(16,0)),bo=Pt(Se("externalDataBusColor")?Ne("externalDataBusColor"):"#0000ff"),yo=Pt(Se("internalDataBusColor")?Ne("internalDataBusColor"):"#00ffff"),wo=Pt(Se("externalDataBusAnimationColor")?Ne("externalDataBusAnimationColor"):"#00ff00"),vo=Pt(Se("internalDataBusAnimationColor")?Ne("internalDataBusAnimationColor"):"#006400"),xo=Pt(Se("externalAddressBusColor")?Ne("externalAddressBusColor"):"#ff8c00"),_o=Pt(Se("internalAddressBusColor")?Ne("internalAddressBusColor"):"#ffff00"),ko=Pt(Se("externalAddressBusAnimationColor")?Ne("externalAddressBusAnimationColor"):"#00ff00"),Ao=Pt(Se("internalAddressBusAnimationColor")?Ne("internalAddressBusAnimationColor"):"#006400"),So=Pt(Se("externalControlBusColor")?Ne("externalControlBusColor"):"#ff0000"),Eo=Pt(Se("internalControlBusColor")?Ne("internalControlBusColor"):"#ff7a90"),To=Pt(Se("externalControlBusAnimationColor")?Ne("externalControlBusAnimationColor"):"#00ff00"),No=Pt(Se("internalControlBusAnimationColor")?Ne("internalControlBusAnimationColor"):"#00ff00");bo.subscribe((function(t){return Ae("externalDataBusColor",t)})),yo.subscribe((function(t){return Ae("internalDataBusColor",t)})),wo.subscribe((function(t){return Ae("externalDataBusAnimationColor",t)})),vo.subscribe((function(t){return Ae("internalDataBusAnimationColor",t)})),xo.subscribe((function(t){return Ae("externalAddressBusColor",t)})),_o.subscribe((function(t){return Ae("internalAddressBusColor",t)})),ko.subscribe((function(t){return Ae("externalAddressBusAnimationColor",t)})),Ao.subscribe((function(t){return Ae("internalAddressBusAnimationColor",t)})),So.subscribe((function(t){return Ae("externalControlBusColor",t)})),Eo.subscribe((function(t){return Ae("internalControlBusColor",t)})),To.subscribe((function(t){return Ae("externalControlBusAnimationColor",t)})),No.subscribe((function(t){return Ae("internalControlBusAnimationColor",t)}));var Io={main_data_bus:co,ir_cu_data_bus:lo,alu_acc_data_bus:ao,alu_sw_data_bus:uo,mux_alu_data_bus:fo,cu_mux_ctrl_bus:po,cu_ram_ctrl_bus:ho,cu_alu_ctrl_bus:mo,main_address_bus:go,inc_pc_address_bus:$o,externalDataBusColor:bo,internalDataBusColor:yo,externalAddressBusColor:xo,internalAddressBusColor:_o,externalControlBusColor:So,internalControlBusColor:Eo,externalDataBusAnimationColor:wo,internalDataBusAnimationColor:vo,externalAddressBusAnimationColor:ko,internalAddressBusAnimationColor:Ao,externalControlBusAnimationColor:To,internalControlBusAnimationColor:No},Co={DATA_INT:{name:"DATA_INT",color:function(){return a(yo)},animationColor:function(){return a(vo)}},DATA_EXT:{name:"DATA_EXT",color:function(){return a(bo)},animationColor:function(){return a(wo)}},CONTROL_INT:{name:"CONTROL_INT",color:function(){return a(Eo)},animationColor:function(){return a(No)}},CONTROL_EXT:{name:"CONTROL_EXT",color:function(){return a(So)},animationColor:function(){return a(To)}},ADDRESS_INT:{name:"ADDRESS_INT",color:function(){return a(_o)},animationColor:function(){return a(Ao)}},ADDRESS_EXT:{name:"ADDRESS_EXT",color:function(){return a(xo)},animationColor:function(){return a(ko)}},INVISIBLE:{name:"INVISIBLE",color:function(){return"transparent"},animationColor:function(){return"transparent"}}},Oo=[new oe("RAM:DATA",1250,115),new oe("DATA:1",1250,85,Co.DATA_EXT),new oe("DATA:2",749,85),new oe("DATA:3",527,85),new oe("DATA:4",262,85),new oe("DATA:5",95,85,Co.DATA_INT),new oe("DATA:6",95,390),new oe("DATA:7",95,617,Co.DATA_INT),new oe("DATA:8",320,390,Co.DATA_INT),new oe("DATA:9",312,250,Co.DATA_INT),new oe("DATA:10",477,250),new oe("DATA:11",652,490,Co.DATA_INT),new oe("IR:1",262,151),new oe("IR:2",312,180),new oe("IR:3",212,180),new oe("MUX:1",477,292),new oe("MUX:2",527,292),new oe("MUX:3",502,332),new oe("ACC:1",327,617),new oe("ACC:2",412,601),new oe("ALU:1",320,432),new oe("ALU:2",502,432),new oe("ALU:3",526,490),new oe("ALU:4",412,538),new oe("SW:1",652,601)],Lo=[new oe("RAM:ADD",1061,250),new oe("ADD:1",749,250),new oe("ADD:2",670,250),new oe("ADD:3",590,250),new oe("ADD:4",590,137,Co.ADDRESS_INT),new oe("ADD:5",532,250),new oe("ADD:6",522,250),new oe("INC:1",670,210),new oe("INC:2",670,182),new oe("PC:1",670,150),new oe("PC:2",622,137)],Do=[new oe("RAM:CTRL",1061,370),new oe("CTRL:1",749,370),new oe("CTRL:2",507,370),new oe("CTRL:3",497,370),new oe("CTRL:4",240,370,Co.CONTROL_INT),new oe("CTRL:5",185,385),new oe("CTRL:6",185,395),new oe("CTRL:7",185,490,Co.CONTROL_INT),new oe("CU:1",212,281),new oe("CU:2",270,313),new oe("CU:3",240,340),new oe("CU:4",185,340),new oe("MUX:4",464,313),new oe("ALU:5",297,490)],Ro=re(re(re([],Oo,!0),Lo,!0),Do,!0);function Uo(t){return Ro.find((function(e){return e.name===t}))}var Bo,Po,Mo=function(){function t(t,e,n){this.a=t,this.b=e,this.type=n,this.a.connectTo(e,this)}return t.prototype.isConnecting=function(t,e){return this.a===t&&this.b===e||this.a===e&&this.b===t},t.WIDTH=5,t}(),Qo=[new Mo(Uo("RAM:DATA"),Uo("DATA:1"),Co.DATA_EXT),new Mo(Uo("DATA:1"),Uo("DATA:2"),Co.DATA_EXT),new Mo(Uo("DATA:2"),Uo("DATA:3"),Co.DATA_INT),new Mo(Uo("DATA:3"),Uo("DATA:4"),Co.DATA_INT),new Mo(Uo("DATA:4"),Uo("DATA:5"),Co.DATA_INT),new Mo(Uo("DATA:5"),Uo("DATA:6"),Co.DATA_INT),new Mo(Uo("DATA:6"),Uo("DATA:7"),Co.DATA_INT),new Mo(Uo("DATA:6"),Uo("DATA:8"),Co.DATA_INT),new Mo(Uo("DATA:8"),Uo("ALU:1"),Co.DATA_INT),new Mo(Uo("DATA:7"),Uo("ACC:1"),Co.DATA_INT),new Mo(Uo("MUX:3"),Uo("ALU:2"),Co.DATA_INT),new Mo(Uo("ALU:4"),Uo("ACC:2"),Co.DATA_INT),new Mo(Uo("ALU:3"),Uo("DATA:11"),Co.DATA_INT),new Mo(Uo("DATA:11"),Uo("SW:1"),Co.DATA_INT),new Mo(Uo("DATA:4"),Uo("IR:1"),Co.DATA_INT),new Mo(Uo("IR:3"),Uo("CU:1"),Co.DATA_INT),new Mo(Uo("IR:2"),Uo("DATA:9"),Co.DATA_INT),new Mo(Uo("DATA:9"),Uo("DATA:10"),Co.DATA_INT),new Mo(Uo("DATA:10"),Uo("MUX:1"),Co.DATA_INT),new Mo(Uo("DATA:3"),Uo("MUX:2"),Co.DATA_INT)],Fo=[new Mo(Uo("RAM:ADD"),Uo("ADD:1"),Co.ADDRESS_EXT),new Mo(Uo("ADD:1"),Uo("ADD:2"),Co.ADDRESS_INT),new Mo(Uo("ADD:2"),Uo("INC:1"),Co.ADDRESS_INT),new Mo(Uo("INC:2"),Uo("PC:1"),Co.ADDRESS_INT),new Mo(Uo("PC:2"),Uo("ADD:4"),Co.ADDRESS_INT),new Mo(Uo("ADD:2"),Uo("ADD:3"),Co.ADDRESS_INT),new Mo(Uo("ADD:3"),Uo("ADD:4"),Co.ADDRESS_INT),new Mo(Uo("ADD:3"),Uo("ADD:5"),Co.ADDRESS_INT),new Mo(Uo("ADD:5"),Uo("ADD:6"),Co.INVISIBLE),new Mo(Uo("ADD:6"),Uo("DATA:10"),Co.ADDRESS_INT)],jo=[new Mo(Uo("CU:2"),Uo("MUX:4"),Co.CONTROL_INT),new Mo(Uo("RAM:CTRL"),Uo("CTRL:1"),Co.CONTROL_EXT),new Mo(Uo("CTRL:1"),Uo("CTRL:2"),Co.CONTROL_INT),new Mo(Uo("CTRL:2"),Uo("CTRL:3"),Co.INVISIBLE),new Mo(Uo("CTRL:3"),Uo("CTRL:4"),Co.CONTROL_INT),new Mo(Uo("CTRL:4"),Uo("CU:3"),Co.CONTROL_INT),new Mo(Uo("CU:4"),Uo("CTRL:5"),Co.CONTROL_INT),new Mo(Uo("CTRL:5"),Uo("CTRL:6"),Co.INVISIBLE),new Mo(Uo("CTRL:6"),Uo("CTRL:7"),Co.CONTROL_INT),new Mo(Uo("CTRL:7"),Uo("ALU:5"),Co.CONTROL_INT)],Ko=re(re(re([],Qo,!0),Fo,!0),jo,!0);function Wo(t){return Ko.find((function(e){return e.a.name+"-"+e.b.name===t||e.b.name+"-"+e.a.name===t}))}var Ho=function(){function t(t,e){this.pos={x:0,y:0},this.path=re([],t,!0),this.wires=re([],e,!0),this.reset()}return t.prototype.play=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return[2,new Promise(this._play.bind(this))]}))}))},t.prototype._play=function(t,e){this.resolve=t,requestAnimationFrame(this.startAnimation.bind(this))},t.prototype.startAnimation=function(t){this.previousTimestamp=t,this.animate(t)},t.prototype.animate=function(t){this.deltatime=(t-this.previousTimestamp)/1e3;var e=Math.floor(400*this.deltatime*a(Pe));if(this.draw(e),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return Vo(0),this.reset(),void this.resolve();this.previousTimestamp=t,requestAnimationFrame(this.animate.bind(this))},t.prototype.draw=function(t){for(Po.beginPath(),Po.moveTo(this.pos.x,this.pos.y);t>0;){for(this.nextNode=Go(this.pos,this.path[this.nextNodeIndex],t),Po.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor();(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&t>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,Po.lineTo(this.incrementedX,this.incrementedY),Po.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,t--;qo(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(t=0))}Po.closePath()},t.prototype.reset=function(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1},t}();function qo(t){Po.save(),Po.globalAlpha=t,Po.globalCompositeOperation="destination-out",Po.fillStyle="#FFF",Po.fillRect(0,0,Bo.width,Bo.height),Po.restore()}function Vo(t){qo(.1),40!==++t?requestAnimationFrame((function(){return Vo(t)})):Po.clearRect(0,0,Bo.width,Bo.height)}function Go(t,e,n){var s=oe.direction(t,e),r=oe.distance(t,e),o=e;return r>n&&(r=n,o=function(t,e,n){return{x:t.x+e*n.x,y:t.y+e*n.y}}(t,n,s)),{distance:r,direction:s,node:o}}function Xo(e){let n,s,r=(e[7]?e[8][e[0]].text:"")+"";return{c(){n=L("div"),s=R(r),M(n,"class","absolute w-fit font-bold cursor-default text-sm leading-tight"),K(n,"top",e[1],!1),K(n,"bottom",e[4],!1),K(n,"left",e[2],!1),K(n,"right",e[3],!1),K(n,"color",e[6],!1)},m(t,e){I(t,n,e),E(n,s)},p(t,[e]){129&e&&r!==(r=(t[7]?t[8][t[0]].text:"")+"")&&F(s,r),2&e&&K(n,"top",t[1],!1),16&e&&K(n,"bottom",t[4],!1),4&e&&K(n,"left",t[2],!1),8&e&&K(n,"right",t[3],!1),64&e&&K(n,"color",t[6],!1)},i:t,o:t,d(t){t&&C(n)}}}function Jo(e,n,s){let r,o,i,c=t;u(e,Re,(t=>s(7,i=t))),e.$$.on_destroy.push((()=>c()));let{bus:a}=n,{top:f="auto"}=n,{left:d="auto"}=n,{right:p="auto"}=n,{bottom:h="auto"}=n;const m={DATA:{text:"DATA BUS",colorStore:bo},ADDRESS:{text:"ADDRESS BUS",colorStore:xo},CONTROL:{text:"CONTROL BUS",colorStore:So}};return e.$$set=t=>{"bus"in t&&s(0,a=t.bus),"top"in t&&s(1,f=t.top),"left"in t&&s(2,d=t.left),"right"in t&&s(3,p=t.right),"bottom"in t&&s(4,h=t.bottom)},e.$$.update=()=>{1&e.$$.dirty&&(s(5,r=m[a].colorStore),c(),c=l(r,(t=>s(6,o=t))))},[a,f,d,p,h,r,o,i,m]}class zo extends Ut{constructor(t){super(),Rt(this,t,Jo,Xo,c,{bus:0,top:1,left:2,right:3,bottom:4})}}function Zo(e){let n,s,r,o,i,c,l,a,u,f;return i=new zo({props:{bus:"DATA",top:"62px",left:"850px"}}),l=new zo({props:{bus:"ADDRESS",top:"226px",left:"837px"}}),u=new zo({props:{bus:"CONTROL",top:"346px",left:"838px"}}),{c(){n=L("canvas"),s=U(),r=L("canvas"),o=U(),Ct(i.$$.fragment),c=U(),Ct(l.$$.fragment),a=U(),Ct(u.$$.fragment),M(n,"class","absolute z-[2] top-0 left-0 w-app h-app"),M(r,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(t,d){I(t,n,d),e[4](n),I(t,s,d),I(t,r,d),e[5](r),I(t,o,d),Ot(i,t,d),I(t,c,d),Ot(l,t,d),I(t,a,d),Ot(u,t,d),f=!0},p:t,i(t){f||(xt(i.$$.fragment,t),xt(l.$$.fragment,t),xt(u.$$.fragment,t),f=!0)},o(t){_t(i.$$.fragment,t),_t(l.$$.fragment,t),_t(u.$$.fragment,t),f=!1},d(t){t&&C(n),e[4](null),t&&C(s),t&&C(r),e[5](null),t&&C(o),Lt(i,t),t&&C(c),Lt(l,t),t&&C(a),Lt(u,t)}}}function Yo(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};const r=new Map;let o,i;function c(){const t=o.getContext("2d");t.lineWidth=Mo.WIDTH,t.clearRect(0,0,i.width,i.height);for(const e of Ko)t.strokeStyle=e.type.color(),t.beginPath(),t.moveTo(e.a.x,e.a.y),t.lineTo(e.b.x,e.b.y),t.stroke();for(const e of Ro.filter((t=>null!==t.intersectionType))){const n=Mo.WIDTH/2-.5;t.beginPath(),t.fillStyle=e.intersectionType.color(),t.arc(e.x,e.y,n,0,2*Math.PI),t.fill()}}return tt((()=>s(void 0,void 0,void 0,(function*(){n(0,o.width=n(1,i.width=1400,i),o),n(0,o.height=n(1,i.height=800,i),o),c(),(Po=(Bo=i).getContext("2d")).lineCap="round",Po.lineWidth=Mo.WIDTH,bo.subscribe((t=>c())),yo.subscribe((t=>c())),xo.subscribe((t=>c())),_o.subscribe((t=>c())),So.subscribe((t=>c())),Eo.subscribe((t=>c()))})))),[o,i,function(t,e){return s(this,void 0,void 0,(function*(){const n=Uo(t),s=Uo(e);if(!n)throw new Error("Node "+t+" is undefined");if(!s)throw new Error("Node "+e+" is undefined");let o;if(o=r.get(t+e))o.reset();else{const i=function(t,e){for(var n=[t],s=new Set,r={},o=0;o<n.length;)for(var i=n[o++],c=0,l=i.neighbours;c<l.length;c++){var a=l[c];if(!s.has(a)){if(s.add(a),a===e){for(var u=[a];i!==t;)u.push(i),i=r[i.name];return u.push(i),u.reverse(),u}r[a.name]=i,n.push(a)}}throw new Error("No path connecting "+t.name+" to "+e.name)}(n,s),c=function(t){for(var e=[],n=0;n<t.length-1;n++)e.push(Wo("".concat(t[n].name,"-").concat(t[n+1].name)));return e}(i);o=new Ho(i,c),r.set(t+e,o)}yield o.play()}))},c,function(t){rt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){rt[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class ti extends Ut{constructor(t){super(),Rt(this,t,Yo,Zo,c,{flashWire:2,drawStaticWires:3})}get flashWire(){return this.$$.ctx[2]}get drawStaticWires(){return this.$$.ctx[3]}}function ei(e){let n,s,r,o=(e[6]?e[0]:"")+"";return{c(){n=L("div"),s=R(o),M(n,"class",r="absolute w-fit font-bold cursor-default "+e[7][e[5]]+" leading-tight"),K(n,"top",e[1],!1),K(n,"bottom",e[4],!1),K(n,"left",e[2],!1),K(n,"right",e[3],!1)},m(t,e){I(t,n,e),E(n,s)},p(t,[e]){65&e&&o!==(o=(t[6]?t[0]:"")+"")&&F(s,o),32&e&&r!==(r="absolute w-fit font-bold cursor-default "+t[7][t[5]]+" leading-tight")&&M(n,"class",r),2&e&&K(n,"top",t[1],!1),16&e&&K(n,"bottom",t[4],!1),4&e&&K(n,"left",t[2],!1),8&e&&K(n,"right",t[3],!1)},i:t,o:t,d(t){t&&C(n)}}}function ni(t,e,n){let s;u(t,De,(t=>n(6,s=t)));let{text:r=""}=e,{top:o="auto"}=e,{left:i="auto"}=e,{right:c="auto"}=e,{bottom:l="auto"}=e,{fontSize:a="MEDIUM"}=e;return t.$$set=t=>{"text"in t&&n(0,r=t.text),"top"in t&&n(1,o=t.top),"left"in t&&n(2,i=t.left),"right"in t&&n(3,c=t.right),"bottom"in t&&n(4,l=t.bottom),"fontSize"in t&&n(5,a=t.fontSize)},[r,o,i,c,l,a,s,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class si extends Ut{constructor(t){super(),Rt(this,t,ni,ei,c,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}var ri=Pt(ro("NOP")),oi=Pt(new io(8,0)),ii=Pt(new io(8,2)),ci=Pt(new io(16,0)),li=Pt(new io(16,0)),ai=Pt(""),ui=Pt(new io(16,0)),fi=Pt(new io(16,0)),di=Pt(!0),pi=Pt(!1),hi=Pt(!1),mi=Pt(!1);var gi={instructionRegister:ri,programCounter:oi,increment:ii,alu1:ci,alu2:li,aluOperation:ai,aluResult:ui,accumulator:fi,zeroFlag:di,negativeFlag:pi,isJumping:hi,isHalting:mi,reset:function(){ri.set(ro("NOP")),oi.set(new io(8,0)),ii.set(new io(8,2)),ci.set(new io(16,0)),li.set(new io(16,0)),ai.set(""),ui.set(new io(16,0)),fi.set(new io(16,0)),di.set(!0),pi.set(!1),hi.set(!1),mi.set(!1)}};function $i(t,e,n){return(1-n)*t+n*e}function bi(t,e,n,s){return ne(this,void 0,void 0,(function(){return se(this,(function(r){return[2,new Promise((function(r,o){var i,c=0,l=function(o){if(i||(i=o),c>=1)return r(),void t.style.setProperty(e,"rgb(".concat(s.r,", ").concat(s.g,", ").concat(s.b,")"));var u=Math.round($i(n.r,s.r,c)),f=Math.round($i(n.g,s.g,c)),d=Math.round($i(n.b,s.b,c));t.style.setProperty(e,"rgb(".concat(u,", ").concat(f,", ").concat(d,")")),c=(o-i)/(300/a(Pe)),requestAnimationFrame(l)};requestAnimationFrame(l)}))]}))}))}function yi(t,e,n,s){return ne(this,void 0,void 0,(function(){return se(this,(function(r){return[2,bi(t,e,n,s).then((function(){return bi(t,e,s,n)}))]}))}))}function wi(t){let e,n,s,r,o;return{c(){e=L("div"),n=R(t[4]),s=U(),r=L("div"),o=R(t[5]),M(e,"class","flex items-center justify-center w-full h-full rounded-l-md"),M(r,"class","flex items-center justify-center w-full h-full rounded-r-md")},m(i,c){I(i,e,c),E(e,n),t[9](e),I(i,s,c),I(i,r,c),E(r,o),t[10](r)},p(t,e){16&e&&F(n,t[4]),32&e&&F(o,t[5])},d(n){n&&C(e),t[9](null),n&&C(s),n&&C(r),t[10](null)}}}function vi(t){let e,n,s=t[6].cpu.ir.invalid_instruction+"";return{c(){e=L("div"),n=R(s),M(e,"class","w-[200px] h-[30px] rounded-md col-span-2 flex justify-center items-center leading-3")},m(t,s){I(t,e,s),E(e,n)},p(t,e){64&e&&s!==(s=t[6].cpu.ir.invalid_instruction+"")&&F(n,s)},d(t){t&&C(e)}}}function xi(t){let e,n,s,r;function o(t,e){return t[0].opcode||t[1]?wi:vi}n=new si({props:{text:"IR",top:"-25px",left:"10px"}});let i=o(t),c=i(t);return{c(){e=L("div"),Ct(n.$$.fragment),s=U(),c.c(),M(e,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 ")},m(t,o){I(t,e,o),Ot(n,e,null),E(e,s),c.m(e,null),r=!0},p(t,[n]){i===(i=o(t))&&c?c.p(t,n):(c.d(1),c=i(t),c&&(c.c(),c.m(e,null)))},i(t){r||(xt(n.$$.fragment,t),r=!0)},o(t){_t(n.$$.fragment,t),r=!1},d(t){t&&C(e),Lt(n),c.d()}}}function _i(t,e,n){let s,r,o;u(t,ri,(t=>n(0,s=t))),u(t,Le,(t=>n(1,r=t))),u(t,Jr,(t=>n(6,o=t)));var i=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let c,l,a,f;return t.$$.update=()=>{3&t.$$.dirty&&(r?(n(4,a=s.binaryOpcode()),n(5,f=s.binaryOperand())):s.opcode&&(n(4,a=s.opcode.symbolic),s.opcode.takesOperand?s.immediateFlag()?n(5,f=`#${s.numericOperand()}`):n(5,f=`${s.numericOperand()}`):n(5,f="")))},[s,r,c,l,a,f,o,function(){return i(this,void 0,void 0,(function*(){if(c)return yi(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return i(this,void 0,void 0,(function*(){if(l)return yi(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){rt[t?"unshift":"push"]((()=>{c=t,n(2,c)}))},function(t){rt[t?"unshift":"push"]((()=>{l=t,n(3,l)}))}]}class ki extends Ut{constructor(t){super(),Rt(this,t,_i,xi,c,{flashOpcode:7,flashOperand:8})}get flashOpcode(){return this.$$.ctx[7]}get flashOperand(){return this.$$.ctx[8]}}function Ai(e){let n,s,r;return s=new si({props:{text:"Control Unit / Decoder"}}),{c(){n=L("div"),Ct(s.$$.fragment),M(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(t,o){I(t,n,o),Ot(s,n,null),e[2](n),r=!0},p:t,i(t){r||(xt(s.$$.fragment,t),r=!0)},o(t){_t(s.$$.fragment,t),r=!1},d(t){t&&C(n),Lt(s),e[2](null)}}}function Si(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let r;return[r,function(){return s(this,void 0,void 0,(function*(){return yi(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){rt[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class Ei extends Ut{constructor(t){super(),Rt(this,t,Si,Ai,c,{flash:1})}get flash(){return this.$$.ctx[1]}}var Ti=Pt([]),Ni={subscribe:Ti.subscribe,push:function(t){Ti.update((function(e){return re(re([],e,!0),[t],!1)}))}},Ii=Pt({showLogger:!1}),Ci={subscribe:Ii.subscribe,updateShowLogger:function(t){Ii.update((function(e){return ee(ee({},e),{showLogger:t(e.showLogger)})}))}},Oi=Date.now(),Li=["EXECUTION","USER_INPUT","DEBUG","UNCAUGHT"],Di=["UNCHECKED_ERROR","CHECKED_ERROR","INFO"];function Ri(){return Date.now()-Oi}var Ui={error:function(t,e,n){void 0===n&&(n=!1),Ni.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:e,timestamp:Ri(),message:n?t.message:t.stack})},info:function(t,e){Ni.push({logType:"INFO",logGroup:e,timestamp:Ri(),message:t})}};function Bi(t){let e,n=(t[0]?t[1].toBinaryString():t[1].signed())+"";return{c(){e=R(n)},m(t,n){I(t,e,n)},p(t,s){3&s&&n!==(n=(t[0]?t[1].toBinaryString():t[1].signed())+"")&&F(e,n)},d(t){t&&C(e)}}}function Pi(t){let e,n,s;return{c(){e=L("input"),M(e,"type","text"),M(e,"class","w-[170px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(r,o){I(r,e,o),j(e,t[4]),n||(s=[w(Qi.call(null,e)),w(Fi.call(null,e)),P(e,"input",t[8]),P(e,"input",t[6]),P(e,"focusout",t[5])],n=!0)},p(t,n){16&n&&e.value!==t[4]&&j(e,t[4])},d(t){t&&C(e),n=!1,o(s)}}}function Mi(t){let e,n,s,r,o,i;function c(t,e){return t[3]?Pi:Bi}n=new si({props:{text:"ACC",top:"-25px",left:"0"}});let l=c(t),a=l(t);return{c(){e=L("div"),Ct(n.$$.fragment),s=U(),a.c(),M(e,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center cursor-text ")},m(c,l){I(c,e,l),Ot(n,e,null),E(e,s),a.m(e,null),t[9](e),r=!0,o||(i=P(e,"click",t[10]),o=!0)},p(t,[n]){l===(l=c(t))&&a?a.p(t,n):(a.d(1),a=l(t),a&&(a.c(),a.m(e,null)))},i(t){r||(xt(n.$$.fragment,t),r=!0)},o(t){_t(n.$$.fragment,t),r=!1},d(s){s&&C(e),Lt(n),a.d(),t[9](null),o=!1,i()}}}function Qi(t){t.focus()}function Fi(t){t.select()}function ji(t,e,n){let s,r,o,i;u(t,Le,(t=>n(0,s=t))),u(t,fi,(t=>n(1,r=t))),u(t,Wt,(t=>n(11,o=t))),u(t,Jr,(t=>n(12,i=t)));var c=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let l,a,f=!1;function d(){n(4,a=s?r.toBinaryString():r.signed().toString())}d();return t.$$.update=()=>{2&t.$$.dirty&&d(),1&t.$$.dirty&&d()},[s,r,l,f,a,function(){try{if(Ui.info(`Accumulator input: "${a}"`,"USER_INPUT"),""===a)return d(),void n(3,f=!1);let t;try{t=new io(16,s?a:parseInt(a)),fi.set(t)}catch(t){throw new ie(i.errors.user_input.invalid_acc_value)}}catch(t){null==o||o.error(t.message),Ui.error(t,"USER_INPUT",t.isChecked),d()}finally{n(3,f=!1)}},function(){n(4,a=s?a.replace(/[^10]/g,"").slice(0,16):a.replace(/[^\d\-]/g,"").slice(0,6))},function(){return c(this,void 0,void 0,(function*(){return yi(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){a=this.value,n(4,a)},function(t){rt[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},()=>n(3,f=!0)]}class Ki extends Ut{constructor(t){super(),Rt(this,t,ji,Mi,c,{flash:7})}get flash(){return this.$$.ctx[7]}}function Wi(e){let n,s,r,o=(e[1]?e[2].toBinaryString():e[2].unsigned())+"";return{c(){n=L("div"),s=R("+"),r=R(o),M(n,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(t,o){I(t,n,o),E(n,s),E(n,r),e[4](n)},p(t,[e]){6&e&&o!==(o=(t[1]?t[2].toBinaryString():t[2].unsigned())+"")&&F(r,o)},i:t,o:t,d(t){t&&C(n),e[4](null)}}}function Hi(t,e,n){let s,r;u(t,Le,(t=>n(1,s=t))),u(t,ii,(t=>n(2,r=t)));var o=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let i;return[i,s,r,function(){return o(this,void 0,void 0,(function*(){return yi(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){rt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class qi extends Ut{constructor(t){super(),Rt(this,t,Hi,Wi,c,{flash:3})}get flash(){return this.$$.ctx[3]}}function Vi(t){let e,n,s,r,i,c,l,a,u,f,d,p,h,m,g,$,b,y,w,v=t[3]?"1":"0",x=t[2]?"1":"0";return n=new si({props:{text:"SW",top:"-25px",left:"0"}}),i=new si({props:{text:"Z",bottom:"-21px",left:"25%"}}),f=new si({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),r=L("div"),Ct(i.$$.fragment),c=U(),l=R(v),a=U(),u=L("div"),Ct(f.$$.fragment),d=U(),p=R(x),h=U(),m=L("div"),m.textContent="------",g=U(),$=L("div"),M(r,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md cursor-pointer"),M(u,"class","relative h-full flex items-center justify-center w-[19%] cursor-pointer"),M(m,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md"),M(e,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center "),M($,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black pointer-events-none")},m(o,v){I(o,e,v),Ot(n,e,null),E(e,s),E(e,r),Ot(i,r,null),E(r,c),E(r,l),t[8](r),E(e,a),E(e,u),Ot(f,u,null),E(u,d),E(u,p),t[9](u),E(e,h),E(e,m),I(o,g,v),I(o,$,v),b=!0,y||(w=[P(r,"click",t[4]),P(u,"click",t[5])],y=!0)},p(t,[e]){(!b||8&e)&&v!==(v=t[3]?"1":"0")&&F(l,v),(!b||4&e)&&x!==(x=t[2]?"1":"0")&&F(p,x)},i(t){b||(xt(n.$$.fragment,t),xt(i.$$.fragment,t),xt(f.$$.fragment,t),b=!0)},o(t){_t(n.$$.fragment,t),_t(i.$$.fragment,t),_t(f.$$.fragment,t),b=!1},d(s){s&&C(e),Lt(n),Lt(i),t[8](null),Lt(f),t[9](null),s&&C(g),s&&C($),y=!1,o(w)}}}function Gi(t,e,n){let s,r;u(t,pi,(t=>n(2,s=t))),u(t,di,(t=>n(3,r=t)));var o=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};function i(){return o(this,void 0,void 0,(function*(){return yi(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}function c(){return o(this,void 0,void 0,(function*(){return yi(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}let l,a;return[l,a,s,r,function(){Ui.info(`Toggled zero flag: "${!r}"`,"USER_INPUT"),y(di,r=!r,r),i()},function(){Ui.info(`Toggled negative flag: "${!s}"`,"USER_INPUT"),y(pi,s=!s,s),c()},i,c,function(t){rt[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){rt[t?"unshift":"push"]((()=>{a=t,n(1,a)}))}]}class Xi extends Ut{constructor(t){super(),Rt(this,t,Gi,Vi,c,{flashZeroFlag:6,flashNegativeFlag:7})}get flashZeroFlag(){return this.$$.ctx[6]}get flashNegativeFlag(){return this.$$.ctx[7]}}function Ji(t){let e,n=(t[0]?t[1].toBinaryString():t[1].unsigned())+"";return{c(){e=R(n)},m(t,n){I(t,e,n)},p(t,s){3&s&&n!==(n=(t[0]?t[1].toBinaryString():t[1].unsigned())+"")&&F(e,n)},d(t){t&&C(e)}}}function zi(t){let e,n,s;return{c(){e=L("input"),M(e,"type","text"),M(e,"class","w-[100px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(r,o){I(r,e,o),j(e,t[4]),n||(s=[w(Yi.call(null,e)),w(tc.call(null,e)),P(e,"input",t[8]),P(e,"input",t[6]),P(e,"focusout",t[5])],n=!0)},p(t,n){16&n&&e.value!==t[4]&&j(e,t[4])},d(t){t&&C(e),n=!1,o(s)}}}function Zi(t){let e,n,s,r,o,i;function c(t,e){return t[3]?zi:Ji}n=new si({props:{text:"PC",top:"-25px",left:"0"}});let l=c(t),a=l(t);return{c(){e=L("div"),Ct(n.$$.fragment),s=U(),a.c(),M(e,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center cursor-text ")},m(c,l){I(c,e,l),Ot(n,e,null),E(e,s),a.m(e,null),t[9](e),r=!0,o||(i=P(e,"click",t[10]),o=!0)},p(t,[n]){l===(l=c(t))&&a?a.p(t,n):(a.d(1),a=l(t),a&&(a.c(),a.m(e,null)))},i(t){r||(xt(n.$$.fragment,t),r=!0)},o(t){_t(n.$$.fragment,t),r=!1},d(s){s&&C(e),Lt(n),a.d(),t[9](null),o=!1,i()}}}function Yi(t){t.focus()}function tc(t){t.select()}function ec(t,e,n){let s,r,o,i;u(t,Le,(t=>n(0,s=t))),u(t,oi,(t=>n(1,r=t))),u(t,Wt,(t=>n(11,o=t))),u(t,Jr,(t=>n(12,i=t)));var c=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let l,a,f=!1;function d(){n(4,a=s?r.toBinaryString():r.unsigned().toString())}d();return t.$$.update=()=>{2&t.$$.dirty&&d(),1&t.$$.dirty&&d()},[s,r,l,f,a,function(){try{if(Ui.info(`ProgramCounter input: "${a}"`,"USER_INPUT"),""===a)return d(),void n(3,f=!1);let t;try{t=new io(8,s?a:parseInt(a))}catch(t){throw new ie(i.errors.user_input.invalid_pc_value)}if(!_e(t.unsigned()))throw new ie(i.errors.user_input.invalid_pc_value);oi.set(t)}catch(t){null==o||o.error(t.message),Ui.error(t,"USER_INPUT",t.isChecked),d()}finally{n(3,f=!1)}},function(){n(4,a=s?a.replace(/[^10]/g,"").slice(0,8):a.replace(/\D/g,"").slice(0,3))},function(){return c(this,void 0,void 0,(function*(){return yi(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){a=this.value,n(4,a)},function(t){rt[t?"unshift":"push"]((()=>{l=t,n(2,l)}))},()=>n(3,f=!0)]}class nc extends Ut{constructor(t){super(),Rt(this,t,ec,Zi,c,{flash:7})}get flash(){return this.$$.ctx[7]}}function sc(e){let n,s,r,o,i,c;return i=new si({props:{text:"MUX"}}),{c(){n=L("div"),s=D("svg"),r=D("path"),o=U(),Ct(i.$$.fragment),M(r,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),M(s,"viewBox","-1 -1 102 42"),M(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(t,l){I(t,n,l),E(n,s),E(s,r),e[2](s),E(n,o),Ot(i,n,null),c=!0},p:t,i(t){c||(xt(i.$$.fragment,t),c=!0)},o(t){_t(i.$$.fragment,t),c=!1},d(t){t&&C(n),e[2](null),Lt(i)}}}function rc(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let r;return[r,function(){return s(this,void 0,void 0,(function*(){return yi(r,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){rt[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class oc extends Ut{constructor(t){super(),Rt(this,t,rc,sc,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function ic(t){let e,n,s,r,o,i,c,l,a,u,f,d,p,h,m,g,$,b=(t[3]?cc(t[4].toBinaryString()):t[4].signed())+"",y=(t[3]?cc(t[6].toBinaryString()):t[6].signed())+"";return o=new si({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){e=L("div"),n=D("svg"),s=D("path"),r=U(),Ct(o.$$.fragment),i=U(),c=L("div"),l=R(b),u=U(),f=L("div"),d=R(t[5]),p=U(),h=L("div"),m=R(y),M(s,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),M(n,"viewBox","-1 -1 450 162"),M(c,"class",a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),M(f,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),M(h,"class",g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),M(e,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(a,g){I(a,e,g),E(e,n),E(n,s),E(e,r),Ot(o,e,null),E(e,i),E(e,c),E(c,l),t[10](c),E(e,u),E(e,f),E(f,d),t[11](f),E(e,p),E(e,h),E(h,m),t[12](h),$=!0},p(t,[e]){(!$||24&e)&&b!==(b=(t[3]?cc(t[4].toBinaryString()):t[4].signed())+"")&&F(l,b),(!$||8&e&&a!==(a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&M(c,"class",a),(!$||32&e)&&F(d,t[5]),(!$||72&e)&&y!==(y=(t[3]?cc(t[6].toBinaryString()):t[6].signed())+"")&&F(m,y),(!$||8&e&&g!==(g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&M(h,"class",g)},i(t){$||(xt(o.$$.fragment,t),$=!0)},o(t){_t(o.$$.fragment,t),$=!1},d(n){n&&C(e),Lt(o),t[10](null),t[11](null),t[12](null)}}}function cc(t){return[t.slice(0,8),t.slice(8)].join(" ")}function lc(t,e,n){let s,r,o,i;u(t,Le,(t=>n(3,s=t))),u(t,ci,(t=>n(4,r=t))),u(t,ai,(t=>n(5,o=t))),u(t,li,(t=>n(6,i=t)));var c=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let l,a,f;return[l,a,f,s,r,o,i,function(){return c(this,void 0,void 0,(function*(){return yi(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return c(this,void 0,void 0,(function*(){return yi(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return c(this,void 0,void 0,(function*(){return yi(f,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){rt[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){rt[t?"unshift":"push"]((()=>{f=t,n(2,f)}))},function(t){rt[t?"unshift":"push"]((()=>{a=t,n(1,a)}))}]}class ac extends Ut{constructor(t){super(),Rt(this,t,lc,ic,c,{flashFirstOperand:7,flashSecondOperand:8,flashOperator:9})}get flashFirstOperand(){return this.$$.ctx[7]}get flashSecondOperand(){return this.$$.ctx[8]}get flashOperator(){return this.$$.ctx[9]}}var uc=function(){function t(){this._conditions=[],this._endsStep=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}return t.prototype.condition=function(t){return this._conditions.push(t),this},t.prototype.endstep=function(){return this._endsStep=!0,this},t.prototype.sideffects=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._sideffects).push.apply(t,e),this},t.prototype.waitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_before).push.apply(t,e),this},t.prototype.thenWaitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_after).push.apply(t,e),this},t.prototype.execute=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return this._conditions.reduceRight((function(t,e){return t&&e()}),!0)?(Ui.info("Executing: ".concat(this.toString()),"EXECUTION"),[4,Promise.all(this._waits_before.map((function(t){return t()})))]):(Ui.info("Skipping: ".concat(this.toString()),"EXECUTION"),[2]);case 1:return t.sent(),[4,Promise.all(re(re([],this._sideffects.map((function(t){return t.execute()})),!0),[this.action()],!1))];case 2:return t.sent(),[2,Promise.all(this._waits_after.map((function(t){return t()})))]}}))}))},t.prototype.doesEndStep=function(){return this._endsStep},t.prototype.toString=function(){return"".concat(this.constructor.name)},t}();function fc(){return a(gi.zeroFlag)}function dc(){return a(gi.negativeFlag)}function pc(){return a(Be)}function hc(){return a(Qe)}function mc(t){return function(){return!t()}}var gc=function(t){function e(){var e=t.call(this)||this;return e.condition(mc(pc)),e}return te(e,t),e}(uc),$c=function(t){function e(e){var n=t.call(this)||this;return n.component=e,n}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return[2,a(Qt).flash(this.component)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component)},e}(gc);function bc(t){let e,n,s,r,o,i,c,l,a,u,f,d,p,h,m,g,$,b,y,w,v;r=new si({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});i=new ki({props:{}}),t[9](i);l=new Ei({props:{}}),t[10](l);u=new nc({props:{}}),t[11](u);d=new qi({props:{}}),t[12](d);h=new oc({props:{}}),t[13](h);g=new ac({props:{}}),t[14](g);b=new Xi({props:{}}),t[15](b);return w=new Ki({props:{}}),t[16](w),{c(){e=L("div"),n=U(),s=L("div"),Ct(r.$$.fragment),o=U(),Ct(i.$$.fragment),c=U(),Ct(l.$$.fragment),a=U(),Ct(u.$$.fragment),f=U(),Ct(d.$$.fragment),p=U(),Ct(h.$$.fragment),m=U(),Ct(g.$$.fragment),$=U(),Ct(b.$$.fragment),y=U(),Ct(w.$$.fragment),M(e,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),M(s,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(t,x){I(t,e,x),I(t,n,x),I(t,s,x),Ot(r,s,null),E(s,o),Ot(i,s,null),E(s,c),Ot(l,s,null),E(s,a),Ot(u,s,null),E(s,f),Ot(d,s,null),E(s,p),Ot(h,s,null),E(s,m),Ot(g,s,null),E(s,$),Ot(b,s,null),E(s,y),Ot(w,s,null),v=!0},p(t,[e]){i.$set({});l.$set({});u.$set({});d.$set({});h.$set({});g.$set({});b.$set({});w.$set({})},i(t){v||(xt(r.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),xt(u.$$.fragment,t),xt(d.$$.fragment,t),xt(h.$$.fragment,t),xt(g.$$.fragment,t),xt(b.$$.fragment,t),xt(w.$$.fragment,t),v=!0)},o(t){_t(r.$$.fragment,t),_t(i.$$.fragment,t),_t(l.$$.fragment,t),_t(u.$$.fragment,t),_t(d.$$.fragment,t),_t(h.$$.fragment,t),_t(g.$$.fragment,t),_t(b.$$.fragment,t),_t(w.$$.fragment,t),v=!1},d(o){o&&C(e),o&&C(n),o&&C(s),Lt(r),t[9](null),Lt(i),t[10](null),Lt(l),t[11](null),Lt(u),t[12](null),Lt(d),t[13](null),Lt(h),t[14](null),Lt(g),t[15](null),Lt(b),t[16](null),Lt(w)}}}function yc(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let r,o,i,c,l,a,u,f;return[r,o,i,c,l,a,u,f,function(t){return s(this,void 0,void 0,(function*(){switch(t){case"IR":return Promise.all([r.flashOpcode(),r.flashOperand()]);case"IR:OPC":return r.flashOpcode();case"IR:OPR":return r.flashOperand();case"PC":return i.flash();case"INC":return c.flash();case"MUX":return l.flash();case"CU":return o.flash();case"ALU:1":return a.flashFirstOperand();case"ALU:2":return a.flashSecondOperand();case"ALU:OPR":return a.flashOperator();case"ACC":return f.flash();case"SW:Z":return u.flashZeroFlag();case"SW:N":return u.flashNegativeFlag()}}))},function(t){rt[t?"unshift":"push"]((()=>{r=t,n(0,r)}))},function(t){rt[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(t){rt[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){rt[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(t){rt[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){rt[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(t){rt[t?"unshift":"push"]((()=>{u=t,n(6,u)}))},function(t){rt[t?"unshift":"push"]((()=>{f=t,n(7,f)}))}]}class wc extends Ut{constructor(t){super(),Rt(this,t,yc,bc,c,{flash:8})}get flash(){return this.$$.ctx[8]}}function vc(t){const e=t-1;return e*e*e+1}function xc(t,{delay:n=0,duration:s=400,easing:r=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:r,css:t=>"opacity: "+t*o}}function _c(t,{delay:e=0,duration:n=400,easing:s=vc}={}){const r=getComputedStyle(t),o=+r.opacity,i=parseFloat(r.height),c=parseFloat(r.paddingTop),l=parseFloat(r.paddingBottom),a=parseFloat(r.marginTop),u=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),d=parseFloat(r.borderBottomWidth);return{delay:e,duration:n,easing:s,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*i}px;padding-top: ${t*c}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}var kc={address:null,column:"CELL"},Ac=Pt(kc),Sc=Ac.subscribe;Ac.set;var Ec=Ac.update;function Tc(t){Ec(t),kc=t(kc)}var Nc={subscribe:Sc,selectUp:function(){Tc((function(t){var e=t.address-=2;return ee(ee({},t),{address:e<0?0:e})}))},selectDown:function(){Tc((function(t){var e=t.address+=2;return ee(ee({},t),{address:e>ve?ve:e})}))},selectLeft:function(){Tc((function(t){return ee(ee({},t),{column:"LABEL"})}))},selectRight:function(){Tc((function(t){return ee(ee({},t),{column:"CELL"})}))},select:function(t,e){if(void 0===e&&(e="CELL"),!_e(t))throw new Error("Invalid address");Tc((function(n){return ee(ee({},n),{address:t,column:e})}))},deselect:function(){Tc((function(t){return ee(ee({},t),{address:null})}))},noSelection:function(){return null===kc.address},isSelected:function(t,e){return kc.address===t&&kc.column===e}},Ic=Pt([]),Cc=Ic.subscribe,Oc=Ic.set,Lc=Ic.update,Dc=[];function Rc(t){Lc(t),Dc=t(Dc)}function Uc(t,e){if(!_e(t))throw new Error("Invalid address: "+t);var n=xe(t);Rc((function(t){return t.map((function(t,s){return n===s?e:t}))}))}function Bc(t){if(!_e(t))throw new Error("Invalid address: "+t);return Dc[xe(t)]}function Pc(){for(var t=xe(0);t<=xe(ve);t++)Dc[t]=ro("NOP");var e;Oc(e=Dc),Dc=e}Pc();var Mc={subscribe:Cc,read:Bc,write:Uc,clear:Pc,updateLabels:function(t,e){Rc((function(n){return n.map((function(n){return n.symbolicOperand===t?new ke(n.symbolicOpcode,e,n.value):n.symbolicOperand==="#"+t?new ke(n.symbolicOpcode,"#"+e,n.value):n}))}))},deleteLabel:function(t){Rc((function(e){return e.map((function(e){return e.symbolicOperand===t?new ke(e.symbolicOpcode,e.numericOperand().toString(),e.value):e.symbolicOperand==="#"+t?new ke(e.symbolicOpcode,"#"+e.numericOperand(),e.value):e}))}))},importInstructions:function(t){Pc();for(var e=0;e<=ve;e+=2)Uc(e,t[e]||ro("NOP"))},exportInstructions:function(){for(var t=[],e=0;e<=ve;e+=2)t[e]=Bc(e);return t},moveFirstHalfUpFromAddress:function(t){console.log("moveFirstHalfUpFromAddress "+t)},moveFirstHalfDownFromAddress:function(t){console.log("moveFirstHalfDownFromAddress "+t)},moveSecondHalfUpFromAddress:function(t){console.log("moveSecondHalfUpFromAddress "+t)},moveSecondHalfDownFromAddress:function(t){console.log("moveSecondHalfDownFromAddress "+t)}},Qc=Pt([]);function Fc(t){return a(Qc)[t]}function jc(t){if(""===t)return-1;var e=a(Qc).findIndex((function(e){return e===t}));return-1===e?-1:e}function Kc(t){return-1!==jc(t)}function Wc(){for(var t=[],e=0;e<=ve;e+=2)t[e]="";Qc.set(t)}Wc();var Hc={subscribe:Qc.subscribe,getLabel:Fc,getAddress:jc,setLabel:function(t,e){var n=Fc(t);if(n!==e){if(Kc(e))throw new ie(a(Jr).errors.symbol_table.label_already_exists);Qc.update((function(n){return n[t]=e,n})),""!==n&&(""===e?Mc.deleteLabel(n):Mc.updateLabels(n,e))}},hasLabel:Kc,clear:Wc,importLabels:function(t){Qc.set(re([],t,!0))},exportLabels:function(){return re([],a(Qc),!0)}};function qc(e){let n,s,r,o;return{c(){n=L("button"),n.innerHTML='<svg class="fill-black/30 w-6 h-6 transition-colors hover:fill-black"><rect class="fill-transparent h-6 w-6"></rect><path d="M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"></path></svg>',M(n,"class","absolute right-0 cursor-pointer w-6 h-6")},m(t,s){I(t,n,s),r||(o=P(n,"click",e[7]),r=!0)},p(t,n){e=t},i(t){s||at((()=>{s=At(n,e[9],{condition:e[14]}),s.start()}))},o:t,d(t){t&&C(n),r=!1,o()}}}function Vc(e){let n,s,r,i,c,l=e[5][e[0]]+"";return{c(){n=L("div"),s=R(l),r=R(" :"),M(n,"class","absolute right-0 h-[28px] w-[150px] flex items-center justify-start p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right cursor-text ")},m(t,o){I(t,n,o),E(n,s),E(n,r),i||(c=[P(n,"input",e[8]),P(n,"click",e[7])],i=!0)},p(t,e){33&e&&l!==(l=t[5][t[0]]+"")&&F(s,l)},i:t,o:t,d(t){t&&C(n),i=!1,o(c)}}}function Gc(n){let s,r,c,l,a,u;return{c(){s=L("input"),M(s,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right  svelte-bheimv")},m(t,e){I(t,s,e),j(s,n[3]),l=!0,a||(u=[P(s,"input",n[11]),P(s,"input",n[8]),P(s,"focusout",n[6]),w(Jc.call(null,s))],a=!0)},p(t,e){n=t,8&e&&s.value!==n[3]&&j(s,n[3])},i(t){l||(at((()=>{c&&c.end(1),r=At(s,zc,{condition:n[12]}),r.start()})),l=!0)},o(a){r&&r.invalidate(),c=function(n,s,r){let c,l=s(n,r),a=!0;const u=yt;function f(){const{delay:s=0,duration:r=300,easing:i=e,tick:f=t,css:d}=l||kt;d&&(c=J(n,1,0,r,s,i,d));const p=x()+s,h=p+r;at((()=>$t(n,!1,"start"))),S((t=>{if(a){if(t>=h)return f(0,1),$t(n,!1,"end"),--u.r||o(u.c),!1;if(t>=p){const e=i((t-p)/r);f(1-e,e)}}return a}))}return u.r+=1,i(l)?gt().then((()=>{l=l(),f()})):f(),{end(t){t&&l.tick&&l.tick(1,0),a&&(c&&z(n,c),a=!1)}}}(s,zc,{condition:n[13]}),l=!1},d(t){t&&C(s),t&&c&&c.end(),a=!1,o(u)}}}function Xc(t){let e,n,s,r,o;const i=[Gc,Vc,qc],c=[];function l(t,e){return t[2]?0:t[1]?1:2}return n=l(t),s=c[n]=i[n](t),{c(){e=L("div"),s.c(),M(e,"class",r="relative h-[30px] flex items-center "+t[10].class+" svelte-bheimv")},m(t,s){I(t,e,s),c[n].m(e,null),o=!0},p(t,[a]){let u=n;n=l(t),n===u?c[n].p(t,a):(wt(),_t(c[u],1,1,(()=>{c[u]=null})),vt(),s=c[n],s?s.p(t,a):(s=c[n]=i[n](t),s.c()),xt(s,1),s.m(e,null)),(!o||1024&a&&r!==(r="relative h-[30px] flex items-center "+t[10].class+" svelte-bheimv"))&&M(e,"class",r)},i(t){o||(xt(s),o=!0)},o(t){_t(s),o=!1},d(t){t&&C(e),c[n].d()}}}function Jc(t){t.focus()}function zc(t,{condition:e=(()=>!0)}){return{delay:0,duration:e()?200:0,css:t=>`transform: scaleX(${t})`}}function Zc(t,e,s){const r=["address","label","isSelected"];let o,i,c=$(e,r);u(t,Wt,(t=>s(15,o=t))),u(t,Hc,(t=>s(5,i=t)));let l,a,{address:f}=e,{label:d}=e,{isSelected:p}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(10,c=$(e,r)),"address"in t&&s(0,f=t.address),"label"in t&&s(1,d=t.label),"isSelected"in t&&s(2,p=t.isSelected)},t.$$.update=()=>{2&t.$$.dirty&&s(3,l=d),1&t.$$.dirty&&(s(4,a=!1),s(3,l=d)),4&t.$$.dirty&&p&&s(3,l=d)},[f,d,p,l,a,i,function(){try{Ui.info(`RamLabel input: "${l}"`,"USER_INPUT"),Hc.setLabel(f,l)}catch(t){null==o||o.error(t.message),Ui.error(t,"USER_INPUT",t.isChecked),s(3,l=d)}finally{Nc.isSelected(f,"LABEL")&&Nc.deselect()}},function(){Nc.select(f,"LABEL")},function(){s(3,l=l.toUpperCase().replace(/[^A-Z_]/g,"").slice(0,10))},function(t,{condition:e=(()=>!0)}){return e()?xc(t,{delay:150}):null},c,function(){l=this.value,s(3,l)},()=>!i[f],()=>!i[f],()=>{const t=a;return s(4,a=!0),!p&&t}]}class Yc extends Ut{constructor(t){super(),Rt(this,t,Zc,Xc,c,{address:0,label:1,isSelected:2})}}function tl(e){let n,s,r,o=(e[3]?new io(8,e[0]).toBinaryString():e[0])+"";return{c(){n=L("div"),s=R(o),M(n,"class",r="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 "+e[4].class+" svelte-1v2acx4"),K(n,"background-color",e[2],!1)},m(t,r){I(t,n,r),E(n,s),e[7](n)},p(t,[e]){9&e&&o!==(o=(t[3]?new io(8,t[0]).toBinaryString():t[0])+"")&&F(s,o),16&e&&r!==(r="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 "+t[4].class+" svelte-1v2acx4")&&M(n,"class",r),4&e&&K(n,"background-color",t[2],!1)},i:t,o:t,d(t){t&&C(n),e[7](null)}}}function el(t,e,s){const r=["address","getAddress","flash"];let o,i,c=$(e,r);u(t,xo,(t=>s(2,o=t))),u(t,Le,(t=>s(3,i=t)));var l=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let a,{address:f}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(4,c=$(e,r)),"address"in t&&s(0,f=t.address)},[f,a,o,i,c,function(){return f},function(){return l(this,void 0,void 0,(function*(){return yi(a,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(t){rt[t?"unshift":"push"]((()=>{a=t,s(1,a)}))}]}class nl extends Ut{constructor(t){super(),Rt(this,t,el,tl,c,{address:0,getAddress:5,flash:6})}get getAddress(){return this.$$.ctx[5]}get flash(){return this.$$.ctx[6]}}function sl(t){let e,n,s,r,o=t[3]&&ol(t);return{c(){e=L("div"),n=R(t[4]),s=U(),o&&o.c(),r=B(),M(e,"class","h-[30px] w-[190px] flex items-center justify-start pl-[10px]")},m(t,i){I(t,e,i),E(e,n),I(t,s,i),o&&o.m(t,i),I(t,r,i)},p(t,e){16&e&&F(n,t[4]),t[3]?o?o.p(t,e):(o=ol(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){t&&C(e),t&&C(s),o&&o.d(t),t&&C(r)}}}function rl(t){let e,n,s;return{c(){e=L("input"),M(e,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(r,o){I(r,e,o),j(e,t[2]),n||(s=[P(e,"input",t[14]),P(e,"focusout",t[5]),P(e,"input",t[7]),w(cl.call(null,e)),w(ll.call(null,e))],n=!0)},p(t,n){4&n&&e.value!==t[2]&&j(e,t[2])},d(t){t&&C(e),n=!1,o(s)}}}function ol(t){let e,n;return{c(){e=L("div"),n=R(t[3]),M(e,"class","h-[30px] w-[190px] flex items-center justify-start overflow-hidden")},m(t,s){I(t,e,s),E(e,n)},p(t,e){8&e&&F(n,t[3])},d(t){t&&C(e)}}}function il(e){let n,s,r,o;function i(t,e){return t[0]?rl:sl}let c=i(e),l=c(e);return{c(){n=L("div"),l.c(),M(n,"class",s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+e[8].class+" svelte-67wtpq")},m(t,s){I(t,n,s),l.m(n,null),e[15](n),r||(o=P(n,"click",e[6]),r=!0)},p(t,[e]){c===(c=i(t))&&l?l.p(t,e):(l.d(1),l=c(t),l&&(l.c(),l.m(n,null))),256&e&&s!==(s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+t[8].class+" svelte-67wtpq")&&M(n,"class",s)},i:t,o:t,d(t){t&&C(n),l.d(),e[15](null),r=!1,o()}}}function cl(t){t.focus()}function ll(t){t.select()}function al(t,e,s){let r,o;const i=["address","instruction","isSelected","flash","getAddress"];let c,l,a,f=$(e,i);u(t,Wt,(t=>s(16,c=t))),u(t,Hc,(t=>s(17,l=t))),u(t,Le,(t=>s(13,a=t)));var d=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let p,h,{address:m}=e,{instruction:b}=e,{isSelected:y}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(8,f=$(e,i)),"address"in t&&s(9,m=t.address),"instruction"in t&&s(10,b=t.instruction),"isSelected"in t&&s(0,y=t.isSelected)},t.$$.update=()=>{9216&t.$$.dirty&&s(4,r=a?b.binaryOpcode():b.symbolicOpcode),9216&t.$$.dirty&&s(3,o=a?b.binaryOperand():b.symbolicOperand),1&t.$$.dirty&&y&&s(2,h=r+(o?` ${o}`:"")),1024&t.$$.dirty&&s(2,h=r+(o?` ${o}`:"")),512&t.$$.dirty&&s(2,h=r+(o?` ${o}`:""))},[y,p,h,o,r,function(){try{""!==h&&(Ui.info(`RamCell input: "${h}"`,"USER_INPUT"),a?Mc.write(m,oo(h.trim())):Mc.write(m,ro(h.trim(),l)))}catch(t){null==c||c.error(t.message),Ui.error(t,"USER_INPUT",t.isChecked)}finally{Nc.isSelected(m,"CELL")&&Nc.deselect()}},function(){Nc.select(m,"CELL")},function(){s(2,h=h.toUpperCase().replace(/[^A-Z0-9 _\-#\(\)]*/g,""))},f,m,b,function(){return d(this,void 0,void 0,(function*(){return yi(p,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return m},a,function(){h=this.value,s(2,h)},function(t){rt[t?"unshift":"push"]((()=>{p=t,s(1,p)}))}]}class ul extends Ut{constructor(t){super(),Rt(this,t,al,il,c,{address:9,instruction:10,isSelected:0,flash:11,getAddress:12})}get flash(){return this.$$.ctx[11]}get getAddress(){return this.$$.ctx[12]}}function fl(t){let e,n,s,r,i;const c=t[3].default,l=f(c,t,t[2],null);return{c(){e=L("button"),l&&l.c(),M(e,"class",n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class),e.disabled=t[0]},m(n,o){I(n,e,o),l&&l.m(e,null),s=!0,r||(i=[P(e,"click",t[4]),P(e,"focus",t[5]),P(e,"focusout",t[6]),P(e,"mouseenter",t[7]),P(e,"mouseleave",t[8]),P(e,"mouseover",t[9])],r=!0)},p(t,[r]){l&&l.p&&(!s||4&r)&&h(l,c,t,t[2],s?p(c,t[2],r,null):m(t[2]),null),(!s||2&r&&n!==(n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class))&&M(e,"class",n),(!s||1&r)&&(e.disabled=t[0])},i(t){s||(xt(l,t),s=!0)},o(t){_t(l,t),s=!1},d(t){t&&C(e),l&&l.d(t),r=!1,o(i)}}}function dl(t,e,s){const r=["disabled"];let o=$(e,r),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(1,o=$(e,r)),"disabled"in t&&s(0,l=t.disabled),"$$scope"in t&&s(2,c=t.$$scope)},[l,o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class pl extends Ut{constructor(t){super(),Rt(this,t,dl,fl,c,{disabled:0})}}function hl(t,e,n){const s=t.slice();return s[30]=e[n],s[31]=e,s[32]=n,s}function ml(t,e,n){const s=t.slice();return s[30]=e[n],s[33]=e,s[32]=n,s}function gl(t,e){let n,s,r,o=e[32];const i=()=>e[19](s,o),c=()=>e[19](null,o);let l={address:e[30],label:e[7][e[30]],isSelected:e[6].address===e[30]&&"LABEL"===e[6].column,class:"\n\t\t\t\t\t\t"+(e[30]===e[0]?"first-label":"")+"\n\t\t\t\t\t\t"+(e[30]===e[1]?"last-label":"")+"\n\t\t\t\t\t"};return s=new Yc({props:l}),i(),{key:t,first:null,c(){n=B(),Ct(s.$$.fragment),this.first=n},m(t,e){I(t,n,e),Ot(s,t,e),r=!0},p(t,n){o!==(e=t)[32]&&(c(),o=e[32],i());const r={};4&n[0]&&(r.address=e[30]),132&n[0]&&(r.label=e[7][e[30]]),68&n[0]&&(r.isSelected=e[6].address===e[30]&&"LABEL"===e[6].column),7&n[0]&&(r.class="\n\t\t\t\t\t\t"+(e[30]===e[0]?"first-label":"")+"\n\t\t\t\t\t\t"+(e[30]===e[1]?"last-label":"")+"\n\t\t\t\t\t"),s.$set(r)},i(t){r||(xt(s.$$.fragment,t),r=!0)},o(t){_t(s.$$.fragment,t),r=!1},d(t){t&&C(n),c(),Lt(s,t)}}}function $l(t,e){let n,s,r,o,i,c,l=e[32];const a=()=>e[20](s,l),u=()=>e[20](null,l);let f={address:e[30],class:"\n\t\t\t\t\t\t\t"+(e[30]===e[0]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(e[30]===e[1]?"last-address":"")+"\n\t\t\t\t\t\t"};s=new nl({props:f}),a();const d=()=>e[21](o,l),p=()=>e[21](null,l);let h={address:e[30],instruction:e[8][xe(e[30])],isSelected:e[6].address===e[30]&&"CELL"===e[6].column,class:"\n\t\t\t\t\t\t\t"+(e[30]===e[0]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(e[30]===e[1]?"last-cell":"")+"\n\t\t\t\t\t\t"};return o=new ul({props:h}),d(),{key:t,first:null,c(){n=L("div"),Ct(s.$$.fragment),r=U(),Ct(o.$$.fragment),i=U(),M(n,"class","flex flex-nowrap"),this.first=n},m(t,e){I(t,n,e),Ot(s,n,null),E(n,r),Ot(o,n,null),E(n,i),c=!0},p(t,n){l!==(e=t)[32]&&(u(),l=e[32],a());const r={};4&n[0]&&(r.address=e[30]),7&n[0]&&(r.class="\n\t\t\t\t\t\t\t"+(e[30]===e[0]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(e[30]===e[1]?"last-address":"")+"\n\t\t\t\t\t\t"),s.$set(r),l!==e[32]&&(p(),l=e[32],d());const i={};4&n[0]&&(i.address=e[30]),260&n[0]&&(i.instruction=e[8][xe(e[30])]),68&n[0]&&(i.isSelected=e[6].address===e[30]&&"CELL"===e[6].column),7&n[0]&&(i.class="\n\t\t\t\t\t\t\t"+(e[30]===e[0]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(e[30]===e[1]?"last-cell":"")+"\n\t\t\t\t\t\t"),o.$set(i)},i(t){c||(xt(s.$$.fragment,t),xt(o.$$.fragment,t),c=!0)},o(t){_t(s.$$.fragment,t),_t(o.$$.fragment,t),c=!1},d(t){t&&C(n),u(),Lt(s),p(),Lt(o)}}}function bl(t){let e,n=t[9].ram.buttons.clear.text+"";return{c(){e=R(n)},m(t,n){I(t,e,n)},p(t,s){512&s[0]&&n!==(n=t[9].ram.buttons.clear.text+"")&&F(e,n)},d(t){t&&C(e)}}}function yl(t){let e,n,s,r,i,c,l,a,u,f,d,p,h,m=[],g=new Map,$=[],b=new Map;n=new si({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let y=t[2];const v=t=>t[30];for(let e=0;e<y.length;e+=1){let n=ml(t,y,e),s=v(n);g.set(s,m[e]=gl(s,n))}let x=t[2];const _=t=>t[30];for(let e=0;e<x.length;e+=1){let n=hl(t,x,e),s=_(n);b.set(s,$[e]=$l(s,n))}return f=new pl({props:{title:t[9].ram.buttons.clear.title,$$slots:{default:[bl]},$$scope:{ctx:t}}}),f.$on("click",t[12]),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),r=L("div"),i=L("div");for(let t=0;t<m.length;t+=1)m[t].c();c=U(),l=L("div");for(let t=0;t<$.length;t+=1)$[t].c();a=U(),u=L("div"),Ct(f.$$.fragment),M(i,"class","flex flex-col items-end justify-center"),M(l,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),M(r,"class","flex"),M(u,"class","flex"),M(e,"class","absolute top-[115px] right-[50px] z-[3] flex flex-col items-center justify-center")},m(o,g){I(o,e,g),Ot(n,e,null),E(e,s),E(e,r),E(r,i);for(let t=0;t<m.length;t+=1)m[t].m(i,null);E(r,c),E(r,l);for(let t=0;t<$.length;t+=1)$[t].m(l,null);E(e,a),E(e,u),Ot(f,u,null),d=!0,p||(h=[P(r,"wheel",t[10]),w(t[11].call(null,e))],p=!0)},p(t,e){207&e[0]&&(y=t[2],wt(),m=Nt(m,e,v,1,t,y,g,i,Tt,gl,null,ml),vt()),375&e[0]&&(x=t[2],wt(),$=Nt($,e,_,1,t,x,b,l,Tt,$l,null,hl),vt());const n={};512&e[0]&&(n.title=t[9].ram.buttons.clear.title),512&e[0]|8&e[1]&&(n.$$scope={dirty:e,ctx:t}),f.$set(n)},i(t){if(!d){xt(n.$$.fragment,t);for(let t=0;t<y.length;t+=1)xt(m[t]);for(let t=0;t<x.length;t+=1)xt($[t]);xt(f.$$.fragment,t),d=!0}},o(t){_t(n.$$.fragment,t);for(let t=0;t<m.length;t+=1)_t(m[t]);for(let t=0;t<$.length;t+=1)_t($[t]);_t(f.$$.fragment,t),d=!1},d(t){t&&C(e),Lt(n);for(let t=0;t<m.length;t+=1)m[t].d();for(let t=0;t<$.length;t+=1)$[t].d();Lt(f),p=!1,o(h)}}}function wl(t,e,n){let s,r,o,i;u(t,Nc,(t=>n(6,s=t))),u(t,Hc,(t=>n(7,r=t))),u(t,Mc,(t=>n(8,o=t))),u(t,Jr,(t=>n(9,i=t)));var c=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};let l,a,f=[],d=[],p=0,h=[],m=[],g=[];var $;function b(){x(-1)}function y(){x(1)}function w(t){if(!_e(t))throw new Error("Invalid address");return t>=p&&t<=l}function v(t){return c(this,void 0,void 0,(function*(){if(!_e(t))throw new Error("Invalid address");if(w(t))return;let e=t,s=e+34;return s>ve&&(e-=s-ve),n(0,p=e),_(),new Promise(((t,e)=>{d.push(t)}))}))}function x(t){f.push(Nc.deselect);let e=p+(t>0?2:-2);e<0&&(e=0),e>220&&(e=220),n(0,p=e),_()}function _(){n(1,l=p+34),n(2,a=[]);for(let t=p,e=0;t<=l;t+=2,e++)n(2,a[e]=t,a)}return _(),$=()=>{f.forEach((t=>t())),f=[]},Y().$$.before_update.push($),function(t){Y().$$.after_update.push(t)}((()=>{d.forEach((t=>t())),d=[]})),[p,l,a,h,m,g,s,r,o,i,function({deltaY:t}){x(t)},function(t){const e=t=>{switch(t.key){case"ArrowUp":!function(t){Nc.noSelection()||(t.ctrlKey?Mc.moveSecondHalfUpFromAddress(s.address):t.shiftKey&&Mc.moveFirstHalfUpFromAddress(s.address),s.address===p&&b(),Nc.selectUp())}(t);break;case"ArrowDown":!function(t){Nc.noSelection()||(t.ctrlKey?Mc.moveSecondHalfDownFromAddress(s.address):t.shiftKey&&Mc.moveFirstHalfDownFromAddress(s.address),s.address===l&&y(),Nc.selectDown())}(t);break;case"Enter":Nc.noSelection()?Nc.select(p):Nc.deselect()}};return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}},function(){Mc.clear(),Hc.clear()},b,y,w,v,function(t){return c(this,void 0,void 0,(function*(){if(!_e(t))throw new Error("Invalid address");return v(t).then((()=>m.find((e=>e.getAddress()===t)).flash()))}))},function(t){return c(this,void 0,void 0,(function*(){if(!_e(t))throw new Error("Invalid address");return v(t).then((()=>g.find((e=>e.getAddress()===t)).flash()))}))},function(t,e){rt[t?"unshift":"push"]((()=>{h[e]=t,n(3,h)}))},function(t,e){rt[t?"unshift":"push"]((()=>{m[e]=t,n(4,m)}))},function(t,e){rt[t?"unshift":"push"]((()=>{g[e]=t,n(5,g)}))}]}class vl extends Ut{constructor(t){super(),Rt(this,t,wl,yl,c,{scrollUp:13,scrollDown:14,addressIsVisible:15,showAddress:16,flashAddress:17,flashContent:18},null,[-1,-1])}get scrollUp(){return this.$$.ctx[13]}get scrollDown(){return this.$$.ctx[14]}get addressIsVisible(){return this.$$.ctx[15]}get showAddress(){return this.$$.ctx[16]}get flashAddress(){return this.$$.ctx[17]}get flashContent(){return this.$$.ctx[18]}}function xl(t){let e,n,s=t[0].name+"";return{c(){e=L("span"),n=R(s),M(e,"class","text-fuchsia-500")},m(t,s){I(t,e,s),E(e,n)},p(t,e){1&e&&s!==(s=t[0].name+"")&&F(n,s)},d(t){t&&C(e)}}}function _l(t){let e,n,s,r,o,i,c,l=t[0].x+"",a=t[0].y+"";return{c(){e=L("span"),n=R("x: "),s=R(l),r=U(),o=L("span"),i=R("y: "),c=R(a),M(e,"class","text-blue-700"),M(o,"class","text-red-700")},m(t,l){I(t,e,l),E(e,n),E(e,s),I(t,r,l),I(t,o,l),E(o,i),E(o,c)},p(t,e){1&e&&l!==(l=t[0].x+"")&&F(s,l),1&e&&a!==(a=t[0].y+"")&&F(c,a)},d(t){t&&C(e),t&&C(r),t&&C(o)}}}function kl(e){let n,s,r,o,i,c,l=e[1]&&xl(e),a=e[2]&&_l(e);return{c(){n=L("div"),s=L("div"),o=U(),i=L("div"),l&&l.c(),c=U(),a&&a.c(),M(s,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),M(s,"title",r=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`),M(i,"class","relative left-[7px] top-[-10px] bg-white font-bold"),M(n,"class","absolute z-10"),K(n,"top",e[0].y+"px"),K(n,"left",e[0].x+"px")},m(t,e){I(t,n,e),E(n,s),E(n,o),E(n,i),l&&l.m(i,null),E(i,c),a&&a.m(i,null)},p(t,[e]){1&e&&r!==(r=`${t[0].name} x: ${t[0].x} y: ${t[0].y}`)&&M(s,"title",r),t[1]?l?l.p(t,e):(l=xl(t),l.c(),l.m(i,c)):l&&(l.d(1),l=null),t[2]?a?a.p(t,e):(a=_l(t),a.c(),a.m(i,null)):a&&(a.d(1),a=null),1&e&&K(n,"top",t[0].y+"px"),1&e&&K(n,"left",t[0].x+"px")},i:t,o:t,d(t){t&&C(n),l&&l.d(),a&&a.d()}}}function Al(t,e,n){let s,r;u(t,zt,(t=>n(1,s=t))),u(t,Zt,(t=>n(2,r=t)));let{node:o}=e;return t.$$set=t=>{"node"in t&&n(0,o=t.node)},[o,s,r]}class Sl extends Ut{constructor(t){super(),Rt(this,t,Al,kl,c,{node:0})}}function El(t,e,n){const s=t.slice();return s[7]=e[n],s}function Tl(t){let e,n,s=Ro,r=[];for(let e=0;e<s.length;e+=1)r[e]=Nl(El(t,s,e));const o=t=>_t(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=B()},m(t,s){for(let e=0;e<r.length;e+=1)r[e].m(t,s);I(t,e,s),n=!0},p(t,n){if(0&n){let i;for(s=Ro,i=0;i<s.length;i+=1){const o=El(t,s,i);r[i]?(r[i].p(o,n),xt(r[i],1)):(r[i]=Nl(o),r[i].c(),xt(r[i],1),r[i].m(e.parentNode,e))}for(wt(),i=s.length;i<r.length;i+=1)o(i);vt()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)xt(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)_t(r[t]);n=!1},d(t){O(r,t),t&&C(e)}}}function Nl(e){let n,s;return n=new Sl({props:{node:e[7]}}),{c(){Ct(n.$$.fragment)},m(t,e){Ot(n,t,e),s=!0},p:t,i(t){s||(xt(n.$$.fragment,t),s=!0)},o(t){_t(n.$$.fragment,t),s=!1},d(t){Lt(n,t)}}}function Il(t){let e,n,s,r,o,i,c,l;n=new ti({props:{}}),t[4](n);r=new wc({props:{}}),t[5](r);i=new vl({props:{}}),t[6](i);let a=t[3]&&Tl(t);return{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),o=U(),Ct(i.$$.fragment),c=U(),a&&a.c(),M(e,"class","absolute top-0 left-0 w-app h-app")},m(t,u){I(t,e,u),Ot(n,e,null),E(e,s),Ot(r,e,null),E(e,o),Ot(i,e,null),E(e,c),a&&a.m(e,null),l=!0},p(t,[s]){n.$set({});r.$set({});i.$set({}),t[3]?a?(a.p(t,s),8&s&&xt(a,1)):(a=Tl(t),a.c(),xt(a,1),a.m(e,null)):a&&(wt(),_t(a,1,1,(()=>{a=null})),vt())},i(t){l||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),xt(i.$$.fragment,t),xt(a),l=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(i.$$.fragment,t),_t(a),l=!1},d(s){s&&C(e),t[4](null),Lt(n),t[5](null),Lt(r),t[6](null),Lt(i),a&&a.d()}}}function Cl(t,e,n){let s,r,o,i;return u(t,Ft,(t=>n(0,s=t))),u(t,Qt,(t=>n(1,r=t))),u(t,Mt,(t=>n(2,o=t))),u(t,Jt,(t=>n(3,i=t))),[s,r,o,i,function(t){rt[t?"unshift":"push"]((()=>{s=t,Ft.set(s)}))},function(t){rt[t?"unshift":"push"]((()=>{r=t,Qt.set(r)}))},function(t){rt[t?"unshift":"push"]((()=>{o=t,Mt.set(o)}))}]}class Ol extends Ut{constructor(t){super(),Rt(this,t,Cl,Il,c,{})}}var Ll,Dl=null;je.subscribe((function(t){return Ll=a(Ke).find((function(e){return e.name===t}))}));var Rl={read:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];(Dl=new SpeechSynthesisUtterance(t)).rate=a(Fe),Dl.voice=Ll,Dl.onend=Dl.onerror=function(){Dl=null,e.forEach((function(t){return null==t?void 0:t()}))},speechSynthesis.speak(Dl)},isUtteranceEnded:function(){return null===Dl}},Ul=function(t){function e(e){var n=t.call(this)||this;return n.step=e,n.condition(hc),n}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t;return se(this,(function(n){return e.utteranceEndedPromise=new Promise((function(e){return t=e})),Rl.read(a(Jr).steps[this.step].tts,(function(){return t()})),[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", step: ").concat(this.step)},e}(uc);function Bl(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return[2,Ul.utteranceEndedPromise]}))}))}var Pl=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=t.call(this)||this;return s.subactions=re([],e,!0),s}return te(e,t),e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this)," [").concat(this.subactions.length,"]")},e}(uc),Ml=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,e)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return[2,Promise.all(this.subactions.map((function(t){return t.execute()})))]}))}))},e}(Pl),Ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e}(uc),Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return ci.set(a(co)),[4,a(Qt).flash("ALU:1")];case 1:return t.sent(),[2]}}))}))},e}(Ql),jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return gi.instructionRegister.set(oo(a(co).toBinaryString())),[4,a(Qt).flash("IR")];case 1:return t.sent(),[2]}}))}))},e}(Ql),Kl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t;return se(this,(function(e){switch(e.label){case 0:return t=a(gi.programCounter).unsigned()+a($o).unsigned(),gi.programCounter.set(new io(8,t)),[4,a(Qt).flash("PC")];case 1:return e.sent(),[2]}}))}))},e}(Ql),Wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return gi.isJumping.set(!0),gi.programCounter.set(a(go)),[4,a(Qt).flash("PC")];case 1:return t.sent(),[2]}}))}))},e}(Ql),Hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return gi.alu2.set(a(fo)),[4,a(Qt).flash("ALU:2")];case 1:return t.sent(),[2]}}))}))},e}(Ql),ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t;return se(this,(function(e){switch(e.label){case 0:return t=a(gi.instructionRegister).opcode.operator,gi.aluOperation.set(t),[4,a(Qt).flash("ALU:OPR")];case 1:return e.sent(),[2]}}))}))},e}(Ql),Vl=function(t){function e(e){var n=t.call(this)||this;return n.component=e,n}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(this.component){case"ADDRESS":return[2,a(Mt).flashAddress(a(go).unsigned())];case"DATA":return[2,a(Mt).flashContent(a(go).unsigned())]}return[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component)},e}(gc),Gl=function(t){function e(e,n){var s=t.call(this)||this;return s.from=e,s.to=n,s}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return[2,a(Ft).flashWire(this.from,this.to)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", from: ").concat(this.from,", to: ").concat(this.to)},e}(gc),Xl=function(t){function e(e){var n=t.call(this)||this;return n.step=e,n}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return a(Vt).setText(a(Jr).steps[this.step].text),[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", step: ").concat(this.step)},e}(uc),Jl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e}(uc),zl={RAM:"main_data_bus","IR:OPC":"ir_cu_data_bus","IR:OPR":"main_address_bus","ALU:RES":"alu_acc_data_bus",ACC:"main_data_bus",PC:"main_address_bus",INC:"inc_pc_address_bus"},Zl=function(t){function e(e,n){void 0===n&&(n="default");var s=t.call(this)||this;return s.valueSource=e,s.bus="default"===n?zl[e]:n,s}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return Io[this.bus].set(this.getValueFromSource()),[2]}))}))},e.prototype.getValueFromSource=function(){switch(this.valueSource){case"RAM":return Mc.read(a(go).unsigned()).value;case"IR:OPC":return a(gi.instructionRegister).opcodeValue();case"IR:OPR":return a(gi.instructionRegister).operandValue();case"ALU:RES":return a(gi.aluResult);case"ACC":return a(gi.accumulator);case"CU":throw new Error("CU value not implemented");case"PC":return a(gi.programCounter);case"INC":return a(gi.increment);default:throw new Error(this.valueSource+" value not implemented")}},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this)," valueSource: ").concat(this.valueSource," bus: ").concat(this.bus)},e}(Jl),Yl=[new Ml(new Zl("PC"),new Gl("PC:1","INC:2"),new Ul("pc_increment"),new Xl("pc_increment")),new Zl("INC"),new Gl("INC:1","PC:2"),(new Kl).thenWaitFor(Bl).endstep()],ta=[new Ml(new $c("PC"),new Ul("pc_to_ram"),new Xl("pc_to_ram")),new Ml(new Zl("PC"),new Gl("PC:2","RAM:ADD")),new Vl("ADDRESS").thenWaitFor(Bl).endstep(),new Ml(new Gl("CU:3","RAM:CTRL"),new Ul("memory_fetch"),new Xl("memory_fetch")).thenWaitFor(Bl).endstep(),new Ml(new Vl("DATA"),new Ul("ram_to_ir"),new Xl("ram_to_ir")),new Ml(new Zl("RAM"),new Gl("RAM:DATA","IR:1")),(new jl).thenWaitFor(Bl).endstep(),new Ml(new $c("IR:OPC"),new Ul("ir_to_cu"),new Xl("ir_to_cu")),new Ml(new Zl("IR:OPC"),new Gl("IR:3","CU:1")),new $c("CU").thenWaitFor(Bl).endstep()],ea=[new Ml(new Gl("CU:2","MUX:4"),new Ul("cu_to_mux"),new Xl("cu_to_mux")),new $c("MUX").thenWaitFor(Bl).endstep()],na=[new Ml(new Gl("CU:4","ALU:5"),new Ul("cu_to_alu"),new Xl("cu_to_alu")),(new ql).thenWaitFor(Bl).endstep()],sa=[new Ml(new $c("ACC"),new Ul("acc_to_alu1"),new Xl("acc_to_alu1")),new Ml(new Zl("ACC"),new Gl("ACC:1","ALU:1")),(new Fl).thenWaitFor(Bl).endstep()];function ra(t){return t?oa:ia}var oa=[new Ml(new $c("IR:OPR"),new Ul("ir_to_alu2"),new Xl("ir_to_alu2")),new Ml(new Zl("IR:OPR"),new Gl("IR:2","MUX:1")),new Ml(new Zl("IR:OPR","mux_alu_data_bus"),new Gl("MUX:3","ALU:2")),(new Hl).thenWaitFor(Bl).endstep()],ia=[new Ml(new $c("IR:OPR"),new Ul("ir_to_ram"),new Xl("ir_to_ram")),new Ml(new Zl("IR:OPR"),new Gl("IR:2","RAM:ADD")),new Vl("ADDRESS").thenWaitFor(Bl).endstep(),new Ml(new $c("CU"),new Ul("memory_read"),new Xl("memory_read")),new Ml(new Gl("CU:3","RAM:CTRL").thenWaitFor(Bl).endstep()),new Ml(new Vl("DATA"),new Ul("ram_to_alu2"),new Xl("ram_to_alu2")),new Ml(new Zl("RAM"),new Gl("RAM:DATA","MUX:2")),new Ml(new Zl("RAM","mux_alu_data_bus"),new Gl("MUX:3","ALU:2")),(new Hl).thenWaitFor(Bl).endstep()],ca=[new Ml(new $c("IR:OPR"),new Ul("ir_to_pc"),new Xl("ir_to_pc")),new Ml(new Zl("IR:OPR"),new Gl("IR:2","PC:2")),(new Wl).thenWaitFor(Bl).endstep()],la=[new Ml(new $c("IR:OPR"),new Ul("ir_to_pc"),new Xl("ir_to_pc")).condition(fc),new Ml(new Zl("IR:OPR"),new Gl("IR:2","PC:2")).condition(fc),(new Wl).condition(fc).thenWaitFor(Bl).endstep()],aa=[new Ml(new $c("IR:OPR"),new Ul("ir_to_pc"),new Xl("ir_to_pc")).condition(mc(fc)),new Ml(new Zl("IR:OPR"),new Gl("IR:2","PC:2")).condition(mc(fc)),(new Wl).condition(mc(fc)).thenWaitFor(Bl).endstep()],ua=[new Ml(new $c("IR:OPR"),new Ul("ir_to_pc"),new Xl("ir_to_pc")).condition(dc),new Ml(new Zl("IR:OPR"),new Gl("IR:2","PC:2")).condition(dc),(new Wl).condition(dc).thenWaitFor(Bl).endstep()],fa=[new Ml(new $c("IR:OPR"),new Ul("ir_to_pc"),new Xl("ir_to_pc")).condition(mc(dc)),new Ml(new Zl("IR:OPR"),new Gl("IR:2","PC:2")).condition(mc(dc)),(new Wl).condition(mc(dc)).thenWaitFor(Bl).endstep()],da=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t,e,n,s;return se(this,(function(r){switch(t=a(gi.aluOperation),e=a(gi.alu1).signed(),n=a(gi.alu2).signed(),t){case"!":s=~n;break;case"&":s=e&n;break;case"*":s=e*n;break;case"+":s=e+n;break;case"-":s=e-n;break;case"/":if(0===n)throw new ie(a(Jr).errors.execution.division_by_zero);s=e/n;break;case"=":s=n;break;default:throw new Error('Unexpected ALU operation: "'.concat(t,'"'))}return gi.aluResult.set(new io(16,s)),[2]}))}))},e}(Ql),pa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t,e,n,s,r;return se(this,(function(o){switch(o.label){case 0:return t=a(gi.accumulator).signed(),e=a(gi.zeroFlag),n=a(gi.negativeFlag),r=t<0,(s=0===t)===e||r===n?[3,2]:(gi.zeroFlag.set(s),gi.negativeFlag.set(r),[4,Promise.all([a(Qt).flash("SW:Z"),a(Qt).flash("SW:N")])]);case 1:return o.sent(),[3,6];case 2:return s===e?[3,4]:(gi.zeroFlag.set(s),[4,a(Qt).flash("SW:Z")]);case 3:o.sent(),o.label=4;case 4:return r===n?[3,6]:(gi.negativeFlag.set(r),[4,a(Qt).flash("SW:N")]);case 5:o.sent(),o.label=6;case 6:return[2]}}))}))},e}(Ql),ha=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return gi.accumulator.set(a(ao)),[4,a(Qt).flash("ACC")];case 1:return t.sent(),[2]}}))}))},e}(Ql),ma=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){return se(this,(function(t){return gi.isHalting.set(!0),[2]}))}))},e}(Ql),ga=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t,e,n,s,r,o;return se(this,(function(i){switch(i.label){case 0:return t=a(gi.alu1).signed(),e=a(gi.alu2).signed(),n=a(gi.zeroFlag),s=a(gi.negativeFlag),o=e>t,(r=e===t)===n||o===s?[3,2]:(gi.zeroFlag.set(r),gi.negativeFlag.set(o),[4,Promise.all([a(Qt).flash("SW:Z"),a(Qt).flash("SW:N")])]);case 1:return i.sent(),[3,6];case 2:return r===n?[3,4]:(gi.zeroFlag.set(r),[4,a(Qt).flash("SW:Z")]);case 3:i.sent(),i.label=4;case 4:return o===s?[3,6]:(gi.negativeFlag.set(o),[4,a(Qt).flash("SW:N")]);case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},e}(Ql),$a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e}(uc),ba=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return te(e,t),e.prototype.action=function(){return ne(this,void 0,void 0,(function(){var t,e;return se(this,(function(n){switch(n.label){case 0:return t=a(go).unsigned(),e=Mc.read(t).symbolicOpcode,/^[A-Z]+$/.test(e)&&"NOP"!==e?Mc.write(t,oo(a(co).toBinaryString())):Mc.write(t,ro(a(co).signed().toString())),[4,a(Mt).flashContent(t)];case 1:return n.sent(),[2]}}))}))},e}($a);var ya=Pt(!1),wa=!1,va=!1,xa=!1,_a=!1,ka="ENQUEUING_FETCH",Aa=[];function Sa(){return ne(this,void 0,void 0,(function(){var t;return se(this,(function(e){switch(e.label){case 0:return Ca()||!Ia()?[3,2]:[4,(t=Aa.shift()).execute()];case 1:return e.sent(),va&&t.doesEndStep()&&La(!1),[3,0];case 2:return[2]}}))}))}function Ea(){Oa(!0),La(!1),Da(!1),Ui.info("Execution - START","EXECUTION")}function Ta(){Oa(!1),La(!1),Da(!1),Ui.info("Execution - PAUSE","EXECUTION")}function Na(){Ta(),gi.isHalting.set(!1),gi.isJumping.set(!1),ka="ENQUEUING_FETCH",Aa=[],Ui.info("Execution - RESET","EXECUTION")}function Ia(){return wa||va||xa}function Ca(){return 0===Aa.length}function Oa(t){wa=t,ya.set(wa||va||xa)}function La(t){va=t,ya.set(wa||va||xa)}function Da(t){xa=t,ya.set(wa||va||xa)}setInterval((function(){return ne(this,void 0,void 0,(function(){var t;return se(this,(function(e){switch(e.label){case 0:if(_a||!Ia())return[2];_a=!0,e.label=1;case 1:switch(e.trys.push([1,12,13,14]),ka){case"ENQUEUING_FETCH":return[3,2];case"EXECUTING_FETCH":return[3,3];case"ENQUEUING_INSTRUCTION":return[3,5];case"EXECUTING_INSTRUCTION":return[3,6];case"ENQUEUEING_PC_INCREMENT":return[3,8];case"EXECUTING_PC_INCREMENT":return[3,9]}return[3,11];case 2:return Aa.push.apply(Aa,ta),ka="EXECUTING_FETCH",[3,11];case 3:return[4,Sa()];case 4:return e.sent(),Ca()&&(ka="ENQUEUING_INSTRUCTION"),[3,11];case 5:return Aa.push.apply(Aa,function(t){if(!t.opcode)throw new ie(a(Jr).errors.execution.invalid_instruction);var e=[];switch(t.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":e.push.apply(e,re(re(re(re(re([],ea,!1),na,!1),sa,!1),ra(t.immediateFlag()),!1),[new da,new Ml(new Zl("ALU:RES"),new Gl("ALU:4","ACC:2"),new Ul("execute"),new Xl("execute")),(new ha).thenWaitFor(Bl).endstep(),new Ml(new Gl("ALU:3","SW:1"),new Ul("alu_to_sw"),new Xl("alu_to_sw")),(new pa).thenWaitFor(Bl).endstep()],!1));break;case"NOT":e.push.apply(e,re(re(re(re([],ea,!1),na,!1),ra(t.immediateFlag()),!1),[new da,new Ml(new Zl("ALU:RES"),new Gl("ALU:4","ACC:2"),new Ul("execute"),new Xl("execute")),(new ha).thenWaitFor(Bl).endstep(),new Ml(new Gl("ALU:3","SW:1"),new Ul("alu_to_sw"),new Xl("alu_to_sw")),(new pa).thenWaitFor(Bl).endstep()],!1));break;case"CMP":e.push.apply(e,re(re(re(re(re([],ea,!1),na,!1),sa,!1),ra(t.immediateFlag()),!1),[new Ml(new Gl("ALU:3","SW:1"),new Ul("alu_to_sw"),new Xl("alu_to_sw")),(new ga).thenWaitFor(Bl).endstep()],!1));break;case"LOD":e.push.apply(e,re(re(re(re([],ea,!1),na,!1),ra(t.immediateFlag()),!1),[new da,new Ml(new Zl("ALU:RES"),new Gl("ALU:4","ACC:2"),new Ul("execute"),new Xl("execute")),(new ha).thenWaitFor(Bl).endstep()],!1));break;case"STO":e.push(new Ml(new Zl("IR:OPR"),new Gl("IR:2","RAM:ADD"),new Ul("ir_to_ram"),new Xl("ir_to_ram")),new Vl("ADDRESS").thenWaitFor(Bl).endstep(),new Ml(new $c("ACC"),new Ul("acc_to_ram"),new Xl("acc_to_ram")),new Ml(new Zl("ACC"),new Gl("ACC:1","RAM:DATA")).thenWaitFor(Bl).endstep(),new Ml(new Gl("CU:3","RAM:CTRL"),new Ul("memory_write"),new Xl("memory_write")).thenWaitFor(Bl).endstep(),new Ml(new ba,new Ul("acc_stored_to_ram"),new Xl("acc_stored_to_ram")).thenWaitFor(Bl).endstep());break;case"JMP":e.push.apply(e,ca);break;case"JZ":e.push.apply(e,re([new $c("SW:Z")],la,!1));break;case"JNZ":e.push.apply(e,re([new $c("SW:Z")],aa,!1));break;case"JN":e.push.apply(e,re([new $c("SW:N")],ua,!1));break;case"JNN":e.push.apply(e,re([new $c("SW:N")],fa,!1));break;case"NOP":e.push();break;case"HLT":e.push(new ma);break;default:throw new Error('Unrecognized opcode: "'.concat(t.opcode.symbolic,'"'))}return e}(a(gi.instructionRegister))),Ui.info('Executing instruction "'.concat(a(gi.instructionRegister).symbolic(),'"'),"EXECUTION"),ka="EXECUTING_INSTRUCTION",[3,11];case 6:return[4,Sa()];case 7:return e.sent(),Ca()&&(a(gi.programCounter).unsigned()!==ve||a(gi.isJumping)||gi.isHalting.set(!0),a(gi.isJumping)?(gi.isJumping.set(!1),ka="ENQUEUING_FETCH",xa&&Da(!1)):ka="ENQUEUEING_PC_INCREMENT"),[3,11];case 8:return Aa.push.apply(Aa,Yl),ka="EXECUTING_PC_INCREMENT",[3,11];case 9:return[4,Sa()];case 10:return e.sent(),xa&&(Da(!1),gi.isHalting.set(!0)),Ca()&&(ka="ENQUEUING_FETCH"),[3,11];case 11:return[3,14];case 12:return t=e.sent(),gi.isHalting.set(!0),a(Wt).error(t.message),Ui.error(t,"EXECUTION",t.isChecked),[3,14];case 13:return a(gi.isHalting)&&Na(),_a=!1,[7];case 14:return[2]}}))}))}),50);var Ra={start:Ea,pause:Ta,toggle:function(){a(ya)?Ta():Ea()},step:function(){Oa(!1),La(!0),Da(!1),Ui.info("Execution - STEP","EXECUTION")},instruction:function(){Oa(!1),La(!1),Da(!0),Ui.info("Execution - INSTRUCTION","EXECUTION")},reset:Na};function Ua(t){let e,n,s,r,i;const c=t[3].default,l=f(c,t,t[2],null);return{c(){e=L("button"),l&&l.c(),M(e,"class",n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class),e.disabled=t[0]},m(n,o){I(n,e,o),l&&l.m(e,null),s=!0,r||(i=[P(e,"click",t[4]),P(e,"focus",t[5]),P(e,"focusout",t[6]),P(e,"mouseenter",t[7]),P(e,"mouseleave",t[8]),P(e,"mouseover",t[9])],r=!0)},p(t,[r]){l&&l.p&&(!s||4&r)&&h(l,c,t,t[2],s?p(c,t[2],r,null):m(t[2]),null),(!s||2&r&&n!==(n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class))&&M(e,"class",n),(!s||1&r)&&(e.disabled=t[0])},i(t){s||(xt(l,t),s=!0)},o(t){_t(l,t),s=!1},d(t){t&&C(e),l&&l.d(t),r=!1,o(i)}}}function Ba(t,e,s){const r=["disabled"];let o=$(e,r),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(1,o=$(e,r)),"disabled"in t&&s(0,l=t.disabled),"$$scope"in t&&s(2,c=t.$$scope)},[l,o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Pa extends Ut{constructor(t){super(),Rt(this,t,Ba,Ua,c,{disabled:0})}}function Ma(t){let e,n,s,r,i;const c=t[5].default,l=f(c,t,t[4],null);return{c(){e=L("button"),l&&l.c(),M(e,"class",n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class),e.disabled=t[1]},m(n,o){I(n,e,o),l&&l.m(e,null),s=!0,r||(i=[P(e,"click",t[2]),P(e,"focus",t[6]),P(e,"focusout",t[7]),P(e,"mouseenter",t[8]),P(e,"mouseleave",t[9]),P(e,"mouseover",t[10])],r=!0)},p(t,[r]){l&&l.p&&(!s||16&r)&&h(l,c,t,t[4],s?p(c,t[4],r,null):m(t[4]),null),(!s||9&r&&n!==(n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class))&&M(e,"class",n),(!s||2&r)&&(e.disabled=t[1])},i(t){s||(xt(l,t),s=!0)},o(t){_t(l,t),s=!1},d(t){t&&C(e),l&&l.d(t),r=!1,o(i)}}}function Qa(t,e,s){const r=["disabled","checked"];let o=$(e,r),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=et();return t.$$set=t=>{e=n(n({},e),g(t)),s(3,o=$(e,r)),"disabled"in t&&s(1,l=t.disabled),"checked"in t&&s(0,a=t.checked),"$$scope"in t&&s(4,c=t.$$scope)},[a,l,function(t){s(0,a=!a),u("click",t)},o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Fa extends Ut{constructor(t){super(),Rt(this,t,Qa,Ma,c,{disabled:1,checked:0})}}function ja(e){let n,s,r,i;return{c(){n=L("input"),M(n,"class",s="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+e[4].class),M(n,"type","text"),M(n,"placeholder",e[1]),n.disabled=e[2]},m(t,s){I(t,n,s),j(n,e[0]),r||(i=[P(n,"input",e[6]),P(n,"change",e[7]),P(n,"focus",e[8]),P(n,"focusout",e[9]),P(n,"mouseenter",e[10]),P(n,"mouseleave",e[11]),P(n,"mouseover",e[12]),P(n,"input",e[13]),w(e[3].call(null,n))],r=!0)},p(t,[e]){16&e&&s!==(s="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+t[4].class)&&M(n,"class",s),2&e&&M(n,"placeholder",t[1]),4&e&&(n.disabled=t[2]),1&e&&n.value!==t[0]&&j(n,t[0])},i:t,o:t,d(t){t&&C(n),r=!1,o(i)}}}function Ka(t,e,s){const r=["value","placeholder","disabled","type"];let o=$(e,r),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{type:a="text"}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(4,o=$(e,r)),"value"in t&&s(0,i=t.value),"placeholder"in t&&s(1,c=t.placeholder),"disabled"in t&&s(2,l=t.disabled),"type"in t&&s(5,a=t.type)},[i,c,l,function(t){t.type=a},o,a,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){i=this.value,s(0,i)}]}class Wa extends Ut{constructor(t){super(),Rt(this,t,Ka,ja,c,{value:0,placeholder:1,disabled:2,type:5})}}function Ha(t,e,n){const s=t.slice();return s[13]=e[n],s}function qa(t){let e,n;return{c(){e=L("option"),n=R(t[1]),M(e,"class","text-black bg-white"),e.__value="",e.value=e.__value,e.selected=!0,e.disabled=!0},m(t,s){I(t,e,s),E(e,n)},p(t,e){2&e&&F(n,t[1])},d(t){t&&C(e)}}}function Va(t){let e,n,s,r=t[13]+"";return{c(){e=L("option"),n=R(r),M(e,"class","text-black bg-white"),e.__value=s=t[13],e.value=e.__value},m(t,s){I(t,e,s),E(e,n)},p(t,o){8&o&&r!==(r=t[13]+"")&&F(n,r),8&o&&s!==(s=t[13])&&(e.__value=s,e.value=e.__value)},d(t){t&&C(e)}}}function Ga(e){let n,s,r,i,c,l=""!==e[1]&&qa(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=Va(Ha(e,a,t));return{c(){n=L("select"),l&&l.c(),s=B();for(let t=0;t<u.length;t+=1)u[t].c();M(n,"class",r="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class),n.disabled=e[2],void 0===e[0]&&at((()=>e[12].call(n)))},m(t,r){I(t,n,r),l&&l.m(n,null),E(n,s);for(let t=0;t<u.length;t+=1)u[t].m(n,null);W(n,e[0]),i||(c=[P(n,"input",e[5]),P(n,"change",e[6]),P(n,"focus",e[7]),P(n,"focusout",e[8]),P(n,"mouseenter",e[9]),P(n,"mouseleave",e[10]),P(n,"mouseover",e[11]),P(n,"change",e[12])],i=!0)},p(t,[e]){if(""!==t[1]?l?l.p(t,e):(l=qa(t),l.c(),l.m(n,s)):l&&(l.d(1),l=null),8&e){let s;for(a=t[3],s=0;s<a.length;s+=1){const r=Ha(t,a,s);u[s]?u[s].p(r,e):(u[s]=Va(r),u[s].c(),u[s].m(n,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=a.length}16&e&&r!==(r="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] w-fit "+t[4].class)&&M(n,"class",r),4&e&&(n.disabled=t[2]),9&e&&W(n,t[0])},i:t,o:t,d(t){t&&C(n),l&&l.d(),O(u,t),i=!1,o(c)}}}function Xa(t,e,s){const r=["value","placeholder","disabled","options"];let o=$(e,r),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{options:a=[]}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(4,o=$(e,r)),"value"in t&&s(0,i=t.value),"placeholder"in t&&s(1,c=t.placeholder),"disabled"in t&&s(2,l=t.disabled),"options"in t&&s(3,a=t.options)},[i,c,l,a,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){i=H(this),s(0,i),s(3,a)}]}class Ja extends Ut{constructor(t){super(),Rt(this,t,Xa,Ga,c,{value:0,placeholder:1,disabled:2,options:3})}}function za(t){let e,n;return{c(){e=L("p"),n=R(t[4]),M(e,"class","text-red-500")},m(t,s){I(t,e,s),E(e,n)},p(t,e){16&e&&F(n,t[4])},d(t){t&&C(e)}}}function Za(t){let e;return{c(){e=R("#")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Ya(t){let e,n,s,r,o,i,c,l,a,u,f,d,p=null!==t[4]&&za(t);function h(e){t[6](e)}let m={options:le.map(tu)};function g(e){t[7](e)}void 0!==t[0]&&(m.value=t[0]),r=new Ja({props:m}),rt.push((()=>It(r,"value",h)));let $={disabled:!t[3].takesOperand||!t[3].takesImmediate,$$slots:{default:[Za]},$$scope:{ctx:t}};function b(e){t[8](e)}void 0!==t[2]&&($.checked=t[2]),c=new Fa({props:$}),rt.push((()=>It(c,"checked",g)));let y={class:"w-20",type:"number",disabled:!t[3].takesOperand};return void 0!==t[1]&&(y.value=t[1]),u=new Wa({props:y}),rt.push((()=>It(u,"value",b))),{c(){e=L("div"),p&&p.c(),n=U(),s=L("div"),Ct(r.$$.fragment),i=U(),Ct(c.$$.fragment),a=U(),Ct(u.$$.fragment),M(s,"class","flex items-center justify-center gap-1"),M(e,"class","flex flex-col items-center justify-center gap-1")},m(t,o){I(t,e,o),p&&p.m(e,null),E(e,n),E(e,s),Ot(r,s,null),E(s,i),Ot(c,s,null),E(s,a),Ot(u,s,null),d=!0},p(t,[s]){null!==t[4]?p?p.p(t,s):(p=za(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null);const i={};!o&&1&s&&(o=!0,i.value=t[0],ut((()=>o=!1))),r.$set(i);const a={};8&s&&(a.disabled=!t[3].takesOperand||!t[3].takesImmediate),512&s&&(a.$$scope={dirty:s,ctx:t}),!l&&4&s&&(l=!0,a.checked=t[2],ut((()=>l=!1))),c.$set(a);const d={};8&s&&(d.disabled=!t[3].takesOperand),!f&&2&s&&(f=!0,d.value=t[1],ut((()=>f=!1))),u.$set(d)},i(t){d||(xt(r.$$.fragment,t),xt(c.$$.fragment,t),xt(u.$$.fragment,t),d=!0)},o(t){_t(r.$$.fragment,t),_t(c.$$.fragment,t),_t(u.$$.fragment,t),d=!1},d(t){t&&C(e),p&&p.d(),Lt(r),Lt(c),Lt(u)}}}const tu=t=>t.symbolic;function eu(t,e,n){let s,{value:r=ro("NOP")}=e,o="NOP",i=0,c=!1,l=null;return t.$$set=t=>{"value"in t&&n(5,r=t.value)},t.$$.update=()=>{if(1&t.$$.dirty&&n(3,s=ae(o)),15&t.$$.dirty){n(4,l=null);try{s.takesOperand?n(5,r=c&&s.takesImmediate?ro(`${o} #${i}`):ro(`${o} ${i}`)):n(5,r=ro(o))}catch(t){n(4,l=t.message)}}},[o,i,c,s,l,r,function(t){o=t,n(0,o)},function(t){c=t,n(2,c)},function(t){i=t,n(1,i)}]}class nu extends Ut{constructor(t){super(),Rt(this,t,eu,Ya,c,{value:5})}}const su=t=>({}),ru=t=>({}),ou=t=>({}),iu=t=>({});function cu(t){let e,n,s,r,o,i,c,l;const a=t[2].inputs,u=f(a,t,t[1],iu),d=t[2].buttons,g=f(d,t,t[1],ru);return{c(){e=L("div"),n=L("h2"),s=R(t[0]),r=U(),o=L("div"),u&&u.c(),i=U(),c=L("div"),g&&g.c(),M(n,"class","text-lg mx-auto"),M(o,"class","w-full flex flex-col items-center gap-0.5"),M(c,"class","w-full flex flex-wrap justify-center gap-1"),M(e,"class","flex flex-col items-center gap-1.5 max-w-[250px]")},m(t,a){I(t,e,a),E(e,n),E(n,s),E(e,r),E(e,o),u&&u.m(o,null),E(e,i),E(e,c),g&&g.m(c,null),l=!0},p(t,[e]){(!l||1&e)&&F(s,t[0]),u&&u.p&&(!l||2&e)&&h(u,a,t,t[1],l?p(a,t[1],e,ou):m(t[1]),iu),g&&g.p&&(!l||2&e)&&h(g,d,t,t[1],l?p(d,t[1],e,su):m(t[1]),ru)},i(t){l||(xt(u,t),xt(g,t),l=!0)},o(t){_t(u,t),_t(g,t),l=!1},d(t){t&&C(e),u&&u.d(t),g&&g.d(t)}}}function lu(t,e,n){let{$$slots:s={},$$scope:r}=e,{title:o=""}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"$$scope"in t&&n(1,r=t.$$scope)},[o,r,s]}class au extends Ut{constructor(t){super(),Rt(this,t,lu,cu,c,{title:0})}}function uu(t){let e,n,s,r,o,i,c,l,a,u,f,d,p,h,m,g,$,b,y,w,v,x,_,k,A,S,T,N,O;return l=new au({props:{title:"Execution",$$slots:{buttons:[bu]},$$scope:{ctx:t}}}),u=new au({props:{title:"CPU",$$slots:{buttons:[Iu],inputs:[wu]},$$scope:{ctx:t}}}),d=new au({props:{title:"CPU ANIMATION",$$slots:{buttons:[Lu],inputs:[Cu]},$$scope:{ctx:t}}}),h=new au({props:{title:"RAM",$$slots:{buttons:[Fu],inputs:[Du]},$$scope:{ctx:t}}}),g=new au({props:{title:"MESSAGE",$$slots:{buttons:[Gu],inputs:[ju]},$$scope:{ctx:t}}}),b=new au({props:{title:"WIRES",$$slots:{buttons:[zu],inputs:[Xu]},$$scope:{ctx:t}}}),w=new au({props:{title:"NODES",$$slots:{buttons:[ef]},$$scope:{ctx:t}}}),x=new au({props:{title:"DISPLAY",$$slots:{buttons:[of],inputs:[nf]},$$scope:{ctx:t}}}),k=new au({props:{title:"TTS",$$slots:{buttons:[uf],inputs:[cf]},$$scope:{ctx:t}}}),S=new au({props:{title:"Local Storage",$$slots:{buttons:[hf],inputs:[ff]},$$scope:{ctx:t}}}),{c(){e=L("div"),n=L("div"),s=L("h1"),s.textContent="Debugger",r=U(),o=L("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',i=U(),c=L("div"),Ct(l.$$.fragment),a=U(),Ct(u.$$.fragment),f=U(),Ct(d.$$.fragment),p=U(),Ct(h.$$.fragment),m=U(),Ct(g.$$.fragment),$=U(),Ct(b.$$.fragment),y=U(),Ct(w.$$.fragment),v=U(),Ct(x.$$.fragment),_=U(),Ct(k.$$.fragment),A=U(),Ct(S.$$.fragment),M(s,"class","text-xl"),M(o,"title","Close debugger"),M(n,"class","w-full flex flex-wrap items-center justify-between p-4"),M(c,"class","w-full overflow-y-auto p-5 flex flex-wrap gap-8"),M(e,"class","fixed top-0 left-0 w-screen h-screen bg-black/50 text-white")},m(C,L){I(C,e,L),E(e,n),E(n,s),E(n,r),E(n,o),E(e,i),E(e,c),Ot(l,c,null),E(c,a),Ot(u,c,null),E(c,f),Ot(d,c,null),E(c,p),Ot(h,c,null),E(c,m),Ot(g,c,null),E(c,$),Ot(b,c,null),E(c,y),Ot(w,c,null),E(c,v),Ot(x,c,null),E(c,_),Ot(k,c,null),E(c,A),Ot(S,c,null),T=!0,N||(O=P(o,"click",t[27]),N=!0)},p(t,e){const n={};65536&e[2]&&(n.$$scope={dirty:e,ctx:t}),l.$set(n);const s={};15&e[0]|65536&e[2]&&(s.$$scope={dirty:e,ctx:t}),u.$set(s);const r={};16400&e[0]|65536&e[2]&&(r.$$scope={dirty:e,ctx:t}),d.$set(r);const o={};98400&e[0]|65536&e[2]&&(o.$$scope={dirty:e,ctx:t}),h.$set(o);const i={};131200&e[0]|65536&e[2]&&(i.$$scope={dirty:e,ctx:t}),g.$set(i);const c={};262912&e[0]|65536&e[2]&&(c.$$scope={dirty:e,ctx:t}),b.$set(c);const a={};3670016&e[0]|65536&e[2]&&(a.$$scope={dirty:e,ctx:t}),w.$set(a);const f={};29360128&e[0]|65536&e[2]&&(f.$$scope={dirty:e,ctx:t}),x.$set(f);const p={};33555456&e[0]|65536&e[2]&&(p.$$scope={dirty:e,ctx:t}),k.$set(p);const m={};6144&e[0]|65536&e[2]&&(m.$$scope={dirty:e,ctx:t}),S.$set(m)},i(t){T||(xt(l.$$.fragment,t),xt(u.$$.fragment,t),xt(d.$$.fragment,t),xt(h.$$.fragment,t),xt(g.$$.fragment,t),xt(b.$$.fragment,t),xt(w.$$.fragment,t),xt(x.$$.fragment,t),xt(k.$$.fragment,t),xt(S.$$.fragment,t),T=!0)},o(t){_t(l.$$.fragment,t),_t(u.$$.fragment,t),_t(d.$$.fragment,t),_t(h.$$.fragment,t),_t(g.$$.fragment,t),_t(b.$$.fragment,t),_t(w.$$.fragment,t),_t(x.$$.fragment,t),_t(k.$$.fragment,t),_t(S.$$.fragment,t),T=!1},d(t){t&&C(e),Lt(l),Lt(u),Lt(d),Lt(h),Lt(g),Lt(b),Lt(w),Lt(x),Lt(k),Lt(S),N=!1,O()}}}function fu(t){let e;return{c(){e=R("Reset")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function du(t){let e;return{c(){e=R("Play")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function pu(t){let e;return{c(){e=R("Pause")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function hu(t){let e;return{c(){e=R("Step")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function mu(t){let e;return{c(){e=R("Instruction")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function gu(t){let e;return{c(){e=R("Skip Step")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function $u(t){let e;return{c(){e=R("Skip Instruction")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function bu(t){let e,n,s,r,o,i,c,l,a,u,f,d,p,h;return e=new Pa({props:{$$slots:{default:[fu]},$$scope:{ctx:t}}}),e.$on("click",t[28]),s=new Pa({props:{$$slots:{default:[du]},$$scope:{ctx:t}}}),s.$on("click",t[29]),o=new Pa({props:{$$slots:{default:[pu]},$$scope:{ctx:t}}}),o.$on("click",t[30]),c=new Pa({props:{$$slots:{default:[hu]},$$scope:{ctx:t}}}),c.$on("click",t[31]),a=new Pa({props:{$$slots:{default:[mu]},$$scope:{ctx:t}}}),a.$on("click",t[32]),f=new Pa({props:{disabled:!0,$$slots:{default:[gu]},$$scope:{ctx:t}}}),p=new Pa({props:{disabled:!0,$$slots:{default:[$u]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment),r=U(),Ct(o.$$.fragment),i=U(),Ct(c.$$.fragment),l=U(),Ct(a.$$.fragment),u=U(),Ct(f.$$.fragment),d=U(),Ct(p.$$.fragment)},m(t,m){Ot(e,t,m),I(t,n,m),Ot(s,t,m),I(t,r,m),Ot(o,t,m),I(t,i,m),Ot(c,t,m),I(t,l,m),Ot(a,t,m),I(t,u,m),Ot(f,t,m),I(t,d,m),Ot(p,t,m),h=!0},p(t,n){const r={};65536&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};65536&n[2]&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const l={};65536&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};65536&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};65536&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const h={};65536&n[2]&&(h.$$scope={dirty:n,ctx:t}),f.$set(h);const m={};65536&n[2]&&(m.$$scope={dirty:n,ctx:t}),p.$set(m)},i(t){h||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),h=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),h=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t),t&&C(r),Lt(o,t),t&&C(i),Lt(c,t),t&&C(l),Lt(a,t),t&&C(u),Lt(f,t),t&&C(d),Lt(p,t)}}}function yu(t){let e;return{c(){e=R("Flag")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function wu(t){let e,n,s,r,o,i,c,l,a,u,f,d,p;function h(e){t[42](e)}let m={};function g(e){t[43](e)}void 0!==t[0]&&(m.value=t[0]),e=new nu({props:m}),rt.push((()=>It(e,"value",h)));let $={type:"number",placeholder:"Value"};function b(e){t[44](e)}void 0!==t[1]&&($.value=t[1]),r=new Wa({props:$}),rt.push((()=>It(r,"value",g)));let y={placeholder:"Operation",options:["+","-","*","/",":","!","&","="]};function w(e){t[45](e)}void 0!==t[2]&&(y.value=t[2]),l=new Ja({props:y}),rt.push((()=>It(l,"value",b)));let v={$$slots:{default:[yu]},$$scope:{ctx:t}};return void 0!==t[3]&&(v.checked=t[3]),f=new Fa({props:v}),rt.push((()=>It(f,"checked",w))),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment),i=U(),c=L("div"),Ct(l.$$.fragment),u=U(),Ct(f.$$.fragment),M(c,"class","flex gap-1")},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),I(t,i,n),I(t,c,n),Ot(l,c,null),E(c,u),Ot(f,c,null),p=!0},p(t,s){const i={};!n&&1&s[0]&&(n=!0,i.value=t[0],ut((()=>n=!1))),e.$set(i);const c={};!o&&2&s[0]&&(o=!0,c.value=t[1],ut((()=>o=!1))),r.$set(c);const u={};!a&&4&s[0]&&(a=!0,u.value=t[2],ut((()=>a=!1))),l.$set(u);const p={};65536&s[2]&&(p.$$scope={dirty:s,ctx:t}),!d&&8&s[0]&&(d=!0,p.checked=t[3],ut((()=>d=!1))),f.$set(p)},i(t){p||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(l.$$.fragment,t),xt(f.$$.fragment,t),p=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(l.$$.fragment,t),_t(f.$$.fragment,t),p=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t),t&&C(i),t&&C(c),Lt(l),Lt(f)}}}function vu(t){let e;return{c(){e=R("Reset")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function xu(t){let e;return{c(){e=R("Set IR")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function _u(t){let e;return{c(){e=R("Set PC")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function ku(t){let e;return{c(){e=R("Set ALU:1")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Au(t){let e;return{c(){e=R("Set ALU:2")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Su(t){let e;return{c(){e=R("Set ALU:OPR")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Eu(t){let e;return{c(){e=R("Set ACC")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Tu(t){let e;return{c(){e=R("Set SW:Z")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Nu(t){let e;return{c(){e=R("Set SW:N")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Iu(t){let e,n,s,r,o,i,c,l,a,u,f,d,p,h,m,g,$,b;return e=new Pa({props:{$$slots:{default:[vu]},$$scope:{ctx:t}}}),e.$on("click",t[33]),s=new Pa({props:{$$slots:{default:[xu]},$$scope:{ctx:t}}}),s.$on("click",t[34]),o=new Pa({props:{$$slots:{default:[_u]},$$scope:{ctx:t}}}),o.$on("click",t[35]),c=new Pa({props:{$$slots:{default:[ku]},$$scope:{ctx:t}}}),c.$on("click",t[36]),a=new Pa({props:{$$slots:{default:[Au]},$$scope:{ctx:t}}}),a.$on("click",t[37]),f=new Pa({props:{$$slots:{default:[Su]},$$scope:{ctx:t}}}),f.$on("click",t[38]),p=new Pa({props:{$$slots:{default:[Eu]},$$scope:{ctx:t}}}),p.$on("click",t[39]),m=new Pa({props:{$$slots:{default:[Tu]},$$scope:{ctx:t}}}),m.$on("click",t[40]),$=new Pa({props:{$$slots:{default:[Nu]},$$scope:{ctx:t}}}),$.$on("click",t[41]),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment),r=U(),Ct(o.$$.fragment),i=U(),Ct(c.$$.fragment),l=U(),Ct(a.$$.fragment),u=U(),Ct(f.$$.fragment),d=U(),Ct(p.$$.fragment),h=U(),Ct(m.$$.fragment),g=U(),Ct($.$$.fragment)},m(t,y){Ot(e,t,y),I(t,n,y),Ot(s,t,y),I(t,r,y),Ot(o,t,y),I(t,i,y),Ot(c,t,y),I(t,l,y),Ot(a,t,y),I(t,u,y),Ot(f,t,y),I(t,d,y),Ot(p,t,y),I(t,h,y),Ot(m,t,y),I(t,g,y),Ot($,t,y),b=!0},p(t,n){const r={};65536&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};65536&n[2]&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const l={};65536&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};65536&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};65536&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const h={};65536&n[2]&&(h.$$scope={dirty:n,ctx:t}),f.$set(h);const g={};65536&n[2]&&(g.$$scope={dirty:n,ctx:t}),p.$set(g);const b={};65536&n[2]&&(b.$$scope={dirty:n,ctx:t}),m.$set(b);const y={};65536&n[2]&&(y.$$scope={dirty:n,ctx:t}),$.$set(y)},i(t){b||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),xt(m.$$.fragment,t),xt($.$$.fragment,t),b=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),_t(m.$$.fragment,t),_t($.$$.fragment,t),b=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t),t&&C(r),Lt(o,t),t&&C(i),Lt(c,t),t&&C(l),Lt(a,t),t&&C(u),Lt(f,t),t&&C(d),Lt(p,t),t&&C(h),Lt(m,t),t&&C(g),Lt($,t)}}}function Cu(t){let e,n,s;function r(e){t[47](e)}let o={placeholder:"Flashable component",options:t[26]};return void 0!==t[4]&&(o.value=t[4]),e=new Ja({props:o}),rt.push((()=>It(e,"value",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&16&s[0]&&(n=!0,r.value=t[4],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function Ou(t){let e;return{c(){e=R("Flash")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Lu(t){let e,n;return e=new Pa({props:{$$slots:{default:[Ou]},$$scope:{ctx:t}}}),e.$on("click",t[46]),{c(){Ct(e.$$.fragment)},m(t,s){Ot(e,t,s),n=!0},p(t,n){const s={};65536&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Du(t){let e,n,s,r,o,i;function c(e){t[54](e)}let l={type:"number",placeholder:"Address"};function a(e){t[55](e)}void 0!==t[6]&&(l.value=t[6]),e=new Wa({props:l}),rt.push((()=>It(e,"value",c)));let u={};return void 0!==t[5]&&(u.value=t[5]),r=new nu({props:u}),rt.push((()=>It(r,"value",a))),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment)},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),i=!0},p(t,s){const i={};!n&&64&s[0]&&(n=!0,i.value=t[6],ut((()=>n=!1))),e.$set(i);const c={};!o&&32&s[0]&&(o=!0,c.value=t[5],ut((()=>o=!1))),r.$set(c)},i(t){i||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t)}}}function Ru(t){let e;return{c(){e=R("Flash address")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Uu(t){let e;return{c(){e=R("Flash data")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Bu(t){let e;return{c(){e=R("Show address")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Pu(t){let e;return{c(){e=R("Clear")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Mu(t){let e;return{c(){e=R("Write")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Qu(t){let e;return{c(){e=R("Dump")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Fu(t){let e,n,s,r,o,i,c,l,a,u,f,d;return e=new Pa({props:{$$slots:{default:[Ru]},$$scope:{ctx:t}}}),e.$on("click",t[48]),s=new Pa({props:{$$slots:{default:[Uu]},$$scope:{ctx:t}}}),s.$on("click",t[49]),o=new Pa({props:{$$slots:{default:[Bu]},$$scope:{ctx:t}}}),o.$on("click",t[50]),c=new Pa({props:{$$slots:{default:[Pu]},$$scope:{ctx:t}}}),c.$on("click",t[51]),a=new Pa({props:{$$slots:{default:[Mu]},$$scope:{ctx:t}}}),a.$on("click",t[52]),f=new Pa({props:{$$slots:{default:[Qu]},$$scope:{ctx:t}}}),f.$on("click",t[53]),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment),r=U(),Ct(o.$$.fragment),i=U(),Ct(c.$$.fragment),l=U(),Ct(a.$$.fragment),u=U(),Ct(f.$$.fragment)},m(t,p){Ot(e,t,p),I(t,n,p),Ot(s,t,p),I(t,r,p),Ot(o,t,p),I(t,i,p),Ot(c,t,p),I(t,l,p),Ot(a,t,p),I(t,u,p),Ot(f,t,p),d=!0},p(t,n){const r={};65536&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};65536&n[2]&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const l={};65536&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};65536&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};65536&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const p={};65536&n[2]&&(p.$$scope={dirty:n,ctx:t}),f.$set(p)},i(t){d||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),d=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),d=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t),t&&C(r),Lt(o,t),t&&C(i),Lt(c,t),t&&C(l),Lt(a,t),t&&C(u),Lt(f,t)}}}function ju(t){let e,n,s;function r(e){t[61](e)}let o={};return void 0!==t[7]&&(o.value=t[7]),e=new Wa({props:o}),rt.push((()=>It(e,"value",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&128&s[0]&&(n=!0,r.value=t[7],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function Ku(t){let e;return{c(){e=R("Error")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Wu(t){let e;return{c(){e=R("Warning")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Hu(t){let e;return{c(){e=R("Success")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function qu(t){let e;return{c(){e=R("Info")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Vu(t){let e;return{c(){e=R("Bug")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Gu(t){let e,n,s,r,o,i,c,l,a,u;return e=new Pa({props:{$$slots:{default:[Ku]},$$scope:{ctx:t}}}),e.$on("click",t[56]),s=new Pa({props:{$$slots:{default:[Wu]},$$scope:{ctx:t}}}),s.$on("click",t[57]),o=new Pa({props:{$$slots:{default:[Hu]},$$scope:{ctx:t}}}),o.$on("click",t[58]),c=new Pa({props:{$$slots:{default:[qu]},$$scope:{ctx:t}}}),c.$on("click",t[59]),a=new Pa({props:{$$slots:{default:[Vu]},$$scope:{ctx:t}}}),a.$on("click",t[60]),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment),r=U(),Ct(o.$$.fragment),i=U(),Ct(c.$$.fragment),l=U(),Ct(a.$$.fragment)},m(t,f){Ot(e,t,f),I(t,n,f),Ot(s,t,f),I(t,r,f),Ot(o,t,f),I(t,i,f),Ot(c,t,f),I(t,l,f),Ot(a,t,f),u=!0},p(t,n){const r={};65536&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};65536&n[2]&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const l={};65536&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};65536&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const f={};65536&n[2]&&(f.$$scope={dirty:n,ctx:t}),a.$set(f)},i(t){u||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),u=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),u=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t),t&&C(r),Lt(o,t),t&&C(i),Lt(c,t),t&&C(l),Lt(a,t)}}}function Xu(t){let e,n,s,r,o,i;function c(e){t[63](e)}let l={placeholder:"From node",options:Ro.map(gf)};function a(e){t[64](e)}void 0!==t[8]&&(l.value=t[8]),e=new Ja({props:l}),rt.push((()=>It(e,"value",c)));let u={placeholder:"To node",options:Ro.map($f)};return void 0!==t[9]&&(u.value=t[9]),r=new Ja({props:u}),rt.push((()=>It(r,"value",a))),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment)},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),i=!0},p(t,s){const i={};!n&&256&s[0]&&(n=!0,i.value=t[8],ut((()=>n=!1))),e.$set(i);const c={};!o&&512&s[0]&&(o=!0,c.value=t[9],ut((()=>o=!1))),r.$set(c)},i(t){i||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t)}}}function Ju(t){let e;return{c(){e=R("Flash")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function zu(t){let e,n;return e=new Pa({props:{$$slots:{default:[Ju]},$$scope:{ctx:t}}}),e.$on("click",t[62]),{c(){Ct(e.$$.fragment)},m(t,s){Ot(e,t,s),n=!0},p(t,n){const s={};65536&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Zu(t){let e;return{c(){e=R("Show nodes")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function Yu(t){let e;return{c(){e=R("Show names")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function tf(t){let e;return{c(){e=R("Show coordinates")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function ef(t){let e,n,s,r,o,i,c,l,a;function u(e){t[65](e)}let f={$$slots:{default:[Zu]},$$scope:{ctx:t}};function d(e){t[66](e)}void 0!==t[19]&&(f.checked=t[19]),e=new Fa({props:f}),rt.push((()=>It(e,"checked",u)));let p={disabled:!t[19],$$slots:{default:[Yu]},$$scope:{ctx:t}};function h(e){t[67](e)}void 0!==t[20]&&(p.checked=t[20]),r=new Fa({props:p}),rt.push((()=>It(r,"checked",d)));let m={disabled:!t[19],$$slots:{default:[tf]},$$scope:{ctx:t}};return void 0!==t[21]&&(m.checked=t[21]),c=new Fa({props:m}),rt.push((()=>It(c,"checked",h))),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment),i=U(),Ct(c.$$.fragment)},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),I(t,i,n),Ot(c,t,n),a=!0},p(t,s){const i={};65536&s[2]&&(i.$$scope={dirty:s,ctx:t}),!n&&524288&s[0]&&(n=!0,i.checked=t[19],ut((()=>n=!1))),e.$set(i);const a={};524288&s[0]&&(a.disabled=!t[19]),65536&s[2]&&(a.$$scope={dirty:s,ctx:t}),!o&&1048576&s[0]&&(o=!0,a.checked=t[20],ut((()=>o=!1))),r.$set(a);const u={};524288&s[0]&&(u.disabled=!t[19]),65536&s[2]&&(u.$$scope={dirty:s,ctx:t}),!l&&2097152&s[0]&&(l=!0,u.checked=t[21],ut((()=>l=!1))),c.$set(u)},i(t){a||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(c.$$.fragment,t),a=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(c.$$.fragment,t),a=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t),t&&C(i),Lt(c,t)}}}function nf(t){let e,n,s;function r(e){t[70](e)}let o={options:[...Ce]};return void 0!==t[24]&&(o.value=t[24]),e=new Ja({props:o}),rt.push((()=>It(e,"value",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&16777216&s[0]&&(n=!0,r.value=t[24],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function sf(t){let e;return{c(){e=R("Binary")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function rf(t){let e;return{c(){e=R("Labels")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function of(t){let e,n,s,r,o,i;function c(e){t[68](e)}let l={$$slots:{default:[sf]},$$scope:{ctx:t}};function a(e){t[69](e)}void 0!==t[22]&&(l.checked=t[22]),e=new Fa({props:l}),rt.push((()=>It(e,"checked",c)));let u={$$slots:{default:[rf]},$$scope:{ctx:t}};return void 0!==t[23]&&(u.checked=t[23]),r=new Fa({props:u}),rt.push((()=>It(r,"checked",a))),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment)},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),i=!0},p(t,s){const i={};65536&s[2]&&(i.$$scope={dirty:s,ctx:t}),!n&&4194304&s[0]&&(n=!0,i.checked=t[22],ut((()=>n=!1))),e.$set(i);const c={};65536&s[2]&&(c.$$scope={dirty:s,ctx:t}),!o&&8388608&s[0]&&(o=!0,c.checked=t[23],ut((()=>o=!1))),r.$set(c)},i(t){i||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t)}}}function cf(t){let e,n,s;function r(e){t[73](e)}let o={placeholder:"Utterance"};return void 0!==t[10]&&(o.value=t[10]),e=new Wa({props:o}),rt.push((()=>It(e,"value",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&1024&s[0]&&(n=!0,r.value=t[10],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function lf(t){let e;return{c(){e=R("Speak")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function af(t){let e;return{c(){e=R("TTS Enabled")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function uf(t){let e,n,s,r,o;function i(e){t[72](e)}e=new Pa({props:{$$slots:{default:[lf]},$$scope:{ctx:t}}}),e.$on("click",t[71]);let c={$$slots:{default:[af]},$$scope:{ctx:t}};return void 0!==t[25]&&(c.checked=t[25]),s=new Fa({props:c}),rt.push((()=>It(s,"checked",i))),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment)},m(t,r){Ot(e,t,r),I(t,n,r),Ot(s,t,r),o=!0},p(t,n){const o={};65536&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};65536&n[2]&&(i.$$scope={dirty:n,ctx:t}),!r&&33554432&n[0]&&(r=!0,i.checked=t[25],ut((()=>r=!1))),s.$set(i)},i(t){o||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),o=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),o=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t)}}}function ff(t){let e,n,s,r,o,i;function c(e){t[76](e)}let l={placeholder:"Key"};function a(e){t[77](e)}void 0!==t[11]&&(l.value=t[11]),e=new Wa({props:l}),rt.push((()=>It(e,"value",c)));let u={placeholder:"Value"};return void 0!==t[12]&&(u.value=t[12]),r=new Wa({props:u}),rt.push((()=>It(r,"value",a))),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment)},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),i=!0},p(t,s){const i={};!n&&2048&s[0]&&(n=!0,i.value=t[11],ut((()=>n=!1))),e.$set(i);const c={};!o&&4096&s[0]&&(o=!0,c.value=t[12],ut((()=>o=!1))),r.$set(c)},i(t){i||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t)}}}function df(t){let e;return{c(){e=R("Set")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function pf(t){let e;return{c(){e=R("Clear")},m(t,n){I(t,e,n)},d(t){t&&C(e)}}}function hf(t){let e,n,s,r;return e=new Pa({props:{$$slots:{default:[df]},$$scope:{ctx:t}}}),e.$on("click",t[74]),s=new Pa({props:{$$slots:{default:[pf]},$$scope:{ctx:t}}}),s.$on("click",t[75]),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment)},m(t,o){Ot(e,t,o),I(t,n,o),Ot(s,t,o),r=!0},p(t,n){const r={};65536&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};65536&n[2]&&(o.$$scope={dirty:n,ctx:t}),s.$set(o)},i(t){r||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),r=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t)}}}function mf(t){let e,n,s=t[13]&&uu(t);return{c(){s&&s.c(),e=R("\nS")},m(t,r){s&&s.m(t,r),I(t,e,r),n=!0},p(t,n){t[13]?s?(s.p(t,n),8192&n[0]&&xt(s,1)):(s=uu(t),s.c(),xt(s,1),s.m(e.parentNode,e)):s&&(wt(),_t(s,1,1,(()=>{s=null})),vt())},i(t){n||(xt(s),n=!0)},o(t){_t(s),n=!1},d(t){s&&s.d(t),t&&C(e)}}}const gf=t=>t.name,$f=t=>t.name;function bf(t,e,n){let s,r,o,i,c,l,a,f,d,p,h,m,g;u(t,Xt,(t=>n(13,s=t))),u(t,Qt,(t=>n(14,r=t))),u(t,Mt,(t=>n(15,o=t))),u(t,Mc,(t=>n(16,i=t))),u(t,Wt,(t=>n(17,c=t))),u(t,Ft,(t=>n(18,l=t))),u(t,Jt,(t=>n(19,a=t))),u(t,zt,(t=>n(20,f=t))),u(t,Zt,(t=>n(21,d=t))),u(t,Le,(t=>n(22,p=t))),u(t,De,(t=>n(23,h=t))),u(t,Me,(t=>n(24,m=t))),u(t,Qe,(t=>n(25,g=t))),tt((()=>{const t=t=>{t.altKey&&"d"===t.key.toLowerCase()&&(t.preventDefault(),C())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}));let $,b,w,v,x,_,k,A,S,E,T,N,I=!1;function C(){y(Xt,s=!s,s)}return[$,b,w,I,v,x,_,k,A,S,E,T,N,s,r,o,i,c,l,a,f,d,p,h,m,g,["IR","IR:OPC","IR:OPR","PC","INC","MUX","CU","ALU:1","ALU:2","ALU:OPR","ACC","SW:Z","SW:N"],C,()=>Ra.reset(),()=>Ra.start(),()=>Ra.pause(),()=>Ra.step(),()=>Ra.instruction(),()=>gi.reset(),()=>ri.set($),()=>oi.set(new io(8,parseInt(b))),()=>ci.set(new io(16,parseInt(b))),()=>li.set(new io(16,parseInt(b))),()=>ai.set(w),()=>fi.set(new io(16,parseInt(b))),()=>di.set(I),()=>pi.set(I),function(t){$=t,n(0,$)},function(t){b=t,n(1,b)},function(t){w=t,n(2,w)},function(t){I=t,n(3,I)},()=>r.flash(v),function(t){v=t,n(4,v)},()=>o.flashAddress(parseInt(_)),()=>o.flashContent(parseInt(_)),()=>o.showAddress(parseInt(_)),()=>Mc.clear(),()=>Mc.write(parseInt(_),x),()=>{console.log("--- RAM CONTENT ----------------"),console.dir(i),console.log("--------------------------------")},function(t){_=t,n(6,_)},function(t){x=t,n(5,x)},()=>c.error(k),()=>c.warning(k),()=>c.success(k),()=>c.info(k),()=>c.bug(k),function(t){k=t,n(7,k)},()=>l.flashWire(A,S),function(t){A=t,n(8,A)},function(t){S=t,n(9,S)},function(t){a=t,Jt.set(a)},function(t){f=t,zt.set(f)},function(t){d=t,Zt.set(d)},function(t){p=t,Le.set(p)},function(t){h=t,De.set(h)},function(t){m=t,Me.set(m)},()=>Rl.read(E),function(t){g=t,Qe.set(g)},function(t){E=t,n(10,E)},()=>Ae(T,N),()=>localStorage.clear(),function(t){T=t,n(11,T)},function(t){N=t,n(12,N)}]}class yf extends Ut{constructor(t){super(),Rt(this,t,bf,mf,c,{},null,[-1,-1,-1])}}function wf(t,e){var n=document.createElement("a"),s=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(s),n.download=e,n.click()}function vf(t){return ne(this,void 0,void 0,(function(){return se(this,(function(e){return[2,new Promise((function(e,n){var s=document.createElement("input");s.type="file",s.accept=t,s.click(),s.oninput=function(){return e(s.files)}}))]}))}))}function xf(e){let n,s,r;return{c(){n=L("div"),s=L("div"),M(s,"class","h-full bg-white/60 rounded-r-sm"),K(s,"width",e[0]+"%"),M(n,"class",r="w-full h-1 bg-transparent "+e[1].class)},m(t,e){I(t,n,e),E(n,s)},p(t,[e]){1&e&&K(s,"width",t[0]+"%"),2&e&&r!==(r="w-full h-1 bg-transparent "+t[1].class)&&M(n,"class",r)},i:t,o:t,d(t){t&&C(n)}}}function _f(t,e,s){let r;const o=["value","max"];let i=$(e,o),{value:c}=e,{max:l}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(1,i=$(e,o)),"value"in t&&s(2,c=t.value),"max"in t&&s(3,l=t.max)},t.$$.update=()=>{12&t.$$.dirty&&s(0,r=100/l*c)},[r,i,c,l]}class kf extends Ut{constructor(t){super(),Rt(this,t,_f,xf,c,{value:2,max:3})}}function Af(t){let e,n;return e=new Pa({props:{$$slots:{default:[Sf]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){Ct(e.$$.fragment)},m(t,s){Ot(e,t,s),n=!0},p(t,n){const s={};1028&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Sf(t){let e,n=t[2].message_feed.buttons.export_logs.text+"";return{c(){e=R(n)},m(t,n){I(t,e,n)},p(t,s){4&s&&n!==(n=t[2].message_feed.buttons.export_logs.text+"")&&F(e,n)},d(t){t&&C(e)}}}function Ef(t){let e,n;return e=new kf({props:{class:"absolute left-0 bottom-0",value:t[1],max:Nf}}),{c(){Ct(e.$$.fragment)},m(t,s){Ot(e,t,s),n=!0},p(t,n){const s={};2&n&&(s.value=t[1]),e.$set(s)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Tf(t){let e,n,s,r,i,c,l,a,u,f,d,p,h,m,g,$,b=t[0].message+"",y="BUG"===t[0].type&&Af(t),w=t[0].timer&&Ef(t);return{c(){e=L("div"),n=L("button"),s=D("svg"),r=D("path"),i=D("path"),l=U(),a=L("p"),u=R(b),f=U(),y&&y.c(),d=U(),w&&w.c(),M(r,"d","M0 0h24v24H0V0z"),M(r,"fill","none"),M(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 24 24"),M(s,"fill","#FFFFFF"),M(s,"class","h-6 w-6 hover:scale-105"),M(n,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),M(n,"title",c=t[2].message_feed.buttons.close_message.title),M(a,"class","w-3/4 text-center text-xl"),M(e,"class",p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+t[0].type+" svelte-1j9b8ca")},m(o,c){I(o,e,c),E(e,n),E(n,s),E(s,r),E(s,i),E(e,l),E(e,a),E(a,u),E(e,f),y&&y.m(e,null),E(e,d),w&&w.m(e,null),m=!0,g||($=[P(n,"click",t[3]),P(e,"mouseenter",t[4]),P(e,"mouseleave",t[5])],g=!0)},p(t,[s]){(!m||4&s&&c!==(c=t[2].message_feed.buttons.close_message.title))&&M(n,"title",c),(!m||1&s)&&b!==(b=t[0].message+"")&&F(u,b),"BUG"===t[0].type?y?(y.p(t,s),1&s&&xt(y,1)):(y=Af(t),y.c(),xt(y,1),y.m(e,d)):y&&(wt(),_t(y,1,1,(()=>{y=null})),vt()),t[0].timer?w?(w.p(t,s),1&s&&xt(w,1)):(w=Ef(t),w.c(),xt(w,1),w.m(e,null)):w&&(wt(),_t(w,1,1,(()=>{w=null})),vt()),(!m||1&s&&p!==(p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+t[0].type+" svelte-1j9b8ca"))&&M(e,"class",p)},i(t){m||(xt(y),xt(w),at((()=>{h||(h=St(e,_c,{},!0)),h.run(1)})),m=!0)},o(t){_t(y),_t(w),h||(h=St(e,_c,{},!1)),h.run(0),m=!1},d(t){t&&C(e),y&&y.d(),w&&w.d(),t&&h&&h.end(),g=!1,o($)}}}const Nf=5;function If(t,e,n){let s,r;u(t,Ni,(t=>n(8,s=t))),u(t,Jr,(t=>n(2,r=t)));const o=et();let{message:i}=e,c=Nf,l=!1;function a(){o("closemessage",{messageId:i.id})}return tt((()=>{if(!i.timer)return;const t=setInterval((()=>{l||n(1,c--,c),0===c&&(clearInterval(t),a())}),1e3)})),t.$$set=t=>{"message"in t&&n(0,i=t.message)},[i,c,r,a,function(){n(1,c=Nf),l=!0},function(){l=!1},function(){wf(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)}]}class Cf extends Ut{constructor(t){super(),Rt(this,t,If,Tf,c,{message:0})}}function Of(t,e,n){const s=t.slice();return s[8]=e[n],s}function Lf(t,e){let n,s,r;return s=new Cf({props:{message:e[8]}}),s.$on("closemessage",e[1]),{key:t,first:null,c(){n=B(),Ct(s.$$.fragment),this.first=n},m(t,e){I(t,n,e),Ot(s,t,e),r=!0},p(t,n){e=t;const r={};1&n&&(r.message=e[8]),s.$set(r)},i(t){r||(xt(s.$$.fragment,t),r=!0)},o(t){_t(s.$$.fragment,t),r=!1},d(t){t&&C(n),Lt(s,t)}}}function Df(t){let e,n,s=[],r=new Map,o=t[0];const i=t=>t[8].id;for(let e=0;e<o.length;e+=1){let n=Of(t,o,e),c=i(n);r.set(c,s[e]=Lf(c,n))}return{c(){e=L("div");for(let t=0;t<s.length;t+=1)s[t].c();M(e,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(t,r){I(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);n=!0},p(t,[n]){3&n&&(o=t[0],wt(),s=Nt(s,n,i,1,t,o,r,e,Tt,Lf,null,Of),vt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)xt(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)_t(s[t]);n=!1},d(t){t&&C(e);for(let t=0;t<s.length;t+=1)s[t].d()}}}function Rf(t,e,n){let s=[];function r(t){3===s.length&&s.shift(),n(0,s=[...s,t])}return[s,function(t){n(0,s=s.filter((e=>e.id!==t.detail.messageId)))},function(t){r({id:Math.random(),type:"ERROR",message:t,timer:!0})},function(t){r({id:Math.random(),type:"WARNING",message:t,timer:!0})},function(t){r({id:Math.random(),type:"SUCCESS",message:t,timer:!0})},function(t){r({id:Math.random(),type:"INFO",message:t,timer:!0})},function(t){r({id:Math.random(),type:"BUG",message:t,timer:!1})}]}class Uf extends Ut{constructor(t){super(),Rt(this,t,Rf,Df,c,{error:2,warning:3,success:4,info:5,bug:6})}get error(){return this.$$.ctx[2]}get warning(){return this.$$.ctx[3]}get success(){return this.$$.ctx[4]}get info(){return this.$$.ctx[5]}get bug(){return this.$$.ctx[6]}}function Bf(t,e,n){const s=t.slice();return s[17]=e[n],s}function Pf(t,e,n){const s=t.slice();return s[20]=e[n],s}function Mf(t,e,n){const s=t.slice();return s[23]=e[n],s}function Qf(t){let e,n,s,r,i,c,l,a,u,f,d,p,h,m,g,$,b,y,w,v,x,_,k,A,S,T,N,D,B,Q,F,K,H,q,V,G,X=Di,J=[];for(let e=0;e<X.length;e+=1)J[e]=Ff(Mf(t,X,e));let z=Li,Z=[];for(let e=0;e<z.length;e+=1)Z[e]=jf(Pf(t,z,e));let Y=t[5],tt=[];for(let e=0;e<Y.length;e+=1)tt[e]=Wf(Bf(t,Y,e));return{c(){e=L("div"),n=L("div"),s=L("h2"),s.textContent="Logs",r=U(),i=L("div"),c=L("label"),l=R("Keyword:\n\t\t\t\t\t"),a=L("input"),u=U(),f=L("label"),d=R("Type:\n\t\t\t\t\t"),p=L("select"),h=L("option"),h.textContent="ALL";for(let t=0;t<J.length;t+=1)J[t].c();m=U(),g=L("label"),$=R("Group:\n\t\t\t\t\t"),b=L("select"),y=L("option"),y.textContent="ALL";for(let t=0;t<Z.length;t+=1)Z[t].c();w=U(),v=L("div"),x=L("label"),_=R("Lock scroll to bottom\n\t\t\t\t\t"),k=L("input"),A=U(),S=L("label"),T=R("Show timestamp\n\t\t\t\t\t"),N=L("input"),D=U(),B=L("div"),Q=L("button"),Q.textContent="Export",F=U(),K=L("button"),K.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',H=U(),q=L("div");for(let t=0;t<tt.length;t+=1)tt[t].c();M(s,"class","text-2xl"),M(a,"type","text"),M(a,"class","text-black px-1 py-0.5"),M(c,"for","keyword"),h.__value="ALL",h.value=h.__value,M(p,"id","type"),M(p,"class","text-black px-1 py-0.5"),void 0===t[1]&&at((()=>t[12].call(p))),M(f,"for","type"),y.__value="ALL",y.value=y.__value,M(b,"id","group"),M(b,"class","text-black px-1 py-0.5"),void 0===t[2]&&at((()=>t[13].call(b))),M(g,"for","group"),M(i,"class","flex items-center flex-wrap gap-4 p-2"),M(k,"type","checkbox"),M(k,"id","lock-scroll-to-bottom"),M(x,"for","lock-scroll-to-bottom"),M(N,"type","checkbox"),M(N,"id","show-timestamp"),M(S,"for","show-timestamp"),M(v,"class","flex items-center flex-wrap gap-4 p-2"),M(Q,"class","border px-1"),M(B,"class","flex items-center flex-wrap gap-4 p-2"),M(K,"title","Close logs"),M(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),M(q,"class","w-full h-[90%] overflow-y-auto"),M(e,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(o,C){I(o,e,C),E(e,n),E(n,s),E(n,r),E(n,i),E(i,c),E(c,l),E(c,a),j(a,t[3]),E(i,u),E(i,f),E(f,d),E(f,p),E(p,h);for(let t=0;t<J.length;t+=1)J[t].m(p,null);W(p,t[1]),E(i,m),E(i,g),E(g,$),E(g,b),E(b,y);for(let t=0;t<Z.length;t+=1)Z[t].m(b,null);W(b,t[2]),E(n,w),E(n,v),E(v,x),E(x,_),E(x,k),k.checked=t[4],E(v,A),E(v,S),E(S,T),E(S,N),N.checked=t[6],E(n,D),E(n,B),E(B,Q),E(n,F),E(n,K),E(e,H),E(e,q);for(let t=0;t<tt.length;t+=1)tt[t].m(q,null);t[16](q),V||(G=[P(a,"input",t[11]),P(p,"change",t[12]),P(b,"change",t[13]),P(k,"change",t[14]),P(N,"change",t[15]),P(Q,"click",t[9]),P(K,"click",t[8])],V=!0)},p(t,e){if(8&e&&a.value!==t[3]&&j(a,t[3]),0&e){let n;for(X=Di,n=0;n<X.length;n+=1){const s=Mf(t,X,n);J[n]?J[n].p(s,e):(J[n]=Ff(s),J[n].c(),J[n].m(p,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=X.length}if(2&e&&W(p,t[1]),0&e){let n;for(z=Li,n=0;n<z.length;n+=1){const s=Pf(t,z,n);Z[n]?Z[n].p(s,e):(Z[n]=jf(s),Z[n].c(),Z[n].m(b,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=z.length}if(4&e&&W(b,t[2]),16&e&&(k.checked=t[4]),64&e&&(N.checked=t[6]),96&e){let n;for(Y=t[5],n=0;n<Y.length;n+=1){const s=Bf(t,Y,n);tt[n]?tt[n].p(s,e):(tt[n]=Wf(s),tt[n].c(),tt[n].m(q,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=Y.length}},d(n){n&&C(e),O(J,n),O(Z,n),O(tt,n),t[16](null),V=!1,o(G)}}}function Ff(e){let n,s,r=e[23]+"";return{c(){n=L("option"),s=R(r),n.__value=e[23],n.value=n.__value},m(t,e){I(t,n,e),E(n,s)},p:t,d(t){t&&C(n)}}}function jf(e){let n,s,r=e[20]+"";return{c(){n=L("option"),s=R(r),n.__value=e[20],n.value=n.__value},m(t,e){I(t,n,e),E(n,s)},p:t,d(t){t&&C(n)}}}function Kf(t){let e,n,s=t[17].timestamp+"";return{c(){e=R(s),n=R(" - ")},m(t,s){I(t,e,s),I(t,n,s)},p(t,n){32&n&&s!==(s=t[17].timestamp+"")&&F(e,s)},d(t){t&&C(e),t&&C(n)}}}function Wf(t){let e,n,s,r,o=t[17].message+"",i=t[6]&&Kf(t);return{c(){e=L("p"),i&&i.c(),n=R(o),s=U(),M(e,"class",r="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")},m(t,r){I(t,e,r),i&&i.m(e,null),E(e,n),E(e,s)},p(t,s){t[6]?i?i.p(t,s):(i=Kf(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),32&s&&o!==(o=t[17].message+"")&&F(n,o),32&s&&r!==(r="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")&&M(e,"class",r)},d(t){t&&C(e),i&&i.d()}}}function Hf(e){let n,s=e[7].showLogger&&Qf(e);return{c(){s&&s.c(),n=B()},m(t,e){s&&s.m(t,e),I(t,n,e)},p(t,[e]){t[7].showLogger?s?s.p(t,e):(s=Qf(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&C(n)}}}function qf(t,e,n){let s,r,o;u(t,Ni,(t=>n(10,s=t))),u(t,Ci,(t=>n(7,r=t)));let i=[],c="ALL",l="ALL",a="",f=!1,d=!0;function p(){Ci.updateShowLogger((t=>!t))}return tt((()=>{const t=t=>{t.altKey&&t.shiftKey&&"l"===t.key.toLowerCase()&&p()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)})),t.$$.update=()=>{1055&t.$$.dirty&&o&&(n(5,i=s.filter((t=>("ALL"===c||t.logType===c)&&("ALL"===l||t.logGroup===l)&&t.message.toLowerCase().includes(a)))),d&&n(0,o.scrollTop=o.scrollHeight,o))},[o,c,l,a,d,i,f,r,p,function(){wf(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},s,function(){a=this.value,n(3,a)},function(){c=H(this),n(1,c)},function(){l=H(this),n(2,l)},function(){d=this.checked,n(4,d)},function(){f=this.checked,n(6,f)},function(t){rt[t?"unshift":"push"]((()=>{o=t,n(0,o),n(10,s),n(1,c),n(2,l),n(3,a),n(4,d)}))}]}class Vf extends Ut{constructor(t){super(),Rt(this,t,qf,Hf,c,{})}}function Gf(t){let e,n,s;const r=t[2].default,o=f(r,t,t[1],null);return{c(){e=L("div"),o&&o.c(),M(e,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class)},m(t,n){I(t,e,n),o&&o.m(e,null),s=!0},p(t,[i]){o&&o.p&&(!s||2&i)&&h(o,r,t,t[1],s?p(r,t[1],i,null):m(t[1]),null),(!s||1&i&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class))&&M(e,"class",n)},i(t){s||(xt(o,t),s=!0)},o(t){_t(o,t),s=!1},d(t){t&&C(e),o&&o.d(t)}}}function Xf(t,e,s){const r=[];let o=$(e,r),{$$slots:i={},$$scope:c}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(0,o=$(e,r)),"$$scope"in t&&s(1,c=t.$$scope)},[o,c,i]}class Jf extends Ut{constructor(t){super(),Rt(this,t,Xf,Gf,c,{})}}function zf(e){let n,s,r,i,c,l,a;return{c(){n=L("button"),s=D("svg"),r=D("path"),M(r,"d",i=e[3][e[2]]),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 24 24"),M(s,"class","fill-black w-6 h-6 scale-[1.4]"),M(n,"class",c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],M(n,"title",e[1])},m(t,o){I(t,n,o),E(n,s),E(s,r),l||(a=[P(n,"click",e[5]),P(n,"focus",e[6]),P(n,"focusout",e[7]),P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9]),P(n,"mouseover",e[10])],l=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&M(r,"d",i),16&e&&c!==(c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&M(n,"class",c),1&e&&(n.disabled=t[0]),2&e&&M(n,"title",t[1])},i:t,o:t,d(t){t&&C(n),l=!1,o(a)}}}function Zf(t,e,s){const r=["disabled","title","icon"];let o=$(e,r),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(4,o=$(e,r)),"disabled"in t&&s(0,i=t.disabled),"title"in t&&s(1,c=t.title),"icon"in t&&s(2,l=t.icon)},[i,c,l,{"":"",reset:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",skip:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Yf extends Ut{constructor(t){super(),Rt(this,t,Zf,zf,c,{disabled:0,title:1,icon:2})}}function td(t){let e,n,s,r,i,c,l,a,u;const d=t[5].default,g=f(d,t,t[4],null);return{c(){e=L("div"),n=L("div"),r=U(),i=L("div"),g&&g.c(),M(n,"class",s="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")),M(i,"class","font-medium pb-[3px]"),M(e,"class",c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class),M(e,"disabled",t[1])},m(s,o){I(s,e,o),E(e,n),E(e,r),E(e,i),g&&g.m(i,null),l=!0,a||(u=[P(e,"click",t[2]),P(e,"focus",t[6]),P(e,"focusout",t[7]),P(e,"mouseenter",t[8]),P(e,"mouseleave",t[9]),P(e,"mouseover",t[10])],a=!0)},p(t,[r]){(!l||3&r&&s!==(s="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")))&&M(n,"class",s),g&&g.p&&(!l||16&r)&&h(g,d,t,t[4],l?p(d,t[4],r,null):m(t[4]),null),(!l||10&r&&c!==(c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class))&&M(e,"class",c),(!l||2&r)&&M(e,"disabled",t[1])},i(t){l||(xt(g,t),l=!0)},o(t){_t(g,t),l=!1},d(t){t&&C(e),g&&g.d(t),a=!1,o(u)}}}function ed(t,e,s){const r=["disabled","checked"];let o=$(e,r),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=et();return t.$$set=t=>{e=n(n({},e),g(t)),s(3,o=$(e,r)),"disabled"in t&&s(1,l=t.disabled),"checked"in t&&s(0,a=t.checked),"$$scope"in t&&s(4,c=t.$$scope)},[a,l,function(t){s(0,a=!a),u("click",t)},o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class nd extends Ut{constructor(t){super(),Rt(this,t,ed,td,c,{disabled:1,checked:0})}}function sd(e){let n,s,r,i;return{c(){n=L("input"),M(n,"type","range"),M(n,"class",s=b(e[6].class)+" svelte-dtr8pe"),M(n,"min",e[1]),M(n,"max",e[2]),M(n,"step",e[3]),n.disabled=e[4],M(n,"title",e[5])},m(t,s){I(t,n,s),j(n,e[0]),r||(i=[P(n,"change",e[14]),P(n,"input",e[14]),P(n,"input",e[7]),P(n,"change",e[8]),P(n,"focus",e[9]),P(n,"focusout",e[10]),P(n,"mouseenter",e[11]),P(n,"mouseleave",e[12]),P(n,"mouseover",e[13])],r=!0)},p(t,[e]){64&e&&s!==(s=b(t[6].class)+" svelte-dtr8pe")&&M(n,"class",s),2&e&&M(n,"min",t[1]),4&e&&M(n,"max",t[2]),8&e&&M(n,"step",t[3]),16&e&&(n.disabled=t[4]),32&e&&M(n,"title",t[5]),1&e&&j(n,t[0])},i:t,o:t,d(t){t&&C(n),r=!1,o(i)}}}function rd(t,e,s){const r=["min","max","value","step","disabled","title"];let o=$(e,r),{min:i=0}=e,{max:c=1}=e,{value:l=c/2+i}=e,{step:a=.1}=e,{disabled:u=!1}=e,{title:f=""}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(6,o=$(e,r)),"min"in t&&s(1,i=t.min),"max"in t&&s(2,c=t.max),"value"in t&&s(0,l=t.value),"step"in t&&s(3,a=t.step),"disabled"in t&&s(4,u=t.disabled),"title"in t&&s(5,f=t.title)},[l,i,c,a,u,f,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){l=Q(this.value),s(0,l)}]}class od extends Ut{constructor(t){super(),Rt(this,t,rd,sd,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function id(t){let e,n,s,r,o;const i=t[2].default,c=f(i,t,t[1],null);return{c(){e=L("div"),n=L("span"),s=R(t[0]),r=U(),c&&c.c(),M(n,"class","text-gray-200"),M(e,"class","h-full py-2 flex flex-col items-center justify-between")},m(t,i){I(t,e,i),E(e,n),E(n,s),E(e,r),c&&c.m(e,null),o=!0},p(t,[e]){(!o||1&e)&&F(s,t[0]),c&&c.p&&(!o||2&e)&&h(c,i,t,t[1],o?p(i,t[1],e,null):m(t[1]),null)},i(t){o||(xt(c,t),o=!0)},o(t){_t(c,t),o=!1},d(t){t&&C(e),c&&c.d(t)}}}function cd(t,e,n){let{$$slots:s={},$$scope:r}=e,{label:o=""}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label),"$$scope"in t&&n(1,r=t.$$scope)},[o,r,s]}class ld extends Ut{constructor(t){super(),Rt(this,t,cd,id,c,{label:0})}}function ad(t){let e,n;return e=new Jf({props:{class:"justify-center",$$slots:{default:[ud]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment)},m(t,s){Ot(e,t,s),n=!0},p(t,n){const s={};9&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function ud(t){let e,n;return{c(){e=L("p"),n=R(t[0]),M(e,"class","w-[450px] text-gray-200 overflow-hidden text-center")},m(t,s){I(t,e,s),E(e,n)},p(t,e){1&e&&F(n,t[0])},d(t){t&&C(e)}}}function fd(t){let e,n,s=t[1]&&ad(t);return{c(){s&&s.c(),e=B()},m(t,r){s&&s.m(t,r),I(t,e,r),n=!0},p(t,[n]){t[1]?s?(s.p(t,n),2&n&&xt(s,1)):(s=ad(t),s.c(),xt(s,1),s.m(e.parentNode,e)):s&&(wt(),_t(s,1,1,(()=>{s=null})),vt())},i(t){n||(xt(s),n=!0)},o(t){_t(s),n=!1},d(t){s&&s.d(t),t&&C(e)}}}function dd(t,e,n){let s;u(t,Ue,(t=>n(1,s=t)));let r="";function o(t){n(0,r=t)}return Me.subscribe((()=>o(""))),[r,s,o]}class pd extends Ut{constructor(t){super(),Rt(this,t,dd,fd,c,{setText:2})}get setText(){return this.$$.ctx[2]}}function hd(t){let e,n,s,r,o,i,c;return n=new Yf({props:{icon:"reset",title:t[3].controls.buttons.reset.title}}),n.$on("click",t[6]),r=new Yf({props:{icon:t[4]?"pause":"play",title:t[4]?t[3].controls.buttons.pause.title:t[3].controls.buttons.play.title}}),r.$on("click",t[7]),i=new Yf({props:{icon:"skip",title:t[3].controls.buttons.end.title,disabled:!0}}),i.$on("click",t[8]),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),o=U(),Ct(i.$$.fragment),M(e,"class","flex items-center justify-center gap-1")},m(t,l){I(t,e,l),Ot(n,e,null),E(e,s),Ot(r,e,null),E(e,o),Ot(i,e,null),c=!0},p(t,e){const s={};8&e&&(s.title=t[3].controls.buttons.reset.title),n.$set(s);const o={};16&e&&(o.icon=t[4]?"pause":"play"),24&e&&(o.title=t[4]?t[3].controls.buttons.pause.title:t[3].controls.buttons.play.title),r.$set(o);const c={};8&e&&(c.title=t[3].controls.buttons.end.title),i.$set(c)},i(t){c||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),xt(i.$$.fragment,t),c=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(i.$$.fragment,t),c=!1},d(t){t&&C(e),Lt(n),Lt(r),Lt(i)}}}function md(t){let e,n,s,r,o;return n=new Yf({props:{icon:"play",title:t[3].controls.buttons.play_instruction.title}}),n.$on("click",t[11]),r=new Yf({props:{icon:"skip",title:t[3].controls.buttons.skip_instruction.title,disabled:!0}}),r.$on("click",t[12]),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),M(e,"class","flex items-center justify-center gap-1")},m(t,i){I(t,e,i),Ot(n,e,null),E(e,s),Ot(r,e,null),o=!0},p(t,e){const s={};8&e&&(s.title=t[3].controls.buttons.play_instruction.title),n.$set(s);const o={};8&e&&(o.title=t[3].controls.buttons.skip_instruction.title),r.$set(o)},i(t){o||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),o=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!1},d(t){t&&C(e),Lt(n),Lt(r)}}}function gd(t){let e,n,s,r,o;return n=new Yf({props:{icon:"play",title:t[3].controls.buttons.play_step.title}}),n.$on("click",t[9]),r=new Yf({props:{icon:"skip",title:t[3].controls.buttons.skip_step.title,disabled:!0}}),r.$on("click",t[10]),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),M(e,"class","flex items-center justify-center gap-1")},m(t,i){I(t,e,i),Ot(n,e,null),E(e,s),Ot(r,e,null),o=!0},p(t,e){const s={};8&e&&(s.title=t[3].controls.buttons.play_step.title),n.$set(s);const o={};8&e&&(o.title=t[3].controls.buttons.skip_step.title),r.$set(o)},i(t){o||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),o=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),o=!1},d(t){t&&C(e),Lt(n),Lt(r)}}}function $d(t){let e,n,s;function r(e){t[16](e)}let o={min:.1,max:3,title:t[3].controls.sliders.speed.title};return void 0!==t[2]&&(o.value=t[2]),e=new od({props:o}),rt.push((()=>It(e,"value",r))),e.$on("change",t[13]),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};8&s&&(r.title=t[3].controls.sliders.speed.title),!n&&4&s&&(n=!0,r.value=t[2],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function bd(t){let e,n,s,r,o,i,c,l;return e=new ld({props:{label:t[3].controls.labels.execution,$$slots:{default:[hd]},$$scope:{ctx:t}}}),s=new ld({props:{label:t[3].controls.labels.instruction,$$slots:{default:[md]},$$scope:{ctx:t}}}),o=new ld({props:{label:t[3].controls.labels.step,$$slots:{default:[gd]},$$scope:{ctx:t}}}),c=new ld({props:{label:t[3].controls.labels.speed,$$slots:{default:[$d]},$$scope:{ctx:t}}}),{c(){Ct(e.$$.fragment),n=U(),Ct(s.$$.fragment),r=U(),Ct(o.$$.fragment),i=U(),Ct(c.$$.fragment)},m(t,a){Ot(e,t,a),I(t,n,a),Ot(s,t,a),I(t,r,a),Ot(o,t,a),I(t,i,a),Ot(c,t,a),l=!0},p(t,n){const r={};8&n&&(r.label=t[3].controls.labels.execution),524312&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const i={};8&n&&(i.label=t[3].controls.labels.instruction),524296&n&&(i.$$scope={dirty:n,ctx:t}),s.$set(i);const l={};8&n&&(l.label=t[3].controls.labels.step),524296&n&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const a={};8&n&&(a.label=t[3].controls.labels.speed),524300&n&&(a.$$scope={dirty:n,ctx:t}),c.$set(a)},i(t){l||(xt(e.$$.fragment,t),xt(s.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),l=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),l=!1},d(t){Lt(e,t),t&&C(n),Lt(s,t),t&&C(r),Lt(o,t),t&&C(i),Lt(c,t)}}}function yd(t){let e,n=t[3].controls.checkboxes.binary.text+"";return{c(){e=R(n)},m(t,n){I(t,e,n)},p(t,s){8&s&&n!==(n=t[3].controls.checkboxes.binary.text+"")&&F(e,n)},d(t){t&&C(e)}}}function wd(t){let e,n=t[3].controls.checkboxes.animations.text+"";return{c(){e=R(n)},m(t,n){I(t,e,n)},p(t,s){8&s&&n!==(n=t[3].controls.checkboxes.animations.text+"")&&F(e,n)},d(t){t&&C(e)}}}function vd(t){let e,n,s,r,o;function i(e){t[17](e)}let c={$$slots:{default:[yd]},$$scope:{ctx:t}};return void 0!==t[1]&&(c.checked=t[1]),e=new nd({props:c}),rt.push((()=>It(e,"checked",i))),e.$on("click",t[14]),r=new nd({props:{checked:!t[0],$$slots:{default:[wd]},$$scope:{ctx:t}}}),r.$on("click",t[15]),{c(){Ct(e.$$.fragment),s=U(),Ct(r.$$.fragment)},m(t,n){Ot(e,t,n),I(t,s,n),Ot(r,t,n),o=!0},p(t,s){const o={};524296&s&&(o.$$scope={dirty:s,ctx:t}),!n&&2&s&&(n=!0,o.checked=t[1],ut((()=>n=!1))),e.$set(o);const i={};1&s&&(i.checked=!t[0]),524296&s&&(i.$$scope={dirty:s,ctx:t}),r.$set(i)},i(t){o||(xt(e.$$.fragment,t),xt(r.$$.fragment,t),o=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),o=!1},d(t){Lt(e,t),t&&C(s),Lt(r,t)}}}function xd(t){let e,n,s,r,o,i,c;n=new Jf({props:{class:"gap-5",$$slots:{default:[bd]},$$scope:{ctx:t}}}),r=new Jf({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[vd]},$$scope:{ctx:t}}});return i=new pd({props:{}}),t[18](i),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),o=U(),Ct(i.$$.fragment),M(e,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(t,l){I(t,e,l),Ot(n,e,null),E(e,s),Ot(r,e,null),E(e,o),Ot(i,e,null),c=!0},p(t,[e]){const s={};524316&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s);const o={};524299&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o);i.$set({})},i(t){c||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),xt(i.$$.fragment,t),c=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(i.$$.fragment,t),c=!1},d(s){s&&C(e),Lt(n),Lt(r),t[18](null),Lt(i)}}}function _d(t,e,n){let s,r,o,i,c,l;return u(t,Be,(t=>n(0,s=t))),u(t,Le,(t=>n(1,r=t))),u(t,Pe,(t=>n(2,o=t))),u(t,Jr,(t=>n(3,i=t))),u(t,ya,(t=>n(4,c=t))),u(t,Vt,(t=>n(5,l=t))),[s,r,o,i,c,l,function(){Ui.info("Reset pressed","USER_INPUT"),Ra.reset(),gi.reset()},function(){Ui.info("Toggle execution pressed","USER_INPUT"),Ra.toggle()},function(){Ui.info("Skip execution pressed","USER_INPUT")},function(){Ui.info("Play step pressed","USER_INPUT"),Ra.step()},function(){Ui.info("Skip step pressed","USER_INPUT")},function(){Ui.info("Play instruction pressed","USER_INPUT"),Ra.instruction()},function(){Ui.info("Skip instruction pressed","USER_INPUT")},function(){Ui.info(`Speed slider moved - ${o}`,"USER_INPUT")},function(){Ui.info(`Binary toggle pressed - ${r}`,"USER_INPUT")},function(){y(Be,s=!s,s),Ui.info(`Animations toggle pressed - ${s}`,"USER_INPUT")},function(t){o=t,Pe.set(o)},function(t){r=t,Le.set(r)},function(t){rt[t?"unshift":"push"]((()=>{l=t,Vt.set(l)}))}]}class kd extends Ut{constructor(t){super(),Rt(this,t,_d,xd,c,{})}}var Ad=function(t){function e(e){return t.call(this,e)||this}return te(e,t),e}(ie);function Sd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var s=t;return e.forEach((function(t,e){s=s.replace("{".concat(e,"}"),t.toString())})),s}var Ed=/;.*/g,Td=new RegExp(":"+eo.source),Nd=new RegExp("^(".concat(so.source.replace(/\^|\$/g,""),"|").concat(Yr.source.replace(/\^|\$/g,""),")( ").concat(Td.source,")?$"));function Id(e){let n,s,r,i,c,l,a,u;return{c(){n=L("button"),s=D("svg"),r=D("path"),M(r,"d",i=e[3][e[2]]),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 48 48"),M(s,"class",c="fill-neutral-800 w-8 h-8 drop-shadow-component "+(e[0]?"":"hover:scale-105")),M(n,"class",l="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],M(n,"title",e[1])},m(t,o){I(t,n,o),E(n,s),E(s,r),a||(u=[P(n,"click",e[5]),P(n,"focus",e[6]),P(n,"focusout",e[7]),P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9]),P(n,"mouseover",e[10])],a=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&M(r,"d",i),1&e&&c!==(c="fill-neutral-800 w-8 h-8 drop-shadow-component "+(t[0]?"":"hover:scale-105"))&&M(s,"class",c),16&e&&l!==(l="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&M(n,"class",l),1&e&&(n.disabled=t[0]),2&e&&M(n,"title",t[1])},i:t,o:t,d(t){t&&C(n),a=!1,o(u)}}}function Cd(t,e,s){const r=["disabled","title","icon"];let o=$(e,r),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(4,o=$(e,r)),"disabled"in t&&s(0,i=t.disabled),"title"in t&&s(1,c=t.title),"icon"in t&&s(2,l=t.icon)},[i,c,l,{"":"",settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",help:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z"},o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Od extends Ut{constructor(t){super(),Rt(this,t,Cd,Id,c,{disabled:0,title:1,icon:2})}}function Ld(t){let e,n,s,r,o,i,c,l,a;return n=new Od({props:{icon:"settings",title:t[0].menu.buttons.settings.title}}),n.$on("click",t[1]),r=new Od({props:{icon:"save",title:t[0].menu.buttons.save.title}}),r.$on("click",t[3]),i=new Od({props:{icon:"open",title:t[0].menu.buttons.open.title}}),i.$on("click",t[2]),l=new Od({props:{icon:"help",title:t[0].menu.buttons.help.title}}),l.$on("click",Dd),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),o=U(),Ct(i.$$.fragment),c=U(),Ct(l.$$.fragment),M(e,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-1 z-[4]")},m(t,u){I(t,e,u),Ot(n,e,null),E(e,s),Ot(r,e,null),E(e,o),Ot(i,e,null),E(e,c),Ot(l,e,null),a=!0},p(t,[e]){const s={};1&e&&(s.title=t[0].menu.buttons.settings.title),n.$set(s);const o={};1&e&&(o.title=t[0].menu.buttons.save.title),r.$set(o);const c={};1&e&&(c.title=t[0].menu.buttons.open.title),i.$set(c);const a={};1&e&&(a.title=t[0].menu.buttons.help.title),l.$set(a)},i(t){a||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),a=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(i.$$.fragment,t),_t(l.$$.fragment,t),a=!1},d(t){t&&C(e),Lt(n),Lt(r),Lt(i),Lt(l)}}}function Dd(){window.open("docs","_blank").focus()}function Rd(t,e,n){let s,r,o;u(t,Wt,(t=>n(4,s=t))),u(t,Oe,(t=>n(5,r=t))),u(t,Jr,(t=>n(0,o=t)));var i=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(r,o){function i(t){try{l(s.next(t))}catch(t){o(t)}}function c(t){try{l(s.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((s=s.apply(t,e||[])).next())}))};return[o,function(){y(Oe,r=!0,r),Ui.info("Settings opened","USER_INPUT")},function(){return i(this,void 0,void 0,(function*(){try{const t=(yield vf(".cpuvs"))[0],e=function(t){var e=t.split(/\r\n|\r|\n/g),n=[],s=[],r=0;e.forEach((function(t,e){var o=e+1,i=t.replace(Ed,"").replace(/\s+/g," ").trim();if(""!==i){if(!Nd.test(i)){var c=i.length>30?"".concat(i.slice(0,30),"..."):i;throw new Ad(Sd(a(Jr).errors.program_parsing.invalid_syntax,o,c))}var l=i.split(":").map((function(t){return t.trim()})),u=l[0],f=l[1];if(n.push({text:u,lineNumber:o,address:r}),f&&s.includes(f))throw new Ad(Sd(a(Jr).errors.program_parsing.duplicate_label,o,f));s[r]=f,r+=2}})),r=0;var o=[];return n.forEach((function(t){try{o[t.address]=ro(t.text,s)}catch(e){throw new Ad(Sd(a(Jr).errors.program_parsing.parsing_error,t.lineNumber,e.message))}})),{instructions:o,labels:s}}(yield t.text());Hc.importLabels(e.labels),Mc.importInstructions(e.instructions)}catch(t){Ui.error(t,"USER_INPUT",t.isChecked),s.error(t.message)}Ui.info("Program loaded from file","USER_INPUT")}))},function(){try{let t=prompt("File name");if(!t)throw new ie(a(Jr).errors.user_input.invalid_file_name);wf(function(t,e){for(var n="",s="",r="",o=0;o<=ve;o+=2)s=t[o].symbolic(),n+="\t".concat(s),r=" ".repeat(20-s.length),e[o]&&(n+="".concat(r,":").concat(e[o])),n+="\n";return n.replace(/(\tNOP\n)*$/g,"").replace(/\n$/g,"")}(Mc.exportInstructions(),Hc.exportLabels()),`${t}.cpuvs`)}catch(t){Ui.error(t,"USER_INPUT",t.isChecked),s.error(t.message)}Ui.info("Program saved to file","USER_INPUT")}]}class Ud extends Ut{constructor(t){super(),Rt(this,t,Rd,Ld,c,{})}}function Bd(e){let n,s,r,i,c,l,a,u;return{c(){n=L("button"),s=D("svg"),r=D("path"),i=D("path"),M(r,"d","M0 0h24v24H0V0z"),M(r,"fill","none"),M(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 24 24"),M(s,"fill","#FFFFFF"),M(s,"class",c="h-10 w-10 "+(e[0]?"":"hover:scale-105")+" fill-black"),M(n,"class",l="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),n.disabled=e[0]},m(t,o){I(t,n,o),E(n,s),E(s,r),E(s,i),a||(u=[P(n,"click",e[2]),P(n,"focus",e[3]),P(n,"focusout",e[4]),P(n,"mouseenter",e[5]),P(n,"mouseleave",e[6]),P(n,"mouseover",e[7])],a=!0)},p(t,[e]){1&e&&c!==(c="h-10 w-10 "+(t[0]?"":"hover:scale-105")+" fill-black")&&M(s,"class",c),2&e&&l!==(l="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class)&&M(n,"class",l),1&e&&(n.disabled=t[0])},i:t,o:t,d(t){t&&C(n),a=!1,o(u)}}}function Pd(t,e,s){const r=["disabled"];let o=$(e,r),{disabled:i=!1}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(1,o=$(e,r)),"disabled"in t&&s(0,i=t.disabled)},[i,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Md extends Ut{constructor(t){super(),Rt(this,t,Pd,Bd,c,{disabled:0})}}function Qd(t){let e,n,s,r,o,i,c,l,a;const u=t[3].default,d=f(u,t,t[2],null);return{c(){e=L("div"),n=L("div"),s=L("h2"),r=R(t[0]),o=U(),i=L("p"),c=R(t[1]),l=U(),d&&d.c(),M(s,"class","text-2xl font-bold"),M(i,"class","text-sm text-neutral-500"),M(n,"class","flex flex-col"),M(e,"class","w-full flex flex-row items-center justify-between border-b border-neutral-500 p-3 pl-11 pr-24")},m(t,u){I(t,e,u),E(e,n),E(n,s),E(s,r),E(n,o),E(n,i),E(i,c),E(e,l),d&&d.m(e,null),a=!0},p(t,[e]){(!a||1&e)&&F(r,t[0]),(!a||2&e)&&F(c,t[1]),d&&d.p&&(!a||4&e)&&h(d,u,t,t[2],a?p(u,t[2],e,null):m(t[2]),null)},i(t){a||(xt(d,t),a=!0)},o(t){_t(d,t),a=!1},d(t){t&&C(e),d&&d.d(t)}}}function Fd(t,e,n){let{$$slots:s={},$$scope:r}=e,{title:o=""}=e,{description:i=""}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"description"in t&&n(1,i=t.description),"$$scope"in t&&n(2,r=t.$$scope)},[o,i,r,s]}class jd extends Ut{constructor(t){super(),Rt(this,t,Fd,Qd,c,{title:0,description:1})}}function Kd(e){let n,s,r,i,c,l;return{c(){n=L("div"),s=L("div"),M(s,"class",r="h-7 w-7 bg-neutral-100 rounded-2xl transition-transform shadow-lg "+(e[0]?"translate-x-full":"")),M(n,"class",i="w-14 h-7 rounded-2xl p-[2px] box-content flex items-center flex-shrink-0 "+(e[1]?"cursor-default":"cursor-pointer")+" "+(e[0]?"bg-green-500":"bg-neutral-500")+" "+(e[1]?"brightness-[.6]":"")+" "+e[3].class),M(n,"disabled",e[1])},m(t,r){I(t,n,r),E(n,s),c||(l=[P(n,"click",e[2]),P(n,"focus",e[4]),P(n,"focusout",e[5]),P(n,"mouseenter",e[6]),P(n,"mouseleave",e[7]),P(n,"mouseover",e[8])],c=!0)},p(t,[e]){1&e&&r!==(r="h-7 w-7 bg-neutral-100 rounded-2xl transition-transform shadow-lg "+(t[0]?"translate-x-full":""))&&M(s,"class",r),11&e&&i!==(i="w-14 h-7 rounded-2xl p-[2px] box-content flex items-center flex-shrink-0 "+(t[1]?"cursor-default":"cursor-pointer")+" "+(t[0]?"bg-green-500":"bg-neutral-500")+" "+(t[1]?"brightness-[.6]":"")+" "+t[3].class)&&M(n,"class",i),2&e&&M(n,"disabled",t[1])},i:t,o:t,d(t){t&&C(n),c=!1,o(l)}}}function Wd(t,e,s){const r=["disabled","checked"];let o=$(e,r),{disabled:i=!1}=e,{checked:c=!1}=e;const l=et();return t.$$set=t=>{e=n(n({},e),g(t)),s(3,o=$(e,r)),"disabled"in t&&s(1,i=t.disabled),"checked"in t&&s(0,c=t.checked)},[c,i,function(t){s(0,c=!c),l("click",t)},o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Hd extends Ut{constructor(t){super(),Rt(this,t,Wd,Kd,c,{disabled:1,checked:0})}}function qd(t,e,n){const s=t.slice();return s[13]=e[n],s}function Vd(t){let e,n;return{c(){e=L("option"),n=R(t[1]),M(e,"class","text-black bg-white"),e.__value="",e.value=e.__value,e.selected=!0,e.disabled=!0},m(t,s){I(t,e,s),E(e,n)},p(t,e){2&e&&F(n,t[1])},d(t){t&&C(e)}}}function Gd(t){let e,n,s,r=t[13]+"";return{c(){e=L("option"),n=R(r),M(e,"class","text-black bg-white"),e.__value=s=t[13],e.value=e.__value},m(t,s){I(t,e,s),E(e,n)},p(t,o){8&o&&r!==(r=t[13]+"")&&F(n,r),8&o&&s!==(s=t[13])&&(e.__value=s,e.value=e.__value)},d(t){t&&C(e)}}}function Xd(e){let n,s,r,i,c,l=""!==e[1]&&Vd(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=Gd(qd(e,a,t));return{c(){n=L("select"),l&&l.c(),s=B();for(let t=0;t<u.length;t+=1)u[t].c();M(n,"class",r="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class),n.disabled=e[2],void 0===e[0]&&at((()=>e[12].call(n)))},m(t,r){I(t,n,r),l&&l.m(n,null),E(n,s);for(let t=0;t<u.length;t+=1)u[t].m(n,null);W(n,e[0]),i||(c=[P(n,"input",e[5]),P(n,"change",e[6]),P(n,"focus",e[7]),P(n,"focusout",e[8]),P(n,"mouseenter",e[9]),P(n,"mouseleave",e[10]),P(n,"mouseover",e[11]),P(n,"change",e[12])],i=!0)},p(t,[e]){if(""!==t[1]?l?l.p(t,e):(l=Vd(t),l.c(),l.m(n,s)):l&&(l.d(1),l=null),8&e){let s;for(a=t[3],s=0;s<a.length;s+=1){const r=qd(t,a,s);u[s]?u[s].p(r,e):(u[s]=Gd(r),u[s].c(),u[s].m(n,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=a.length}16&e&&r!==(r="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+t[4].class)&&M(n,"class",r),4&e&&(n.disabled=t[2]),9&e&&W(n,t[0])},i:t,o:t,d(t){t&&C(n),l&&l.d(),O(u,t),i=!1,o(c)}}}function Jd(t,e,s){const r=["value","placeholder","disabled","options"];let o=$(e,r),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{options:a=[]}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(4,o=$(e,r)),"value"in t&&s(0,i=t.value),"placeholder"in t&&s(1,c=t.placeholder),"disabled"in t&&s(2,l=t.disabled),"options"in t&&s(3,a=t.options)},[i,c,l,a,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){i=H(this),s(0,i),s(3,a)}]}class zd extends Ut{constructor(t){super(),Rt(this,t,Jd,Xd,c,{value:0,placeholder:1,disabled:2,options:3})}}function Zd(e){let n,s,r,i;return{c(){n=L("input"),M(n,"type","range"),M(n,"class",s=b(e[6].class)+" svelte-10k18fr"),M(n,"min",e[1]),M(n,"max",e[2]),M(n,"step",e[3]),n.disabled=e[4],M(n,"title",e[5])},m(t,s){I(t,n,s),j(n,e[0]),r||(i=[P(n,"change",e[14]),P(n,"input",e[14]),P(n,"input",e[7]),P(n,"change",e[8]),P(n,"focus",e[9]),P(n,"focusout",e[10]),P(n,"mouseenter",e[11]),P(n,"mouseleave",e[12]),P(n,"mouseover",e[13])],r=!0)},p(t,[e]){64&e&&s!==(s=b(t[6].class)+" svelte-10k18fr")&&M(n,"class",s),2&e&&M(n,"min",t[1]),4&e&&M(n,"max",t[2]),8&e&&M(n,"step",t[3]),16&e&&(n.disabled=t[4]),32&e&&M(n,"title",t[5]),1&e&&j(n,t[0])},i:t,o:t,d(t){t&&C(n),r=!1,o(i)}}}function Yd(t,e,s){const r=["min","max","value","step","disabled","title"];let o=$(e,r),{min:i=0}=e,{max:c=1}=e,{value:l=c/2+i}=e,{step:a=.1}=e,{disabled:u=!1}=e,{title:f=""}=e;return t.$$set=t=>{e=n(n({},e),g(t)),s(6,o=$(e,r)),"min"in t&&s(1,i=t.min),"max"in t&&s(2,c=t.max),"value"in t&&s(0,l=t.value),"step"in t&&s(3,a=t.step),"disabled"in t&&s(4,u=t.disabled),"title"in t&&s(5,f=t.title)},[l,i,c,a,u,f,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){l=Q(this.value),s(0,l)}]}class tp extends Ut{constructor(t){super(),Rt(this,t,Yd,Zd,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function ep(t){let e,n,s,r,o,i,c,l,a,u,f,d,p,h,m,g,$,b,y,w,v,x,_,k,A,S,T,N,O,D,B,P,Q,j,K,W,H,q,V,G,X,J,z,Z,Y,tt,et,nt=t[1].settings.title+"";return i=new Md({}),i.$on("click",t[22]),a=new jd({props:{title:t[1].settings.language.title,description:t[1].settings.language.description,$$slots:{default:[np]},$$scope:{ctx:t}}}),f=new jd({props:{title:t[1].settings.dispaly_components_labels.title,description:t[1].settings.dispaly_components_labels.description,$$slots:{default:[sp]},$$scope:{ctx:t}}}),p=new jd({props:{title:t[1].settings.dispaly_busses_labels.title,description:t[1].settings.dispaly_busses_labels.description,$$slots:{default:[rp]},$$scope:{ctx:t}}}),m=new jd({props:{title:t[1].settings.display_step_text.title,description:t[1].settings.display_step_text.description,$$slots:{default:[op]},$$scope:{ctx:t}}}),$=new jd({props:{title:t[1].settings.tts_enabled.title,description:t[1].settings.tts_enabled.description,$$slots:{default:[ip]},$$scope:{ctx:t}}}),y=new jd({props:{title:t[1].settings.tts_speed.title,description:t[1].settings.tts_speed.description,$$slots:{default:[cp]},$$scope:{ctx:t}}}),v=new jd({props:{title:t[1].settings.tts_voice.title,description:t[1].settings.tts_voice.description,$$slots:{default:[lp]},$$scope:{ctx:t}}}),_=new jd({props:{title:t[1].settings.databus_ext_color.title,description:t[1].settings.databus_ext_color.description,$$slots:{default:[ap]},$$scope:{ctx:t}}}),A=new jd({props:{title:t[1].settings.databus_int_color.title,description:t[1].settings.databus_int_color.description,$$slots:{default:[up]},$$scope:{ctx:t}}}),T=new jd({props:{title:t[1].settings.databus_ext_anim_color.title,description:t[1].settings.databus_ext_anim_color.description,$$slots:{default:[fp]},$$scope:{ctx:t}}}),O=new jd({props:{title:t[1].settings.databus_int_anim_color.title,description:t[1].settings.databus_int_anim_color.description,$$slots:{default:[dp]},$$scope:{ctx:t}}}),B=new jd({props:{title:t[1].settings.addressbus_ext_color.title,description:t[1].settings.addressbus_ext_color.description,$$slots:{default:[pp]},$$scope:{ctx:t}}}),Q=new jd({props:{title:t[1].settings.addressbus_int_color.title,description:t[1].settings.addressbus_int_color.description,$$slots:{default:[hp]},$$scope:{ctx:t}}}),K=new jd({props:{title:t[1].settings.addressbus_ext_anim_color.title,description:t[1].settings.addressbus_ext_anim_color.description,$$slots:{default:[mp]},$$scope:{ctx:t}}}),H=new jd({props:{title:t[1].settings.addressbus_int_anim_color.title,description:t[1].settings.addressbus_int_anim_color.description,$$slots:{default:[gp]},$$scope:{ctx:t}}}),V=new jd({props:{title:t[1].settings.controlbus_ext_color.title,description:t[1].settings.controlbus_ext_color.description,$$slots:{default:[$p]},$$scope:{ctx:t}}}),X=new jd({props:{title:t[1].settings.controlbus_int_color.title,description:t[1].settings.controlbus_int_color.description,$$slots:{default:[bp]},$$scope:{ctx:t}}}),z=new jd({props:{title:t[1].settings.controlbus_ext_anim_color.title,description:t[1].settings.controlbus_ext_anim_color.description,$$slots:{default:[yp]},$$scope:{ctx:t}}}),Y=new jd({props:{title:t[1].settings.controlbus_int_anim_color.title,description:t[1].settings.controlbus_int_anim_color.description,$$slots:{default:[wp]},$$scope:{ctx:t}}}),{c(){e=L("div"),n=L("div"),s=L("h1"),r=R(nt),o=U(),Ct(i.$$.fragment),c=U(),l=L("div"),Ct(a.$$.fragment),u=U(),Ct(f.$$.fragment),d=U(),Ct(p.$$.fragment),h=U(),Ct(m.$$.fragment),g=U(),Ct($.$$.fragment),b=U(),Ct(y.$$.fragment),w=U(),Ct(v.$$.fragment),x=U(),Ct(_.$$.fragment),k=U(),Ct(A.$$.fragment),S=U(),Ct(T.$$.fragment),N=U(),Ct(O.$$.fragment),D=U(),Ct(B.$$.fragment),P=U(),Ct(Q.$$.fragment),j=U(),Ct(K.$$.fragment),W=U(),Ct(H.$$.fragment),q=U(),Ct(V.$$.fragment),G=U(),Ct(X.$$.fragment),J=U(),Ct(z.$$.fragment),Z=U(),Ct(Y.$$.fragment),M(s,"class","text-[2.8rem] font-bold"),M(n,"class","w-full flex flex-row items-center justify-between pt-3 pb-5 px-9 border-b border-neutral-500"),M(l,"class","w-full flex flex-col"),M(e,"class","fixed w-screen h-screen top-0 left-0 bg-gray-100 overflow-y-auto")},m(t,C){I(t,e,C),E(e,n),E(n,s),E(s,r),E(n,o),Ot(i,n,null),E(e,c),E(e,l),Ot(a,l,null),E(l,u),Ot(f,l,null),E(l,d),Ot(p,l,null),E(l,h),Ot(m,l,null),E(l,g),Ot($,l,null),E(l,b),Ot(y,l,null),E(l,w),Ot(v,l,null),E(l,x),Ot(_,l,null),E(l,k),Ot(A,l,null),E(l,S),Ot(T,l,null),E(l,N),Ot(O,l,null),E(l,D),Ot(B,l,null),E(l,P),Ot(Q,l,null),E(l,j),Ot(K,l,null),E(l,W),Ot(H,l,null),E(l,q),Ot(V,l,null),E(l,G),Ot(X,l,null),E(l,J),Ot(z,l,null),E(l,Z),Ot(Y,l,null),et=!0},p(t,e){(!et||2&e[0])&&nt!==(nt=t[1].settings.title+"")&&F(r,nt);const n={};2&e[0]&&(n.title=t[1].settings.language.title),2&e[0]&&(n.description=t[1].settings.language.description),4&e[0]|2048&e[1]&&(n.$$scope={dirty:e,ctx:t}),a.$set(n);const s={};2&e[0]&&(s.title=t[1].settings.dispaly_components_labels.title),2&e[0]&&(s.description=t[1].settings.dispaly_components_labels.description),8&e[0]|2048&e[1]&&(s.$$scope={dirty:e,ctx:t}),f.$set(s);const o={};2&e[0]&&(o.title=t[1].settings.dispaly_busses_labels.title),2&e[0]&&(o.description=t[1].settings.dispaly_busses_labels.description),16&e[0]|2048&e[1]&&(o.$$scope={dirty:e,ctx:t}),p.$set(o);const i={};2&e[0]&&(i.title=t[1].settings.display_step_text.title),2&e[0]&&(i.description=t[1].settings.display_step_text.description),32&e[0]|2048&e[1]&&(i.$$scope={dirty:e,ctx:t}),m.$set(i);const c={};2&e[0]&&(c.title=t[1].settings.tts_enabled.title),2&e[0]&&(c.description=t[1].settings.tts_enabled.description),64&e[0]|2048&e[1]&&(c.$$scope={dirty:e,ctx:t}),$.$set(c);const l={};2&e[0]&&(l.title=t[1].settings.tts_speed.title),2&e[0]&&(l.description=t[1].settings.tts_speed.description),128&e[0]|2048&e[1]&&(l.$$scope={dirty:e,ctx:t}),y.$set(l);const u={};2&e[0]&&(u.title=t[1].settings.tts_voice.title),2&e[0]&&(u.description=t[1].settings.tts_voice.description),768&e[0]|2048&e[1]&&(u.$$scope={dirty:e,ctx:t}),v.$set(u);const d={};2&e[0]&&(d.title=t[1].settings.databus_ext_color.title),2&e[0]&&(d.description=t[1].settings.databus_ext_color.description),1024&e[0]|2048&e[1]&&(d.$$scope={dirty:e,ctx:t}),_.$set(d);const h={};2&e[0]&&(h.title=t[1].settings.databus_int_color.title),2&e[0]&&(h.description=t[1].settings.databus_int_color.description),2048&e[0]|2048&e[1]&&(h.$$scope={dirty:e,ctx:t}),A.$set(h);const g={};2&e[0]&&(g.title=t[1].settings.databus_ext_anim_color.title),2&e[0]&&(g.description=t[1].settings.databus_ext_anim_color.description),4096&e[0]|2048&e[1]&&(g.$$scope={dirty:e,ctx:t}),T.$set(g);const b={};2&e[0]&&(b.title=t[1].settings.databus_int_anim_color.title),2&e[0]&&(b.description=t[1].settings.databus_int_anim_color.description),8192&e[0]|2048&e[1]&&(b.$$scope={dirty:e,ctx:t}),O.$set(b);const w={};2&e[0]&&(w.title=t[1].settings.addressbus_ext_color.title),2&e[0]&&(w.description=t[1].settings.addressbus_ext_color.description),16384&e[0]|2048&e[1]&&(w.$$scope={dirty:e,ctx:t}),B.$set(w);const x={};2&e[0]&&(x.title=t[1].settings.addressbus_int_color.title),2&e[0]&&(x.description=t[1].settings.addressbus_int_color.description),32768&e[0]|2048&e[1]&&(x.$$scope={dirty:e,ctx:t}),Q.$set(x);const k={};2&e[0]&&(k.title=t[1].settings.addressbus_ext_anim_color.title),2&e[0]&&(k.description=t[1].settings.addressbus_ext_anim_color.description),65536&e[0]|2048&e[1]&&(k.$$scope={dirty:e,ctx:t}),K.$set(k);const S={};2&e[0]&&(S.title=t[1].settings.addressbus_int_anim_color.title),2&e[0]&&(S.description=t[1].settings.addressbus_int_anim_color.description),131072&e[0]|2048&e[1]&&(S.$$scope={dirty:e,ctx:t}),H.$set(S);const E={};2&e[0]&&(E.title=t[1].settings.controlbus_ext_color.title),2&e[0]&&(E.description=t[1].settings.controlbus_ext_color.description),262144&e[0]|2048&e[1]&&(E.$$scope={dirty:e,ctx:t}),V.$set(E);const N={};2&e[0]&&(N.title=t[1].settings.controlbus_int_color.title),2&e[0]&&(N.description=t[1].settings.controlbus_int_color.description),524288&e[0]|2048&e[1]&&(N.$$scope={dirty:e,ctx:t}),X.$set(N);const I={};2&e[0]&&(I.title=t[1].settings.controlbus_ext_anim_color.title),2&e[0]&&(I.description=t[1].settings.controlbus_ext_anim_color.description),1048576&e[0]|2048&e[1]&&(I.$$scope={dirty:e,ctx:t}),z.$set(I);const C={};2&e[0]&&(C.title=t[1].settings.controlbus_int_anim_color.title),2&e[0]&&(C.description=t[1].settings.controlbus_int_anim_color.description),2097152&e[0]|2048&e[1]&&(C.$$scope={dirty:e,ctx:t}),Y.$set(C)},i(t){et||(xt(i.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),xt(m.$$.fragment,t),xt($.$$.fragment,t),xt(y.$$.fragment,t),xt(v.$$.fragment,t),xt(_.$$.fragment,t),xt(A.$$.fragment,t),xt(T.$$.fragment,t),xt(O.$$.fragment,t),xt(B.$$.fragment,t),xt(Q.$$.fragment,t),xt(K.$$.fragment,t),xt(H.$$.fragment,t),xt(V.$$.fragment,t),xt(X.$$.fragment,t),xt(z.$$.fragment,t),xt(Y.$$.fragment,t),at((()=>{tt||(tt=St(e,xc,{duration:75},!0)),tt.run(1)})),et=!0)},o(t){_t(i.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),_t(m.$$.fragment,t),_t($.$$.fragment,t),_t(y.$$.fragment,t),_t(v.$$.fragment,t),_t(_.$$.fragment,t),_t(A.$$.fragment,t),_t(T.$$.fragment,t),_t(O.$$.fragment,t),_t(B.$$.fragment,t),_t(Q.$$.fragment,t),_t(K.$$.fragment,t),_t(H.$$.fragment,t),_t(V.$$.fragment,t),_t(X.$$.fragment,t),_t(z.$$.fragment,t),_t(Y.$$.fragment,t),tt||(tt=St(e,xc,{duration:75},!1)),tt.run(0),et=!1},d(t){t&&C(e),Lt(i),Lt(a),Lt(f),Lt(p),Lt(m),Lt($),Lt(y),Lt(v),Lt(_),Lt(A),Lt(T),Lt(O),Lt(B),Lt(Q),Lt(K),Lt(H),Lt(V),Lt(X),Lt(z),Lt(Y),t&&tt&&tt.end()}}}function np(t){let e,n,s;function r(e){t[23](e)}let o={options:[...Ce]};return void 0!==t[2]&&(o.value=t[2]),e=new zd({props:o}),rt.push((()=>It(e,"value",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&4&s[0]&&(n=!0,r.value=t[2],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function sp(t){let e,n,s;function r(e){t[24](e)}let o={};return void 0!==t[3]&&(o.checked=t[3]),e=new Hd({props:o}),rt.push((()=>It(e,"checked",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&8&s[0]&&(n=!0,r.checked=t[3],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function rp(t){let e,n,s;function r(e){t[25](e)}let o={};return void 0!==t[4]&&(o.checked=t[4]),e=new Hd({props:o}),rt.push((()=>It(e,"checked",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&16&s[0]&&(n=!0,r.checked=t[4],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function op(t){let e,n,s;function r(e){t[26](e)}let o={};return void 0!==t[5]&&(o.checked=t[5]),e=new Hd({props:o}),rt.push((()=>It(e,"checked",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&32&s[0]&&(n=!0,r.checked=t[5],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function ip(t){let e,n,s;function r(e){t[27](e)}let o={};return void 0!==t[6]&&(o.checked=t[6]),e=new Hd({props:o}),rt.push((()=>It(e,"checked",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};!n&&64&s[0]&&(n=!0,r.checked=t[6],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function cp(t){let e,n,s,r,o,i,c;function l(e){t[28](e)}let a={min:.5,max:1.5};return void 0!==t[7]&&(a.value=t[7]),o=new tp({props:a}),rt.push((()=>It(o,"value",l))),{c(){e=L("div"),n=L("p"),s=R(t[7]),r=U(),Ct(o.$$.fragment),M(e,"class","w-36 flex flex-col items-center justify-center")},m(t,i){I(t,e,i),E(e,n),E(n,s),E(e,r),Ot(o,e,null),c=!0},p(t,e){(!c||128&e[0])&&F(s,t[7]);const n={};!i&&128&e[0]&&(i=!0,n.value=t[7],ut((()=>i=!1))),o.$set(n)},i(t){c||(xt(o.$$.fragment,t),c=!0)},o(t){_t(o.$$.fragment,t),c=!1},d(t){t&&C(e),Lt(o)}}}function lp(t){let e,n,s;function r(e){t[29](e)}let o={options:t[8].map(xp)};return void 0!==t[9]&&(o.value=t[9]),e=new zd({props:o}),rt.push((()=>It(e,"value",r))),{c(){Ct(e.$$.fragment)},m(t,n){Ot(e,t,n),s=!0},p(t,s){const r={};256&s[0]&&(r.options=t[8].map(xp)),!n&&512&s[0]&&(n=!0,r.value=t[9],ut((()=>n=!1))),e.$set(r)},i(t){s||(xt(e.$$.fragment,t),s=!0)},o(t){_t(e.$$.fragment,t),s=!1},d(t){Lt(e,t)}}}function ap(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[10]),n||(s=P(e,"input",t[30]),n=!0)},p(t,n){1024&n[0]&&j(e,t[10])},d(t){t&&C(e),n=!1,s()}}}function up(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[11]),n||(s=P(e,"input",t[31]),n=!0)},p(t,n){2048&n[0]&&j(e,t[11])},d(t){t&&C(e),n=!1,s()}}}function fp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[12]),n||(s=P(e,"input",t[32]),n=!0)},p(t,n){4096&n[0]&&j(e,t[12])},d(t){t&&C(e),n=!1,s()}}}function dp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[13]),n||(s=P(e,"input",t[33]),n=!0)},p(t,n){8192&n[0]&&j(e,t[13])},d(t){t&&C(e),n=!1,s()}}}function pp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[14]),n||(s=P(e,"input",t[34]),n=!0)},p(t,n){16384&n[0]&&j(e,t[14])},d(t){t&&C(e),n=!1,s()}}}function hp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[15]),n||(s=P(e,"input",t[35]),n=!0)},p(t,n){32768&n[0]&&j(e,t[15])},d(t){t&&C(e),n=!1,s()}}}function mp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[16]),n||(s=P(e,"input",t[36]),n=!0)},p(t,n){65536&n[0]&&j(e,t[16])},d(t){t&&C(e),n=!1,s()}}}function gp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[17]),n||(s=P(e,"input",t[37]),n=!0)},p(t,n){131072&n[0]&&j(e,t[17])},d(t){t&&C(e),n=!1,s()}}}function $p(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[18]),n||(s=P(e,"input",t[38]),n=!0)},p(t,n){262144&n[0]&&j(e,t[18])},d(t){t&&C(e),n=!1,s()}}}function bp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[19]),n||(s=P(e,"input",t[39]),n=!0)},p(t,n){524288&n[0]&&j(e,t[19])},d(t){t&&C(e),n=!1,s()}}}function yp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[20]),n||(s=P(e,"input",t[40]),n=!0)},p(t,n){1048576&n[0]&&j(e,t[20])},d(t){t&&C(e),n=!1,s()}}}function wp(t){let e,n,s;return{c(){e=L("input"),M(e,"type","color")},m(r,o){I(r,e,o),j(e,t[21]),n||(s=P(e,"input",t[41]),n=!0)},p(t,n){2097152&n[0]&&j(e,t[21])},d(t){t&&C(e),n=!1,s()}}}function vp(t){let e,n,s=t[0]&&ep(t);return{c(){s&&s.c(),e=B()},m(t,r){s&&s.m(t,r),I(t,e,r),n=!0},p(t,n){t[0]?s?(s.p(t,n),1&n[0]&&xt(s,1)):(s=ep(t),s.c(),xt(s,1),s.m(e.parentNode,e)):s&&(wt(),_t(s,1,1,(()=>{s=null})),vt())},i(t){n||(xt(s),n=!0)},o(t){_t(s),n=!1},d(t){s&&s.d(t),t&&C(e)}}}const xp=t=>t.name;function _p(t,e,n){let s,r,o,i,c,l,a,f,d,p,h,m,g,$,b,w,v,x,_,k,A,S;return u(t,Oe,(t=>n(0,s=t))),u(t,Jr,(t=>n(1,r=t))),u(t,Me,(t=>n(2,o=t))),u(t,De,(t=>n(3,i=t))),u(t,Re,(t=>n(4,c=t))),u(t,Ue,(t=>n(5,l=t))),u(t,Qe,(t=>n(6,a=t))),u(t,Fe,(t=>n(7,f=t))),u(t,Ke,(t=>n(8,d=t))),u(t,je,(t=>n(9,p=t))),u(t,bo,(t=>n(10,h=t))),u(t,yo,(t=>n(11,m=t))),u(t,wo,(t=>n(12,g=t))),u(t,vo,(t=>n(13,$=t))),u(t,xo,(t=>n(14,b=t))),u(t,_o,(t=>n(15,w=t))),u(t,ko,(t=>n(16,v=t))),u(t,Ao,(t=>n(17,x=t))),u(t,So,(t=>n(18,_=t))),u(t,Eo,(t=>n(19,k=t))),u(t,To,(t=>n(20,A=t))),u(t,No,(t=>n(21,S=t))),[s,r,o,i,c,l,a,f,d,p,h,m,g,$,b,w,v,x,_,k,A,S,function(){y(Oe,s=!1,s),Ui.info("Settings closed","USER_INPUT")},function(t){o=t,Me.set(o)},function(t){i=t,De.set(i)},function(t){c=t,Re.set(c)},function(t){l=t,Ue.set(l)},function(t){a=t,Qe.set(a)},function(t){f=t,Fe.set(f)},function(t){p=t,je.set(p)},function(){h=this.value,bo.set(h)},function(){m=this.value,yo.set(m)},function(){g=this.value,wo.set(g)},function(){$=this.value,vo.set($)},function(){b=this.value,xo.set(b)},function(){w=this.value,_o.set(w)},function(){v=this.value,ko.set(v)},function(){x=this.value,Ao.set(x)},function(){_=this.value,So.set(_)},function(){k=this.value,Eo.set(k)},function(){A=this.value,To.set(A)},function(){S=this.value,No.set(S)}]}class kp extends Ut{constructor(t){super(),Rt(this,t,_p,vp,c,{},null,[-1,-1])}}const{window:Ap}=Et;function Sp(t){let e,n,s,r,i,c,l,a,u,f,d,p,h,m,g,$,b;n=new Ol({});r=new kd({props:{}}),t[9](r);c=new Ud({props:{}}),t[10](c);a=new yf({props:{}}),t[12](a);f=new Vf({props:{}}),t[13](f);p=new Uf({props:{}}),t[14](p);return m=new kp({props:{}}),t[15](m),{c(){e=L("div"),Ct(n.$$.fragment),s=U(),Ct(r.$$.fragment),i=U(),Ct(c.$$.fragment),l=U(),Ct(a.$$.fragment),u=U(),Ct(f.$$.fragment),d=U(),Ct(p.$$.fragment),h=U(),Ct(m.$$.fragment),M(e,"class","relative w-app h-app origin-top-left")},m(o,y){I(o,e,y),Ot(n,e,null),E(e,s),Ot(r,e,null),E(e,i),Ot(c,e,null),t[11](e),I(o,l,y),Ot(a,o,y),I(o,u,y),Ot(f,o,y),I(o,d,y),Ot(p,o,y),I(o,h,y),Ot(m,o,y),g=!0,$||(b=[P(Ap,"resize",t[7]),P(Ap,"error",t[8])],$=!0)},p(t,[e]){r.$set({});c.$set({});a.$set({});f.$set({});p.$set({});m.$set({})},i(t){g||(xt(n.$$.fragment,t),xt(r.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),xt(m.$$.fragment,t),g=!0)},o(t){_t(n.$$.fragment,t),_t(r.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),_t(m.$$.fragment,t),g=!1},d(s){s&&C(e),Lt(n),t[9](null),Lt(r),t[10](null),Lt(c),t[11](null),s&&C(l),t[12](null),Lt(a,s),s&&C(u),t[13](null),Lt(f,s),s&&C(d),t[14](null),Lt(p,s),s&&C(h),t[15](null),Lt(m,s),$=!1,o(b)}}}function Ep(t,e,n){let s,r,o,i,c,l,a;function f(){let t=window.innerWidth/1400,e=window.innerHeight/800,s=t<e?t:e;n(0,a.style.transform=`scale(${s})`,a)}return u(t,jt,(t=>n(1,s=t))),u(t,qt,(t=>n(2,r=t))),u(t,Kt,(t=>n(3,o=t))),u(t,Ht,(t=>n(4,i=t))),u(t,Wt,(t=>n(5,c=t))),u(t,Gt,(t=>n(6,l=t))),tt(f),[a,s,r,o,i,c,l,f,function(t){t.preventDefault(),Ui.error(t.error,"UNCAUGHT")},function(t){rt[t?"unshift":"push"]((()=>{s=t,jt.set(s)}))},function(t){rt[t?"unshift":"push"]((()=>{r=t,qt.set(r)}))},function(t){rt[t?"unshift":"push"]((()=>{a=t,n(0,a)}))},function(t){rt[t?"unshift":"push"]((()=>{o=t,Kt.set(o)}))},function(t){rt[t?"unshift":"push"]((()=>{i=t,Ht.set(i)}))},function(t){rt[t?"unshift":"push"]((()=>{c=t,Wt.set(c)}))},function(t){rt[t?"unshift":"push"]((()=>{l=t,Gt.set(l)}))}]}return new class extends Ut{constructor(t){super(),Rt(this,t,Ep,Sp,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
