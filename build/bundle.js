var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(r)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t){let e;return l(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function f(t,e,n,r){if(t){const o=d(t,e,n,r);return t[0](o)}}function d(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function p(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}function $(t,e,n,r,o,s){if(o){const i=d(e,n,r,s);t.p(i,o)}}function h(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function m(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function w(t){return null==t?"":t}function v(e){return e&&i(e.destroy)?e.destroy:t}const b="undefined"!=typeof window;let x=b?()=>window.performance.now():()=>Date.now(),y=b?t=>requestAnimationFrame(t):t;const A=new Set;function _(t){A.forEach((e=>{e.c(t)||(A.delete(e),e.f())})),0!==A.size&&y(_)}function k(t){let e;return 0===A.size&&y(_),{promise:new Promise((n=>{A.add(e={c:t,f:n})})),abort(){A.delete(e)}}}function C(t,e){t.appendChild(e)}function R(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function I(t){const e=Q("style");return function(t,e){C(t.head||t,e)}(R(t),e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode.removeChild(t)}function U(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Q(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function O(){return T(" ")}function N(){return T("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function F(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function W(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function H(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function B(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function j(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,r,e),o}const Z=new Map;let z,X=0;function V(t,e,n,r,o,s,i,c=0){const l=16.666/r;let a="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*s(t);a+=100*t+`%{${i(r,1-r)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,d=R(t),{stylesheet:p,rules:$}=Z.get(d)||function(t,e){const n={stylesheet:I(e),rules:{}};return Z.set(t,n),n}(d,t);$[f]||($[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${o}ms 1 both`,X+=1,f}function G(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),X-=o,X||y((()=>{X||(Z.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),Z.clear())})))}function J(t){z=t}function q(){if(!z)throw new Error("Function called outside component initialization");return z}function K(t){q().$$.on_mount.push(t)}function Y(){const t=q();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const s=j(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,s)})),!s.defaultPrevented}return!0}}function tt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const et=[],nt=[],rt=[],ot=[],st=Promise.resolve();let it=!1;function ct(t){rt.push(t)}function lt(t){ot.push(t)}const at=new Set;let ut,ft=0;function dt(){const t=z;do{for(;ft<et.length;){const t=et[ft];ft++,J(t),pt(t.$$)}for(J(null),et.length=0,ft=0;nt.length;)nt.pop()();for(let t=0;t<rt.length;t+=1){const e=rt[t];at.has(e)||(at.add(e),e())}rt.length=0}while(et.length);for(;ot.length;)ot.pop()();it=!1,at.clear(),J(t)}function pt(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}function $t(){return ut||(ut=Promise.resolve(),ut.then((()=>{ut=null}))),ut}function ht(t,e,n){t.dispatchEvent(j(`${e?"intro":"outro"}${n}`))}const mt=new Set;let gt;function wt(){gt={r:0,c:[],p:gt}}function vt(){gt.r||s(gt.c),gt=gt.p}function bt(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function xt(t,e,n,r){if(t&&t.o){if(mt.has(t))return;mt.add(t),gt.c.push((()=>{mt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const yt={duration:0};function At(n,r,o,c){let l=r(n,o),a=c?0:1,u=null,f=null,d=null;function p(){d&&G(n,d)}function $(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(r){const{delay:o=0,duration:i=300,easing:c=e,tick:h=t,css:m}=l||yt,g={start:x()+o,b:r};r||(g.group=gt,gt.r+=1),u||f?f=g:(m&&(p(),d=V(n,a,r,i,o,c,m)),r&&h(0,1),u=$(g,i),ct((()=>ht(n,r,"start"))),k((t=>{if(f&&t>f.start&&(u=$(f,i),f=null,ht(n,u.b,"start"),m&&(p(),d=V(n,a,u.b,u.duration,0,c,l.css))),u)if(t>=u.end)h(a=u.b,1-a),ht(n,u.b,"end"),f||(u.b?p():--u.group.r||s(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*c(e/u.duration),h(a,1-a)}return!(!u&&!f)})))}return{run(t){i(l)?$t().then((()=>{l=l(),h(t)})):h(t)},end(){p(),u=f=null}}}const _t="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function kt(t,e){xt(t,1,1,(()=>{e.delete(t.key)}))}function Ct(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Rt(t){t&&t.c()}function It(t,e,n,o){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,n),o||ct((()=>{const e=l.map(r).filter(i);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(ct)}function Lt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(et.push(t),it||(it=!0,st.then(dt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(e,n,r,i,c,l,a,u=[-1]){const f=z;J(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let p=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&Et(e,t)),n})):[],d.update(),p=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(E)}else d.fragment&&d.fragment.c();n.intro&&bt(e.$$.fragment),It(e,n.target,n.anchor,n.customElement),dt()}J(f)}class Qt{$destroy(){Lt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const St=[];function Tt(e,n=t){let r;const o=new Set;function s(t){if(c(e,t)&&(e=t,r)){const t=!St.length;for(const t of o)t[1](),St.push(t,e);if(t){for(let t=0;t<St.length;t+=2)St[t][0](St[t+1]);St.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,c=t){const l=[i,c];return o.add(l),1===o.size&&(r=n(s)||t),i(e),()=>{o.delete(l),0===o.size&&(r(),r=null)}}}}var Ot=Tt(),Nt=Tt(),Dt=Tt(),Pt=Tt(),Ft=Tt(),Mt=Tt(),Wt=Tt(),Ht=Tt(),Bt={ram:Ot,cpu:Nt,wires:Dt,controls:Pt,debug:Ft,messageFeed:Mt,menu:Ht},jt=Tt(!1),Zt=Tt(!1),zt=Tt(!1),Xt=Tt(!1),Vt=function(t,e){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Vt(t,e)};function Gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Jt=function(){return Jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Jt.apply(this,arguments)};function qt(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))}function Kt(t,e){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function Yt(t,e,n){if(n||2===arguments.length)for(var r,o=0,s=e.length;o<s;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}var te=function(){function t(t,e,n,r){void 0===r&&(r=null),this.x=e,this.y=n,this.name=t,this.neighbours=[],this.intersectionType=r}return t.prototype.isAlignedTo=function(t){return this.x===t.x||this.y===t.y},t.prototype.isConnectedTo=function(t){return this.neighbours.some((function(e){return e===t}))},t.prototype.connectTo=function(t,e){if(!this.isAlignedTo(t))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+t.name+")");if(this.isConnectedTo(t))throw new Error("This node is already connected to "+t.name);this.neighbours.push(t),t.neighbours.push(this)},t.distance=function(t,e){return Math.hypot(t.x-e.x,t.y-e.y)},t.direction=function(t,e){return t.x>e.x?{x:-1,y:0}:t.x<e.x?{x:1,y:0}:t.y>e.y?{x:0,y:-1}:{x:0,y:1}},t}(),ee={name:"DATA_INT",color:"cyan",animationColor:"darkgreen"},ne={name:"DATA_EXT",color:"blue",animationColor:"lime"},re={name:"CONTROL_INT",color:"#ff7a90",animationColor:"lime"},oe={name:"CONTROL_EXT",color:"red",animationColor:"lime"},se={name:"ADDRESS_INT",color:"yellow",animationColor:"darkgreen"},ie={name:"ADDRESS_EXT",color:"darkorange",animationColor:"lime"},ce={name:"INVISIBLE",color:"transparent",animationColor:"transparent"},le=[new te("RAM:DATA",1250,115),new te("DATA:1",1250,85,ne),new te("DATA:2",749,85),new te("DATA:3",527,85),new te("DATA:4",262,85),new te("DATA:5",95,85,ee),new te("DATA:6",95,390),new te("DATA:7",95,617,ee),new te("DATA:8",320,390,ee),new te("DATA:9",312,250,ee),new te("DATA:10",477,250),new te("DATA:11",652,490,ee),new te("IR:1",262,151),new te("IR:2",312,180),new te("IR:3",212,180),new te("MUX:1",477,292),new te("MUX:2",527,292),new te("MUX:3",502,332),new te("ACC:1",327,617),new te("ACC:2",412,601),new te("ALU:1",320,432),new te("ALU:2",502,432),new te("ALU:3",526,490),new te("ALU:4",412,538),new te("SW:1",652,601)],ae=[new te("RAM:ADD",1061,250),new te("ADD:1",749,250),new te("ADD:2",670,250),new te("ADD:3",590,250),new te("ADD:4",590,137,se),new te("ADD:5",532,250),new te("ADD:6",522,250),new te("INC:1",670,210),new te("INC:2",670,182),new te("PC:1",670,150),new te("PC:2",622,137)],ue=[new te("RAM:CTRL",1061,370),new te("CTRL:1",749,370),new te("CTRL:2",507,370),new te("CTRL:3",497,370),new te("CTRL:4",240,370,re),new te("CTRL:5",185,385),new te("CTRL:6",185,395),new te("CTRL:7",185,490,re),new te("CU:1",212,281),new te("CU:2",270,313),new te("CU:3",240,340),new te("CU:4",185,340),new te("MUX:4",464,313),new te("ALU:5",297,490)],fe=Yt(Yt(Yt([],le,!0),ae,!0),ue,!0);function de(t){return fe.find((function(e){return e.name===t}))}var pe=function(){function t(t,e,n){this.a=t,this.b=e,this.type=n,this.a.connectTo(e,this)}return t.prototype.isConnecting=function(t,e){return this.a===t&&this.b===e||this.a===e&&this.b===t},t.WIDTH=5,t}(),$e=[new pe(de("RAM:DATA"),de("DATA:1"),ne),new pe(de("DATA:1"),de("DATA:2"),ne),new pe(de("DATA:2"),de("DATA:3"),ee),new pe(de("DATA:3"),de("DATA:4"),ee),new pe(de("DATA:4"),de("DATA:5"),ee),new pe(de("DATA:5"),de("DATA:6"),ee),new pe(de("DATA:6"),de("DATA:7"),ee),new pe(de("DATA:6"),de("DATA:8"),ee),new pe(de("DATA:8"),de("ALU:1"),ee),new pe(de("DATA:7"),de("ACC:1"),ee),new pe(de("MUX:3"),de("ALU:2"),ee),new pe(de("ALU:4"),de("ACC:2"),ee),new pe(de("ALU:3"),de("DATA:11"),ee),new pe(de("DATA:11"),de("SW:1"),ee),new pe(de("DATA:4"),de("IR:1"),ee),new pe(de("IR:3"),de("CU:1"),ee),new pe(de("IR:2"),de("DATA:9"),ee),new pe(de("DATA:9"),de("DATA:10"),ee),new pe(de("DATA:10"),de("MUX:1"),ee),new pe(de("DATA:3"),de("MUX:2"),ee)],he=[new pe(de("RAM:ADD"),de("ADD:1"),ie),new pe(de("ADD:1"),de("ADD:2"),se),new pe(de("ADD:2"),de("INC:1"),se),new pe(de("INC:2"),de("PC:1"),se),new pe(de("PC:2"),de("ADD:4"),se),new pe(de("ADD:2"),de("ADD:3"),se),new pe(de("ADD:3"),de("ADD:4"),se),new pe(de("ADD:3"),de("ADD:5"),se),new pe(de("ADD:5"),de("ADD:6"),ce),new pe(de("ADD:6"),de("DATA:10"),se)],me=[new pe(de("CU:2"),de("MUX:4"),re),new pe(de("RAM:CTRL"),de("CTRL:1"),oe),new pe(de("CTRL:1"),de("CTRL:2"),re),new pe(de("CTRL:2"),de("CTRL:3"),ce),new pe(de("CTRL:3"),de("CTRL:4"),re),new pe(de("CTRL:4"),de("CU:3"),re),new pe(de("CU:4"),de("CTRL:5"),re),new pe(de("CTRL:5"),de("CTRL:6"),ce),new pe(de("CTRL:6"),de("CTRL:7"),re),new pe(de("CTRL:7"),de("ALU:5"),re)],ge=Yt(Yt(Yt([],$e,!0),he,!0),me,!0);function we(t){return ge.find((function(e){return e.a.name+"-"+e.b.name===t||e.b.name+"-"+e.a.name===t}))}var ve,be,xe=["en","it"],ye=Tt(!1),Ae=Tt(!0),_e=Tt(!0),ke=Tt(1.6),Ce=Tt(function(){var t=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return t=t.split("-")[0],xe.includes(t)?t:"en"}()),Re=Tt(!1);var Ie=function(){function t(t,e){this.pos={x:0,y:0},this.path=Yt([],t,!0),this.wires=Yt([],e,!0),this.reset()}return t.prototype.play=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,new Promise(this._play.bind(this))]}))}))},t.prototype._play=function(t,e){this.resolve=t,requestAnimationFrame(this.startAnimation.bind(this))},t.prototype.startAnimation=function(t){this.previousTimestamp=t,this.animate(t)},t.prototype.animate=function(t){this.deltatime=(t-this.previousTimestamp)/1e3;var e=Math.floor(400*this.deltatime*a(ke));if(this.draw(e),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return Ee(0),this.reset(),void this.resolve();this.previousTimestamp=t,requestAnimationFrame(this.animate.bind(this))},t.prototype.draw=function(t){for(be.beginPath(),be.moveTo(this.pos.x,this.pos.y);t>0;){for(this.nextNode=Ue(this.pos,this.path[this.nextNodeIndex],t),be.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor;(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&t>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,be.lineTo(this.incrementedX,this.incrementedY),be.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,t--;Le(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(t=0))}be.closePath()},t.prototype.reset=function(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1},t}();function Le(t){be.save(),be.globalAlpha=t,be.globalCompositeOperation="destination-out",be.fillStyle="#FFF",be.fillRect(0,0,ve.width,ve.height),be.restore()}function Ee(t){Le(.1),40!==++t?requestAnimationFrame((function(){return Ee(t)})):be.clearRect(0,0,ve.width,ve.height)}function Ue(t,e,n){var r=te.direction(t,e),o=te.distance(t,e),s=e;return o>n&&(o=n,s=function(t,e,n){return{x:t.x+e*n.x,y:t.y+e*n.y}}(t,n,r)),{distance:o,direction:r,node:s}}function Qe(e){let n,r,o;return{c(){n=Q("canvas"),r=O(),o=Q("canvas"),P(n,"class","absolute z-[2] top-0 left-0 w-app h-app"),P(o,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(t,s){L(t,n,s),e[4](n),L(t,r,s),L(t,o,s),e[5](o)},p:t,i:t,o:t,d(t){t&&E(n),e[4](null),t&&E(r),t&&E(o),e[5](null)}}}function Se(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};const o=new Map;let s,i;function c(){const t=s.getContext("2d");t.lineWidth=pe.WIDTH,t.clearRect(0,0,i.width,i.height);for(const e of ge)t.strokeStyle=e.type.color,t.beginPath(),t.moveTo(e.a.x,e.a.y),t.lineTo(e.b.x,e.b.y),t.stroke();for(const e of fe.filter((t=>null!==t.intersectionType))){const n=pe.WIDTH/2-.5;t.beginPath(),t.fillStyle=e.intersectionType.color,t.arc(e.x,e.y,n,0,2*Math.PI),t.fill()}}return K((()=>r(void 0,void 0,void 0,(function*(){n(0,s.width=n(1,i.width=1400,i),s),n(0,s.height=n(1,i.height=800,i),s),c(),(be=(ve=i).getContext("2d")).lineCap="round",be.lineWidth=pe.WIDTH})))),[s,i,function(t,e){return r(this,void 0,void 0,(function*(){const n=de(t),r=de(e);if(!n)throw new Error("Node "+t+" is undefined");if(!r)throw new Error("Node "+e+" is undefined");let s;if(s=o.get(t+e))s.reset();else{const i=function(t,e){for(var n=[t],r=new Set,o={},s=0;s<n.length;)for(var i=n[s++],c=0,l=i.neighbours;c<l.length;c++){var a=l[c];if(!r.has(a)){if(r.add(a),a===e){for(var u=[a];i!==t;)u.push(i),i=o[i.name];return u.push(i),u.reverse(),u}o[a.name]=i,n.push(a)}}throw new Error("No path connecting "+t.name+" to "+e.name)}(n,r),c=function(t){for(var e=[],n=0;n<t.length-1;n++)e.push(we("".concat(t[n].name,"-").concat(t[n+1].name)));return e}(i);s=new Ie(i,c),o.set(t+e,s)}yield s.play()}))},c,function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class Te extends Qt{constructor(t){super(),Ut(this,t,Se,Qe,c,{flashWire:2,drawStaticWires:3})}get flashWire(){return this.$$.ctx[2]}get drawStaticWires(){return this.$$.ctx[3]}}function Oe(e){let n,r,o,s=(e[6]?e[0]:"")+"";return{c(){n=Q("div"),r=T(s),P(n,"class",o="absolute w-fit font-bold cursor-default "+e[7][e[5]]+" leading-tight"),W(n,"top",e[1]),W(n,"left",e[2]),W(n,"bottom",e[4]),W(n,"right",e[3]),W(n,"font-size",e[7][e[5]])},m(t,e){L(t,n,e),C(n,r)},p(t,[e]){65&e&&s!==(s=(t[6]?t[0]:"")+"")&&F(r,s),32&e&&o!==(o="absolute w-fit font-bold cursor-default "+t[7][t[5]]+" leading-tight")&&P(n,"class",o),2&e&&W(n,"top",t[1]),4&e&&W(n,"left",t[2]),16&e&&W(n,"bottom",t[4]),8&e&&W(n,"right",t[3]),32&e&&W(n,"font-size",t[7][t[5]])},i:t,o:t,d(t){t&&E(n)}}}function Ne(t,e,n){let r;u(t,Ae,(t=>n(6,r=t)));let{text:o=""}=e,{top:s="auto"}=e,{left:i="auto"}=e,{right:c="auto"}=e,{bottom:l="auto"}=e,{fontSize:a="MEDIUM"}=e;return t.$$set=t=>{"text"in t&&n(0,o=t.text),"top"in t&&n(1,s=t.top),"left"in t&&n(2,i=t.left),"right"in t&&n(3,c=t.right),"bottom"in t&&n(4,l=t.bottom),"fontSize"in t&&n(5,a=t.fontSize)},[o,s,i,c,l,a,r,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class De extends Qt{constructor(t){super(),Ut(this,t,Ne,Oe,c,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}var Pe=function(t){function e(e){var n=t.call(this,e)||this;return n.isChecked=!0,n}return Gt(e,t),e}(Error),Fe=function(t){function e(e,n){return t.call(this,"Value ".concat(e," out of ").concat(n,"-bit valid range"))||this}return Gt(e,t),e}(Pe);function Me(t,e){if(Math.abs(t)>e)throw new Error("Position ".concat(t," out of range +/-").concat(e));if(0===t)throw new Error("Positions start from 1");return t<0?this.value.length+t:t-1}function We(t){if(t<1||t>32)throw new Error("Binary numbers must be between ".concat(1," and ").concat(32," bits"))}function He(t,e){return t<=function(t){return We(t),Math.pow(2,t)}(e)&&t>=je(e)}function Be(t,e){return t<=function(t){return We(t),Math.pow(2,t-1)-1}(e)&&t>=je(e)}function je(t){return We(t),-Math.pow(2,t-1)}function Ze(t,e){return We(e),ze((t>>>0).toString(2),e)}function ze(t,e){return("00000000000000000000000000000000"+t).slice(-e)}var Xe,Ve=function(){function t(t,e){if("string"==typeof e){if(!function(t,e){return We(e),new RegExp("^[01]{1,".concat(e,"}$")).test(t)}(e,t))throw new Fe(e,t);this.value=ze(e,t)}else if("number"==typeof e){if(!He(e,t))throw new Fe(e,t);this.value=Ze(e,t)}else this.value=Ze(e.signed(),t)}return t.prototype.signed=function(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)},t.prototype.unsigned=function(){return parseInt(this.value,2)},t.prototype.toBinaryString=function(){return this.value},t.prototype.bits=function(){return this.value.length},t.prototype.bytes=function(){return this.bits()/8},t.prototype.getByte=function(e){var n=8*Me(e,this.bytes());return new t(8,this.value.substring(n,n+8))},t.prototype.getBytes=function(){for(var t=[],e=1;e<=this.bytes();e++)t.push(this.getByte(e));return t},t.prototype.isBitSet=function(t){return"1"===this.value.charAt(Me(t,this.bits()))},t.prototype.setBit=function(e,n){return new t(this.bits(),function(t,e,n){if(!/^[10]*$/.test(t))throw new Error("Invalid binary string");var r=t.split("");return r[Me(e,t.length)]=n?"1":"0",r.join("")}(this.value,e,n))},t.fromBytesValues=function(e){return We(8*e.length),"number"==typeof e[0]?t.fromBytesValues(e.map((function(e){return new t(8,e)}))):"string"==typeof e[0]?new t(8*e.length,e.join("")):new t(8*e.length,e.map((function(t){return t.toBinaryString()})).join(""))},t}(),Ge=254;function Je(t){if(!qe(t))throw new Error("Invalid address: "+t);return t/2}function qe(t){return t%2==0&&t>=0&&t<=Ge}var Ke=Tt(),Ye=Ke.subscribe,tn=Ke.set,en=Ke.update;function nn(t){en(t),Xe=t(Xe)}function rn(){var t;t={instructionRegister:null,programCounter:new Ve(8,0),increment:new Ve(8,2),alu1:null,alu2:null,operation:"",accumulator:new Ve(16,0),zeroFlag:!0,negativeFlag:!1,isJumping:!1,isHalting:!1},tn(t),Xe=t}rn();var on={subscribe:Ye,reset:rn,clear:function(){nn((function(t){return Jt(Jt({},t),{instructionRegister:null,alu1:null,alu2:null,operation:"",isJumping:!1,isHalting:!1})}))},setIR:function(t){if(t&&!t.opcode)throw new Error("Invalid opcode");nn((function(e){return Jt(Jt({},e),{instructionRegister:t})}))},setPC:function(t){if("number"==typeof t&&(t=new Ve(8,t)),!qe(t.unsigned()))throw new Error("Invalid address");nn((function(e){return Jt(Jt({},e),{programCounter:t})}))},setALU1:function(t){"number"==typeof t&&(t=new Ve(16,t)),nn((function(e){return Jt(Jt({},e),{alu1:null===t?null:t})}))},setALU2:function(t){"number"==typeof t&&(t=new Ve(16,t)),nn((function(e){return Jt(Jt({},e),{alu2:null===t?null:t})}))},setOperation:function(t){nn((function(e){return Jt(Jt({},e),{operation:t})}))},setACC:function(t){"number"==typeof t&&(t=new Ve(16,t)),nn((function(e){return Jt(Jt({},e),{accumulator:t})}))},setZeroFlag:function(t){nn((function(e){return Jt(Jt({},e),{zeroFlag:t})}))},setNegativeFlag:function(t){nn((function(e){return Jt(Jt({},e),{negativeFlag:t})}))},setIsJumping:function(t){nn((function(e){return Jt(Jt({},e),{isJumping:t})}))},setIsHalting:function(t){nn((function(e){return Jt(Jt({},e),{isHalting:t})}))}};function sn(t,e,n){return(1-n)*t+n*e}function cn(t,e,n,r){return qt(this,void 0,void 0,(function(){return Kt(this,(function(o){return[2,new Promise((function(o,s){var i,c=0,l=function(s){if(i||(i=s),c>=1)return o(),void t.style.setProperty(e,"rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")"));var u=Math.round(sn(n.r,r.r,c)),f=Math.round(sn(n.g,r.g,c)),d=Math.round(sn(n.b,r.b,c));t.style.setProperty(e,"rgb(".concat(u,", ").concat(f,", ").concat(d,")")),c=(s-i)/(300/a(ke)),requestAnimationFrame(l)};requestAnimationFrame(l)}))]}))}))}function ln(t,e,n,r){return qt(this,void 0,void 0,(function(){return Kt(this,(function(o){return[2,cn(t,e,n,r).then((function(){return cn(t,e,r,n)}))]}))}))}function an(t){let e,n,r,o,s,i,c,l,a;return n=new De({props:{text:"IR",top:"-25px",left:"10px"}}),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),o=Q("div"),s=T(t[2]),i=O(),c=Q("div"),l=T(t[3]),P(o,"class","flex items-center justify-center w-full h-full rounded-l-md"),P(c,"class","flex items-center justify-center w-full h-full rounded-r-md"),P(e,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 ")},m(u,f){L(u,e,f),It(n,e,null),C(e,r),C(e,o),C(o,s),t[8](o),C(e,i),C(e,c),C(c,l),t[9](c),a=!0},p(t,[e]){(!a||4&e)&&F(s,t[2]),(!a||8&e)&&F(l,t[3])},i(t){a||(bt(n.$$.fragment,t),a=!0)},o(t){xt(n.$$.fragment,t),a=!1},d(r){r&&E(e),Lt(n),t[8](null),t[9](null)}}}function un(t,e,n){let r,o;u(t,on,(t=>n(6,r=t))),u(t,ye,(t=>n(7,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c,l,a;return t.$$.update=()=>{192&t.$$.dirty&&(o?(n(2,l=r.instructionRegister?r.instructionRegister.binaryOpcode():""),n(3,a=r.instructionRegister?r.instructionRegister.binaryOperand():"")):(n(2,l=r.instructionRegister?r.instructionRegister.opcode.symbolic:""),r.instructionRegister&&r.instructionRegister.opcode.takesOperand?r.instructionRegister.immediateFlag()?n(3,a=`#${r.instructionRegister.numericOperand()}`):n(3,a=`${r.instructionRegister.numericOperand()}`):n(3,a="")))},[i,c,l,a,function(){return s(this,void 0,void 0,(function*(){return ln(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return ln(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},r,o,function(t){nt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class fn extends Qt{constructor(t){super(),Ut(this,t,un,an,c,{flashOpcode:4,flashOperand:5})}get flashOpcode(){return this.$$.ctx[4]}get flashOperand(){return this.$$.ctx[5]}}function dn(e){let n,r,o;return r=new De({props:{text:"Control Unit / Decoder"}}),{c(){n=Q("div"),Rt(r.$$.fragment),P(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(t,s){L(t,n,s),It(r,n,null),e[2](n),o=!0},p:t,i(t){o||(bt(r.$$.fragment,t),o=!0)},o(t){xt(r.$$.fragment,t),o=!1},d(t){t&&E(n),Lt(r),e[2](null)}}}function pn(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o;return[o,function(){return r(this,void 0,void 0,(function*(){return ln(o,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class $n extends Qt{constructor(t){super(),Ut(this,t,pn,dn,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function hn(t){let e,n,r,o,s,i=(t[1]?t[2].accumulator.toBinaryString():t[2].accumulator.signed())+"";return n=new De({props:{text:"ACC",top:"-25px",left:"0"}}),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),o=T(i),P(e,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(i,c){L(i,e,c),It(n,e,null),C(e,r),C(e,o),t[4](e),s=!0},p(t,[e]){(!s||6&e)&&i!==(i=(t[1]?t[2].accumulator.toBinaryString():t[2].accumulator.signed())+"")&&F(o,i)},i(t){s||(bt(n.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),s=!1},d(r){r&&E(e),Lt(n),t[4](null)}}}function mn(t,e,n){let r,o;u(t,ye,(t=>n(1,r=t))),u(t,on,(t=>n(2,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i;return[i,r,o,function(){return s(this,void 0,void 0,(function*(){return ln(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class gn extends Qt{constructor(t){super(),Ut(this,t,mn,hn,c,{flash:3})}get flash(){return this.$$.ctx[3]}}function wn(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,$,h,m,g,w=t[2].zeroFlag?"1":"0",v=t[2].negativeFlag?"1":"0";return n=new De({props:{text:"SW",top:"-25px",left:"0"}}),s=new De({props:{text:"Z",bottom:"-21px",left:"25%"}}),u=new De({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),o=Q("div"),Rt(s.$$.fragment),i=O(),c=T(w),l=O(),a=Q("div"),Rt(u.$$.fragment),f=O(),d=T(v),p=O(),$=Q("div"),$.textContent="------",h=O(),m=Q("div"),P(o,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md"),P(a,"class","relative h-full flex items-center justify-center w-[19%]"),P($,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md"),P(e,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center "),P(m,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black")},m(w,v){L(w,e,v),It(n,e,null),C(e,r),C(e,o),It(s,o,null),C(o,i),C(o,c),t[5](o),C(e,l),C(e,a),It(u,a,null),C(a,f),C(a,d),t[6](a),C(e,p),C(e,$),L(w,h,v),L(w,m,v),g=!0},p(t,[e]){(!g||4&e)&&w!==(w=t[2].zeroFlag?"1":"0")&&F(c,w),(!g||4&e)&&v!==(v=t[2].negativeFlag?"1":"0")&&F(d,v)},i(t){g||(bt(n.$$.fragment,t),bt(s.$$.fragment,t),bt(u.$$.fragment,t),g=!0)},o(t){xt(n.$$.fragment,t),xt(s.$$.fragment,t),xt(u.$$.fragment,t),g=!1},d(r){r&&E(e),Lt(n),Lt(s),t[5](null),Lt(u),t[6](null),r&&E(h),r&&E(m)}}}function vn(t,e,n){let r;u(t,on,(t=>n(2,r=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s,i;return[s,i,r,function(){return o(this,void 0,void 0,(function*(){return ln(s,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return o(this,void 0,void 0,(function*(){return ln(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class bn extends Qt{constructor(t){super(),Ut(this,t,vn,wn,c,{flashZeroFlag:3,flashNegativeFlag:4})}get flashZeroFlag(){return this.$$.ctx[3]}get flashNegativeFlag(){return this.$$.ctx[4]}}function xn(t){let e,n,r,o,s,i,c,l,a,u=(t[2]?t[3].programCounter.toBinaryString():t[3].programCounter.unsigned())+"",f=(t[2]?t[3].increment.toBinaryString():t[3].increment.unsigned())+"";return n=new De({props:{text:"PC",top:"-25px",left:"0"}}),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),o=T(u),s=O(),i=Q("div"),c=T("+"),l=T(f),P(e,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center "),P(i,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(u,f){L(u,e,f),It(n,e,null),C(e,r),C(e,o),t[6](e),L(u,s,f),L(u,i,f),C(i,c),C(i,l),t[7](i),a=!0},p(t,[e]){(!a||12&e)&&u!==(u=(t[2]?t[3].programCounter.toBinaryString():t[3].programCounter.unsigned())+"")&&F(o,u),(!a||12&e)&&f!==(f=(t[2]?t[3].increment.toBinaryString():t[3].increment.unsigned())+"")&&F(l,f)},i(t){a||(bt(n.$$.fragment,t),a=!0)},o(t){xt(n.$$.fragment,t),a=!1},d(r){r&&E(e),Lt(n),t[6](null),r&&E(s),r&&E(i),t[7](null)}}}function yn(t,e,n){let r,o;u(t,ye,(t=>n(2,r=t))),u(t,on,(t=>n(3,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c;return[i,c,r,o,function(){return s(this,void 0,void 0,(function*(){return ln(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return ln(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class An extends Qt{constructor(t){super(),Ut(this,t,yn,xn,c,{flashPC:4,flashINC:5})}get flashPC(){return this.$$.ctx[4]}get flashINC(){return this.$$.ctx[5]}}function _n(e){let n,r,o,s,i,c;return i=new De({props:{text:"MUX"}}),{c(){n=Q("div"),r=S("svg"),o=S("path"),s=O(),Rt(i.$$.fragment),P(o,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),P(r,"xmlns","http://www.w3.org/2000/svg"),P(r,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),P(r,"viewBox","-1 -1 102 42"),P(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(t,l){L(t,n,l),C(n,r),C(r,o),e[2](r),C(n,s),It(i,n,null),c=!0},p:t,i(t){c||(bt(i.$$.fragment,t),c=!0)},o(t){xt(i.$$.fragment,t),c=!1},d(t){t&&E(n),e[2](null),Lt(i)}}}function kn(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o;return[o,function(){return r(this,void 0,void 0,(function*(){return ln(o,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class Cn extends Qt{constructor(t){super(),Ut(this,t,kn,_n,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function Rn(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,$,h,m,g,w=t[0].operation+"";return s=new De({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){e=Q("div"),n=S("svg"),r=S("path"),o=O(),Rt(s.$$.fragment),i=O(),c=Q("div"),l=T(t[5]),u=O(),f=Q("div"),d=T(w),p=O(),$=Q("div"),h=T(t[6]),P(r,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),P(n,"xmlns","http://www.w3.org/2000/svg"),P(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),P(n,"viewBox","-1 -1 450 162"),P(c,"class",a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),P(f,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),P($,"class",m="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),P(e,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(a,m){L(a,e,m),C(e,n),C(n,r),C(e,o),It(s,e,null),C(e,i),C(e,c),C(c,l),t[10](c),C(e,u),C(e,f),C(f,d),t[11](f),C(e,p),C(e,$),C($,h),t[12]($),g=!0},p(t,[e]){(!g||32&e)&&F(l,t[5]),(!g||2&e&&a!==(a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&P(c,"class",a),(!g||1&e)&&w!==(w=t[0].operation+"")&&F(d,w),(!g||64&e)&&F(h,t[6]),(!g||2&e&&m!==(m="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[1]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&P($,"class",m)},i(t){g||(bt(s.$$.fragment,t),g=!0)},o(t){xt(s.$$.fragment,t),g=!1},d(n){n&&E(e),Lt(s),t[10](null),t[11](null),t[12](null)}}}function In(t){return[t.slice(0,8),t.slice(8)].join(" ")}function Ln(t,e,n){let r,o;u(t,on,(t=>n(0,r=t))),u(t,ye,(t=>n(1,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c,l,a="",f="";return t.$$.update=()=>{3&t.$$.dirty&&(o?(n(5,a=null!==r.alu1?In(r.alu1.toBinaryString()):""),n(6,f=null!==r.alu2?In(r.alu2.toBinaryString()):"")):(n(5,a=null!==r.alu1?""+r.alu1.signed():""),n(6,f=null!==r.alu2?""+r.alu2.signed():"")))},[r,o,i,c,l,a,f,function(){return s(this,void 0,void 0,(function*(){return ln(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return ln(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return s(this,void 0,void 0,(function*(){return ln(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(3,c)}))}]}class En extends Qt{constructor(t){super(),Ut(this,t,Ln,Rn,c,{flashFirstOperand:7,flashSecondOperand:8,flashOperator:9})}get flashFirstOperand(){return this.$$.ctx[7]}get flashSecondOperand(){return this.$$.ctx[8]}get flashOperator(){return this.$$.ctx[9]}}var Un=Tt([]),Qn={subscribe:Un.subscribe,push:function(t){Un.update((function(e){return Yt(Yt([],e,!0),[t],!1)}))}},Sn=Tt({showLogger:!1}),Tn={subscribe:Sn.subscribe,updateShowLogger:function(t){Sn.update((function(e){return Jt(Jt({},e),{showLogger:t(e.showLogger)})}))}},On=Date.now(),Nn=["EXECUTION","USER_INPUT","DEBUG","UNCAUGHT"],Dn=["UNCHECKED_ERROR","CHECKED_ERROR","INFO"];function Pn(){return Date.now()-On}var Fn,Mn,Wn,Hn,Bn={error:function(t,e,n){void 0===n&&(n=!1),Qn.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:e,timestamp:Pn(),message:n?t.message:t.stack})},info:function(t,e){Qn.push({logType:"INFO",logGroup:e,timestamp:Pn(),message:t})}},jn=function(){function t(){this._conditions=[],this._endsStep=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}return t.prototype.condition=function(t){return this._conditions.push(t),this},t.prototype.endstep=function(){return this._endsStep=!0,this},t.prototype.sideffects=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._sideffects).push.apply(t,e),this},t.prototype.waitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_before).push.apply(t,e),this},t.prototype.thenWaitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_after).push.apply(t,e),this},t.prototype.execute=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return this._conditions.reduceRight((function(t,e){return t&&e()}),!0)?(Bn.info("Executing: ".concat(this.toString()),"EXECUTION"),[4,Promise.all(this._waits_before.map((function(t){return t()})))]):[2];case 1:return t.sent(),[4,Promise.all(Yt(Yt([],this._sideffects.map((function(t){return t.execute()})),!0),[this.action()],!1))];case 2:return t.sent(),[2,Promise.all(this._waits_after.map((function(t){return t()})))]}}))}))},t.prototype.doesEndStep=function(){return this._endsStep},t.prototype.toString=function(){return"".concat(this.constructor.name)},t}(),Zn={IR:a(on).instructionRegister,"IR:OPC":null===(Fn=a(on).instructionRegister)||void 0===Fn?void 0:Fn.numericOpcode(),"IR:OPR":null===(Mn=a(on).instructionRegister)||void 0===Mn?void 0:Mn.numericOperand(),PC:a(on).programCounter.unsigned(),INC:a(on).increment.unsigned(),"ALU:1":null===(Wn=a(on).alu1)||void 0===Wn?void 0:Wn.signed(),"ALU:2":null===(Hn=a(on).alu2)||void 0===Hn?void 0:Hn.signed(),"ALU:OPR":a(on).operation,ACC:a(on).accumulator.signed(),"SW:Z":a(on).zeroFlag,"SW:N":a(on).negativeFlag,RAM:null};function zn(){return Zn["SW:Z"]}function Xn(){return!Zn["SW:Z"]}function Vn(){return Zn["SW:N"]}function Gn(){return!Zn["SW:N"]}function Jn(){return a(_e)}function qn(){return a(Re)}var Kn=function(t){function e(){var e=t.call(this)||this;return e.condition(Jn),e}return Gt(e,t),e}(jn),Yn=function(t){function e(e){var n=t.call(this)||this;return n.component=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,a(Bt.cpu).flash(this.component)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component)},e}(Kn);function tr(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,$,h,m,g,w,v;o=new De({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});i=new fn({props:{}}),t[8](i);l=new $n({props:{}}),t[9](l);u=new An({props:{}}),t[10](u);d=new Cn({props:{}}),t[11](d);$=new En({props:{}}),t[12]($);m=new bn({props:{}}),t[13](m);return w=new gn({props:{}}),t[14](w),{c(){e=Q("div"),n=O(),r=Q("div"),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),c=O(),Rt(l.$$.fragment),a=O(),Rt(u.$$.fragment),f=O(),Rt(d.$$.fragment),p=O(),Rt($.$$.fragment),h=O(),Rt(m.$$.fragment),g=O(),Rt(w.$$.fragment),P(e,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),P(r,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(t,b){L(t,e,b),L(t,n,b),L(t,r,b),It(o,r,null),C(r,s),It(i,r,null),C(r,c),It(l,r,null),C(r,a),It(u,r,null),C(r,f),It(d,r,null),C(r,p),It($,r,null),C(r,h),It(m,r,null),C(r,g),It(w,r,null),v=!0},p(t,[e]){i.$set({});l.$set({});u.$set({});d.$set({});$.$set({});m.$set({});w.$set({})},i(t){v||(bt(o.$$.fragment,t),bt(i.$$.fragment,t),bt(l.$$.fragment,t),bt(u.$$.fragment,t),bt(d.$$.fragment,t),bt($.$$.fragment,t),bt(m.$$.fragment,t),bt(w.$$.fragment,t),v=!0)},o(t){xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),xt(u.$$.fragment,t),xt(d.$$.fragment,t),xt($.$$.fragment,t),xt(m.$$.fragment,t),xt(w.$$.fragment,t),v=!1},d(s){s&&E(e),s&&E(n),s&&E(r),Lt(o),t[8](null),Lt(i),t[9](null),Lt(l),t[10](null),Lt(u),t[11](null),Lt(d),t[12](null),Lt($),t[13](null),Lt(m),t[14](null),Lt(w)}}}function er(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o,s,i,c,l,a,u;return[o,s,i,c,l,a,u,function(t){return r(this,void 0,void 0,(function*(){switch(t){case"IR":return Promise.all([o.flashOpcode(),o.flashOperand()]);case"IR:OPC":return o.flashOpcode();case"IR:OPR":return o.flashOperand();case"PC":return i.flashPC();case"INC":return i.flashINC();case"MUX":return c.flash();case"CU":return s.flash();case"ALU:1":return l.flashFirstOperand();case"ALU:2":return l.flashSecondOperand();case"ALU:OPR":return l.flashOperator();case"ACC":return u.flash();case"SW:Z":return a.flashZeroFlag();case"SW:N":return a.flashNegativeFlag()}}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){nt[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(t){nt[t?"unshift":"push"]((()=>{u=t,n(6,u)}))}]}class nr extends Qt{constructor(t){super(),Ut(this,t,er,tr,c,{flash:7})}get flash(){return this.$$.ctx[7]}}var rr=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:""},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:""},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"="},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!"}];function or(t){return"string"==typeof t?rr.find((function(e){return e.symbolic===t})):rr.find((function(e){return e.numeric===t.getByte(1).unsigned()}))}function sr(t){return t.isBitSet(1)}function ir(t,e){return t.setBit(1,e)}function cr(t){return ir(t,!1)}var lr=function(){function t(t,e,n,r){if(void 0===r&&(r=!1),16!==n.bits())throw new Error("Value must be 16 bit");this.opcode=or(cr(n)),this.symbolicOpcode=t,this.symbolicOperand=e,this.value=n,r&&(this.opcode=void 0)}return t.prototype.immediateFlag=function(){return sr(this.value)},t.prototype.opcodeValue=function(){return this.value.getByte(1)},t.prototype.operandValue=function(){return this.value.getByte(2)},t.prototype.numericOpcode=function(){return this.value.getByte(1).signed()},t.prototype.numericOperand=function(){return this.immediateFlag()?this.value.getByte(2).signed():this.value.getByte(2).unsigned()},t.prototype.binaryOpcode=function(){return this.value.getByte(1).toBinaryString()},t.prototype.binaryOperand=function(){return this.value.getByte(2).toBinaryString()},t.prototype.symbolic=function(){return this.symbolicOpcode+(""!==this.symbolicOperand?" ".concat(this.symbolicOperand):"")},t}(),ar=function(t){function e(e,n){var r=t.call(this,e)||this;return r.inputString=n,r}return Gt(e,t),e}(Pe),ur=Tt({displayName:"",tts:{prefered_voices_URIs:[]},steps:{pc_to_ram:"",ram_to_ir:"",ir_to_cu:"",cu_to_mux:"",cu_to_alu:"",acc_to_alu1:"",pc_increment:"",ir_to_alu2:"",ir_to_ram:"",memory_read:"",memory_fetch:"",memory_write:"",ram_to_alu2:"",ir_to_pc:"",execute:"",alu_to_sw:"",acc_to_ram:"",acc_stored_to_ram:""},menu:{buttons:{settings:{title:""},save:{title:""},open:{title:""},language:{title:""},help:{title:""}}},controls:{labels:{execution:"",step:"",instruction:"",speed:""},buttons:{reset:{title:""},play:{title:""},pause:{title:""},end:{title:""},play_step:{title:""},skip_step:{title:""},play_instruction:{title:""},skip_instruction:{title:""}},sliders:{speed:{title:""}},checkboxes:{binary:{text:""},animations:{text:""}}},errors:{program_parsing:{invalid_syntax:"",parsing_error:""},instruction_parsing:{invalid_binary_input:"",invalid_symbolic_input:"",invalid_opcode:"",operand_not_allowed:"",operand_required:"",unknown_label:"",immediate_operand_not_allowed:"",invalid_immediate_operand:"",invalid_direct_operand:"",invalid_data:""},symbol_table:{label_already_exists:""},user_input:{invalid_file_name:""}}});function fr(t){fetch("resources/lang/".concat(t,".json")).then((function(t){return t.json()})).then((function(t){return ur.set(t)}))}fr(a(Ce)),Ce.subscribe(fr);var dr=/^[01]{0,8}\s?[01]{1,8}?$/,pr=/^-?[0-9]{1,5}$/,$r=/#-?[0-9]{1,3}/,hr=/[A-Z_]{1,10}/,mr=/#[A-Z_]{1,10}/,gr=new RegExp("^"+/[A-Z]{2,3}/.source+"( (("+$r.source+")|("+mr.source+")|("+/[0-9]{1,3}/.source+")|("+hr.source+")))?$");function wr(t,e,n){void 0===n&&(n=[]);var r=dr.test(t),o=gr.test(t),s=pr.test(t);if(e&&!r)throw new ar(a(ur).errors.instruction_parsing.invalid_binary_input,t);if(!e&&!s&&!o)throw new ar(a(ur).errors.instruction_parsing.invalid_symbolic_input,t);return o?function(t,e){var n=t.split(" "),r=n[0],o=n[1],s=!!o,i=or(r);if(!i)throw new ar(a(ur).errors.instruction_parsing.invalid_opcode,t);if(s){if(!i.takesOperand)throw new ar(a(ur).errors.instruction_parsing.operand_not_allowed,t);return mr.test(o)?function(t,e,n){var r=t.split(" "),o=r[0],s=r[1],i=s.slice(1);if(!n.includes(i))throw new ar(a(ur).errors.instruction_parsing.unknown_label,t);var c=ir(new Ve(8,e.numeric),!0).signed(),l=n.indexOf(i);if(!e.takesImmediate)throw new ar(a(ur).errors.instruction_parsing.immediate_operand_not_allowed,t);if(!Be(l,8))throw new ar(a(ur).errors.instruction_parsing.invalid_immediate_operand,t);return new lr(o,s,Ve.fromBytesValues([c,l]))}(t,i,e):hr.test(o)?function(t,e,n){var r=t.split(" "),o=r[0],s=r[1];if(!n.includes(s))throw new ar(a(ur).errors.instruction_parsing.unknown_label,t);var i=n.indexOf(s);return new lr(o,s,Ve.fromBytesValues([e.numeric,i]))}(t,i,e):$r.test(o)?function(t,e){var n=t.split(" "),r=n[0],o=n[1],s=ir(new Ve(8,e.numeric),!0).signed(),i=parseInt(o.slice(1));if(!e.takesImmediate)throw new ar(a(ur).errors.instruction_parsing.immediate_operand_not_allowed,t);if(!Be(i,8))throw new ar(a(ur).errors.instruction_parsing.invalid_immediate_operand,t);return new lr(r,o,Ve.fromBytesValues([s,i]))}(t,i):function(t,e){var n=t.split(" "),r=n[0],o=n[1],s=parseInt(o);if(!qe(s))throw new ar(a(ur).errors.instruction_parsing.invalid_direct_operand,t);return new lr(r,o,Ve.fromBytesValues([e.numeric,s]))}(t,i)}if(i.takesOperand)throw new ar(a(ur).errors.instruction_parsing.operand_required,t);return new lr(r,"",Ve.fromBytesValues([i.numeric,0]))}(t,n):r&&e?function(t){if(t.includes(" ")){var e=t.split(" ");t=e[0]+ze(e[1],8)}var n=new Ve(16,t),r=n.getByte(1),o=n.getByte(2),s=sr(r),i=or(cr(r)),c=!1;i&&i.takesOperand?s&&!i.takesImmediate?c=!0:s||qe(o.unsigned())||(c=!0):c=!0;var l=c?n.signed().toString():i.symbolic,a=s?"#"+o.signed():o.unsigned().toString();c&&(a="");return new lr(l,a,n,c)}(t):function(t){var e=parseInt(t);if(!Be(e,16))throw new ar(a(ur).errors.instruction_parsing.invalid_data,t);var n=new Ve(16,e),r=n.getByte(1),o=or(cr(r)),s=sr(r),i=!o||s&&!o.takesImmediate||s&&!o.takesOperand;return new lr(t,"",n,i)}(t)}var vr=Tt(new Array),br=vr.subscribe,xr=vr.set,yr=vr.update,Ar=[];function _r(t){yr(t),Ar=t(Ar)}function kr(){for(var t=Je(0);t<=Je(Ge);t++)Ar[t]=wr("NOP",!1);var e;xr(e=Ar),Ar=e}kr();var Cr={subscribe:br,read:function(t){if(!qe(t))throw new Error("Invalid address: "+t);return Ar[Je(t)]},write:function(t,e){if(!qe(t))throw new Error("Invalid address: "+t);var n=Je(t);_r((function(t){return t.map((function(t,r){return n===r?e:t}))}))},clear:kr,updateLabels:function(t,e){_r((function(n){return n.map((function(n){return n.symbolicOperand===t?new lr(n.symbolicOpcode,e,n.value):n.symbolicOperand==="#"+t?new lr(n.symbolicOpcode,"#"+e,n.value):n}))}))},deleteLabel:function(t){_r((function(e){return e.map((function(e){return e.symbolicOperand===t?new lr(e.symbolicOpcode,e.numericOperand().toString(),e.value):e.symbolicOperand==="#"+t?new lr(e.symbolicOpcode,"#"+e.numericOperand(),e.value):e}))}))},moveFirstHalfUpFromAddress:function(t){console.log("moveFirstHalfUpFromAddress "+t)},moveFirstHalfDownFromAddress:function(t){console.log("moveFirstHalfDownFromAddress "+t)},moveSecondHalfUpFromAddress:function(t){console.log("moveSecondHalfUpFromAddress "+t)},moveSecondHalfDownFromAddress:function(t){console.log("moveSecondHalfDownFromAddress "+t)}},Rr=Tt([]);function Ir(t){return a(Rr)[t]}function Lr(t){if(""===t)return-1;var e=a(Rr).findIndex((function(e){return e===t}));return-1===e?-1:e}function Er(t){return-1!==Lr(t)}function Ur(){for(var t=[],e=0;e<=Ge;e+=2)t[e]="";Rr.set(t)}Ur();var Qr={subscribe:Rr.subscribe,getLabel:Ir,getAddress:Lr,setLabel:function(t,e){var n=Ir(t);if(n!==e){if(Er(e))throw new Pe(a(ur).errors.symbol_table.label_already_exists);Rr.update((function(n){return n[t]=e,n})),""!==n&&(""===e?Cr.deleteLabel(n):Cr.updateLabels(n,e))}},hasLabel:Er,clear:Ur,load:function(t){Rr.set(t)}},Sr={address:null,column:"CELL"},Tr=Tt(Sr),Or=Tr.subscribe;Tr.set;var Nr=Tr.update;function Dr(t){Nr(t),Sr=t(Sr)}var Pr={subscribe:Or,selectUp:function(){Dr((function(t){var e=t.address-=2;return Jt(Jt({},t),{address:e<0?Ge:e})}))},selectDown:function(){Dr((function(t){var e=t.address+=2;return Jt(Jt({},t),{address:e>Ge?0:e})}))},selectLeft:function(){Dr((function(t){return Jt(Jt({},t),{column:"LABEL"})}))},selectRight:function(){Dr((function(t){return Jt(Jt({},t),{column:"CELL"})}))},select:function(t,e){if(void 0===e&&(e="CELL"),!qe(t))throw new Error("Invalid address");Dr((function(n){return Jt(Jt({},n),{address:t,column:e})}))},deselect:function(){Dr((function(t){return Jt(Jt({},t),{address:null})}))},noSelection:function(){return null===Sr.address}};function Fr(n){let r,o,s,c,l,a;return{c(){r=S("svg"),o=S("rect"),s=S("path"),P(o,"fill","none"),P(o,"height","24px"),P(o,"width","24px"),P(s,"d","M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"),P(r,"xmlns","http://www.w3.org/2000/svg"),P(r,"viewBox","0 0 24 24"),P(r,"class","absolute right-0 fill-black/30 cursor-pointer w-6 h-6 transition-colors hover:fill-black")},m(t,e){L(t,r,e),C(r,o),C(r,s),l||(a=D(r,"click",n[0]),l=!0)},p:t,i(o){c||ct((()=>{c=function(n,r,o){let s,c,l=r(n,o),a=!1,u=0;function f(){s&&G(n,s)}function d(){const{delay:r=0,duration:o=300,easing:i=e,tick:d=t,css:p}=l||yt;p&&(s=V(n,0,1,o,r,i,p,u++)),d(0,1);const $=x()+r,h=$+o;c&&c.abort(),a=!0,ct((()=>ht(n,!0,"start"))),c=k((t=>{if(a){if(t>=h)return d(1,0),ht(n,!0,"end"),f(),a=!1;if(t>=$){const e=i((t-$)/o);d(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,G(n),i(l)?(l=l(),$t().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}(r,n[6],{delay:300}),c.start()}))},o:t,d(t){t&&E(r),l=!1,a()}}}function Mr(t){let e,n,r,o,i;return{c(){e=Q("input"),e.value=t[3],P(e,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/50 text-black shadow-ramlabels rounded-l-md origin-right  svelte-154hxnx")},m(n,s){L(n,e,s),t[13](e),r=!0,o||(i=[D(e,"input",Hr),D(e,"focus",t[0]),D(e,"focusout",t[1])],o=!0)},p(t,n){(!r||8&n&&e.value!==t[3])&&(e.value=t[3])},i(o){r||(ct((()=>{n||(n=At(e,t[5],{},!0)),n.run(1)})),r=!0)},o(o){n||(n=At(e,t[5],{},!1)),n.run(0),r=!1},d(r){r&&E(e),t[13](null),r&&n&&n.end(),o=!1,s(i)}}}function Wr(t){let e,n,r,o,s;const i=[Mr,Fr],c=[];function l(t,e){return t[4]?0:1}return n=l(t),r=c[n]=i[n](t),{c(){e=Q("div"),r.c(),P(e,"class",o="relative h-[30px] flex items-center "+t[7].class+" svelte-154hxnx")},m(t,r){L(t,e,r),c[n].m(e,null),s=!0},p(t,[a]){let u=n;n=l(t),n===u?c[n].p(t,a):(wt(),xt(c[u],1,1,(()=>{c[u]=null})),vt(),r=c[n],r?r.p(t,a):(r=c[n]=i[n](t),r.c()),bt(r,1),r.m(e,null)),(!s||128&a&&o!==(o="relative h-[30px] flex items-center "+t[7].class+" svelte-154hxnx"))&&P(e,"class",o)},i(t){s||(bt(r),s=!0)},o(t){xt(r),s=!1},d(t){t&&E(e),c[n].d()}}}function Hr({target:t}){t.value=t.value.toUpperCase().replaceAll(/[^A-Z_]/g,"").slice(0,10)}function Br(t,e,r){let o,s,i;const c=["address","selected","select","deselect","commitInput","getAddress"];let l,a,f,d=g(e,c);u(t,Mt,(t=>r(15,l=t))),u(t,Qr,(t=>r(12,a=t))),u(t,Pr,(t=>r(16,f=t)));let p,{address:$}=e,{selected:h}=e;function w(){try{if(!p)return;Bn.info(`RamLabel input: "${p.value}"`,"USER_INPUT"),Qr.setLabel($,p.value),r(3,o=a[$])}catch(t){l.error(t.message),Bn.error(t,"USER_INPUT",t.isChecked)}}return t.$$set=t=>{e=n(n({},e),m(t)),r(7,d=g(e,c)),"address"in t&&r(8,$=t.address),"selected"in t&&r(9,h=t.selected)},t.$$.update=()=>{4352&t.$$.dirty&&r(3,o=a[$]),8&t.$$.dirty&&(s=!o),520&t.$$.dirty&&r(4,i=h||!!o),516&t.$$.dirty&&h&&p&&p.focus()},[function(){Pr.select($,"LABEL")},function(){w(),"LABEL"===f.column&&$===f.address&&Pr.deselect()},p,o,i,function(t,{delay:e=0,duration:n=200}){return{delay:0,duration:s?n:0,css:t=>s?`transform: scaleX(${t})`:""}},function(t,{delay:e=0,duration:n=0}){return{delay:s?e:0,duration:n,css:t=>s?`filter: opacity(${t})`:""}},d,$,h,w,function(){return $},a,function(t){nt[t?"unshift":"push"]((()=>{p=t,r(2,p)}))}]}class jr extends Qt{constructor(t){super(),Ut(this,t,Br,Wr,c,{address:8,selected:9,select:0,deselect:1,commitInput:10,getAddress:11})}get select(){return this.$$.ctx[0]}get deselect(){return this.$$.ctx[1]}get commitInput(){return this.$$.ctx[10]}get getAddress(){return this.$$.ctx[11]}}function Zr(e){let n,r,o,s=(e[2]?new Ve(8,e[0]).toBinaryString():e[0])+"";return{c(){n=Q("div"),r=T(s),P(n,"class",o="h-[30px] w-[100px] flex items-center justify-center bg-[#FF8C00] border border-black border-t-0 "+e[3].class+" svelte-1v2acx4")},m(t,o){L(t,n,o),C(n,r),e[6](n)},p(t,[e]){5&e&&s!==(s=(t[2]?new Ve(8,t[0]).toBinaryString():t[0])+"")&&F(r,s),8&e&&o!==(o="h-[30px] w-[100px] flex items-center justify-center bg-[#FF8C00] border border-black border-t-0 "+t[3].class+" svelte-1v2acx4")&&P(n,"class",o)},i:t,o:t,d(t){t&&E(n),e[6](null)}}}function zr(t,e,r){const o=["address","getAddress","flash"];let s,i=g(e,o);u(t,ye,(t=>r(2,s=t)));var c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let l,{address:a}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(3,i=g(e,o)),"address"in t&&r(0,a=t.address)},[a,l,s,i,function(){return a},function(){return c(this,void 0,void 0,(function*(){return ln(l,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class Xr extends Qt{constructor(t){super(),Ut(this,t,zr,Zr,c,{address:0,getAddress:4,flash:5})}get getAddress(){return this.$$.ctx[4]}get flash(){return this.$$.ctx[5]}}function Vr(t){let e,n,r,o,s=t[5]&&Jr(t);return{c(){e=Q("div"),n=T(t[6]),r=O(),s&&s.c(),o=N(),P(e,"class","h-[30px] w-[190px] flex items-center justify-start pl-[10px]")},m(t,i){L(t,e,i),C(e,n),L(t,r,i),s&&s.m(t,i),L(t,o,i)},p(t,e){64&e&&F(n,t[6]),t[5]?s?s.p(t,e):(s=Jr(t),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},d(t){t&&E(e),t&&E(r),s&&s.d(t),t&&E(o)}}}function Gr(t){let e,n,r,o;return{c(){e=Q("input"),e.value=n=t[6]+(t[5]?" "+t[5]:""),P(e,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(n,s){L(n,e,s),t[16](e),r||(o=[v(t[7].call(null,e)),D(e,"focusout",t[2]),D(e,"input",Kr)],r=!0)},p(t,r){96&r&&n!==(n=t[6]+(t[5]?" "+t[5]:""))&&e.value!==n&&(e.value=n)},d(n){n&&E(e),t[16](null),r=!1,s(o)}}}function Jr(t){let e,n;return{c(){e=Q("div"),n=T(t[5]),P(e,"class","h-[30px] w-[190px] flex items-center justify-start overflow-hidden")},m(t,r){L(t,e,r),C(e,n)},p(t,e){32&e&&F(n,t[5])},d(t){t&&E(e)}}}function qr(e){let n,r,o,s;function i(t,e){return t[0]?Gr:Vr}let c=i(e),l=c(e);return{c(){n=Q("div"),l.c(),P(n,"class",r="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+e[8].class+" svelte-67wtpq")},m(t,r){L(t,n,r),l.m(n,null),e[17](n),o||(s=D(n,"click",e[1]),o=!0)},p(t,[e]){c===(c=i(t))&&l?l.p(t,e):(l.d(1),l=c(t),l&&(l.c(),l.m(n,null))),256&e&&r!==(r="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+t[8].class+" svelte-67wtpq")&&P(n,"class",r)},i:t,o:t,d(t){t&&E(n),l.d(),e[17](null),o=!1,s()}}}function Kr({target:t}){t.value=t.value.toUpperCase().replaceAll(/[^A-Z0-9 _\-#\(\)]*/g,"")}function Yr(t,e,r){let o,s,i;const c=["address","selected","select","deselect","commitInput","flash","getAddress"];let l,a,f,d,p,$=g(e,c);u(t,Mt,(t=>r(18,l=t))),u(t,Qr,(t=>r(19,a=t))),u(t,ye,(t=>r(14,f=t))),u(t,Pr,(t=>r(20,d=t))),u(t,Cr,(t=>r(15,p=t)));var h=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let w,v,{address:b}=e,{selected:x=!1}=e;function y(){try{v&&""!==v.value&&(Bn.info(`RamCell input: "${v.value}"`,"USER_INPUT"),Cr.write(b,wr(v.value.trim(),f,a)))}catch(t){l.error(t.message),Bn.error(t,"USER_INPUT",t.isChecked)}}return t.$$set=t=>{e=n(n({},e),m(t)),r(8,$=g(e,c)),"address"in t&&r(9,b=t.address),"selected"in t&&r(0,x=t.selected)},t.$$.update=()=>{33280&t.$$.dirty&&r(13,o=p[Je(b)]),24576&t.$$.dirty&&r(6,s=f?o.binaryOpcode():o.symbolicOpcode),24576&t.$$.dirty&&r(5,i=f?o.binaryOperand():o.symbolicOperand)},[x,function(){Pr.select(b,"CELL")},function(){y(),"CELL"===d.column&&b===d.address&&Pr.deselect()},w,v,i,s,function(t){t.value=s+(i?` ${i}`:""),t.focus(),setTimeout((()=>t.select()))},$,b,y,function(){return h(this,void 0,void 0,(function*(){return ln(w,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return b},o,f,p,function(t){nt[t?"unshift":"push"]((()=>{v=t,r(4,v)}))},function(t){nt[t?"unshift":"push"]((()=>{w=t,r(3,w)}))}]}class to extends Qt{constructor(t){super(),Ut(this,t,Yr,qr,c,{address:9,selected:0,select:1,deselect:2,commitInput:10,flash:11,getAddress:12})}get select(){return this.$$.ctx[1]}get deselect(){return this.$$.ctx[2]}get commitInput(){return this.$$.ctx[10]}get flash(){return this.$$.ctx[11]}get getAddress(){return this.$$.ctx[12]}}function eo(t,e,n){const r=t.slice();return r[25]=e[n],r[26]=e,r[27]=n,r}function no(t,e,n){const r=t.slice();return r[25]=e[n],r[28]=e,r[27]=n,r}function ro(t){let e,n,r=t[27];const o=()=>t[15](e,r),s=()=>t[15](null,r);let i={address:t[25],selected:t[6].address===t[25]&&"LABEL"===t[6].column,class:"\n\t\t\t\t\t"+(t[25]===t[0]?"first-label":"")+"\n\t\t\t\t\t"+(t[25]===t[1]?"last-label":"")+"\n\t\t\t\t"};return e=new jr({props:i}),o(),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){r!==t[27]&&(s(),r=t[27],o());const i={};4&n&&(i.address=t[25]),68&n&&(i.selected=t[6].address===t[25]&&"LABEL"===t[6].column),7&n&&(i.class="\n\t\t\t\t\t"+(t[25]===t[0]?"first-label":"")+"\n\t\t\t\t\t"+(t[25]===t[1]?"last-label":"")+"\n\t\t\t\t"),e.$set(i)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){s(),Lt(e,t)}}}function oo(t){let e,n,r,o,s,i,c=t[27];const l=()=>t[16](n,c),a=()=>t[16](null,c);let u={address:t[25],class:"\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-address":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-address":"")+"\n\t\t\t\t\t"};n=new Xr({props:u}),l();const f=()=>t[17](o,c),d=()=>t[17](null,c);let p={address:t[25],selected:t[6].address===t[25]&&"CELL"===t[6].column,class:"\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-cell":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-cell":"")+"\n\t\t\t\t\t"};return o=new to({props:p}),f(),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),P(e,"class","flex flex-nowrap")},m(t,c){L(t,e,c),It(n,e,null),C(e,r),It(o,e,null),C(e,s),i=!0},p(t,e){c!==t[27]&&(a(),c=t[27],l());const r={};4&e&&(r.address=t[25]),7&e&&(r.class="\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-address":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-address":"")+"\n\t\t\t\t\t"),n.$set(r),c!==t[27]&&(d(),c=t[27],f());const s={};4&e&&(s.address=t[25]),68&e&&(s.selected=t[6].address===t[25]&&"CELL"===t[6].column),7&e&&(s.class="\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-cell":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-cell":"")+"\n\t\t\t\t\t"),o.$set(s)},i(t){i||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),i=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){t&&E(e),a(),Lt(n),d(),Lt(o)}}}function so(t){let e,n,r,o,i,c,l,a,u;n=new De({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=ro(no(t,f,e));const p=t=>xt(d[t],1,1,(()=>{d[t]=null}));let $=t[2],h=[];for(let e=0;e<$.length;e+=1)h[e]=oo(eo(t,$,e));const m=t=>xt(h[t],1,1,(()=>{h[t]=null}));return{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),o=Q("div");for(let t=0;t<d.length;t+=1)d[t].c();i=O(),c=Q("div");for(let t=0;t<h.length;t+=1)h[t].c();P(o,"class","flex flex-col items-end justify-center"),P(c,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),P(e,"class","absolute top-[115px] right-[50px] z-[3] flex")},m(s,f){L(s,e,f),It(n,e,null),C(e,r),C(e,o);for(let t=0;t<d.length;t+=1)d[t].m(o,null);C(e,i),C(e,c);for(let t=0;t<h.length;t+=1)h[t].m(c,null);l=!0,a||(u=[D(e,"wheel",t[7]),v(t[8].call(null,e))],a=!0)},p(t,[e]){if(79&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const r=no(t,f,n);d[n]?(d[n].p(r,e),bt(d[n],1)):(d[n]=ro(r),d[n].c(),bt(d[n],1),d[n].m(o,null))}for(wt(),n=f.length;n<d.length;n+=1)p(n);vt()}if(119&e){let n;for($=t[2],n=0;n<$.length;n+=1){const r=eo(t,$,n);h[n]?(h[n].p(r,e),bt(h[n],1)):(h[n]=oo(r),h[n].c(),bt(h[n],1),h[n].m(c,null))}for(wt(),n=$.length;n<h.length;n+=1)m(n);vt()}},i(t){if(!l){bt(n.$$.fragment,t);for(let t=0;t<f.length;t+=1)bt(d[t]);for(let t=0;t<$.length;t+=1)bt(h[t]);l=!0}},o(t){xt(n.$$.fragment,t),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)xt(d[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)xt(h[t]);l=!1},d(t){t&&E(e),Lt(n),U(d,t),U(h,t),a=!1,s(u)}}}function io(t,e,n){let r;u(t,Pr,(t=>n(6,r=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s,i,c=[],l=0;h();let a=[],f=[],d=[];var p;function $({deltaY:t}){let e=l+(t>0?2:-2);e<0&&(e=220),e>220&&(e=0),n(0,l=e),h()}function h(){n(1,s=l+34),n(2,i=[]);for(let t=l,e=0;t<=s;t+=2,e++)n(2,i[e]=t,i)}function m(){$({deltaY:-1})}function g(){$({deltaY:1})}function w(t){if(!qe(t))throw new Error("Invalid address");return t>=l&&t<=s}function v(t){return o(this,void 0,void 0,(function*(){if(!qe(t))throw new Error("Invalid address");if(w(t))return;let e=t,r=e+34;return r>Ge&&(e-=r-Ge),n(0,l=e),h(),new Promise(((t,e)=>{c.push(t)}))}))}return p=()=>{c.forEach((t=>t())),c=[]},q().$$.after_update.push(p),[l,s,i,a,f,d,r,function({deltaY:t}){Pr.deselect(),$({deltaY:t})},function(t){const e=t=>{switch(t.key){case"ArrowUp":!function(t){Pr.noSelection()||(t.ctrlKey?Cr.moveSecondHalfUpFromAddress(r.address):t.shiftKey&&Cr.moveFirstHalfUpFromAddress(r.address),r.address===l&&m(),Pr.selectUp())}(t);break;case"ArrowDown":!function(t){Pr.noSelection()||(t.ctrlKey?Cr.moveSecondHalfDownFromAddress(r.address):t.shiftKey&&Cr.moveFirstHalfDownFromAddress(r.address),r.address===s&&g(),Pr.selectDown())}(t);break;case"Enter":Pr.noSelection()?Pr.select(l):Pr.deselect()}};return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}},m,g,w,v,function(t){return o(this,void 0,void 0,(function*(){if(!qe(t))throw new Error("Invalid address");return v(t).then((()=>f.find((e=>e.getAddress()===t)).flash()))}))},function(t){return o(this,void 0,void 0,(function*(){if(!qe(t))throw new Error("Invalid address");return v(t).then((()=>d.find((e=>e.getAddress()===t)).flash()))}))},function(t,e){nt[t?"unshift":"push"]((()=>{a[e]=t,n(3,a)}))},function(t,e){nt[t?"unshift":"push"]((()=>{f[e]=t,n(4,f)}))},function(t,e){nt[t?"unshift":"push"]((()=>{d[e]=t,n(5,d)}))}]}class co extends Qt{constructor(t){super(),Ut(this,t,io,so,c,{scrollUp:9,scrollDown:10,addressIsVisible:11,showAddress:12,flashAddress:13,flashContent:14})}get scrollUp(){return this.$$.ctx[9]}get scrollDown(){return this.$$.ctx[10]}get addressIsVisible(){return this.$$.ctx[11]}get showAddress(){return this.$$.ctx[12]}get flashAddress(){return this.$$.ctx[13]}get flashContent(){return this.$$.ctx[14]}}function lo(t){let e,n,r=t[0].name+"";return{c(){e=Q("span"),n=T(r),P(e,"class","text-fuchsia-500")},m(t,r){L(t,e,r),C(e,n)},p(t,e){1&e&&r!==(r=t[0].name+"")&&F(n,r)},d(t){t&&E(e)}}}function ao(t){let e,n,r,o,s,i,c,l=t[0].x+"",a=t[0].y+"";return{c(){e=Q("span"),n=T("x: "),r=T(l),o=O(),s=Q("span"),i=T("y: "),c=T(a),P(e,"class","text-blue-700"),P(s,"class","text-red-700")},m(t,l){L(t,e,l),C(e,n),C(e,r),L(t,o,l),L(t,s,l),C(s,i),C(s,c)},p(t,e){1&e&&l!==(l=t[0].x+"")&&F(r,l),1&e&&a!==(a=t[0].y+"")&&F(c,a)},d(t){t&&E(e),t&&E(o),t&&E(s)}}}function uo(e){let n,r,o,s,i,c,l=e[1]&&lo(e),a=e[2]&&ao(e);return{c(){n=Q("div"),r=Q("div"),s=O(),i=Q("div"),l&&l.c(),c=O(),a&&a.c(),P(r,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),P(r,"title",o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`),P(i,"class","relative left-[7px] top-[-10px] bg-white font-bold"),P(n,"class","absolute z-10"),W(n,"top",e[0].y+"px"),W(n,"left",e[0].x+"px")},m(t,e){L(t,n,e),C(n,r),C(n,s),C(n,i),l&&l.m(i,null),C(i,c),a&&a.m(i,null)},p(t,[e]){1&e&&o!==(o=`${t[0].name} x: ${t[0].x} y: ${t[0].y}`)&&P(r,"title",o),t[1]?l?l.p(t,e):(l=lo(t),l.c(),l.m(i,c)):l&&(l.d(1),l=null),t[2]?a?a.p(t,e):(a=ao(t),a.c(),a.m(i,null)):a&&(a.d(1),a=null),1&e&&W(n,"top",t[0].y+"px"),1&e&&W(n,"left",t[0].x+"px")},i:t,o:t,d(t){t&&E(n),l&&l.d(),a&&a.d()}}}function fo(t,e,n){let r,o;u(t,zt,(t=>n(1,r=t))),u(t,Xt,(t=>n(2,o=t)));let{node:s}=e;return t.$$set=t=>{"node"in t&&n(0,s=t.node)},[s,r,o]}class po extends Qt{constructor(t){super(),Ut(this,t,fo,uo,c,{node:0})}}function $o(t,e,n){const r=t.slice();return r[7]=e[n],r}function ho(t){let e,n,r=fe,o=[];for(let e=0;e<r.length;e+=1)o[e]=mo($o(t,r,e));const s=t=>xt(o[t],1,1,(()=>{o[t]=null}));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=N()},m(t,r){for(let e=0;e<o.length;e+=1)o[e].m(t,r);L(t,e,r),n=!0},p(t,n){if(0&n){let i;for(r=fe,i=0;i<r.length;i+=1){const s=$o(t,r,i);o[i]?(o[i].p(s,n),bt(o[i],1)):(o[i]=mo(s),o[i].c(),bt(o[i],1),o[i].m(e.parentNode,e))}for(wt(),i=r.length;i<o.length;i+=1)s(i);vt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)bt(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)xt(o[t]);n=!1},d(t){U(o,t),t&&E(e)}}}function mo(e){let n,r;return n=new po({props:{node:e[7]}}),{c(){Rt(n.$$.fragment)},m(t,e){It(n,t,e),r=!0},p:t,i(t){r||(bt(n.$$.fragment,t),r=!0)},o(t){xt(n.$$.fragment,t),r=!1},d(t){Lt(n,t)}}}function go(t){let e,n,r,o,s,i,c,l;n=new Te({props:{}}),t[4](n);o=new nr({props:{}}),t[5](o);i=new co({props:{}}),t[6](i);let a=t[3]&&ho(t);return{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),c=O(),a&&a.c(),P(e,"class","absolute top-0 left-0 w-app h-app")},m(t,u){L(t,e,u),It(n,e,null),C(e,r),It(o,e,null),C(e,s),It(i,e,null),C(e,c),a&&a.m(e,null),l=!0},p(t,[r]){n.$set({});o.$set({});i.$set({}),t[3]?a?(a.p(t,r),8&r&&bt(a,1)):(a=ho(t),a.c(),bt(a,1),a.m(e,null)):a&&(wt(),xt(a,1,1,(()=>{a=null})),vt())},i(t){l||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),bt(i.$$.fragment,t),bt(a),l=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(a),l=!1},d(r){r&&E(e),t[4](null),Lt(n),t[5](null),Lt(o),t[6](null),Lt(i),a&&a.d()}}}function wo(t,e,n){let r,o,s,i;return u(t,Dt,(t=>n(0,r=t))),u(t,Nt,(t=>n(1,o=t))),u(t,Ot,(t=>n(2,s=t))),u(t,Zt,(t=>n(3,i=t))),[r,o,s,i,function(t){nt[t?"unshift":"push"]((()=>{r=t,Dt.set(r)}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,Nt.set(o)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,Ot.set(s)}))}]}class vo extends Qt{constructor(t){super(),Ut(this,t,wo,go,c,{})}}var bo=function(t){function e(e,n){var r=t.call(this)||this;return r.component=e,r.address=n,r}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){if(t=a(Bt.ram),"number"!=typeof(e="number"==typeof this.address?this.address:Zn[this.address]))throw new Error(this.address+" is not a number");switch(this.component){case"ADDRESS":return[2,t.flashAddress(e)];case"DATA":return[2,t.flashContent(e)]}return[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component,", address: ").concat(this.address)},e}(Kn),xo=function(t){function e(e,n){var r=t.call(this)||this;return r.from=e,r.to=n,r}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,a(Bt.wires).flashWire(this.from,this.to)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", from: ").concat(this.from,", to: ").concat(this.to)},e}(Kn),yo=function(t){function e(e){var n=t.call(this)||this;return n.key=e,n}return Gt(e,t),e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", key: ").concat(this.key)},e}(jn),Ao=function(t){function e(e){var n=t.call(this,e)||this;if("RAM"===e)throw new Error("CacheCpuValue cannot cache RAM value");return n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(t=a(on),this.key){case"ACC":Zn.ACC=t.accumulator.signed();break;case"ALU:1":Zn["ALU:1"]=t.alu1.signed();break;case"ALU:2":Zn["ALU:2"]=t.alu2.signed();break;case"ALU:OPR":Zn["ALU:OPR"]=t.operation;break;case"IR":Zn.IR=t.instructionRegister,Zn["IR:OPC"]=t.instructionRegister.numericOpcode(),Zn["IR:OPR"]=t.instructionRegister.numericOperand();break;case"PC":Zn.PC=t.programCounter.unsigned();break;case"INC":Zn.INC=t.increment.unsigned();break;case"SW:Z":Zn["SW:Z"]=t.zeroFlag;break;case"SW:N":Zn["SW:N"]=t.negativeFlag;break;default:throw new Error('Unexpected cacheable key "'.concat(this.key,'"'))}return[2]}))}))},e}(yo),_o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e}(jn),ko=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){switch(n.label){case 0:return t=Zn["ALU:2"]===Zn["ALU:1"],e=Zn["ALU:2"]>Zn["ALU:1"],t===a(on).zeroFlag||e===a(on).negativeFlag?[3,2]:(on.setZeroFlag(t),on.setNegativeFlag(e),[4,Promise.all([a(Nt).flash("SW:Z"),a(Nt).flash("SW:N")])]);case 1:return n.sent(),[3,6];case 2:return t===a(on).zeroFlag?[3,4]:(on.setZeroFlag(t),[4,a(Nt).flash("SW:Z")]);case 3:n.sent(),n.label=4;case 4:return e===a(on).negativeFlag?[3,6]:(on.setNegativeFlag(e),[4,a(Nt).flash("SW:N")]);case 5:n.sent(),n.label=6;case 6:return Zn["SW:Z"]=t,Zn["SW:N"]=e,[2]}}))}))},e}(_o),Co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:switch(Zn["ALU:OPR"]){case"!":t=~Zn["ALU:2"];break;case"&":t=Zn["ALU:1"]&Zn["ALU:2"];break;case"*":t=Zn["ALU:1"]*Zn["ALU:2"];break;case"+":t=Zn["ALU:1"]+Zn["ALU:2"];break;case"-":t=Zn["ALU:1"]-Zn["ALU:2"];break;case"/":if(0===Zn["ALU:2"])throw new Error("Division by zero");t=Zn["ALU:1"]/Zn["ALU:2"];break;case"=":t=Zn["ALU:2"];break;default:throw new Error('Operator "'.concat(Zn["ALU:OP"],"\" doesn't set the Accumulator"))}return on.setACC(t),[4,a(Nt).flash("ACC")];case 1:return e.sent(),Zn.ACC=t,[2]}}))}))},e}(_o),Ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){switch(n.label){case 0:return t=0===Zn.ACC,e=Zn.ACC<0,t===a(on).zeroFlag||e===a(on).negativeFlag?[3,2]:(on.setZeroFlag(t),on.setNegativeFlag(e),[4,Promise.all([a(Nt).flash("SW:Z"),a(Nt).flash("SW:N")])]);case 1:return n.sent(),[3,6];case 2:return t===a(on).zeroFlag?[3,4]:(on.setZeroFlag(t),[4,a(Nt).flash("SW:Z")]);case 3:n.sent(),n.label=4;case 4:return e===a(on).negativeFlag?[3,6]:(on.setNegativeFlag(e),[4,a(Nt).flash("SW:N")]);case 5:n.sent(),n.label=6;case 6:return Zn["SW:Z"]=t,Zn["SW:N"]=e,[2]}}))}))},e}(_o),Io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e}(jn),Lo=function(t){function e(e){var n=t.call(this)||this;return n.address=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t,e;return Kt(this,(function(n){switch(n.label){case 0:if("number"!=typeof(t="number"==typeof this.address?this.address:Zn[this.address]))throw new Error("Address is not a number");return e=Cr.read(t).symbolicOpcode,/^[A-Z]+$/.test(e)&&"NOP"!==e?Cr.write(t,wr(new Ve(16,Zn.ACC).toBinaryString(),!0)):Cr.write(t,wr(Zn.ACC.toString(),!1)),[4,a(Ot).flashContent(t)];case 1:return n.sent(),[2]}}))}))},e}(Io),Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return on.setIsHalting(!0),[2]}))}))},e}(_o),Uo=function(t){function e(e){var n=t.call(this,"RAM")||this;return n.address=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){if("number"!=typeof(t="number"==typeof this.address?this.address:Zn[this.address]))throw new Error("Address is not a number");return Zn.RAM={address:t,data:Cr.read(t)},[2]}))}))},e}(yo),Qo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return on.setALU1(Zn.ACC),[4,a(Nt).flash("ALU:1")];case 1:return t.sent(),Zn["ALU:1"]=Zn.ACC,[2]}}))}))},e}(_o),So=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return on.setIR(Zn.RAM.data),[4,a(Nt).flash("IR")];case 1:return t.sent(),Zn.IR=Zn.RAM.data,Zn["IR:OPC"]=Zn.IR.numericOpcode(),Zn["IR:OPR"]=Zn.IR.numericOperand(),[2]}}))}))},e}(_o),To=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:return t=Zn.PC+Zn.INC,on.setPC(t),[4,a(Nt).flash("PC")];case 1:return e.sent(),Zn.PC=t,[2]}}))}))},e}(_o),Oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return on.setIsJumping(!0),on.setPC(Zn["IR:OPR"]),[4,a(Nt).flash("PC")];case 1:return t.sent(),Zn.PC=Zn["IR:OPR"],[2]}}))}))},e}(_o),No=function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:switch(this.value){case"IR:OPR":on.setALU2(Zn.IR.numericOperand()),Zn["ALU:2"]=Zn.IR.numericOperand();break;case"RAM":on.setALU2(Zn.RAM.data.value.signed()),Zn["ALU:2"]=Zn.RAM.data.value.signed();break;default:throw new Error('Unexpected value "'.concat(this.value,'"'))}return[4,a(Nt).flash("ALU:2")];case 1:return t.sent(),[2]}}))}))},e}(_o),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){switch(t.label){case 0:return on.setOperation(Zn.IR.opcode.operator),[4,a(Nt).flash("ALU:OPR")];case 1:return t.sent(),Zn["ALU:OPR"]=Zn.IR.opcode.operator,[2]}}))}))},e}(_o),Po=null;var Fo={read:function(t,e){void 0===e&&(e=null),(Po=new SpeechSynthesisUtterance(t)).rate=1.1,Po.voice=function(){for(var t=a(ur).tts.prefered_voices_URIs,e=speechSynthesis.getVoices(),n=function(t){var n=e.find((function(e){return e.voiceURI===t}));if(n)return{value:n}},r=0,o=t;r<o.length;r++){var s=n(o[r]);if("object"==typeof s)return s.value}return e.find((function(t){return t.lang.startsWith(a(Ce))}))||e.find((function(t){return t.default}))}(),Po.onend=Po.onerror=function(){Po=null,null==e||e()},speechSynthesis.speak(Po)},endedReading:function(){return null===Po}},Mo=function(t){function e(e){var n=t.call(this)||this;return n.step=e,n.condition(qn),n}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(n){return e.utteranceEndedPromise=new Promise((function(e){return t=e})),Fo.read(a(ur).steps[this.step],(function(){return t()})),[2]}))}))},e}(jn),Wo=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.call(this)||this;return r.subactions=Yt([],e,!0),r}return Gt(e,t),e}(jn),Ho=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,e)||this}return Gt(e,t),e.prototype.action=function(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,Promise.all(this.subactions.map((function(t){return t.execute()})))]}))}))},e}(Wo);function Bo(){return qt(this,void 0,void 0,(function(){return Kt(this,(function(t){return[2,Mo.utteranceEndedPromise]}))}))}var jo=[new Ho(new Ao("INC"),new xo("PC:1","INC:2"),new Mo("pc_increment")),new xo("INC:1","PC:2"),(new To).thenWaitFor(Bo).endstep()],Zo=[new Ho(new Ao("PC"),new Yn("PC"),new Mo("pc_to_ram")),new xo("PC:2","RAM:ADD"),new bo("ADDRESS","PC").thenWaitFor(Bo).endstep(),new Ho(new xo("CU:3","RAM:CTRL"),new Mo("memory_fetch")).thenWaitFor(Bo).endstep(),new Ho(new Uo("PC"),new bo("DATA","PC"),new Mo("ram_to_ir")),new xo("RAM:DATA","IR:1"),(new So).thenWaitFor(Bo).endstep()],zo=[new Ho(new Yn("IR:OPC"),new Mo("ir_to_cu")),new xo("IR:3","CU:1"),new Yn("CU").thenWaitFor(Bo).endstep()],Xo=[new Ho(new xo("CU:2","MUX:4"),new Mo("cu_to_mux")),new Yn("MUX").thenWaitFor(Bo).endstep()],Vo=[new Ho(new xo("CU:4","ALU:5"),new Mo("cu_to_alu")),(new Do).thenWaitFor(Bo).endstep()],Go=[new Ho(new Ao("ACC"),new Yn("ACC"),new Mo("acc_to_alu1")),new xo("ACC:1","ALU:1"),(new Qo).thenWaitFor(Bo).endstep()];function Jo(t){return t?qo:Ko}var qo=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_alu2")),new xo("IR:2","MUX:1"),new xo("MUX:3","ALU:2"),new No("IR:OPR").thenWaitFor(Bo).endstep()],Ko=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_ram")),new xo("IR:2","RAM:ADD"),new bo("ADDRESS","IR:OPR").thenWaitFor(Bo).endstep(),new Ho(new Yn("CU"),new Mo("memory_read")),new xo("CU:3","RAM:CTRL").thenWaitFor(Bo).endstep(),new Ho(new Uo("IR:OPR"),new bo("DATA","IR:OPR"),new Mo("ram_to_alu2")),new xo("RAM:DATA","MUX:2"),new xo("MUX:3","ALU:2"),new No("RAM").thenWaitFor(Bo).endstep()],Yo=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_pc")),new xo("IR:2","PC:2"),(new Oo).thenWaitFor(Bo).endstep()],ts=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_pc")).condition(zn),new xo("IR:2","PC:2").condition(zn),(new Oo).condition(zn).thenWaitFor(Bo).endstep()],es=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_pc")).condition(Xn),new xo("IR:2","PC:2").condition(Xn),(new Oo).condition(Xn).thenWaitFor(Bo).endstep()],ns=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_pc")).condition(Vn),new xo("IR:2","PC:2").condition(Vn),(new Oo).condition(Vn).thenWaitFor(Bo).endstep()],rs=[new Ho(new Yn("IR:OPR"),new Mo("ir_to_pc")).condition(Gn),new xo("IR:2","PC:2").condition(Gn),(new Oo).condition(Gn).thenWaitFor(Bo).endstep()];var os=!1,ss=!1,is=!1,cs=!1,ls="ENQUEUING_FETCH",as=[],us=Jt(Jt({},Tt(!1)),{update:function(){return us.set(os||ss||is)}}),fs={subscribe:us.subscribe};function ds(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:return gs()||!ms()?[3,2]:[4,(t=as.shift()).execute()];case 1:return e.sent(),ss&&t.doesEndStep()&&vs(!1),[3,0];case 2:return[2]}}))}))}function ps(){ws(!0),vs(!1),bs(!1),Bn.info("Execution - START","EXECUTION")}function $s(){ws(!1),vs(!1),bs(!1),Bn.info("Execution - PAUSE","EXECUTION")}function hs(){$s(),ls="ENQUEUING_FETCH",as=[],Bn.info("Execution - RESET","EXECUTION")}function ms(){return os||ss||is}function gs(){return 0===as.length}function ws(t){os=t,us.update()}function vs(t){ss=t,us.update()}function bs(t){is=t,us.update()}setInterval((function(){return qt(this,void 0,void 0,(function(){var t;return Kt(this,(function(e){switch(e.label){case 0:if(cs||!ms())return[2];cs=!0,e.label=1;case 1:switch(e.trys.push([1,12,13,14]),ls){case"ENQUEUING_FETCH":return[3,2];case"EXECUTING_FETCH":return[3,3];case"ENQUEUING_INSTRUCTION":return[3,5];case"EXECUTING_INSTRUCTION":return[3,6];case"ENQUEUEING_PC_INCREMENT":return[3,8];case"EXECUTING_PC_INCREMENT":return[3,9]}return[3,11];case 2:return as.push.apply(as,Zo),on.clear(),ls="EXECUTING_FETCH",[3,11];case 3:return[4,ds()];case 4:return e.sent(),gs()&&(ls="ENQUEUING_INSTRUCTION"),[3,11];case 5:return as.push.apply(as,function(t){if(!t.opcode)throw new Error("Invalid opcode");var e=[];switch(t.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":e.push.apply(e,Yt(Yt(Yt(Yt(Yt(Yt([],zo,!1),Xo,!1),Vo,!1),Go,!1),Jo(t.immediateFlag()),!1),[new Ho(new xo("ALU:4","ACC:2"),new Mo("execute")),(new Co).thenWaitFor(Bo).endstep(),new Ho(new xo("ALU:3","SW:1"),new Mo("alu_to_sw")),(new Ro).thenWaitFor(Bo).endstep()],!1));break;case"NOT":e.push.apply(e,Yt(Yt(Yt(Yt(Yt([],zo,!1),Xo,!1),Vo,!1),Jo(t.immediateFlag()),!1),[new Ho(new xo("ALU:4","ACC:2"),new Mo("execute")),(new Co).thenWaitFor(Bo).endstep(),new Ho(new xo("ALU:3","SW:1"),new Mo("alu_to_sw")),(new Ro).thenWaitFor(Bo).endstep()],!1));break;case"CMP":e.push.apply(e,Yt(Yt(Yt(Yt(Yt(Yt([],zo,!1),Xo,!1),Vo,!1),Go,!1),Jo(t.immediateFlag()),!1),[new Ho(new xo("ALU:3","SW:1"),new Mo("alu_to_sw")),(new ko).thenWaitFor(Bo).endstep()],!1));break;case"LOD":e.push.apply(e,Yt(Yt(Yt(Yt(Yt([],zo,!1),Xo,!1),Vo,!1),Jo(t.immediateFlag()),!1),[new Ho(new xo("ALU:4","ACC:2"),new Mo("execute")),(new Co).thenWaitFor(Bo).endstep()],!1));break;case"STO":e.push.apply(e,Yt(Yt([],zo,!1),[new Ho(new xo("IR:2","RAM:ADD"),new Mo("ir_to_ram")),new bo("ADDRESS","IR:OPR").thenWaitFor(Bo).endstep(),new Ho(new Ao("ACC"),new Yn("ACC"),new Mo("acc_to_ram")),new xo("ACC:1","RAM:DATA").thenWaitFor(Bo).endstep(),new Ho(new xo("CU:3","RAM:CTRL"),new Mo("memory_write")).thenWaitFor(Bo).endstep(),new Ho(new Lo("IR:OPR"),new Mo("acc_stored_to_ram")).thenWaitFor(Bo).endstep()],!1));break;case"JMP":e.push.apply(e,Yt(Yt([],zo,!1),Yo,!1));break;case"JZ":e.push.apply(e,Yt(Yt(Yt([],zo,!1),[new Yn("SW:Z")],!1),ts,!1));break;case"JNZ":e.push.apply(e,Yt(Yt(Yt([],zo,!1),[new Yn("SW:Z")],!1),es,!1));break;case"JN":e.push.apply(e,Yt(Yt(Yt([],zo,!1),[new Yn("SW:N")],!1),ns,!1));break;case"JNN":e.push.apply(e,Yt(Yt(Yt([],zo,!1),[new Yn("SW:N")],!1),rs,!1));break;case"NOP":e.push.apply(e,zo);break;case"HLT":e.push.apply(e,Yt(Yt([],zo,!1),[new Eo],!1));break;default:throw new Error('Unrecognized opcode: "'.concat(t.opcode.symbolic,'"'))}return e}(Zn.IR)),ls="EXECUTING_INSTRUCTION",[3,11];case 6:return[4,ds()];case 7:return e.sent(),gs()&&(a(on).programCounter.unsigned()!==Ge||a(on).isJumping||on.setIsHalting(!0),a(on).isJumping?(ls="ENQUEUING_FETCH",is&&bs(!1)):ls="ENQUEUEING_PC_INCREMENT"),[3,11];case 8:return as.push.apply(as,jo),ls="EXECUTING_PC_INCREMENT",[3,11];case 9:return[4,ds()];case 10:return e.sent(),is&&(bs(!1),on.setIsHalting(!0)),gs()&&(ls="ENQUEUING_FETCH"),[3,11];case 11:return[3,14];case 12:return t=e.sent(),on.setIsHalting(!0),a(Mt).error(t.message),Bn.error(t,"EXECUTION",t.isChecked),[3,14];case 13:return a(on).isHalting&&hs(),cs=!1,[7];case 14:return[2]}}))}))}),50);var xs={start:ps,pause:$s,toggle:function(){a(us)?$s():ps()},step:function(){ws(!1),vs(!0),bs(!1),Bn.info("Execution - STEP","EXECUTION")},instruction:function(){ws(!1),vs(!1),bs(!0),Bn.info("Execution - INSTRUCTION","EXECUTION")},reset:hs};function ys(t){let e,n,r,o,i;const c=t[3].default,l=f(c,t,t[2],null);return{c(){e=Q("button"),l&&l.c(),P(e,"class",n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class),e.disabled=t[0]},m(n,s){L(n,e,s),l&&l.m(e,null),r=!0,o||(i=[D(e,"click",t[4]),D(e,"focus",t[5]),D(e,"focusout",t[6]),D(e,"mouseenter",t[7]),D(e,"mouseleave",t[8]),D(e,"mouseover",t[9])],o=!0)},p(t,[o]){l&&l.p&&(!r||4&o)&&$(l,c,t,t[2],r?p(c,t[2],o,null):h(t[2]),null),(!r||2&o&&n!==(n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class))&&P(e,"class",n),(!r||1&o)&&(e.disabled=t[0])},i(t){r||(bt(l,t),r=!0)},o(t){xt(l,t),r=!1},d(t){t&&E(e),l&&l.d(t),o=!1,s(i)}}}function As(t,e,r){const o=["disabled"];let s=g(e,o),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(1,s=g(e,o)),"disabled"in t&&r(0,l=t.disabled),"$$scope"in t&&r(2,c=t.$$scope)},[l,s,c,i,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class _s extends Qt{constructor(t){super(),Ut(this,t,As,ys,c,{disabled:0})}}function ks(t){let e,n,r,o,i;const c=t[5].default,l=f(c,t,t[4],null);return{c(){e=Q("button"),l&&l.c(),P(e,"class",n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class),e.disabled=t[1]},m(n,s){L(n,e,s),l&&l.m(e,null),r=!0,o||(i=[D(e,"click",t[2]),D(e,"focus",t[6]),D(e,"focusout",t[7]),D(e,"mouseenter",t[8]),D(e,"mouseleave",t[9]),D(e,"mouseover",t[10])],o=!0)},p(t,[o]){l&&l.p&&(!r||16&o)&&$(l,c,t,t[4],r?p(c,t[4],o,null):h(t[4]),null),(!r||9&o&&n!==(n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class))&&P(e,"class",n),(!r||2&o)&&(e.disabled=t[1])},i(t){r||(bt(l,t),r=!0)},o(t){xt(l,t),r=!1},d(t){t&&E(e),l&&l.d(t),o=!1,s(i)}}}function Cs(t,e,r){const o=["disabled","checked"];let s=g(e,o),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=Y();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,s=g(e,o)),"disabled"in t&&r(1,l=t.disabled),"checked"in t&&r(0,a=t.checked),"$$scope"in t&&r(4,c=t.$$scope)},[a,l,function(t){r(0,a=!a),u("click",t)},s,c,i,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class Rs extends Qt{constructor(t){super(),Ut(this,t,Cs,ks,c,{disabled:1,checked:0})}}function Is(e){let n,r,o,i;return{c(){n=Q("input"),P(n,"class",r="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+e[4].class),P(n,"type","text"),P(n,"placeholder",e[1]),n.disabled=e[2]},m(t,r){L(t,n,r),M(n,e[0]),o||(i=[D(n,"input",e[6]),D(n,"change",e[7]),D(n,"focus",e[8]),D(n,"focusout",e[9]),D(n,"mouseenter",e[10]),D(n,"mouseleave",e[11]),D(n,"mouseover",e[12]),D(n,"input",e[13]),v(e[3].call(null,n))],o=!0)},p(t,[e]){16&e&&r!==(r="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+t[4].class)&&P(n,"class",r),2&e&&P(n,"placeholder",t[1]),4&e&&(n.disabled=t[2]),1&e&&n.value!==t[0]&&M(n,t[0])},i:t,o:t,d(t){t&&E(n),o=!1,s(i)}}}function Ls(t,e,r){const o=["value","placeholder","disabled","type"];let s=g(e,o),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{type:a="text"}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"type"in t&&r(5,a=t.type)},[i,c,l,function(t){t.type=a},s,a,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(){i=this.value,r(0,i)}]}class Es extends Qt{constructor(t){super(),Ut(this,t,Ls,Is,c,{value:0,placeholder:1,disabled:2,type:5})}}function Us(t,e,n){const r=t.slice();return r[13]=e[n],r}function Qs(t){let e,n;return{c(){e=Q("option"),n=T(t[1]),P(e,"class","text-black bg-white"),e.__value="",e.value=e.__value,e.selected=!0,e.disabled=!0},m(t,r){L(t,e,r),C(e,n)},p(t,e){2&e&&F(n,t[1])},d(t){t&&E(e)}}}function Ss(t){let e,n,r,o=t[13]+"";return{c(){e=Q("option"),n=T(o),P(e,"class","text-black bg-white"),e.__value=r=t[13],e.value=e.__value},m(t,r){L(t,e,r),C(e,n)},p(t,s){8&s&&o!==(o=t[13]+"")&&F(n,o),8&s&&r!==(r=t[13])&&(e.__value=r,e.value=e.__value)},d(t){t&&E(e)}}}function Ts(e){let n,r,o,i,c,l=""!==e[1]&&Qs(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=Ss(Us(e,a,t));return{c(){n=Q("select"),l&&l.c(),r=N();for(let t=0;t<u.length;t+=1)u[t].c();P(n,"class",o="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+e[4].class),n.disabled=e[2],void 0===e[0]&&ct((()=>e[12].call(n)))},m(t,o){L(t,n,o),l&&l.m(n,null),C(n,r);for(let t=0;t<u.length;t+=1)u[t].m(n,null);H(n,e[0]),i||(c=[D(n,"input",e[5]),D(n,"change",e[6]),D(n,"focus",e[7]),D(n,"focusout",e[8]),D(n,"mouseenter",e[9]),D(n,"mouseleave",e[10]),D(n,"mouseover",e[11]),D(n,"change",e[12])],i=!0)},p(t,[e]){if(""!==t[1]?l?l.p(t,e):(l=Qs(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),8&e){let r;for(a=t[3],r=0;r<a.length;r+=1){const o=Us(t,a,r);u[r]?u[r].p(o,e):(u[r]=Ss(o),u[r].c(),u[r].m(n,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}16&e&&o!==(o="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+t[4].class)&&P(n,"class",o),4&e&&(n.disabled=t[2]),9&e&&H(n,t[0])},i:t,o:t,d(t){t&&E(n),l&&l.d(),U(u,t),i=!1,s(c)}}}function Os(t,e,r){const o=["value","placeholder","disabled","options"];let s=g(e,o),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{options:a=[]}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"options"in t&&r(3,a=t.options)},[i,c,l,a,s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(){i=B(this),r(0,i),r(3,a)}]}class Ns extends Qt{constructor(t){super(),Ut(this,t,Os,Ts,c,{value:0,placeholder:1,disabled:2,options:3})}}function Ds(t){let e,n;return{c(){e=Q("p"),n=T(t[4]),P(e,"class","text-red-500")},m(t,r){L(t,e,r),C(e,n)},p(t,e){16&e&&F(n,t[4])},d(t){t&&E(e)}}}function Ps(t){let e;return{c(){e=T("#")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Fs(t){let e,n,r,o,s,i,c,l,a,u,f,d,p=null!==t[4]&&Ds(t);function $(e){t[6](e)}let h={options:rr.map(Ms)};function m(e){t[7](e)}void 0!==t[0]&&(h.value=t[0]),o=new Ns({props:h}),nt.push((()=>Ct(o,"value",$)));let g={disabled:!t[3].takesOperand||!t[3].takesImmediate,$$slots:{default:[Ps]},$$scope:{ctx:t}};function w(e){t[8](e)}void 0!==t[2]&&(g.checked=t[2]),c=new Rs({props:g}),nt.push((()=>Ct(c,"checked",m)));let v={class:"w-20",type:"number",disabled:!t[3].takesOperand};return void 0!==t[1]&&(v.value=t[1]),u=new Es({props:v}),nt.push((()=>Ct(u,"value",w))),{c(){e=Q("div"),p&&p.c(),n=O(),r=Q("div"),Rt(o.$$.fragment),i=O(),Rt(c.$$.fragment),a=O(),Rt(u.$$.fragment),P(r,"class","flex items-center justify-center gap-1"),P(e,"class","flex flex-col items-center justify-center gap-1")},m(t,s){L(t,e,s),p&&p.m(e,null),C(e,n),C(e,r),It(o,r,null),C(r,i),It(c,r,null),C(r,a),It(u,r,null),d=!0},p(t,[r]){null!==t[4]?p?p.p(t,r):(p=Ds(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null);const i={};!s&&1&r&&(s=!0,i.value=t[0],lt((()=>s=!1))),o.$set(i);const a={};8&r&&(a.disabled=!t[3].takesOperand||!t[3].takesImmediate),512&r&&(a.$$scope={dirty:r,ctx:t}),!l&&4&r&&(l=!0,a.checked=t[2],lt((()=>l=!1))),c.$set(a);const d={};8&r&&(d.disabled=!t[3].takesOperand),!f&&2&r&&(f=!0,d.value=t[1],lt((()=>f=!1))),u.$set(d)},i(t){d||(bt(o.$$.fragment,t),bt(c.$$.fragment,t),bt(u.$$.fragment,t),d=!0)},o(t){xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(u.$$.fragment,t),d=!1},d(t){t&&E(e),p&&p.d(),Lt(o),Lt(c),Lt(u)}}}const Ms=t=>t.symbolic;function Ws(t,e,n){let r,{value:o=wr("NOP",!1)}=e,s="NOP",i=0,c=!1,l=null;return t.$$set=t=>{"value"in t&&n(5,o=t.value)},t.$$.update=()=>{if(1&t.$$.dirty&&n(3,r=or(s)),15&t.$$.dirty){n(4,l=null);try{r.takesOperand?c&&r.takesImmediate?n(5,o=wr(`${s} #${i}`,!1)):n(5,o=wr(`${s} ${i}`,!1)):n(5,o=wr(s,!1))}catch(t){n(4,l=t.message)}}},[s,i,c,r,l,o,function(t){s=t,n(0,s)},function(t){c=t,n(2,c)},function(t){i=t,n(1,i)}]}class Hs extends Qt{constructor(t){super(),Ut(this,t,Ws,Fs,c,{value:5})}}const Bs=t=>({}),js=t=>({}),Zs=t=>({}),zs=t=>({});function Xs(t){let e,n,r,o,s,i,c,l;const a=t[2].inputs,u=f(a,t,t[1],zs),d=t[2].buttons,m=f(d,t,t[1],js);return{c(){e=Q("div"),n=Q("h2"),r=T(t[0]),o=O(),s=Q("div"),u&&u.c(),i=O(),c=Q("div"),m&&m.c(),P(n,"class","text-lg mx-auto"),P(s,"class","w-full flex flex-col items-center gap-0.5"),P(c,"class","w-full flex flex-wrap justify-center gap-1"),P(e,"class","flex flex-col items-center gap-1.5 max-w-[250px]")},m(t,a){L(t,e,a),C(e,n),C(n,r),C(e,o),C(e,s),u&&u.m(s,null),C(e,i),C(e,c),m&&m.m(c,null),l=!0},p(t,[e]){(!l||1&e)&&F(r,t[0]),u&&u.p&&(!l||2&e)&&$(u,a,t,t[1],l?p(a,t[1],e,Zs):h(t[1]),zs),m&&m.p&&(!l||2&e)&&$(m,d,t,t[1],l?p(d,t[1],e,Bs):h(t[1]),js)},i(t){l||(bt(u,t),bt(m,t),l=!0)},o(t){xt(u,t),xt(m,t),l=!1},d(t){t&&E(e),u&&u.d(t),m&&m.d(t)}}}function Vs(t,e,n){let{$$slots:r={},$$scope:o}=e,{title:s=""}=e;return t.$$set=t=>{"title"in t&&n(0,s=t.title),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,r]}class Gs extends Qt{constructor(t){super(),Ut(this,t,Vs,Xs,c,{title:0})}}function Js(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,$,h,m,g,w,v,b,x,y,A,_,k,R,I;return l=new Gs({props:{title:"Execution",$$slots:{buttons:[oi]},$$scope:{ctx:t}}}),u=new Gs({props:{title:"CPU",$$slots:{buttons:[gi],inputs:[ii]},$$scope:{ctx:t}}}),d=new Gs({props:{title:"CPU ANIMATION",$$slots:{buttons:[bi],inputs:[wi]},$$scope:{ctx:t}}}),$=new Gs({props:{title:"RAM",$$slots:{buttons:[Ii],inputs:[xi]},$$scope:{ctx:t}}}),m=new Gs({props:{title:"MESSAGE",$$slots:{buttons:[Ti],inputs:[Li]},$$scope:{ctx:t}}}),w=new Gs({props:{title:"WIRES",$$slots:{buttons:[Di],inputs:[Oi]},$$scope:{ctx:t}}}),b=new Gs({props:{title:"NODES",$$slots:{buttons:[Wi]},$$scope:{ctx:t}}}),y=new Gs({props:{title:"DISPLAY",$$slots:{buttons:[Zi],inputs:[Hi]},$$scope:{ctx:t}}}),_=new Gs({props:{title:"TTS",$$slots:{buttons:[Gi],inputs:[zi]},$$scope:{ctx:t}}}),{c(){e=Q("div"),n=Q("div"),r=Q("h1"),r.textContent="Debugger",o=O(),s=Q("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',i=O(),c=Q("div"),Rt(l.$$.fragment),a=O(),Rt(u.$$.fragment),f=O(),Rt(d.$$.fragment),p=O(),Rt($.$$.fragment),h=O(),Rt(m.$$.fragment),g=O(),Rt(w.$$.fragment),v=O(),Rt(b.$$.fragment),x=O(),Rt(y.$$.fragment),A=O(),Rt(_.$$.fragment),P(r,"class","text-xl"),P(s,"title","Close debugger"),P(n,"class","w-full flex flex-wrap items-center justify-between p-4"),P(c,"class","w-full overflow-y-auto p-5 flex flex-wrap gap-8"),P(e,"class","fixed top-0 left-0 w-screen h-screen bg-black/50 text-white")},m(E,U){L(E,e,U),C(e,n),C(n,r),C(n,o),C(n,s),C(e,i),C(e,c),It(l,c,null),C(c,a),It(u,c,null),C(c,f),It(d,c,null),C(c,p),It($,c,null),C(c,h),It(m,c,null),C(c,g),It(w,c,null),C(c,v),It(b,c,null),C(c,x),It(y,c,null),C(c,A),It(_,c,null),k=!0,R||(I=D(s,"click",t[25]),R=!0)},p(t,e){const n={};1024&e[2]&&(n.$$scope={dirty:e,ctx:t}),l.$set(n);const r={};15&e[0]|1024&e[2]&&(r.$$scope={dirty:e,ctx:t}),u.$set(r);const o={};4112&e[0]|1024&e[2]&&(o.$$scope={dirty:e,ctx:t}),d.$set(o);const s={};24672&e[0]|1024&e[2]&&(s.$$scope={dirty:e,ctx:t}),$.$set(s);const i={};32896&e[0]|1024&e[2]&&(i.$$scope={dirty:e,ctx:t}),m.$set(i);const c={};66304&e[0]|1024&e[2]&&(c.$$scope={dirty:e,ctx:t}),w.$set(c);const a={};917504&e[0]|1024&e[2]&&(a.$$scope={dirty:e,ctx:t}),b.$set(a);const f={};7340032&e[0]|1024&e[2]&&(f.$$scope={dirty:e,ctx:t}),y.$set(f);const p={};8389632&e[0]|1024&e[2]&&(p.$$scope={dirty:e,ctx:t}),_.$set(p)},i(t){k||(bt(l.$$.fragment,t),bt(u.$$.fragment,t),bt(d.$$.fragment,t),bt($.$$.fragment,t),bt(m.$$.fragment,t),bt(w.$$.fragment,t),bt(b.$$.fragment,t),bt(y.$$.fragment,t),bt(_.$$.fragment,t),k=!0)},o(t){xt(l.$$.fragment,t),xt(u.$$.fragment,t),xt(d.$$.fragment,t),xt($.$$.fragment,t),xt(m.$$.fragment,t),xt(w.$$.fragment,t),xt(b.$$.fragment,t),xt(y.$$.fragment,t),xt(_.$$.fragment,t),k=!1},d(t){t&&E(e),Lt(l),Lt(u),Lt(d),Lt($),Lt(m),Lt(w),Lt(b),Lt(y),Lt(_),R=!1,I()}}}function qs(t){let e;return{c(){e=T("Reset")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ks(t){let e;return{c(){e=T("Play")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ys(t){let e;return{c(){e=T("Pause")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ti(t){let e;return{c(){e=T("Step")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ei(t){let e;return{c(){e=T("Instruction")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ni(t){let e;return{c(){e=T("Skip Step")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ri(t){let e;return{c(){e=T("Skip Instruction")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function oi(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,$;return e=new _s({props:{$$slots:{default:[qs]},$$scope:{ctx:t}}}),e.$on("click",t[26]),r=new _s({props:{$$slots:{default:[Ks]},$$scope:{ctx:t}}}),r.$on("click",t[27]),s=new _s({props:{$$slots:{default:[Ys]},$$scope:{ctx:t}}}),s.$on("click",t[28]),c=new _s({props:{$$slots:{default:[ti]},$$scope:{ctx:t}}}),c.$on("click",t[29]),a=new _s({props:{$$slots:{default:[ei]},$$scope:{ctx:t}}}),a.$on("click",t[30]),f=new _s({props:{disabled:!0,$$slots:{default:[ni]},$$scope:{ctx:t}}}),p=new _s({props:{disabled:!0,$$slots:{default:[ri]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment),d=O(),Rt(p.$$.fragment)},m(t,h){It(e,t,h),L(t,n,h),It(r,t,h),L(t,o,h),It(s,t,h),L(t,i,h),It(c,t,h),L(t,l,h),It(a,t,h),L(t,u,h),It(f,t,h),L(t,d,h),It(p,t,h),$=!0},p(t,n){const o={};1024&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};1024&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const $={};1024&n[2]&&($.$$scope={dirty:n,ctx:t}),f.$set($);const h={};1024&n[2]&&(h.$$scope={dirty:n,ctx:t}),p.$set(h)},i(t){$||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),bt(a.$$.fragment,t),bt(f.$$.fragment,t),bt(p.$$.fragment,t),$=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),$=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t),t&&E(l),Lt(a,t),t&&E(u),Lt(f,t),t&&E(d),Lt(p,t)}}}function si(t){let e;return{c(){e=T("Flag")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ii(t){let e,n,r,o,s,i,c,l,a,u,f,d,p;function $(e){t[41](e)}let h={};function m(e){t[42](e)}void 0!==t[0]&&(h.value=t[0]),e=new Hs({props:h}),nt.push((()=>Ct(e,"value",$)));let g={type:"number",placeholder:"Value"};function w(e){t[43](e)}void 0!==t[1]&&(g.value=t[1]),o=new Es({props:g}),nt.push((()=>Ct(o,"value",m)));let v={placeholder:"Operation",options:["+","-","*","/",":","!","&","="],class:"w-fit"};function b(e){t[44](e)}void 0!==t[2]&&(v.value=t[2]),l=new Ns({props:v}),nt.push((()=>Ct(l,"value",w)));let x={$$slots:{default:[si]},$$scope:{ctx:t}};return void 0!==t[3]&&(x.checked=t[3]),f=new Rs({props:x}),nt.push((()=>Ct(f,"checked",b))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment),i=O(),c=Q("div"),Rt(l.$$.fragment),u=O(),Rt(f.$$.fragment),P(c,"class","flex gap-1")},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),L(t,i,n),L(t,c,n),It(l,c,null),C(c,u),It(f,c,null),p=!0},p(t,r){const i={};!n&&1&r[0]&&(n=!0,i.value=t[0],lt((()=>n=!1))),e.$set(i);const c={};!s&&2&r[0]&&(s=!0,c.value=t[1],lt((()=>s=!1))),o.$set(c);const u={};!a&&4&r[0]&&(a=!0,u.value=t[2],lt((()=>a=!1))),l.$set(u);const p={};1024&r[2]&&(p.$$scope={dirty:r,ctx:t}),!d&&8&r[0]&&(d=!0,p.checked=t[3],lt((()=>d=!1))),f.$set(p)},i(t){p||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),bt(l.$$.fragment,t),bt(f.$$.fragment,t),p=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),xt(l.$$.fragment,t),xt(f.$$.fragment,t),p=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t),t&&E(i),t&&E(c),Lt(l),Lt(f)}}}function ci(t){let e;return{c(){e=T("Clear")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function li(t){let e;return{c(){e=T("Reset")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ai(t){let e;return{c(){e=T("Set IR")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ui(t){let e;return{c(){e=T("Set PC")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function fi(t){let e;return{c(){e=T("Set ALU:1")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function di(t){let e;return{c(){e=T("Set ALU:2")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function pi(t){let e;return{c(){e=T("Set ALU:OPR")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function $i(t){let e;return{c(){e=T("Set ACC")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function hi(t){let e;return{c(){e=T("Set SW:Z")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function mi(t){let e;return{c(){e=T("Set SW:N")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function gi(t){let e,n,r,o,s,i,c,l,a,u,f,d,p,$,h,m,g,w,v,b;return e=new _s({props:{$$slots:{default:[ci]},$$scope:{ctx:t}}}),e.$on("click",t[31]),r=new _s({props:{$$slots:{default:[li]},$$scope:{ctx:t}}}),r.$on("click",t[32]),s=new _s({props:{$$slots:{default:[ai]},$$scope:{ctx:t}}}),s.$on("click",t[33]),c=new _s({props:{$$slots:{default:[ui]},$$scope:{ctx:t}}}),c.$on("click",t[34]),a=new _s({props:{$$slots:{default:[fi]},$$scope:{ctx:t}}}),a.$on("click",t[35]),f=new _s({props:{$$slots:{default:[di]},$$scope:{ctx:t}}}),f.$on("click",t[36]),p=new _s({props:{$$slots:{default:[pi]},$$scope:{ctx:t}}}),p.$on("click",t[37]),h=new _s({props:{$$slots:{default:[$i]},$$scope:{ctx:t}}}),h.$on("click",t[38]),g=new _s({props:{$$slots:{default:[hi]},$$scope:{ctx:t}}}),g.$on("click",t[39]),v=new _s({props:{$$slots:{default:[mi]},$$scope:{ctx:t}}}),v.$on("click",t[40]),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment),d=O(),Rt(p.$$.fragment),$=O(),Rt(h.$$.fragment),m=O(),Rt(g.$$.fragment),w=O(),Rt(v.$$.fragment)},m(t,x){It(e,t,x),L(t,n,x),It(r,t,x),L(t,o,x),It(s,t,x),L(t,i,x),It(c,t,x),L(t,l,x),It(a,t,x),L(t,u,x),It(f,t,x),L(t,d,x),It(p,t,x),L(t,$,x),It(h,t,x),L(t,m,x),It(g,t,x),L(t,w,x),It(v,t,x),b=!0},p(t,n){const o={};1024&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};1024&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const $={};1024&n[2]&&($.$$scope={dirty:n,ctx:t}),f.$set($);const m={};1024&n[2]&&(m.$$scope={dirty:n,ctx:t}),p.$set(m);const w={};1024&n[2]&&(w.$$scope={dirty:n,ctx:t}),h.$set(w);const b={};1024&n[2]&&(b.$$scope={dirty:n,ctx:t}),g.$set(b);const x={};1024&n[2]&&(x.$$scope={dirty:n,ctx:t}),v.$set(x)},i(t){b||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),bt(a.$$.fragment,t),bt(f.$$.fragment,t),bt(p.$$.fragment,t),bt(h.$$.fragment,t),bt(g.$$.fragment,t),bt(v.$$.fragment,t),b=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),xt(h.$$.fragment,t),xt(g.$$.fragment,t),xt(v.$$.fragment,t),b=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t),t&&E(l),Lt(a,t),t&&E(u),Lt(f,t),t&&E(d),Lt(p,t),t&&E($),Lt(h,t),t&&E(m),Lt(g,t),t&&E(w),Lt(v,t)}}}function wi(t){let e,n,r;function o(e){t[46](e)}let s={placeholder:"Flashable component",options:t[24],class:"w-fit"};return void 0!==t[4]&&(s.value=t[4]),e=new Ns({props:s}),nt.push((()=>Ct(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&16&r[0]&&(n=!0,o.value=t[4],lt((()=>n=!1))),e.$set(o)},i(t){r||(bt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function vi(t){let e;return{c(){e=T("Flash")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function bi(t){let e,n;return e=new _s({props:{$$slots:{default:[vi]},$$scope:{ctx:t}}}),e.$on("click",t[45]),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){const r={};1024&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function xi(t){let e,n,r,o,s,i;function c(e){t[53](e)}let l={type:"number",placeholder:"Address"};function a(e){t[54](e)}void 0!==t[6]&&(l.value=t[6]),e=new Es({props:l}),nt.push((()=>Ct(e,"value",c)));let u={};return void 0!==t[5]&&(u.value=t[5]),o=new Hs({props:u}),nt.push((()=>Ct(o,"value",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};!n&&64&r[0]&&(n=!0,i.value=t[6],lt((()=>n=!1))),e.$set(i);const c={};!s&&32&r[0]&&(s=!0,c.value=t[5],lt((()=>s=!1))),o.$set(c)},i(t){i||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function yi(t){let e;return{c(){e=T("Flash address")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ai(t){let e;return{c(){e=T("Flash data")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function _i(t){let e;return{c(){e=T("Show address")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ki(t){let e;return{c(){e=T("Clear")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ci(t){let e;return{c(){e=T("Write")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ri(t){let e;return{c(){e=T("Dump")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ii(t){let e,n,r,o,s,i,c,l,a,u,f,d;return e=new _s({props:{$$slots:{default:[yi]},$$scope:{ctx:t}}}),e.$on("click",t[47]),r=new _s({props:{$$slots:{default:[Ai]},$$scope:{ctx:t}}}),r.$on("click",t[48]),s=new _s({props:{$$slots:{default:[_i]},$$scope:{ctx:t}}}),s.$on("click",t[49]),c=new _s({props:{$$slots:{default:[ki]},$$scope:{ctx:t}}}),c.$on("click",t[50]),a=new _s({props:{$$slots:{default:[Ci]},$$scope:{ctx:t}}}),a.$on("click",t[51]),f=new _s({props:{$$slots:{default:[Ri]},$$scope:{ctx:t}}}),f.$on("click",t[52]),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment)},m(t,p){It(e,t,p),L(t,n,p),It(r,t,p),L(t,o,p),It(s,t,p),L(t,i,p),It(c,t,p),L(t,l,p),It(a,t,p),L(t,u,p),It(f,t,p),d=!0},p(t,n){const o={};1024&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};1024&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const p={};1024&n[2]&&(p.$$scope={dirty:n,ctx:t}),f.$set(p)},i(t){d||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),bt(a.$$.fragment,t),bt(f.$$.fragment,t),d=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),d=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t),t&&E(l),Lt(a,t),t&&E(u),Lt(f,t)}}}function Li(t){let e,n,r;function o(e){t[59](e)}let s={};return void 0!==t[7]&&(s.value=t[7]),e=new Es({props:s}),nt.push((()=>Ct(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&128&r[0]&&(n=!0,o.value=t[7],lt((()=>n=!1))),e.$set(o)},i(t){r||(bt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Ei(t){let e;return{c(){e=T("Error")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ui(t){let e;return{c(){e=T("Warning")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Qi(t){let e;return{c(){e=T("Success")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Si(t){let e;return{c(){e=T("Info")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Ti(t){let e,n,r,o,s,i,c,l;return e=new _s({props:{$$slots:{default:[Ei]},$$scope:{ctx:t}}}),e.$on("click",t[55]),r=new _s({props:{$$slots:{default:[Ui]},$$scope:{ctx:t}}}),r.$on("click",t[56]),s=new _s({props:{$$slots:{default:[Qi]},$$scope:{ctx:t}}}),s.$on("click",t[57]),c=new _s({props:{$$slots:{default:[Si]},$$scope:{ctx:t}}}),c.$on("click",t[58]),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment)},m(t,a){It(e,t,a),L(t,n,a),It(r,t,a),L(t,o,a),It(s,t,a),L(t,i,a),It(c,t,a),l=!0},p(t,n){const o={};1024&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const a={};1024&n[2]&&(a.$$scope={dirty:n,ctx:t}),c.$set(a)},i(t){l||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),l=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),l=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t)}}}function Oi(t){let e,n,r,o,s,i;function c(e){t[61](e)}let l={placeholder:"From node",options:fe.map(qi),class:"w-fit"};function a(e){t[62](e)}void 0!==t[8]&&(l.value=t[8]),e=new Ns({props:l}),nt.push((()=>Ct(e,"value",c)));let u={placeholder:"To node",options:fe.map(Ki),class:"w-fit"};return void 0!==t[9]&&(u.value=t[9]),o=new Ns({props:u}),nt.push((()=>Ct(o,"value",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};!n&&256&r[0]&&(n=!0,i.value=t[8],lt((()=>n=!1))),e.$set(i);const c={};!s&&512&r[0]&&(s=!0,c.value=t[9],lt((()=>s=!1))),o.$set(c)},i(t){i||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function Ni(t){let e;return{c(){e=T("Flash")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Di(t){let e,n;return e=new _s({props:{$$slots:{default:[Ni]},$$scope:{ctx:t}}}),e.$on("click",t[60]),{c(){Rt(e.$$.fragment)},m(t,r){It(e,t,r),n=!0},p(t,n){const r={};1024&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(bt(e.$$.fragment,t),n=!0)},o(t){xt(e.$$.fragment,t),n=!1},d(t){Lt(e,t)}}}function Pi(t){let e;return{c(){e=T("Show nodes")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Fi(t){let e;return{c(){e=T("Show names")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Mi(t){let e;return{c(){e=T("Show coordinates")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Wi(t){let e,n,r,o,s,i,c,l,a;function u(e){t[63](e)}let f={$$slots:{default:[Pi]},$$scope:{ctx:t}};function d(e){t[64](e)}void 0!==t[17]&&(f.checked=t[17]),e=new Rs({props:f}),nt.push((()=>Ct(e,"checked",u)));let p={disabled:!t[17],$$slots:{default:[Fi]},$$scope:{ctx:t}};function $(e){t[65](e)}void 0!==t[18]&&(p.checked=t[18]),o=new Rs({props:p}),nt.push((()=>Ct(o,"checked",d)));let h={disabled:!t[17],$$slots:{default:[Mi]},$$scope:{ctx:t}};return void 0!==t[19]&&(h.checked=t[19]),c=new Rs({props:h}),nt.push((()=>Ct(c,"checked",$))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment),i=O(),Rt(c.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),L(t,i,n),It(c,t,n),a=!0},p(t,r){const i={};1024&r[2]&&(i.$$scope={dirty:r,ctx:t}),!n&&131072&r[0]&&(n=!0,i.checked=t[17],lt((()=>n=!1))),e.$set(i);const a={};131072&r[0]&&(a.disabled=!t[17]),1024&r[2]&&(a.$$scope={dirty:r,ctx:t}),!s&&262144&r[0]&&(s=!0,a.checked=t[18],lt((()=>s=!1))),o.$set(a);const u={};131072&r[0]&&(u.disabled=!t[17]),1024&r[2]&&(u.$$scope={dirty:r,ctx:t}),!l&&524288&r[0]&&(l=!0,u.checked=t[19],lt((()=>l=!1))),c.$set(u)},i(t){a||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),bt(c.$$.fragment,t),a=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),a=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t),t&&E(i),Lt(c,t)}}}function Hi(t){let e,n,r;function o(e){t[68](e)}let s={options:[...xe],class:"w-fit"};return void 0!==t[22]&&(s.value=t[22]),e=new Ns({props:s}),nt.push((()=>Ct(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&4194304&r[0]&&(n=!0,o.value=t[22],lt((()=>n=!1))),e.$set(o)},i(t){r||(bt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Bi(t){let e;return{c(){e=T("Binary")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function ji(t){let e;return{c(){e=T("Labels")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Zi(t){let e,n,r,o,s,i;function c(e){t[66](e)}let l={$$slots:{default:[Bi]},$$scope:{ctx:t}};function a(e){t[67](e)}void 0!==t[20]&&(l.checked=t[20]),e=new Rs({props:l}),nt.push((()=>Ct(e,"checked",c)));let u={$$slots:{default:[ji]},$$scope:{ctx:t}};return void 0!==t[21]&&(u.checked=t[21]),o=new Rs({props:u}),nt.push((()=>Ct(o,"checked",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};1024&r[2]&&(i.$$scope={dirty:r,ctx:t}),!n&&1048576&r[0]&&(n=!0,i.checked=t[20],lt((()=>n=!1))),e.$set(i);const c={};1024&r[2]&&(c.$$scope={dirty:r,ctx:t}),!s&&2097152&r[0]&&(s=!0,c.checked=t[21],lt((()=>s=!1))),o.$set(c)},i(t){i||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function zi(t){let e,n,r;function o(e){t[71](e)}let s={placeholder:"Utterance"};return void 0!==t[10]&&(s.value=t[10]),e=new Es({props:s}),nt.push((()=>Ct(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};!n&&1024&r[0]&&(n=!0,o.value=t[10],lt((()=>n=!1))),e.$set(o)},i(t){r||(bt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Xi(t){let e;return{c(){e=T("Speak")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Vi(t){let e;return{c(){e=T("TTS Enabled")},m(t,n){L(t,e,n)},d(t){t&&E(e)}}}function Gi(t){let e,n,r,o,s;function i(e){t[70](e)}e=new _s({props:{$$slots:{default:[Xi]},$$scope:{ctx:t}}}),e.$on("click",t[69]);let c={$$slots:{default:[Vi]},$$scope:{ctx:t}};return void 0!==t[23]&&(c.checked=t[23]),r=new Rs({props:c}),nt.push((()=>Ct(r,"checked",i))),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment)},m(t,o){It(e,t,o),L(t,n,o),It(r,t,o),s=!0},p(t,n){const s={};1024&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),!o&&8388608&n[0]&&(o=!0,i.checked=t[23],lt((()=>o=!1))),r.$set(i)},i(t){s||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),s=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),s=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t)}}}function Ji(t){let e,n,r=t[11]&&Js(t);return{c(){r&&r.c(),e=N()},m(t,o){r&&r.m(t,o),L(t,e,o),n=!0},p(t,n){t[11]?r?(r.p(t,n),2048&n[0]&&bt(r,1)):(r=Js(t),r.c(),bt(r,1),r.m(e.parentNode,e)):r&&(wt(),xt(r,1,1,(()=>{r=null})),vt())},i(t){n||(bt(r),n=!0)},o(t){xt(r),n=!1},d(t){r&&r.d(t),t&&E(e)}}}const qi=t=>t.name,Ki=t=>t.name;function Yi(t,e,n){let r,o,s,i,c,l,a,f,d,p,$,h,m;u(t,jt,(t=>n(11,r=t))),u(t,Nt,(t=>n(12,o=t))),u(t,Ot,(t=>n(13,s=t))),u(t,Cr,(t=>n(14,i=t))),u(t,Mt,(t=>n(15,c=t))),u(t,Dt,(t=>n(16,l=t))),u(t,Zt,(t=>n(17,a=t))),u(t,zt,(t=>n(18,f=t))),u(t,Xt,(t=>n(19,d=t))),u(t,ye,(t=>n(20,p=t))),u(t,Ae,(t=>n(21,$=t))),u(t,Ce,(t=>n(22,h=t))),u(t,Re,(t=>n(23,m=t))),K((()=>{const t=t=>{t.altKey&&"d"===t.key.toLowerCase()&&(t.preventDefault(),I())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}));let g,w,v,b,x,y,A,_,k,C,R=!1;function I(){!function(t,e,n){t.set(n)}(jt,r=!r,r)}return[g,w,v,R,b,x,y,A,_,k,C,r,o,s,i,c,l,a,f,d,p,$,h,m,["IR","IR:OPC","IR:OPR","PC","INC","MUX","CU","ALU:1","ALU:2","ALU:OPR","ACC","SW:Z","SW:N"],I,()=>xs.reset(),()=>xs.start(),()=>xs.pause(),()=>xs.step(),()=>xs.instruction(),()=>on.clear(),()=>on.reset(),()=>on.setIR(g),()=>on.setPC(parseInt(w)),()=>on.setALU1(parseInt(w)),()=>on.setALU2(parseInt(w)),()=>on.setOperation(v),()=>on.setACC(parseInt(w)),()=>on.setZeroFlag(R),()=>on.setNegativeFlag(R),function(t){g=t,n(0,g)},function(t){w=t,n(1,w)},function(t){v=t,n(2,v)},function(t){R=t,n(3,R)},()=>o.flash(b),function(t){b=t,n(4,b)},()=>s.flashAddress(parseInt(y)),()=>s.flashContent(parseInt(y)),()=>s.showAddress(parseInt(y)),()=>Cr.clear(),()=>Cr.write(parseInt(y),x),()=>{console.log("--- RAM CONTENT ----------------"),console.dir(i),console.log("--------------------------------")},function(t){y=t,n(6,y)},function(t){x=t,n(5,x)},()=>c.error(A),()=>c.warning(A),()=>c.success(A),()=>c.info(A),function(t){A=t,n(7,A)},()=>l.flashWire(_,k),function(t){_=t,n(8,_)},function(t){k=t,n(9,k)},function(t){a=t,Zt.set(a)},function(t){f=t,zt.set(f)},function(t){d=t,Xt.set(d)},function(t){p=t,ye.set(p)},function(t){$=t,Ae.set($)},function(t){h=t,Ce.set(h)},()=>Fo.read(C),function(t){m=t,Re.set(m)},function(t){C=t,n(10,C)}]}class tc extends Qt{constructor(t){super(),Ut(this,t,Yi,Ji,c,{},null,[-1,-1,-1])}}function ec(t){const e=t-1;return e*e*e+1}function nc(t,{delay:e=0,duration:n=400,easing:r=ec}={}){const o=getComputedStyle(t),s=+o.opacity,i=parseFloat(o.height),c=parseFloat(o.paddingTop),l=parseFloat(o.paddingBottom),a=parseFloat(o.marginTop),u=parseFloat(o.marginBottom),f=parseFloat(o.borderTopWidth),d=parseFloat(o.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*s};height: ${t*i}px;padding-top: ${t*c}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}function rc(e){let n,r,o;return{c(){n=Q("div"),r=Q("div"),P(r,"class","h-full bg-white/60 rounded-r-sm"),W(r,"width",e[0]+"%"),P(n,"class",o="w-full h-1 bg-transparent "+e[1].class)},m(t,e){L(t,n,e),C(n,r)},p(t,[e]){1&e&&W(r,"width",t[0]+"%"),2&e&&o!==(o="w-full h-1 bg-transparent "+t[1].class)&&P(n,"class",o)},i:t,o:t,d(t){t&&E(n)}}}function oc(t,e,r){let o;const s=["value","max"];let i=g(e,s),{value:c}=e,{max:l}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(1,i=g(e,s)),"value"in t&&r(2,c=t.value),"max"in t&&r(3,l=t.max)},t.$$.update=()=>{12&t.$$.dirty&&r(0,o=100/l*c)},[o,i,c,l]}class sc extends Qt{constructor(t){super(),Ut(this,t,oc,rc,c,{value:2,max:3})}}function ic(t){let e,n,r,o,i,c,l,a,u,f,d,p,$=t[0].message+"";return l=new sc({props:{class:"absolute left-0 bottom-0",value:t[1],max:cc}}),{c(){e=Q("div"),n=Q("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#FFFFFF" class="h-6 w-6 hover:scale-105"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"></path></svg>',r=O(),o=Q("p"),i=T($),c=O(),Rt(l.$$.fragment),P(n,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),P(o,"class","w-3/4 text-center text-xl"),P(e,"class",a="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+t[0].type+" svelte-tz4rgo")},m(s,a){L(s,e,a),C(e,n),C(e,r),C(e,o),C(o,i),C(e,c),It(l,e,null),f=!0,d||(p=[D(n,"click",t[2]),D(e,"mouseenter",t[3]),D(e,"mouseleave",t[4])],d=!0)},p(t,[n]){(!f||1&n)&&$!==($=t[0].message+"")&&F(i,$);const r={};2&n&&(r.value=t[1]),l.$set(r),(!f||1&n&&a!==(a="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+t[0].type+" svelte-tz4rgo"))&&P(e,"class",a)},i(t){f||(bt(l.$$.fragment,t),ct((()=>{u||(u=At(e,nc,{},!0)),u.run(1)})),f=!0)},o(t){xt(l.$$.fragment,t),u||(u=At(e,nc,{},!1)),u.run(0),f=!1},d(t){t&&E(e),Lt(l),t&&u&&u.end(),d=!1,s(p)}}}const cc=5;function lc(t,e,n){const r=Y();let{message:o}=e,s=cc,i=!1;function c(){r("closemessage",{messageId:o.id})}return K((()=>{const t=setInterval((()=>{i||n(1,s--,s),0===s&&(clearInterval(t),c())}),1e3)})),t.$$set=t=>{"message"in t&&n(0,o=t.message)},[o,s,c,function(){n(1,s=cc),i=!0},function(){i=!1}]}class ac extends Qt{constructor(t){super(),Ut(this,t,lc,ic,c,{message:0})}}function uc(t,e,n){const r=t.slice();return r[7]=e[n],r}function fc(t,e){let n,r,o;return r=new ac({props:{message:e[7]}}),r.$on("closemessage",e[1]),{key:t,first:null,c(){n=N(),Rt(r.$$.fragment),this.first=n},m(t,e){L(t,n,e),It(r,t,e),o=!0},p(t,n){e=t;const o={};1&n&&(o.message=e[7]),r.$set(o)},i(t){o||(bt(r.$$.fragment,t),o=!0)},o(t){xt(r.$$.fragment,t),o=!1},d(t){t&&E(n),Lt(r,t)}}}function dc(t){let e,n,r=[],o=new Map,s=t[0];const i=t=>t[7].id;for(let e=0;e<s.length;e+=1){let n=uc(t,s,e),c=i(n);o.set(c,r[e]=fc(c,n))}return{c(){e=Q("div");for(let t=0;t<r.length;t+=1)r[t].c();P(e,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(t,o){L(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){3&n&&(s=t[0],wt(),r=function(t,e,n,r,o,s,i,c,l,a,u,f){let d=t.length,p=s.length,$=d;const h={};for(;$--;)h[t[$].key]=$;const m=[],g=new Map,w=new Map;for($=p;$--;){const t=f(o,s,$),c=n(t);let l=i.get(c);l?r&&l.p(t,e):(l=a(c,t),l.c()),g.set(c,m[$]=l),c in h&&w.set(c,Math.abs($-h[c]))}const v=new Set,b=new Set;function x(t){bt(t,1),t.m(c,u),i.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=m[p-1],n=t[d-1],r=e.key,o=n.key;e===n?(u=e.first,d--,p--):g.has(o)?!i.has(r)||v.has(r)?x(e):b.has(o)?d--:w.get(r)>w.get(o)?(b.add(r),x(e)):(v.add(o),d--):(l(n,i),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,i)}for(;p;)x(m[p-1]);return m}(r,n,i,1,t,s,o,e,kt,fc,null,uc),vt())},i(t){if(!n){for(let t=0;t<s.length;t+=1)bt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)xt(r[t]);n=!1},d(t){t&&E(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function pc(t,e,n){let r=[];function o(t){3===r.length&&r.shift(),n(0,r=[...r,t])}return[r,function(t){n(0,r=r.filter((e=>e.id!==t.detail.messageId)))},function(t){o({id:Math.random(),type:"ERROR",message:t})},function(t){o({id:Math.random(),type:"WARNING",message:t})},function(t){o({id:Math.random(),type:"SUCCESS",message:t})},function(t){o({id:Math.random(),type:"INFO",message:t})}]}class $c extends Qt{constructor(t){super(),Ut(this,t,pc,dc,c,{error:2,warning:3,success:4,info:5})}get error(){return this.$$.ctx[2]}get warning(){return this.$$.ctx[3]}get success(){return this.$$.ctx[4]}get info(){return this.$$.ctx[5]}}function hc(t,e){var n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download=e,n.click()}function mc(t){return qt(this,void 0,void 0,(function(){return Kt(this,(function(e){return[2,new Promise((function(e,n){var r=document.createElement("input");r.type="file",r.accept=t,r.click(),r.oninput=function(){return e(r.files)}}))]}))}))}function gc(t,e,n){const r=t.slice();return r[17]=e[n],r}function wc(t,e,n){const r=t.slice();return r[20]=e[n],r}function vc(t,e,n){const r=t.slice();return r[23]=e[n],r}function bc(t){let e,n,r,o,i,c,l,a,u,f,d,p,$,h,m,g,w,v,b,x,y,A,_,k,R,I,S,N,F,W,B,j,Z,z,X,V,G=Dn,J=[];for(let e=0;e<G.length;e+=1)J[e]=xc(vc(t,G,e));let q=Nn,K=[];for(let e=0;e<q.length;e+=1)K[e]=yc(wc(t,q,e));let Y=t[5],tt=[];for(let e=0;e<Y.length;e+=1)tt[e]=_c(gc(t,Y,e));return{c(){e=Q("div"),n=Q("div"),r=Q("h2"),r.textContent="Logs",o=O(),i=Q("div"),c=Q("label"),l=T("Keyword:\n\t\t\t\t\t"),a=Q("input"),u=O(),f=Q("label"),d=T("Type:\n\t\t\t\t\t"),p=Q("select"),$=Q("option"),$.textContent="ALL";for(let t=0;t<J.length;t+=1)J[t].c();h=O(),m=Q("label"),g=T("Group:\n\t\t\t\t\t"),w=Q("select"),v=Q("option"),v.textContent="ALL";for(let t=0;t<K.length;t+=1)K[t].c();b=O(),x=Q("div"),y=Q("label"),A=T("Lock scroll to bottom\n\t\t\t\t\t"),_=Q("input"),k=O(),R=Q("label"),I=T("Show timestamp\n\t\t\t\t\t"),S=Q("input"),N=O(),F=Q("div"),W=Q("button"),W.textContent="Export",B=O(),j=Q("button"),j.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',Z=O(),z=Q("div");for(let t=0;t<tt.length;t+=1)tt[t].c();P(r,"class","text-2xl"),P(a,"type","text"),P(a,"class","text-black px-1 py-0.5"),P(c,"for","keyword"),$.__value="ALL",$.value=$.__value,P(p,"id","type"),P(p,"class","text-black px-1 py-0.5"),void 0===t[1]&&ct((()=>t[12].call(p))),P(f,"for","type"),v.__value="ALL",v.value=v.__value,P(w,"id","group"),P(w,"class","text-black px-1 py-0.5"),void 0===t[2]&&ct((()=>t[13].call(w))),P(m,"for","group"),P(i,"class","flex items-center flex-wrap gap-4 p-2"),P(_,"type","checkbox"),P(_,"id","lock-scroll-to-bottom"),P(y,"for","lock-scroll-to-bottom"),P(S,"type","checkbox"),P(S,"id","show-timestamp"),P(R,"for","show-timestamp"),P(x,"class","flex items-center flex-wrap gap-4 p-2"),P(W,"class","border px-1"),P(F,"class","flex items-center flex-wrap gap-4 p-2"),P(j,"title","Close logs"),P(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),P(z,"class","w-full h-[90%] overflow-y-auto"),P(e,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(s,E){L(s,e,E),C(e,n),C(n,r),C(n,o),C(n,i),C(i,c),C(c,l),C(c,a),M(a,t[3]),C(i,u),C(i,f),C(f,d),C(f,p),C(p,$);for(let t=0;t<J.length;t+=1)J[t].m(p,null);H(p,t[1]),C(i,h),C(i,m),C(m,g),C(m,w),C(w,v);for(let t=0;t<K.length;t+=1)K[t].m(w,null);H(w,t[2]),C(n,b),C(n,x),C(x,y),C(y,A),C(y,_),_.checked=t[4],C(x,k),C(x,R),C(R,I),C(R,S),S.checked=t[6],C(n,N),C(n,F),C(F,W),C(n,B),C(n,j),C(e,Z),C(e,z);for(let t=0;t<tt.length;t+=1)tt[t].m(z,null);t[16](z),X||(V=[D(a,"input",t[11]),D(p,"change",t[12]),D(w,"change",t[13]),D(_,"change",t[14]),D(S,"change",t[15]),D(W,"click",t[9]),D(j,"click",t[8])],X=!0)},p(t,e){if(8&e&&a.value!==t[3]&&M(a,t[3]),0&e){let n;for(G=Dn,n=0;n<G.length;n+=1){const r=vc(t,G,n);J[n]?J[n].p(r,e):(J[n]=xc(r),J[n].c(),J[n].m(p,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=G.length}if(2&e&&H(p,t[1]),0&e){let n;for(q=Nn,n=0;n<q.length;n+=1){const r=wc(t,q,n);K[n]?K[n].p(r,e):(K[n]=yc(r),K[n].c(),K[n].m(w,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=q.length}if(4&e&&H(w,t[2]),16&e&&(_.checked=t[4]),64&e&&(S.checked=t[6]),96&e){let n;for(Y=t[5],n=0;n<Y.length;n+=1){const r=gc(t,Y,n);tt[n]?tt[n].p(r,e):(tt[n]=_c(r),tt[n].c(),tt[n].m(z,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=Y.length}},d(n){n&&E(e),U(J,n),U(K,n),U(tt,n),t[16](null),X=!1,s(V)}}}function xc(e){let n,r,o,s=e[23]+"";return{c(){n=Q("option"),r=T(s),n.__value=o=e[23],n.value=n.__value},m(t,e){L(t,n,e),C(n,r)},p:t,d(t){t&&E(n)}}}function yc(e){let n,r,o,s=e[20]+"";return{c(){n=Q("option"),r=T(s),n.__value=o=e[20],n.value=n.__value},m(t,e){L(t,n,e),C(n,r)},p:t,d(t){t&&E(n)}}}function Ac(t){let e,n,r=t[17].timestamp+"";return{c(){e=T(r),n=T(" - ")},m(t,r){L(t,e,r),L(t,n,r)},p(t,n){32&n&&r!==(r=t[17].timestamp+"")&&F(e,r)},d(t){t&&E(e),t&&E(n)}}}function _c(t){let e,n,r,o,s=t[17].message+"",i=t[6]&&Ac(t);return{c(){e=Q("p"),i&&i.c(),n=T(s),r=O(),P(e,"class",o="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")},m(t,o){L(t,e,o),i&&i.m(e,null),C(e,n),C(e,r)},p(t,r){t[6]?i?i.p(t,r):(i=Ac(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),32&r&&s!==(s=t[17].message+"")&&F(n,s),32&r&&o!==(o="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")&&P(e,"class",o)},d(t){t&&E(e),i&&i.d()}}}function kc(e){let n,r=e[7].showLogger&&bc(e);return{c(){r&&r.c(),n=N()},m(t,e){r&&r.m(t,e),L(t,n,e)},p(t,[e]){t[7].showLogger?r?r.p(t,e):(r=bc(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&E(n)}}}function Cc(t,e,n){let r,o,s;u(t,Qn,(t=>n(10,r=t))),u(t,Tn,(t=>n(7,o=t)));let i=[],c="ALL",l="ALL",a="",f=!1,d=!0;function p(){Tn.updateShowLogger((t=>!t))}return K((()=>{const t=t=>{t.altKey&&t.shiftKey&&"l"===t.key.toLowerCase()&&p()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)})),t.$$.update=()=>{1055&t.$$.dirty&&s&&(n(5,i=r.filter((t=>("ALL"===c||t.logType===c)&&("ALL"===l||t.logGroup===l)&&t.message.toLowerCase().includes(a)))),d&&n(0,s.scrollTop=s.scrollHeight,s))},[s,c,l,a,d,i,f,o,p,function(){hc(JSON.stringify(r),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},r,function(){a=this.value,n(3,a)},function(){c=B(this),n(1,c)},function(){l=B(this),n(2,l)},function(){d=this.checked,n(4,d)},function(){f=this.checked,n(6,f)},function(t){nt[t?"unshift":"push"]((()=>{s=t,n(0,s),n(10,r),n(1,c),n(2,l),n(3,a),n(4,d)}))}]}class Rc extends Qt{constructor(t){super(),Ut(this,t,Cc,kc,c,{})}}function Ic(t){let e,n,r;const o=t[2].default,s=f(o,t,t[1],null);return{c(){e=Q("div"),s&&s.c(),P(e,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class)},m(t,n){L(t,e,n),s&&s.m(e,null),r=!0},p(t,[i]){s&&s.p&&(!r||2&i)&&$(s,o,t,t[1],r?p(o,t[1],i,null):h(t[1]),null),(!r||1&i&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class))&&P(e,"class",n)},i(t){r||(bt(s,t),r=!0)},o(t){xt(s,t),r=!1},d(t){t&&E(e),s&&s.d(t)}}}function Lc(t,e,r){const o=[];let s=g(e,o),{$$slots:i={},$$scope:c}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(0,s=g(e,o)),"$$scope"in t&&r(1,c=t.$$scope)},[s,c,i]}class Ec extends Qt{constructor(t){super(),Ut(this,t,Lc,Ic,c,{})}}function Uc(e){let n,r,o,i,c,l,a;return{c(){n=Q("button"),r=S("svg"),o=S("path"),P(o,"d",i=e[3][e[2]]),P(r,"xmlns","http://www.w3.org/2000/svg"),P(r,"viewBox","0 0 24 24"),P(r,"class","fill-black w-6 h-6 scale-[1.4]"),P(n,"class",c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],P(n,"title",e[1])},m(t,s){L(t,n,s),C(n,r),C(r,o),l||(a=[D(n,"click",e[5]),D(n,"focus",e[6]),D(n,"focusout",e[7]),D(n,"mouseenter",e[8]),D(n,"mouseleave",e[9]),D(n,"mouseover",e[10])],l=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&P(o,"d",i),16&e&&c!==(c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&P(n,"class",c),1&e&&(n.disabled=t[0]),2&e&&P(n,"title",t[1])},i:t,o:t,d(t){t&&E(n),l=!1,s(a)}}}function Qc(t,e,r){const o=["disabled","title","icon"];let s=g(e,o),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"disabled"in t&&r(0,i=t.disabled),"title"in t&&r(1,c=t.title),"icon"in t&&r(2,l=t.icon)},[i,c,l,{"":"",reset:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",skip:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class Sc extends Qt{constructor(t){super(),Ut(this,t,Qc,Uc,c,{disabled:0,title:1,icon:2})}}function Tc(t){let e,n,r,o,i,c,l,a,u;const d=t[5].default,m=f(d,t,t[4],null);return{c(){e=Q("div"),n=Q("div"),o=O(),i=Q("div"),m&&m.c(),P(n,"class",r="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")),P(i,"class","font-medium pb-[3px]"),P(e,"class",c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class),P(e,"disabled",t[1])},m(r,s){L(r,e,s),C(e,n),C(e,o),C(e,i),m&&m.m(i,null),l=!0,a||(u=[D(e,"click",t[2]),D(e,"focus",t[6]),D(e,"focusout",t[7]),D(e,"mouseenter",t[8]),D(e,"mouseleave",t[9]),D(e,"mouseover",t[10])],a=!0)},p(t,[o]){(!l||3&o&&r!==(r="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")))&&P(n,"class",r),m&&m.p&&(!l||16&o)&&$(m,d,t,t[4],l?p(d,t[4],o,null):h(t[4]),null),(!l||10&o&&c!==(c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class))&&P(e,"class",c),(!l||2&o)&&P(e,"disabled",t[1])},i(t){l||(bt(m,t),l=!0)},o(t){xt(m,t),l=!1},d(t){t&&E(e),m&&m.d(t),a=!1,s(u)}}}function Oc(t,e,r){const o=["disabled","checked"];let s=g(e,o),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=Y();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,s=g(e,o)),"disabled"in t&&r(1,l=t.disabled),"checked"in t&&r(0,a=t.checked),"$$scope"in t&&r(4,c=t.$$scope)},[a,l,function(t){r(0,a=!a),u("click",t)},s,c,i,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class Nc extends Qt{constructor(t){super(),Ut(this,t,Oc,Tc,c,{disabled:1,checked:0})}}function Dc(e){let n,r,o,i;return{c(){n=Q("input"),P(n,"type","range"),P(n,"class",r=w(e[6].class)+" svelte-dtr8pe"),P(n,"min",e[1]),P(n,"max",e[2]),P(n,"step",e[3]),n.disabled=e[4],P(n,"title",e[5])},m(t,r){L(t,n,r),M(n,e[0]),o||(i=[D(n,"change",e[14]),D(n,"input",e[14]),D(n,"input",e[7]),D(n,"change",e[8]),D(n,"focus",e[9]),D(n,"focusout",e[10]),D(n,"mouseenter",e[11]),D(n,"mouseleave",e[12]),D(n,"mouseover",e[13])],o=!0)},p(t,[e]){64&e&&r!==(r=w(t[6].class)+" svelte-dtr8pe")&&P(n,"class",r),2&e&&P(n,"min",t[1]),4&e&&P(n,"max",t[2]),8&e&&P(n,"step",t[3]),16&e&&(n.disabled=t[4]),32&e&&P(n,"title",t[5]),1&e&&M(n,t[0])},i:t,o:t,d(t){t&&E(n),o=!1,s(i)}}}function Pc(t,e,r){const o=["min","max","value","step","disabled","title"];let s=g(e,o),{min:i=0}=e,{max:c=1}=e,{value:l=c/2+i}=e,{step:a=.1}=e,{disabled:u=!1}=e,{title:f=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(6,s=g(e,o)),"min"in t&&r(1,i=t.min),"max"in t&&r(2,c=t.max),"value"in t&&r(0,l=t.value),"step"in t&&r(3,a=t.step),"disabled"in t&&r(4,u=t.disabled),"title"in t&&r(5,f=t.title)},[l,i,c,a,u,f,s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(){l=function(t){return""===t?null:+t}(this.value),r(0,l)}]}class Fc extends Qt{constructor(t){super(),Ut(this,t,Pc,Dc,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function Mc(t){let e,n,r,o,s;const i=t[2].default,c=f(i,t,t[1],null);return{c(){e=Q("div"),n=Q("span"),r=T(t[0]),o=O(),c&&c.c(),P(n,"class","text-gray-200"),P(e,"class","h-full py-2 flex flex-col items-center justify-between")},m(t,i){L(t,e,i),C(e,n),C(n,r),C(e,o),c&&c.m(e,null),s=!0},p(t,[e]){(!s||1&e)&&F(r,t[0]),c&&c.p&&(!s||2&e)&&$(c,i,t,t[1],s?p(i,t[1],e,null):h(t[1]),null)},i(t){s||(bt(c,t),s=!0)},o(t){xt(c,t),s=!1},d(t){t&&E(e),c&&c.d(t)}}}function Wc(t,e,n){let{$$slots:r={},$$scope:o}=e,{label:s=""}=e;return t.$$set=t=>{"label"in t&&n(0,s=t.label),"$$scope"in t&&n(1,o=t.$$scope)},[s,o,r]}class Hc extends Qt{constructor(t){super(),Ut(this,t,Wc,Mc,c,{label:0})}}function Bc(t){let e,n,r,o,s,i,c;return n=new Sc({props:{icon:"reset",title:t[0].controls.buttons.reset.title,disabled:!0}}),n.$on("click",t[5]),o=new Sc({props:{icon:t[1]?"pause":"play",title:t[1]?t[0].controls.buttons.pause.title:t[0].controls.buttons.play.title}}),o.$on("click",t[6]),i=new Sc({props:{icon:"skip",title:t[0].controls.buttons.end.title,disabled:!0}}),i.$on("click",Kc),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),P(e,"class","flex items-center justify-center gap-1")},m(t,l){L(t,e,l),It(n,e,null),C(e,r),It(o,e,null),C(e,s),It(i,e,null),c=!0},p(t,e){const r={};1&e&&(r.title=t[0].controls.buttons.reset.title),n.$set(r);const s={};2&e&&(s.icon=t[1]?"pause":"play"),3&e&&(s.title=t[1]?t[0].controls.buttons.pause.title:t[0].controls.buttons.play.title),o.$set(s);const c={};1&e&&(c.title=t[0].controls.buttons.end.title),i.$set(c)},i(t){c||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),bt(i.$$.fragment,t),c=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),c=!1},d(t){t&&E(e),Lt(n),Lt(o),Lt(i)}}}function jc(t){let e,n,r,o,s;return n=new Sc({props:{icon:"play",title:t[0].controls.buttons.play_step.title}}),n.$on("click",t[7]),o=new Sc({props:{icon:"skip",title:t[0].controls.buttons.skip_step.title,disabled:!0}}),o.$on("click",Yc),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),P(e,"class","flex items-center justify-center gap-1")},m(t,i){L(t,e,i),It(n,e,null),C(e,r),It(o,e,null),s=!0},p(t,e){const r={};1&e&&(r.title=t[0].controls.buttons.play_step.title),n.$set(r);const s={};1&e&&(s.title=t[0].controls.buttons.skip_step.title),o.$set(s)},i(t){s||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),s=!1},d(t){t&&E(e),Lt(n),Lt(o)}}}function Zc(t){let e,n,r,o,s;return n=new Sc({props:{icon:"play",title:t[0].controls.buttons.play_instruction.title}}),n.$on("click",t[8]),o=new Sc({props:{icon:"skip",title:t[0].controls.buttons.skip_instruction.title,disabled:!0}}),o.$on("click",tl),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),P(e,"class","flex items-center justify-center gap-1")},m(t,i){L(t,e,i),It(n,e,null),C(e,r),It(o,e,null),s=!0},p(t,e){const r={};1&e&&(r.title=t[0].controls.buttons.play_instruction.title),n.$set(r);const s={};1&e&&(s.title=t[0].controls.buttons.skip_instruction.title),o.$set(s)},i(t){s||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),s=!1},d(t){t&&E(e),Lt(n),Lt(o)}}}function zc(t){let e,n,r;function o(e){t[9](e)}let s={min:.1,max:3,title:t[0].controls.sliders.speed.title};return void 0!==t[2]&&(s.value=t[2]),e=new Fc({props:s}),nt.push((()=>Ct(e,"value",o))),{c(){Rt(e.$$.fragment)},m(t,n){It(e,t,n),r=!0},p(t,r){const o={};1&r&&(o.title=t[0].controls.sliders.speed.title),!n&&4&r&&(n=!0,o.value=t[2],lt((()=>n=!1))),e.$set(o)},i(t){r||(bt(e.$$.fragment,t),r=!0)},o(t){xt(e.$$.fragment,t),r=!1},d(t){Lt(e,t)}}}function Xc(t){let e,n,r,o,s,i,c,l;return e=new Hc({props:{label:t[0].controls.labels.execution,$$slots:{default:[Bc]},$$scope:{ctx:t}}}),r=new Hc({props:{label:t[0].controls.labels.step,$$slots:{default:[jc]},$$scope:{ctx:t}}}),s=new Hc({props:{label:t[0].controls.labels.instruction,$$slots:{default:[Zc]},$$scope:{ctx:t}}}),c=new Hc({props:{label:t[0].controls.labels.speed,$$slots:{default:[zc]},$$scope:{ctx:t}}}),{c(){Rt(e.$$.fragment),n=O(),Rt(r.$$.fragment),o=O(),Rt(s.$$.fragment),i=O(),Rt(c.$$.fragment)},m(t,a){It(e,t,a),L(t,n,a),It(r,t,a),L(t,o,a),It(s,t,a),L(t,i,a),It(c,t,a),l=!0},p(t,n){const o={};1&n&&(o.label=t[0].controls.labels.execution),4099&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1&n&&(i.label=t[0].controls.labels.step),4097&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1&n&&(l.label=t[0].controls.labels.instruction),4097&n&&(l.$$scope={dirty:n,ctx:t}),s.$set(l);const a={};1&n&&(a.label=t[0].controls.labels.speed),4101&n&&(a.$$scope={dirty:n,ctx:t}),c.$set(a)},i(t){l||(bt(e.$$.fragment,t),bt(r.$$.fragment,t),bt(s.$$.fragment,t),bt(c.$$.fragment,t),l=!0)},o(t){xt(e.$$.fragment,t),xt(r.$$.fragment,t),xt(s.$$.fragment,t),xt(c.$$.fragment,t),l=!1},d(t){Lt(e,t),t&&E(n),Lt(r,t),t&&E(o),Lt(s,t),t&&E(i),Lt(c,t)}}}function Vc(t){let e,n=t[0].controls.checkboxes.binary.text+"";return{c(){e=T(n)},m(t,n){L(t,e,n)},p(t,r){1&r&&n!==(n=t[0].controls.checkboxes.binary.text+"")&&F(e,n)},d(t){t&&E(e)}}}function Gc(t){let e,n=t[0].controls.checkboxes.animations.text+"";return{c(){e=T(n)},m(t,n){L(t,e,n)},p(t,r){1&r&&n!==(n=t[0].controls.checkboxes.animations.text+"")&&F(e,n)},d(t){t&&E(e)}}}function Jc(t){let e,n,r,o,s,i;function c(e){t[10](e)}let l={$$slots:{default:[Vc]},$$scope:{ctx:t}};function a(e){t[11](e)}void 0!==t[3]&&(l.checked=t[3]),e=new Nc({props:l}),nt.push((()=>Ct(e,"checked",c)));let u={$$slots:{default:[Gc]},$$scope:{ctx:t}};return void 0!==t[4]&&(u.checked=t[4]),o=new Nc({props:u}),nt.push((()=>Ct(o,"checked",a))),{c(){Rt(e.$$.fragment),r=O(),Rt(o.$$.fragment)},m(t,n){It(e,t,n),L(t,r,n),It(o,t,n),i=!0},p(t,r){const i={};4097&r&&(i.$$scope={dirty:r,ctx:t}),!n&&8&r&&(n=!0,i.checked=t[3],lt((()=>n=!1))),e.$set(i);const c={};4097&r&&(c.$$scope={dirty:r,ctx:t}),!s&&16&r&&(s=!0,c.checked=t[4],lt((()=>s=!1))),o.$set(c)},i(t){i||(bt(e.$$.fragment,t),bt(o.$$.fragment,t),i=!0)},o(t){xt(e.$$.fragment,t),xt(o.$$.fragment,t),i=!1},d(t){Lt(e,t),t&&E(r),Lt(o,t)}}}function qc(t){let e,n,r,o,s;return n=new Ec({props:{class:"gap-5",$$slots:{default:[Xc]},$$scope:{ctx:t}}}),o=new Ec({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[Jc]},$$scope:{ctx:t}}}),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),P(e,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(t,i){L(t,e,i),It(n,e,null),C(e,r),It(o,e,null),s=!0},p(t,[e]){const r={};4103&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const s={};4121&e&&(s.$$scope={dirty:e,ctx:t}),o.$set(s)},i(t){s||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),s=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),s=!1},d(t){t&&E(e),Lt(n),Lt(o)}}}function Kc(){}function Yc(){}function tl(){}function el(t,e,n){let r,o,s,i,c;return u(t,ur,(t=>n(0,r=t))),u(t,fs,(t=>n(1,o=t))),u(t,ke,(t=>n(2,s=t))),u(t,ye,(t=>n(3,i=t))),u(t,_e,(t=>n(4,c=t))),[r,o,s,i,c,function(){xs.reset()},function(){xs.toggle()},function(){xs.step()},function(){xs.instruction()},function(t){s=t,ke.set(s)},function(t){i=t,ye.set(i)},function(t){c=t,_e.set(c)}]}class nl extends Qt{constructor(t){super(),Ut(this,t,el,qc,c,{})}}var rl=function(t){function e(e){return t.call(this,e)||this}return Gt(e,t),e}(Pe);function ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return e.forEach((function(t,e){r=r.replace("{".concat(e,"}"),t.toString())})),r}var sl=/;.*/g,il=new RegExp(":"+hr.source),cl=new RegExp("^(".concat(gr.source.replace(/\^|\$/g,""),"|").concat(pr.source.replace(/\^|\$/g,""),")( ").concat(il.source,")?$"));function ll(t){var e=t.split(/\r\n|\r|\n/g),n=[],r=[],o=0;e.forEach((function(t,e){var s=e+1,i=t.replace(sl,"").replace(/\s+/g," ").trim();if(""!==i){if(!cl.test(i)){var c=i.length>30?"".concat(i.slice(0,30),"..."):i;throw new rl(ol(a(ur).errors.program_parsing.invalid_syntax,s,c))}var l=i.split(":").map((function(t){return t.trim()})),u=l[0],f=l[1];n.push({text:u,lineNumber:s,address:o}),r[o]=f,o+=2}})),o=0;var s=[];n.forEach((function(t){try{var e=wr(t.text,!1,r);s.push(e)}catch(e){throw new rl(ol(a(ur).errors.program_parsing.parsing_error,t.lineNumber,e.message))}})),Qr.load(r),Cr.clear(),s.forEach((function(t,e){Cr.write(function(t){var e=2*t;if(!qe(e))throw new Error("Invalid index: "+t);return e}(e),t)}))}function al(e){let n,r,o,i,c,l,a;return{c(){n=Q("button"),r=S("svg"),o=S("path"),P(o,"d",i=e[3][e[2]]),P(r,"xmlns","http://www.w3.org/2000/svg"),P(r,"viewBox","0 0 48 48"),P(r,"class","fill-neutral-800 w-8 h-8 drop-shadow-component hover:scale-105"),P(n,"class",c="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],P(n,"title",e[1])},m(t,s){L(t,n,s),C(n,r),C(r,o),l||(a=[D(n,"click",e[5]),D(n,"focus",e[6]),D(n,"focusout",e[7]),D(n,"mouseenter",e[8]),D(n,"mouseleave",e[9]),D(n,"mouseover",e[10])],l=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&P(o,"d",i),16&e&&c!==(c="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&P(n,"class",c),1&e&&(n.disabled=t[0]),2&e&&P(n,"title",t[1])},i:t,o:t,d(t){t&&E(n),l=!1,s(a)}}}function ul(t,e,r){const o=["disabled","title","icon"];let s=g(e,o),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,s=g(e,o)),"disabled"in t&&r(0,i=t.disabled),"title"in t&&r(1,c=t.title),"icon"in t&&r(2,l=t.icon)},[i,c,l,{"":"",settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",help:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z"},s,function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)},function(e){tt.call(this,t,e)}]}class fl extends Qt{constructor(t){super(),Ut(this,t,ul,al,c,{disabled:0,title:1,icon:2})}}function dl(t){let e,n,r,o,s,i,c,l,a,u,f;return n=new fl({props:{icon:"settings",title:t[0].menu.buttons.settings.title}}),o=new fl({props:{icon:"save",title:t[0].menu.buttons.save.title}}),o.$on("click",t[2]),i=new fl({props:{icon:"open",title:t[0].menu.buttons.open.title}}),i.$on("click",t[1]),l=new fl({props:{icon:"language",title:t[0].menu.buttons.language.title}}),u=new fl({props:{icon:"help",title:t[0].menu.buttons.help.title}}),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),s=O(),Rt(i.$$.fragment),c=O(),Rt(l.$$.fragment),a=O(),Rt(u.$$.fragment),P(e,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-1 z-[4]")},m(t,d){L(t,e,d),It(n,e,null),C(e,r),It(o,e,null),C(e,s),It(i,e,null),C(e,c),It(l,e,null),C(e,a),It(u,e,null),f=!0},p(t,[e]){const r={};1&e&&(r.title=t[0].menu.buttons.settings.title),n.$set(r);const s={};1&e&&(s.title=t[0].menu.buttons.save.title),o.$set(s);const c={};1&e&&(c.title=t[0].menu.buttons.open.title),i.$set(c);const a={};1&e&&(a.title=t[0].menu.buttons.language.title),l.$set(a);const f={};1&e&&(f.title=t[0].menu.buttons.help.title),u.$set(f)},i(t){f||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),bt(i.$$.fragment,t),bt(l.$$.fragment,t),bt(u.$$.fragment,t),f=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(i.$$.fragment,t),xt(l.$$.fragment,t),xt(u.$$.fragment,t),f=!1},d(t){t&&E(e),Lt(n),Lt(o),Lt(i),Lt(l),Lt(u)}}}function pl(t,e,n){let r,o;u(t,Mt,(t=>n(3,r=t))),u(t,ur,(t=>n(0,o=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,s){function i(t){try{l(r.next(t))}catch(t){s(t)}}function c(t){try{l(r.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};return[o,function(){return s(this,void 0,void 0,(function*(){try{const t=(yield mc(".cpuvs"))[0];ll(yield t.text())}catch(t){Bn.error(t,"USER_INPUT",t.isChecked),r.error(t.message)}Bn.info("Program loaded from file","USER_INPUT")}))},function(){try{let t=prompt("File name");if(!t)throw new Pe(a(ur).errors.user_input.invalid_file_name);hc(function(){for(var t="",e="",n="",r=0;r<=Ge;r+=2)e=Cr.read(r).symbolic(),t+="\t".concat(e),n=" ".repeat(20-e.length),Qr.getLabel(r)&&(t+="".concat(n,":").concat(Qr.getLabel(r))),t+="\n";return t.replace(/(\tNOP\n)*$/g,"").replace(/\n$/g,"")}(),`${t}.cpuvs`)}catch(t){Bn.error(t,"USER_INPUT",t.isChecked),r.error(t.message)}Bn.info("Program saved to file","USER_INPUT")}]}class $l extends Qt{constructor(t){super(),Ut(this,t,pl,dl,c,{})}}const{window:hl}=_t;function ml(t){let e,n,r,o,i,c,l,a,u,f,d,p,$,h,m;n=new vo({});o=new nl({props:{}}),t[8](o);c=new $l({props:{}}),t[9](c);a=new tc({props:{}}),t[11](a);f=new Rc({props:{}}),t[12](f);return p=new $c({props:{}}),t[13](p),{c(){e=Q("div"),Rt(n.$$.fragment),r=O(),Rt(o.$$.fragment),i=O(),Rt(c.$$.fragment),l=O(),Rt(a.$$.fragment),u=O(),Rt(f.$$.fragment),d=O(),Rt(p.$$.fragment),P(e,"class","relative w-app h-app origin-top-left")},m(s,g){L(s,e,g),It(n,e,null),C(e,r),It(o,e,null),C(e,i),It(c,e,null),t[10](e),L(s,l,g),It(a,s,g),L(s,u,g),It(f,s,g),L(s,d,g),It(p,s,g),$=!0,h||(m=[D(hl,"resize",t[6]),D(hl,"error",t[7])],h=!0)},p(t,[e]){o.$set({});c.$set({});a.$set({});f.$set({});p.$set({})},i(t){$||(bt(n.$$.fragment,t),bt(o.$$.fragment,t),bt(c.$$.fragment,t),bt(a.$$.fragment,t),bt(f.$$.fragment,t),bt(p.$$.fragment,t),$=!0)},o(t){xt(n.$$.fragment,t),xt(o.$$.fragment,t),xt(c.$$.fragment,t),xt(a.$$.fragment,t),xt(f.$$.fragment,t),xt(p.$$.fragment,t),$=!1},d(r){r&&E(e),Lt(n),t[8](null),Lt(o),t[9](null),Lt(c),t[10](null),r&&E(l),t[11](null),Lt(a,r),r&&E(u),t[12](null),Lt(f,r),r&&E(d),t[13](null),Lt(p,r),h=!1,s(m)}}}function gl(t,e,n){let r,o,s,i,c,l;function a(){let t=window.innerWidth/1400,e=window.innerHeight/800,r=t<e?t:e;n(0,l.style.transform=`scale(${r})`,l)}return u(t,Pt,(t=>n(1,r=t))),u(t,Ht,(t=>n(2,o=t))),u(t,Ft,(t=>n(3,s=t))),u(t,Wt,(t=>n(4,i=t))),u(t,Mt,(t=>n(5,c=t))),K(a),[l,r,o,s,i,c,a,function(t){t.preventDefault(),Bn.error(t.error,"UNCAUGHT")},function(t){nt[t?"unshift":"push"]((()=>{r=t,Pt.set(r)}))},function(t){nt[t?"unshift":"push"]((()=>{o=t,Ht.set(o)}))},function(t){nt[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){nt[t?"unshift":"push"]((()=>{s=t,Ft.set(s)}))},function(t){nt[t?"unshift":"push"]((()=>{i=t,Wt.set(i)}))},function(t){nt[t?"unshift":"push"]((()=>{c=t,Mt.set(c)}))}]}return new class extends Qt{constructor(t){super(),Ut(this,t,gl,ml,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
