var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(r)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(t){let e;return l(t,(t=>e=t))(),e}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function f(t,e,n,r){if(t){const s=d(t,e,n,r);return t[0](s)}}function d(t,e,r,s){return t[1]&&s?n(r.ctx.slice(),t[1](s(e))):r.ctx}function p(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|s[r];return t}return e.dirty|s}return e.dirty}function $(t,e,n,r,s,o){if(s){const i=d(e,n,r,o);t.p(i,s)}}function h(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function m(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function g(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}function w(t){return null==t?"":t}function b(t,e,n){return t.set(n),e}function v(e){return e&&i(e.destroy)?e.destroy:t}const x="undefined"!=typeof window;let y=x?()=>window.performance.now():()=>Date.now(),_=x?t=>requestAnimationFrame(t):t;const k=new Set;function A(t){k.forEach((e=>{e.c(t)||(k.delete(e),e.f())})),0!==k.size&&_(A)}function C(t){let e;return 0===k.size&&_(A),{promise:new Promise((n=>{k.add(e={c:t,f:n})})),abort(){k.delete(e)}}}function S(t,e){t.appendChild(e)}function E(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function I(t){const e=U("style");return function(t,e){S(t.head||t,e)}(E(t),e),e.sheet}function R(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode.removeChild(t)}function L(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function U(t){return document.createElement(t)}function Q(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function N(t){return document.createTextNode(t)}function O(){return N(" ")}function D(){return N("")}function P(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function F(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t){return""===t?null:+t}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function W(t,e){t.value=null==e?"":e}function H(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function j(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}t.selectedIndex=-1}function z(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function V(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,r,e),s}const Z=new Map;let X,G=0;function J(t,e,n,r,s,o,i,c=0){const l=16.666/r;let a="{\n";for(let t=0;t<=1;t+=l){const r=e+(n-e)*o(t);a+=100*t+`%{${i(r,1-r)}}\n`}const u=a+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,d=E(t),{stylesheet:p,rules:$}=Z.get(d)||function(t,e){const n={stylesheet:I(e),rules:{}};return Z.set(t,n),n}(d,t);$[f]||($[f]=!0,p.insertRule(`@keyframes ${f} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${s}ms 1 both`,G+=1,f}function q(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-r.length;s&&(t.style.animation=r.join(", "),G-=s,G||_((()=>{G||(Z.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),Z.clear())})))}function K(t){X=t}function Y(){if(!X)throw new Error("Function called outside component initialization");return X}function tt(t){Y().$$.on_mount.push(t)}function et(){const t=Y();return(e,n,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=V(e,n,{cancelable:r});return s.slice().forEach((e=>{e.call(t,o)})),!o.defaultPrevented}return!0}}function nt(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const rt=[],st=[],ot=[],it=[],ct=Promise.resolve();let lt=!1;function at(t){ot.push(t)}function ut(t){it.push(t)}const ft=new Set;let dt,pt=0;function $t(){const t=X;do{for(;pt<rt.length;){const t=rt[pt];pt++,K(t),ht(t.$$)}for(K(null),rt.length=0,pt=0;st.length;)st.pop()();for(let t=0;t<ot.length;t+=1){const e=ot[t];ft.has(e)||(ft.add(e),e())}ot.length=0}while(rt.length);for(;it.length;)it.pop()();lt=!1,ft.clear(),K(t)}function ht(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(at)}}function mt(){return dt||(dt=Promise.resolve(),dt.then((()=>{dt=null}))),dt}function gt(t,e,n){t.dispatchEvent(V(`${e?"intro":"outro"}${n}`))}const wt=new Set;let bt;function vt(){bt={r:0,c:[],p:bt}}function xt(){bt.r||o(bt.c),bt=bt.p}function yt(t,e){t&&t.i&&(wt.delete(t),t.i(e))}function _t(t,e,n,r){if(t&&t.o){if(wt.has(t))return;wt.add(t),bt.c.push((()=>{wt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}const kt={duration:0};function At(n,r,s,c){let l=r(n,s),a=c?0:1,u=null,f=null,d=null;function p(){d&&q(n,d)}function $(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(r){const{delay:s=0,duration:i=300,easing:c=e,tick:h=t,css:m}=l||kt,g={start:y()+s,b:r};r||(g.group=bt,bt.r+=1),u||f?f=g:(m&&(p(),d=J(n,a,r,i,s,c,m)),r&&h(0,1),u=$(g,i),at((()=>gt(n,r,"start"))),C((t=>{if(f&&t>f.start&&(u=$(f,i),f=null,gt(n,u.b,"start"),m&&(p(),d=J(n,a,u.b,u.duration,0,c,l.css))),u)if(t>=u.end)h(a=u.b,1-a),gt(n,u.b,"end"),f||(u.b?p():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*c(e/u.duration),h(a,1-a)}return!(!u&&!f)})))}return{run(t){i(l)?mt().then((()=>{l=l(),h(t)})):h(t)},end(){p(),u=f=null}}}const Ct="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function St(t,e){_t(t,1,1,(()=>{e.delete(t.key)}))}function Et(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function It(t){t&&t.c()}function Rt(t,e,n,s){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,n),s||at((()=>{const e=l.map(r).filter(i);a?a.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(at)}function Tt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){-1===t.$$.dirty[0]&&(rt.push(t),lt||(lt=!0,ct.then($t)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ut(e,n,r,i,c,l,a,u=[-1]){const f=X;K(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let p=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...r)=>{const s=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),p&&Lt(e,t)),n})):[],d.update(),p=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(T)}else d.fragment&&d.fragment.c();n.intro&&yt(e.$$.fragment),Rt(e,n.target,n.anchor,n.customElement),$t()}K(f)}class Qt{$destroy(){Tt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Nt=[];function Ot(e,n=t){let r;const s=new Set;function o(t){if(c(e,t)&&(e=t,r)){const t=!Nt.length;for(const t of s)t[1](),Nt.push(t,e);if(t){for(let t=0;t<Nt.length;t+=2)Nt[t][0](Nt[t+1]);Nt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,c=t){const l=[i,c];return s.add(l),1===s.size&&(r=n(o)||t),i(e),()=>{s.delete(l),0===s.size&&(r(),r=null)}}}}var Dt=Ot(),Pt=Ot(),Ft=Ot(),Mt=Ot(),Bt=Ot(),Wt=Ot(),Ht=Ot(),jt=Ot(),zt=Ot(),Vt=Ot(),Zt=Ot(!1),Xt=Ot(!1),Gt=Ot(!1),Jt=Ot(!1),qt=function(t,e){return qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},qt(t,e)};function Kt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Yt=function(){return Yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},Yt.apply(this,arguments)};function te(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))}function ee(t,e){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(s=i.trys,(s=s.length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=e.call(t,i)}catch(t){o=[6,t],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}function ne(t,e,n){if(n||2===arguments.length)for(var r,s=0,o=e.length;s<o;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}var re=function(){function t(t,e,n,r){void 0===r&&(r=null),this.x=e,this.y=n,this.name=t,this.neighbours=[],this.intersectionType=r}return t.prototype.isAlignedTo=function(t){return this.x===t.x||this.y===t.y},t.prototype.isConnectedTo=function(t){return this.neighbours.some((function(e){return e===t}))},t.prototype.connectTo=function(t,e){if(!this.isAlignedTo(t))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+t.name+")");if(this.isConnectedTo(t))throw new Error("This node is already connected to "+t.name);this.neighbours.push(t),t.neighbours.push(this)},t.distance=function(t,e){return Math.hypot(t.x-e.x,t.y-e.y)},t.direction=function(t,e){return t.x>e.x?{x:-1,y:0}:t.x<e.x?{x:1,y:0}:t.y>e.y?{x:0,y:-1}:{x:0,y:1}},t}(),se={name:"DATA_INT",color:"cyan",animationColor:"darkgreen"},oe={name:"DATA_EXT",color:"blue",animationColor:"lime"},ie={name:"CONTROL_INT",color:"#ff7a90",animationColor:"lime"},ce={name:"CONTROL_EXT",color:"red",animationColor:"lime"},le={name:"ADDRESS_INT",color:"yellow",animationColor:"darkgreen"},ae={name:"ADDRESS_EXT",color:"darkorange",animationColor:"lime"},ue={name:"INVISIBLE",color:"transparent",animationColor:"transparent"},fe=[new re("RAM:DATA",1250,115),new re("DATA:1",1250,85,oe),new re("DATA:2",749,85),new re("DATA:3",527,85),new re("DATA:4",262,85),new re("DATA:5",95,85,se),new re("DATA:6",95,390),new re("DATA:7",95,617,se),new re("DATA:8",320,390,se),new re("DATA:9",312,250,se),new re("DATA:10",477,250),new re("DATA:11",652,490,se),new re("IR:1",262,151),new re("IR:2",312,180),new re("IR:3",212,180),new re("MUX:1",477,292),new re("MUX:2",527,292),new re("MUX:3",502,332),new re("ACC:1",327,617),new re("ACC:2",412,601),new re("ALU:1",320,432),new re("ALU:2",502,432),new re("ALU:3",526,490),new re("ALU:4",412,538),new re("SW:1",652,601)],de=[new re("RAM:ADD",1061,250),new re("ADD:1",749,250),new re("ADD:2",670,250),new re("ADD:3",590,250),new re("ADD:4",590,137,le),new re("ADD:5",532,250),new re("ADD:6",522,250),new re("INC:1",670,210),new re("INC:2",670,182),new re("PC:1",670,150),new re("PC:2",622,137)],pe=[new re("RAM:CTRL",1061,370),new re("CTRL:1",749,370),new re("CTRL:2",507,370),new re("CTRL:3",497,370),new re("CTRL:4",240,370,ie),new re("CTRL:5",185,385),new re("CTRL:6",185,395),new re("CTRL:7",185,490,ie),new re("CU:1",212,281),new re("CU:2",270,313),new re("CU:3",240,340),new re("CU:4",185,340),new re("MUX:4",464,313),new re("ALU:5",297,490)],$e=ne(ne(ne([],fe,!0),de,!0),pe,!0);function he(t){return $e.find((function(e){return e.name===t}))}var me=function(){function t(t,e,n){this.a=t,this.b=e,this.type=n,this.a.connectTo(e,this)}return t.prototype.isConnecting=function(t,e){return this.a===t&&this.b===e||this.a===e&&this.b===t},t.WIDTH=5,t}(),ge=[new me(he("RAM:DATA"),he("DATA:1"),oe),new me(he("DATA:1"),he("DATA:2"),oe),new me(he("DATA:2"),he("DATA:3"),se),new me(he("DATA:3"),he("DATA:4"),se),new me(he("DATA:4"),he("DATA:5"),se),new me(he("DATA:5"),he("DATA:6"),se),new me(he("DATA:6"),he("DATA:7"),se),new me(he("DATA:6"),he("DATA:8"),se),new me(he("DATA:8"),he("ALU:1"),se),new me(he("DATA:7"),he("ACC:1"),se),new me(he("MUX:3"),he("ALU:2"),se),new me(he("ALU:4"),he("ACC:2"),se),new me(he("ALU:3"),he("DATA:11"),se),new me(he("DATA:11"),he("SW:1"),se),new me(he("DATA:4"),he("IR:1"),se),new me(he("IR:3"),he("CU:1"),se),new me(he("IR:2"),he("DATA:9"),se),new me(he("DATA:9"),he("DATA:10"),se),new me(he("DATA:10"),he("MUX:1"),se),new me(he("DATA:3"),he("MUX:2"),se)],we=[new me(he("RAM:ADD"),he("ADD:1"),ae),new me(he("ADD:1"),he("ADD:2"),le),new me(he("ADD:2"),he("INC:1"),le),new me(he("INC:2"),he("PC:1"),le),new me(he("PC:2"),he("ADD:4"),le),new me(he("ADD:2"),he("ADD:3"),le),new me(he("ADD:3"),he("ADD:4"),le),new me(he("ADD:3"),he("ADD:5"),le),new me(he("ADD:5"),he("ADD:6"),ue),new me(he("ADD:6"),he("DATA:10"),le)],be=[new me(he("CU:2"),he("MUX:4"),ie),new me(he("RAM:CTRL"),he("CTRL:1"),ce),new me(he("CTRL:1"),he("CTRL:2"),ie),new me(he("CTRL:2"),he("CTRL:3"),ue),new me(he("CTRL:3"),he("CTRL:4"),ie),new me(he("CTRL:4"),he("CU:3"),ie),new me(he("CU:4"),he("CTRL:5"),ie),new me(he("CTRL:5"),he("CTRL:6"),ue),new me(he("CTRL:6"),he("CTRL:7"),ie),new me(he("CTRL:7"),he("ALU:5"),ie)],ve=ne(ne(ne([],ge,!0),we,!0),be,!0);function xe(t){return ve.find((function(e){return e.a.name+"-"+e.b.name===t||e.b.name+"-"+e.a.name===t}))}function ye(t,e){localStorage.setItem(t,e.toString())}function _e(t){return null!==localStorage.getItem(t)}function ke(t){return"true"===localStorage.getItem(t)}function Ae(t){return+localStorage.getItem(t)}function Ce(t){return localStorage.getItem(t)}var Se,Ee,Ie,Re=["en","it"],Te=Ot(!!_e("showSettings")&&ke("showSettings")),Le=Ot(!!_e("displayAsBinary")&&ke("displayAsBinary")),Ue=Ot(!_e("displayLabels")||ke("displayLabels")),Qe=Ot(!_e("playAnimations")||ke("playAnimations")),Ne=Ot(_e("animationSpeed")?Ae("animationSpeed"):1.6),Oe=Ot(_e("language")?(Se="language",localStorage.getItem(Se)):function(){var t=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return t=t.split("-")[0],Re.includes(t)?t:"en"}()),De=Ot(!!_e("textToSpeechEnabled")&&ke("textToSpeechEnabled")),Pe=Ot(_e("textToSpeechSpeed")?Ae("textToSpeechSpeed"):1),Fe=Ot(_e("textToSpeechVoice")?Ce("textToSpeechVoice"):""),Me=Ot();function Be(t){return window.speechSynthesis.getVoices().filter((function(e){return e.lang.startsWith(t)}))}Oe.subscribe((function(t){return Me.set(Be(t))})),Me.subscribe((function(t){var e;_e("textToSpeechVoice")&&(null==t?void 0:t.find((function(t){return t.name===Ce("textToSpeechVoice")})))?Fe.set(Ce("textToSpeechVoice")):Fe.set((null===(e=t[0])||void 0===e?void 0:e.name)||"")})),window.addEventListener("load",(function(){Me.set(Be(a(Oe))),Te.subscribe((function(t){return ye("showSettings",t)})),Le.subscribe((function(t){return ye("displayAsBinary",t)})),Ue.subscribe((function(t){return ye("displayLabels",t)})),Qe.subscribe((function(t){return ye("playAnimations",t)})),Ne.subscribe((function(t){return ye("animationSpeed",t)})),Oe.subscribe((function(t){return ye("language",t)})),De.subscribe((function(t){return ye("textToSpeechEnabled",t)})),Pe.subscribe((function(t){return ye("textToSpeechSpeed",t)})),Fe.subscribe((function(t){return ye("textToSpeechVoice",t)}))}));var We=function(){function t(t,e){this.pos={x:0,y:0},this.path=ne([],t,!0),this.wires=ne([],e,!0),this.reset()}return t.prototype.play=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return[2,new Promise(this._play.bind(this))]}))}))},t.prototype._play=function(t,e){this.resolve=t,requestAnimationFrame(this.startAnimation.bind(this))},t.prototype.startAnimation=function(t){this.previousTimestamp=t,this.animate(t)},t.prototype.animate=function(t){this.deltatime=(t-this.previousTimestamp)/1e3;var e=Math.floor(400*this.deltatime*a(Ne));if(this.draw(e),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return je(0),this.reset(),void this.resolve();this.previousTimestamp=t,requestAnimationFrame(this.animate.bind(this))},t.prototype.draw=function(t){for(Ie.beginPath(),Ie.moveTo(this.pos.x,this.pos.y);t>0;){for(this.nextNode=ze(this.pos,this.path[this.nextNodeIndex],t),Ie.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor;(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&t>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,Ie.lineTo(this.incrementedX,this.incrementedY),Ie.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,t--;He(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(t=0))}Ie.closePath()},t.prototype.reset=function(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1},t}();function He(t){Ie.save(),Ie.globalAlpha=t,Ie.globalCompositeOperation="destination-out",Ie.fillStyle="#FFF",Ie.fillRect(0,0,Ee.width,Ee.height),Ie.restore()}function je(t){He(.1),40!==++t?requestAnimationFrame((function(){return je(t)})):Ie.clearRect(0,0,Ee.width,Ee.height)}function ze(t,e,n){var r=re.direction(t,e),s=re.distance(t,e),o=e;return s>n&&(s=n,o=function(t,e,n){return{x:t.x+e*n.x,y:t.y+e*n.y}}(t,n,r)),{distance:s,direction:r,node:o}}function Ve(e){let n,r,s;return{c(){n=U("canvas"),r=O(),s=U("canvas"),F(n,"class","absolute z-[2] top-0 left-0 w-app h-app"),F(s,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(t,o){R(t,n,o),e[4](n),R(t,r,o),R(t,s,o),e[5](s)},p:t,i:t,o:t,d(t){t&&T(n),e[4](null),t&&T(r),t&&T(s),e[5](null)}}}function Ze(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};const s=new Map;let o,i;function c(){const t=o.getContext("2d");t.lineWidth=me.WIDTH,t.clearRect(0,0,i.width,i.height);for(const e of ve)t.strokeStyle=e.type.color,t.beginPath(),t.moveTo(e.a.x,e.a.y),t.lineTo(e.b.x,e.b.y),t.stroke();for(const e of $e.filter((t=>null!==t.intersectionType))){const n=me.WIDTH/2-.5;t.beginPath(),t.fillStyle=e.intersectionType.color,t.arc(e.x,e.y,n,0,2*Math.PI),t.fill()}}return tt((()=>r(void 0,void 0,void 0,(function*(){n(0,o.width=n(1,i.width=1400,i),o),n(0,o.height=n(1,i.height=800,i),o),c(),(Ie=(Ee=i).getContext("2d")).lineCap="round",Ie.lineWidth=me.WIDTH})))),[o,i,function(t,e){return r(this,void 0,void 0,(function*(){const n=he(t),r=he(e);if(!n)throw new Error("Node "+t+" is undefined");if(!r)throw new Error("Node "+e+" is undefined");let o;if(o=s.get(t+e))o.reset();else{const i=function(t,e){for(var n=[t],r=new Set,s={},o=0;o<n.length;)for(var i=n[o++],c=0,l=i.neighbours;c<l.length;c++){var a=l[c];if(!r.has(a)){if(r.add(a),a===e){for(var u=[a];i!==t;)u.push(i),i=s[i.name];return u.push(i),u.reverse(),u}s[a.name]=i,n.push(a)}}throw new Error("No path connecting "+t.name+" to "+e.name)}(n,r),c=function(t){for(var e=[],n=0;n<t.length-1;n++)e.push(xe("".concat(t[n].name,"-").concat(t[n+1].name)));return e}(i);o=new We(i,c),s.set(t+e,o)}yield o.play()}))},c,function(t){st[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){st[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class Xe extends Qt{constructor(t){super(),Ut(this,t,Ze,Ve,c,{flashWire:2,drawStaticWires:3})}get flashWire(){return this.$$.ctx[2]}get drawStaticWires(){return this.$$.ctx[3]}}function Ge(e){let n,r,s,o=(e[6]?e[0]:"")+"";return{c(){n=U("div"),r=N(o),F(n,"class",s="absolute w-fit font-bold cursor-default "+e[7][e[5]]+" leading-tight"),H(n,"top",e[1]),H(n,"left",e[2]),H(n,"bottom",e[4]),H(n,"right",e[3]),H(n,"font-size",e[7][e[5]])},m(t,e){R(t,n,e),S(n,r)},p(t,[e]){65&e&&o!==(o=(t[6]?t[0]:"")+"")&&B(r,o),32&e&&s!==(s="absolute w-fit font-bold cursor-default "+t[7][t[5]]+" leading-tight")&&F(n,"class",s),2&e&&H(n,"top",t[1]),4&e&&H(n,"left",t[2]),16&e&&H(n,"bottom",t[4]),8&e&&H(n,"right",t[3]),32&e&&H(n,"font-size",t[7][t[5]])},i:t,o:t,d(t){t&&T(n)}}}function Je(t,e,n){let r;u(t,Ue,(t=>n(6,r=t)));let{text:s=""}=e,{top:o="auto"}=e,{left:i="auto"}=e,{right:c="auto"}=e,{bottom:l="auto"}=e,{fontSize:a="MEDIUM"}=e;return t.$$set=t=>{"text"in t&&n(0,s=t.text),"top"in t&&n(1,o=t.top),"left"in t&&n(2,i=t.left),"right"in t&&n(3,c=t.right),"bottom"in t&&n(4,l=t.bottom),"fontSize"in t&&n(5,a=t.fontSize)},[s,o,i,c,l,a,r,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class qe extends Qt{constructor(t){super(),Ut(this,t,Je,Ge,c,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}var Ke=function(t){function e(e){var n=t.call(this,e)||this;return n.isChecked=!0,n}return Kt(e,t),e}(Error),Ye=function(t){function e(e,n){var r=t.call(this,e)||this;return r.inputString=n,r}return Kt(e,t),e}(Ke),tn=Ot({displayName:"",steps:{pc_to_ram:{tts:"",text:""},ram_to_ir:{tts:"",text:""},ir_to_cu:{tts:"",text:""},cu_to_mux:{tts:"",text:""},cu_to_alu:{tts:"",text:""},acc_to_alu1:{tts:"",text:""},pc_increment:{tts:"",text:""},ir_to_alu2:{tts:"",text:""},ir_to_ram:{tts:"",text:""},memory_read:{tts:"",text:""},memory_fetch:{tts:"",text:""},memory_write:{tts:"",text:""},ram_to_alu2:{tts:"",text:""},ir_to_pc:{tts:"",text:""},execute:{tts:"",text:""},alu_to_sw:{tts:"",text:""},acc_to_ram:{tts:"",text:""},acc_stored_to_ram:{tts:"",text:""}},menu:{buttons:{settings:{title:""},save:{title:""},open:{title:""},help:{title:""}}},controls:{labels:{execution:"",step:"",instruction:"",speed:""},buttons:{reset:{title:""},play:{title:""},pause:{title:""},end:{title:""},play_step:{title:""},skip_step:{title:""},play_instruction:{title:""},skip_instruction:{title:""}},sliders:{speed:{title:""}},checkboxes:{binary:{text:""},animations:{text:""}}},message_feed:{buttons:{export_logs:{text:""},close_message:{title:""}}},settings:{title:"",language:{title:"",description:""},dispaly_labels:{title:"",description:""},tts_enabled:{title:"",description:""},tts_speed:{title:"",description:""},tts_voice:{title:"",description:""}},errors:{program_parsing:{invalid_syntax:"",parsing_error:""},instruction_parsing:{invalid_binary_input:"",invalid_symbolic_input:"",invalid_opcode:"",operand_not_allowed:"",operand_required:"",unknown_label:"",immediate_operand_not_allowed:"",invalid_immediate_operand:"",invalid_direct_operand:"",invalid_data:""},symbol_table:{label_already_exists:""},user_input:{invalid_file_name:""}}});function en(t){fetch("resources/lang/".concat(t,".json")).then((function(t){return t.json()})).then((function(t){return tn.set(t)}))}function nn(t,e){if(Math.abs(t)>e)throw new Error("Position ".concat(t," out of range +/-").concat(e));if(0===t)throw new Error("Positions start from 1");return t<0?this.value.length+t:t-1}en(a(Oe)),Oe.subscribe(en);function rn(t){if(t<1||t>32)throw new Error("Binary numbers must be between ".concat(1," and ").concat(32," bits"))}function sn(t,e){return t<=function(t){return rn(t),Math.pow(2,t)}(e)&&t>=cn(e)}function on(t,e){return t<=function(t){return rn(t),Math.pow(2,t-1)-1}(e)&&t>=cn(e)}function cn(t){return rn(t),-Math.pow(2,t-1)}function ln(t,e){return rn(e),an((t>>>0).toString(2),e)}function an(t,e){return("00000000000000000000000000000000"+t).slice(-e)}var un=function(t){function e(e,n){return t.call(this,"Value ".concat(e," out of ").concat(n,"-bit valid range"))||this}return Kt(e,t),e}(Ke),fn=function(){function t(t,e){if("string"==typeof e){if(!function(t,e){return rn(e),new RegExp("^[01]{1,".concat(e,"}$")).test(t)}(e,t))throw new un(e,t);this.value=an(e,t)}else if("number"==typeof e){if(!sn(e,t))throw new un(e,t);this.value=ln(e,t)}else this.value=ln(e.signed(),t)}return t.prototype.signed=function(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)},t.prototype.unsigned=function(){return parseInt(this.value,2)},t.prototype.toBinaryString=function(){return this.value},t.prototype.toInstruction=function(){try{return Sn(this.toBinaryString(),!0)}catch(t){throw new Ke("Not a vali instruction")}},t.prototype.bits=function(){return this.value.length},t.prototype.bytes=function(){return this.bits()/8},t.prototype.getByte=function(e){var n=8*nn(e,this.bytes());return new t(8,this.value.substring(n,n+8))},t.prototype.getBytes=function(){for(var t=[],e=1;e<=this.bytes();e++)t.push(this.getByte(e));return t},t.prototype.isBitSet=function(t){return"1"===this.value.charAt(nn(t,this.bits()))},t.prototype.setBit=function(e,n){return new t(this.bits(),function(t,e,n){if(!/^[10]*$/.test(t))throw new Error("Invalid binary string");var r=t.split("");return r[nn(e,t.length)]=n?"1":"0",r.join("")}(this.value,e,n))},t.fromBytesValues=function(e){return rn(8*e.length),"number"==typeof e[0]?t.fromBytesValues(e.map((function(e){return new t(8,e)}))):"string"==typeof e[0]?new t(8*e.length,e.join("")):new t(8*e.length,e.map((function(t){return t.toBinaryString()})).join(""))},t}(),dn=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:""},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:""},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"="},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:""},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!"}];function pn(t){return"string"==typeof t?dn.find((function(e){return e.symbolic===t})):dn.find((function(e){return e.numeric===t.getByte(1).unsigned()}))}function $n(t){return t.isBitSet(1)}function hn(t,e){return t.setBit(1,e)}function mn(t){return hn(t,!1)}var gn=254;function wn(t){if(!bn(t))throw new Error("Invalid address: "+t);return t/2}function bn(t){return t%2==0&&t>=0&&t<=gn}var vn=function(){function t(t,e,n,r){if(void 0===r&&(r=!1),16!==n.bits())throw new Error("Value must be 16 bit");this.opcode=pn(mn(n)),this.symbolicOpcode=t,this.symbolicOperand=e,this.value=n,r&&(this.opcode=void 0)}return t.prototype.immediateFlag=function(){return $n(this.value)},t.prototype.opcodeValue=function(){return this.value.getByte(1)},t.prototype.operandValue=function(){return this.value.getByte(2)},t.prototype.numericOpcode=function(){return this.value.getByte(1).signed()},t.prototype.numericOperand=function(){return this.immediateFlag()?this.value.getByte(2).signed():this.value.getByte(2).unsigned()},t.prototype.binaryOpcode=function(){return this.value.getByte(1).toBinaryString()},t.prototype.binaryOperand=function(){return this.value.getByte(2).toBinaryString()},t.prototype.symbolic=function(){return this.symbolicOpcode+(""!==this.symbolicOperand?" ".concat(this.symbolicOperand):"")},t}(),xn=/^[01]{0,8}\s?[01]{1,8}?$/,yn=/^-?[0-9]{1,5}$/,_n=/#-?[0-9]{1,3}/,kn=/[A-Z_]{1,10}/,An=/#[A-Z_]{1,10}/,Cn=new RegExp("^"+/[A-Z]{2,3}/.source+"( (("+_n.source+")|("+An.source+")|("+/[0-9]{1,3}/.source+")|("+kn.source+")))?$");function Sn(t,e,n){void 0===n&&(n=[]);var r=xn.test(t),s=Cn.test(t),o=yn.test(t);if(e&&!r)throw new Ye(a(tn).errors.instruction_parsing.invalid_binary_input,t);if(!e&&!o&&!s)throw new Ye(a(tn).errors.instruction_parsing.invalid_symbolic_input,t);return s?function(t,e){var n=t.split(" "),r=n[0],s=n[1],o=!!s,i=pn(r);if(!i)throw new Ye(a(tn).errors.instruction_parsing.invalid_opcode,t);if(o){if(!i.takesOperand)throw new Ye(a(tn).errors.instruction_parsing.operand_not_allowed,t);return An.test(s)?function(t,e,n){var r=t.split(" "),s=r[0],o=r[1],i=o.slice(1);if(!n.includes(i))throw new Ye(a(tn).errors.instruction_parsing.unknown_label,t);var c=hn(new fn(8,e.numeric),!0).signed(),l=n.indexOf(i);if(!e.takesImmediate)throw new Ye(a(tn).errors.instruction_parsing.immediate_operand_not_allowed,t);if(!on(l,8))throw new Ye(a(tn).errors.instruction_parsing.invalid_immediate_operand,t);return new vn(s,o,fn.fromBytesValues([c,l]))}(t,i,e):kn.test(s)?function(t,e,n){var r=t.split(" "),s=r[0],o=r[1];if(!n.includes(o))throw new Ye(a(tn).errors.instruction_parsing.unknown_label,t);var i=n.indexOf(o);return new vn(s,o,fn.fromBytesValues([e.numeric,i]))}(t,i,e):_n.test(s)?function(t,e){var n=t.split(" "),r=n[0],s=n[1],o=hn(new fn(8,e.numeric),!0).signed(),i=parseInt(s.slice(1));if(!e.takesImmediate)throw new Ye(a(tn).errors.instruction_parsing.immediate_operand_not_allowed,t);if(!on(i,8))throw new Ye(a(tn).errors.instruction_parsing.invalid_immediate_operand,t);return new vn(r,s,fn.fromBytesValues([o,i]))}(t,i):function(t,e){var n=t.split(" "),r=n[0],s=n[1],o=parseInt(s);if(!bn(o))throw new Ye(a(tn).errors.instruction_parsing.invalid_direct_operand,t);return new vn(r,s,fn.fromBytesValues([e.numeric,o]))}(t,i)}if(i.takesOperand)throw new Ye(a(tn).errors.instruction_parsing.operand_required,t);return new vn(r,"",fn.fromBytesValues([i.numeric,0]))}(t,n):r&&e?function(t){if(t.includes(" ")){var e=t.split(" ");t=e[0]+an(e[1],8)}var n=new fn(16,t),r=n.getByte(1),s=n.getByte(2),o=$n(r),i=pn(mn(r)),c=!1;i&&(i.takesOperand||0===s.unsigned())?o&&!i.takesImmediate?c=!0:o||bn(s.unsigned())||(c=!0):c=!0;var l=c?n.signed().toString():i.symbolic,a=o?"#"+s.signed():s.unsigned().toString();c&&(a="");return new vn(l,a,n,c)}(t):function(t){var e=parseInt(t);if(!on(e,16))throw new Ye(a(tn).errors.instruction_parsing.invalid_data,t);var n=new fn(16,e),r=n.getByte(1),s=pn(mn(r)),o=$n(r),i=!s||o&&!s.takesImmediate||o&&!s.takesOperand;return new vn(t,"",n,i)}(t)}var En=Ot(Sn("NOP",!1)),In=Ot(new fn(8,0)),Rn=Ot(new fn(8,2)),Tn=Ot(new fn(16,0)),Ln=Ot(new fn(16,0)),Un=Ot(""),Qn=Ot(new fn(16,0)),Nn=Ot(new fn(16,0)),On=Ot(!0),Dn=Ot(!1),Pn=Ot(!1),Fn=Ot(!1);var Mn={instructionRegister:En,programCounter:In,increment:Rn,alu1:Tn,alu2:Ln,aluOperation:Un,aluResult:Qn,accumulator:Nn,zeroFlag:On,negativeFlag:Dn,isJumping:Pn,isHalting:Fn,reset:function(){En.set(Sn("NOP",!1)),In.set(new fn(8,0)),Rn.set(new fn(8,2)),Tn.set(new fn(16,0)),Ln.set(new fn(16,0)),Un.set(""),Qn.set(new fn(16,0)),Nn.set(new fn(16,0)),On.set(!0),Dn.set(!1),Pn.set(!1),Fn.set(!1)}};function Bn(t,e,n){return(1-n)*t+n*e}function Wn(t,e,n,r){return te(this,void 0,void 0,(function(){return ee(this,(function(s){return[2,new Promise((function(s,o){var i,c=0,l=function(o){if(i||(i=o),c>=1)return s(),void t.style.setProperty(e,"rgb(".concat(r.r,", ").concat(r.g,", ").concat(r.b,")"));var u=Math.round(Bn(n.r,r.r,c)),f=Math.round(Bn(n.g,r.g,c)),d=Math.round(Bn(n.b,r.b,c));t.style.setProperty(e,"rgb(".concat(u,", ").concat(f,", ").concat(d,")")),c=(o-i)/(300/a(Ne)),requestAnimationFrame(l)};requestAnimationFrame(l)}))]}))}))}function Hn(t,e,n,r){return te(this,void 0,void 0,(function(){return ee(this,(function(s){return[2,Wn(t,e,n,r).then((function(){return Wn(t,e,r,n)}))]}))}))}function jn(t){let e,n,r,s,o,i,c,l,a,u=(t[1]?t[0].binaryOpcode():t[0].opcode.symbolic)+"";return n=new qe({props:{text:"IR",top:"-25px",left:"10px"}}),{c(){e=U("div"),It(n.$$.fragment),r=O(),s=U("div"),o=N(u),i=O(),c=U("div"),l=N(t[4]),F(s,"class","flex items-center justify-center w-full h-full rounded-l-md"),F(c,"class","flex items-center justify-center w-full h-full rounded-r-md"),F(e,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 ")},m(u,f){R(u,e,f),Rt(n,e,null),S(e,r),S(e,s),S(s,o),t[7](s),S(e,i),S(e,c),S(c,l),t[8](c),a=!0},p(t,[e]){(!a||3&e)&&u!==(u=(t[1]?t[0].binaryOpcode():t[0].opcode.symbolic)+"")&&B(o,u),(!a||16&e)&&B(l,t[4])},i(t){a||(yt(n.$$.fragment,t),a=!0)},o(t){_t(n.$$.fragment,t),a=!1},d(r){r&&T(e),Tt(n),t[7](null),t[8](null)}}}function zn(t,e,n){let r,s;u(t,En,(t=>n(0,r=t))),u(t,Le,(t=>n(1,s=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c,l;return t.$$.update=()=>{3&t.$$.dirty&&(s?n(4,l=r.binaryOperand()):r.opcode.takesOperand?r.immediateFlag()?n(4,l=`#${r.numericOperand()}`):n(4,l=`${r.numericOperand()}`):n(4,l=""))},[r,s,i,c,l,function(){return o(this,void 0,void 0,(function*(){return Hn(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return o(this,void 0,void 0,(function*(){return Hn(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){st[t?"unshift":"push"]((()=>{c=t,n(3,c)}))}]}class Vn extends Qt{constructor(t){super(),Ut(this,t,zn,jn,c,{flashOpcode:5,flashOperand:6})}get flashOpcode(){return this.$$.ctx[5]}get flashOperand(){return this.$$.ctx[6]}}function Zn(e){let n,r,s;return r=new qe({props:{text:"Control Unit / Decoder"}}),{c(){n=U("div"),It(r.$$.fragment),F(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(t,o){R(t,n,o),Rt(r,n,null),e[2](n),s=!0},p:t,i(t){s||(yt(r.$$.fragment,t),s=!0)},o(t){_t(r.$$.fragment,t),s=!1},d(t){t&&T(n),Tt(r),e[2](null)}}}function Xn(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s;return[s,function(){return r(this,void 0,void 0,(function*(){return Hn(s,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class Gn extends Qt{constructor(t){super(),Ut(this,t,Xn,Zn,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function Jn(t){let e,n,r,s,o,i=(t[1]?t[2].toBinaryString():t[2].signed())+"";return n=new qe({props:{text:"ACC",top:"-25px",left:"0"}}),{c(){e=U("div"),It(n.$$.fragment),r=O(),s=N(i),F(e,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(i,c){R(i,e,c),Rt(n,e,null),S(e,r),S(e,s),t[4](e),o=!0},p(t,[e]){(!o||6&e)&&i!==(i=(t[1]?t[2].toBinaryString():t[2].signed())+"")&&B(s,i)},i(t){o||(yt(n.$$.fragment,t),o=!0)},o(t){_t(n.$$.fragment,t),o=!1},d(r){r&&T(e),Tt(n),t[4](null)}}}function qn(t,e,n){let r,s;u(t,Le,(t=>n(1,r=t))),u(t,Nn,(t=>n(2,s=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i;return[i,r,s,function(){return o(this,void 0,void 0,(function*(){return Hn(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}class Kn extends Qt{constructor(t){super(),Ut(this,t,qn,Jn,c,{flash:3})}get flash(){return this.$$.ctx[3]}}function Yn(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$,h,m,g,w=t[2]?"1":"0",b=t[3]?"1":"0";return n=new qe({props:{text:"SW",top:"-25px",left:"0"}}),o=new qe({props:{text:"Z",bottom:"-21px",left:"25%"}}),u=new qe({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){e=U("div"),It(n.$$.fragment),r=O(),s=U("div"),It(o.$$.fragment),i=O(),c=N(w),l=O(),a=U("div"),It(u.$$.fragment),f=O(),d=N(b),p=O(),$=U("div"),$.textContent="------",h=O(),m=U("div"),F(s,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md"),F(a,"class","relative h-full flex items-center justify-center w-[19%]"),F($,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md"),F(e,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center "),F(m,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black")},m(w,b){R(w,e,b),Rt(n,e,null),S(e,r),S(e,s),Rt(o,s,null),S(s,i),S(s,c),t[6](s),S(e,l),S(e,a),Rt(u,a,null),S(a,f),S(a,d),t[7](a),S(e,p),S(e,$),R(w,h,b),R(w,m,b),g=!0},p(t,[e]){(!g||4&e)&&w!==(w=t[2]?"1":"0")&&B(c,w),(!g||8&e)&&b!==(b=t[3]?"1":"0")&&B(d,b)},i(t){g||(yt(n.$$.fragment,t),yt(o.$$.fragment,t),yt(u.$$.fragment,t),g=!0)},o(t){_t(n.$$.fragment,t),_t(o.$$.fragment,t),_t(u.$$.fragment,t),g=!1},d(r){r&&T(e),Tt(n),Tt(o),t[6](null),Tt(u),t[7](null),r&&T(h),r&&T(m)}}}function tr(t,e,n){let r,s;u(t,On,(t=>n(2,r=t))),u(t,Dn,(t=>n(3,s=t)));var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let i,c;return[i,c,r,s,function(){return o(this,void 0,void 0,(function*(){return Hn(i,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return o(this,void 0,void 0,(function*(){return Hn(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{i=t,n(0,i)}))},function(t){st[t?"unshift":"push"]((()=>{c=t,n(1,c)}))}]}class er extends Qt{constructor(t){super(),Ut(this,t,tr,Yn,c,{flashZeroFlag:4,flashNegativeFlag:5})}get flashZeroFlag(){return this.$$.ctx[4]}get flashNegativeFlag(){return this.$$.ctx[5]}}function nr(t){let e,n,r,s,o,i,c,l,a,u=(t[2]?t[3].toBinaryString():t[3].unsigned())+"",f=(t[2]?t[4].toBinaryString():t[4].unsigned())+"";return n=new qe({props:{text:"PC",top:"-25px",left:"0"}}),{c(){e=U("div"),It(n.$$.fragment),r=O(),s=N(u),o=O(),i=U("div"),c=N("+"),l=N(f),F(e,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center "),F(i,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center ")},m(u,f){R(u,e,f),Rt(n,e,null),S(e,r),S(e,s),t[7](e),R(u,o,f),R(u,i,f),S(i,c),S(i,l),t[8](i),a=!0},p(t,[e]){(!a||12&e)&&u!==(u=(t[2]?t[3].toBinaryString():t[3].unsigned())+"")&&B(s,u),(!a||20&e)&&f!==(f=(t[2]?t[4].toBinaryString():t[4].unsigned())+"")&&B(l,f)},i(t){a||(yt(n.$$.fragment,t),a=!0)},o(t){_t(n.$$.fragment,t),a=!1},d(r){r&&T(e),Tt(n),t[7](null),r&&T(o),r&&T(i),t[8](null)}}}function rr(t,e,n){let r,s,o;u(t,Le,(t=>n(2,r=t))),u(t,In,(t=>n(3,s=t))),u(t,Rn,(t=>n(4,o=t)));var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let c,l;return[c,l,r,s,o,function(){return i(this,void 0,void 0,(function*(){return Hn(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return i(this,void 0,void 0,(function*(){return Hn(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{c=t,n(0,c)}))},function(t){st[t?"unshift":"push"]((()=>{l=t,n(1,l)}))}]}class sr extends Qt{constructor(t){super(),Ut(this,t,rr,nr,c,{flashPC:5,flashINC:6})}get flashPC(){return this.$$.ctx[5]}get flashINC(){return this.$$.ctx[6]}}function or(e){let n,r,s,o,i,c;return i=new qe({props:{text:"MUX"}}),{c(){n=U("div"),r=Q("svg"),s=Q("path"),o=O(),It(i.$$.fragment),F(s,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),F(r,"xmlns","http://www.w3.org/2000/svg"),F(r,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),F(r,"viewBox","-1 -1 102 42"),F(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(t,l){R(t,n,l),S(n,r),S(r,s),e[2](r),S(n,o),Rt(i,n,null),c=!0},p:t,i(t){c||(yt(i.$$.fragment,t),c=!0)},o(t){_t(i.$$.fragment,t),c=!1},d(t){t&&T(n),e[2](null),Tt(i)}}}function ir(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s;return[s,function(){return r(this,void 0,void 0,(function*(){return Hn(s,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{s=t,n(0,s)}))}]}class cr extends Qt{constructor(t){super(),Ut(this,t,ir,or,c,{flash:1})}get flash(){return this.$$.ctx[1]}}function lr(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$,h,m,g,w=(t[3]?ar(t[4].toBinaryString()):t[4].signed())+"",b=(t[3]?ar(t[6].toBinaryString()):t[6].signed())+"";return o=new qe({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){e=U("div"),n=Q("svg"),r=Q("path"),s=O(),It(o.$$.fragment),i=O(),c=U("div"),l=N(w),u=O(),f=U("div"),d=N(t[5]),p=O(),$=U("div"),h=N(b),F(r,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),F(n,"viewBox","-1 -1 450 162"),F(c,"class",a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),F(f,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),F($,"class",m="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"),F(e,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(a,m){R(a,e,m),S(e,n),S(n,r),S(e,s),Rt(o,e,null),S(e,i),S(e,c),S(c,l),t[10](c),S(e,u),S(e,f),S(f,d),t[11](f),S(e,p),S(e,$),S($,h),t[12]($),g=!0},p(t,[e]){(!g||24&e)&&w!==(w=(t[3]?ar(t[4].toBinaryString()):t[4].signed())+"")&&B(l,w),(!g||8&e&&a!==(a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&F(c,"class",a),(!g||32&e)&&B(d,t[5]),(!g||72&e)&&b!==(b=(t[3]?ar(t[6].toBinaryString()):t[6].signed())+"")&&B(h,b),(!g||8&e&&m!==(m="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(t[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg"))&&F($,"class",m)},i(t){g||(yt(o.$$.fragment,t),g=!0)},o(t){_t(o.$$.fragment,t),g=!1},d(n){n&&T(e),Tt(o),t[10](null),t[11](null),t[12](null)}}}function ar(t){return[t.slice(0,8),t.slice(8)].join(" ")}function ur(t,e,n){let r,s,o,i;u(t,Le,(t=>n(3,r=t))),u(t,Tn,(t=>n(4,s=t))),u(t,Un,(t=>n(5,o=t))),u(t,Ln,(t=>n(6,i=t)));var c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let l,a,f;return[l,a,f,r,s,o,i,function(){return c(this,void 0,void 0,(function*(){return Hn(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return c(this,void 0,void 0,(function*(){return Hn(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return c(this,void 0,void 0,(function*(){return Hn(f,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{l=t,n(0,l)}))},function(t){st[t?"unshift":"push"]((()=>{f=t,n(2,f)}))},function(t){st[t?"unshift":"push"]((()=>{a=t,n(1,a)}))}]}class fr extends Qt{constructor(t){super(),Ut(this,t,ur,lr,c,{flashFirstOperand:7,flashSecondOperand:8,flashOperator:9})}get flashFirstOperand(){return this.$$.ctx[7]}get flashSecondOperand(){return this.$$.ctx[8]}get flashOperator(){return this.$$.ctx[9]}}var dr=Ot([]),pr={subscribe:dr.subscribe,push:function(t){dr.update((function(e){return ne(ne([],e,!0),[t],!1)}))}},$r=Ot({showLogger:!1}),hr={subscribe:$r.subscribe,updateShowLogger:function(t){$r.update((function(e){return Yt(Yt({},e),{showLogger:t(e.showLogger)})}))}},mr=Date.now(),gr=["EXECUTION","USER_INPUT","DEBUG","UNCAUGHT"],wr=["UNCHECKED_ERROR","CHECKED_ERROR","INFO"];function br(){return Date.now()-mr}var vr={error:function(t,e,n){void 0===n&&(n=!1),pr.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:e,timestamp:br(),message:n?t.message:t.stack})},info:function(t,e){pr.push({logType:"INFO",logGroup:e,timestamp:br(),message:t})}},xr=function(){function t(){this._conditions=[],this._endsStep=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}return t.prototype.condition=function(t){return this._conditions.push(t),this},t.prototype.endstep=function(){return this._endsStep=!0,this},t.prototype.sideffects=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._sideffects).push.apply(t,e),this},t.prototype.waitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_before).push.apply(t,e),this},t.prototype.thenWaitFor=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this._waits_after).push.apply(t,e),this},t.prototype.execute=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return this._conditions.reduceRight((function(t,e){return t&&e()}),!0)?(vr.info("Executing: ".concat(this.toString()),"EXECUTION"),[4,Promise.all(this._waits_before.map((function(t){return t()})))]):(vr.info("Skipping: ".concat(this.toString()),"EXECUTION"),[2]);case 1:return t.sent(),[4,Promise.all(ne(ne([],this._sideffects.map((function(t){return t.execute()})),!0),[this.action()],!1))];case 2:return t.sent(),[2,Promise.all(this._waits_after.map((function(t){return t()})))]}}))}))},t.prototype.doesEndStep=function(){return this._endsStep},t.prototype.toString=function(){return"".concat(this.constructor.name)},t}();function yr(){return a(Mn.zeroFlag)}function _r(){return!a(Mn.zeroFlag)}function kr(){return a(Mn.negativeFlag)}function Ar(){return!a(Mn.negativeFlag)}function Cr(){return a(Qe)}function Sr(){return a(De)}var Er=function(t){function e(){var e=t.call(this)||this;return e.condition(Cr),e}return Kt(e,t),e}(xr),Ir=function(t){function e(e){var n=t.call(this)||this;return n.component=e,n}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return[2,a(Pt).flash(this.component)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component)},e}(Er);function Rr(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$,h,m,g,w,b;s=new qe({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});i=new Vn({props:{}}),t[8](i);l=new Gn({props:{}}),t[9](l);u=new sr({props:{}}),t[10](u);d=new cr({props:{}}),t[11](d);$=new fr({props:{}}),t[12]($);m=new er({props:{}}),t[13](m);return w=new Kn({props:{}}),t[14](w),{c(){e=U("div"),n=O(),r=U("div"),It(s.$$.fragment),o=O(),It(i.$$.fragment),c=O(),It(l.$$.fragment),a=O(),It(u.$$.fragment),f=O(),It(d.$$.fragment),p=O(),It($.$$.fragment),h=O(),It(m.$$.fragment),g=O(),It(w.$$.fragment),F(e,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),F(r,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(t,v){R(t,e,v),R(t,n,v),R(t,r,v),Rt(s,r,null),S(r,o),Rt(i,r,null),S(r,c),Rt(l,r,null),S(r,a),Rt(u,r,null),S(r,f),Rt(d,r,null),S(r,p),Rt($,r,null),S(r,h),Rt(m,r,null),S(r,g),Rt(w,r,null),b=!0},p(t,[e]){i.$set({});l.$set({});u.$set({});d.$set({});$.$set({});m.$set({});w.$set({})},i(t){b||(yt(s.$$.fragment,t),yt(i.$$.fragment,t),yt(l.$$.fragment,t),yt(u.$$.fragment,t),yt(d.$$.fragment,t),yt($.$$.fragment,t),yt(m.$$.fragment,t),yt(w.$$.fragment,t),b=!0)},o(t){_t(s.$$.fragment,t),_t(i.$$.fragment,t),_t(l.$$.fragment,t),_t(u.$$.fragment,t),_t(d.$$.fragment,t),_t($.$$.fragment,t),_t(m.$$.fragment,t),_t(w.$$.fragment,t),b=!1},d(o){o&&T(e),o&&T(n),o&&T(r),Tt(s),t[8](null),Tt(i),t[9](null),Tt(l),t[10](null),Tt(u),t[11](null),Tt(d),t[12](null),Tt($),t[13](null),Tt(m),t[14](null),Tt(w)}}}function Tr(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let s,o,i,c,l,a,u;return[s,o,i,c,l,a,u,function(t){return r(this,void 0,void 0,(function*(){switch(t){case"IR":return Promise.all([s.flashOpcode(),s.flashOperand()]);case"IR:OPC":return s.flashOpcode();case"IR:OPR":return s.flashOperand();case"PC":return i.flashPC();case"INC":return i.flashINC();case"MUX":return c.flash();case"CU":return o.flash();case"ALU:1":return l.flashFirstOperand();case"ALU:2":return l.flashSecondOperand();case"ALU:OPR":return l.flashOperator();case"ACC":return u.flash();case"SW:Z":return a.flashZeroFlag();case"SW:N":return a.flashNegativeFlag()}}))},function(t){st[t?"unshift":"push"]((()=>{s=t,n(0,s)}))},function(t){st[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(t){st[t?"unshift":"push"]((()=>{i=t,n(2,i)}))},function(t){st[t?"unshift":"push"]((()=>{c=t,n(3,c)}))},function(t){st[t?"unshift":"push"]((()=>{l=t,n(4,l)}))},function(t){st[t?"unshift":"push"]((()=>{a=t,n(5,a)}))},function(t){st[t?"unshift":"push"]((()=>{u=t,n(6,u)}))}]}class Lr extends Qt{constructor(t){super(),Ut(this,t,Tr,Rr,c,{flash:7})}get flash(){return this.$$.ctx[7]}}var Ur=Ot(new Array),Qr=Ur.subscribe,Nr=Ur.set,Or=Ur.update,Dr=[];function Pr(t){Or(t),Dr=t(Dr)}function Fr(){for(var t=wn(0);t<=wn(gn);t++)Dr[t]=Sn("NOP",!1);var e;Nr(e=Dr),Dr=e}Fr();var Mr={subscribe:Qr,read:function(t){if(!bn(t))throw new Error("Invalid address: "+t);return Dr[wn(t)]},write:function(t,e){if(!bn(t))throw new Error("Invalid address: "+t);var n=wn(t);Pr((function(t){return t.map((function(t,r){return n===r?e:t}))}))},clear:Fr,updateLabels:function(t,e){Pr((function(n){return n.map((function(n){return n.symbolicOperand===t?new vn(n.symbolicOpcode,e,n.value):n.symbolicOperand==="#"+t?new vn(n.symbolicOpcode,"#"+e,n.value):n}))}))},deleteLabel:function(t){Pr((function(e){return e.map((function(e){return e.symbolicOperand===t?new vn(e.symbolicOpcode,e.numericOperand().toString(),e.value):e.symbolicOperand==="#"+t?new vn(e.symbolicOpcode,"#"+e.numericOperand(),e.value):e}))}))},moveFirstHalfUpFromAddress:function(t){console.log("moveFirstHalfUpFromAddress "+t)},moveFirstHalfDownFromAddress:function(t){console.log("moveFirstHalfDownFromAddress "+t)},moveSecondHalfUpFromAddress:function(t){console.log("moveSecondHalfUpFromAddress "+t)},moveSecondHalfDownFromAddress:function(t){console.log("moveSecondHalfDownFromAddress "+t)}},Br=Ot([]);function Wr(t){return a(Br)[t]}function Hr(t){if(""===t)return-1;var e=a(Br).findIndex((function(e){return e===t}));return-1===e?-1:e}function jr(t){return-1!==Hr(t)}function zr(){for(var t=[],e=0;e<=gn;e+=2)t[e]="";Br.set(t)}zr();var Vr={subscribe:Br.subscribe,getLabel:Wr,getAddress:Hr,setLabel:function(t,e){var n=Wr(t);if(n!==e){if(jr(e))throw new Ke(a(tn).errors.symbol_table.label_already_exists);Br.update((function(n){return n[t]=e,n})),""!==n&&(""===e?Mr.deleteLabel(n):Mr.updateLabels(n,e))}},hasLabel:jr,clear:zr,load:function(t){Br.set(t)}},Zr={address:null,column:"CELL"},Xr=Ot(Zr),Gr=Xr.subscribe;Xr.set;var Jr=Xr.update;function qr(t){Jr(t),Zr=t(Zr)}var Kr={subscribe:Gr,selectUp:function(){qr((function(t){var e=t.address-=2;return Yt(Yt({},t),{address:e<0?gn:e})}))},selectDown:function(){qr((function(t){var e=t.address+=2;return Yt(Yt({},t),{address:e>gn?0:e})}))},selectLeft:function(){qr((function(t){return Yt(Yt({},t),{column:"LABEL"})}))},selectRight:function(){qr((function(t){return Yt(Yt({},t),{column:"CELL"})}))},select:function(t,e){if(void 0===e&&(e="CELL"),!bn(t))throw new Error("Invalid address");qr((function(n){return Yt(Yt({},n),{address:t,column:e})}))},deselect:function(){qr((function(t){return Yt(Yt({},t),{address:null})}))},noSelection:function(){return null===Zr.address}};function Yr(n){let r,s,o,c,l,a;return{c(){r=Q("svg"),s=Q("rect"),o=Q("path"),F(s,"fill","none"),F(s,"height","24px"),F(s,"width","24px"),F(o,"d","M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"),F(r,"xmlns","http://www.w3.org/2000/svg"),F(r,"viewBox","0 0 24 24"),F(r,"class","absolute right-0 fill-black/30 cursor-pointer w-6 h-6 transition-colors hover:fill-black")},m(t,e){R(t,r,e),S(r,s),S(r,o),l||(a=P(r,"click",n[0]),l=!0)},p:t,i(s){c||at((()=>{c=function(n,r,s){let o,c,l=r(n,s),a=!1,u=0;function f(){o&&q(n,o)}function d(){const{delay:r=0,duration:s=300,easing:i=e,tick:d=t,css:p}=l||kt;p&&(o=J(n,0,1,s,r,i,p,u++)),d(0,1);const $=y()+r,h=$+s;c&&c.abort(),a=!0,at((()=>gt(n,!0,"start"))),c=C((t=>{if(a){if(t>=h)return d(1,0),gt(n,!0,"end"),f(),a=!1;if(t>=$){const e=i((t-$)/s);d(e,1-e)}}return a}))}let p=!1;return{start(){p||(p=!0,q(n),i(l)?(l=l(),mt().then(d)):d())},invalidate(){p=!1},end(){a&&(f(),a=!1)}}}(r,n[6],{delay:300}),c.start()}))},o:t,d(t){t&&T(r),l=!1,a()}}}function ts(t){let e,n,r,s,i;return{c(){e=U("input"),e.value=t[3],F(e,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/50 text-black shadow-ramlabels rounded-l-md origin-right  svelte-154hxnx")},m(n,o){R(n,e,o),t[13](e),r=!0,s||(i=[P(e,"input",ns),P(e,"focus",t[0]),P(e,"focusout",t[1])],s=!0)},p(t,n){(!r||8&n&&e.value!==t[3])&&(e.value=t[3])},i(s){r||(at((()=>{n||(n=At(e,t[5],{},!0)),n.run(1)})),r=!0)},o(s){n||(n=At(e,t[5],{},!1)),n.run(0),r=!1},d(r){r&&T(e),t[13](null),r&&n&&n.end(),s=!1,o(i)}}}function es(t){let e,n,r,s,o;const i=[ts,Yr],c=[];function l(t,e){return t[4]?0:1}return n=l(t),r=c[n]=i[n](t),{c(){e=U("div"),r.c(),F(e,"class",s="relative h-[30px] flex items-center "+t[7].class+" svelte-154hxnx")},m(t,r){R(t,e,r),c[n].m(e,null),o=!0},p(t,[a]){let u=n;n=l(t),n===u?c[n].p(t,a):(vt(),_t(c[u],1,1,(()=>{c[u]=null})),xt(),r=c[n],r?r.p(t,a):(r=c[n]=i[n](t),r.c()),yt(r,1),r.m(e,null)),(!o||128&a&&s!==(s="relative h-[30px] flex items-center "+t[7].class+" svelte-154hxnx"))&&F(e,"class",s)},i(t){o||(yt(r),o=!0)},o(t){_t(r),o=!1},d(t){t&&T(e),c[n].d()}}}function ns({target:t}){t.value=t.value.toUpperCase().replaceAll(/[^A-Z_]/g,"").slice(0,10)}function rs(t,e,r){let s,o,i;const c=["address","selected","select","deselect","commitInput","getAddress"];let l,a,f,d=g(e,c);u(t,Wt,(t=>r(15,l=t))),u(t,Vr,(t=>r(12,a=t))),u(t,Kr,(t=>r(16,f=t)));let p,{address:$}=e,{selected:h}=e;function w(){try{if(!p)return;vr.info(`RamLabel input: "${p.value}"`,"USER_INPUT"),Vr.setLabel($,p.value),r(3,s=a[$])}catch(t){l.error(t.message),vr.error(t,"USER_INPUT",t.isChecked)}}return t.$$set=t=>{e=n(n({},e),m(t)),r(7,d=g(e,c)),"address"in t&&r(8,$=t.address),"selected"in t&&r(9,h=t.selected)},t.$$.update=()=>{4352&t.$$.dirty&&r(3,s=a[$]),8&t.$$.dirty&&(o=!s),520&t.$$.dirty&&r(4,i=h||!!s),516&t.$$.dirty&&h&&p&&p.focus()},[function(){Kr.select($,"LABEL")},function(){w(),"LABEL"===f.column&&$===f.address&&Kr.deselect()},p,s,i,function(t,{delay:e=0,duration:n=200}){return{delay:0,duration:o?n:0,css:t=>o?`transform: scaleX(${t})`:""}},function(t,{delay:e=0,duration:n=0}){return{delay:o?e:0,duration:n,css:t=>o?`filter: opacity(${t})`:""}},d,$,h,w,function(){return $},a,function(t){st[t?"unshift":"push"]((()=>{p=t,r(2,p)}))}]}class ss extends Qt{constructor(t){super(),Ut(this,t,rs,es,c,{address:8,selected:9,select:0,deselect:1,commitInput:10,getAddress:11})}get select(){return this.$$.ctx[0]}get deselect(){return this.$$.ctx[1]}get commitInput(){return this.$$.ctx[10]}get getAddress(){return this.$$.ctx[11]}}function os(e){let n,r,s,o=(e[2]?new fn(8,e[0]).toBinaryString():e[0])+"";return{c(){n=U("div"),r=N(o),F(n,"class",s="h-[30px] w-[100px] flex items-center justify-center bg-[#FF8C00] border border-black border-t-0 "+e[3].class+" svelte-1v2acx4")},m(t,s){R(t,n,s),S(n,r),e[6](n)},p(t,[e]){5&e&&o!==(o=(t[2]?new fn(8,t[0]).toBinaryString():t[0])+"")&&B(r,o),8&e&&s!==(s="h-[30px] w-[100px] flex items-center justify-center bg-[#FF8C00] border border-black border-t-0 "+t[3].class+" svelte-1v2acx4")&&F(n,"class",s)},i:t,o:t,d(t){t&&T(n),e[6](null)}}}function is(t,e,r){const s=["address","getAddress","flash"];let o,i=g(e,s);u(t,Le,(t=>r(2,o=t)));var c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let l,{address:a}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(3,i=g(e,s)),"address"in t&&r(0,a=t.address)},[a,l,o,i,function(){return a},function(){return c(this,void 0,void 0,(function*(){return Hn(l,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(t){st[t?"unshift":"push"]((()=>{l=t,r(1,l)}))}]}class cs extends Qt{constructor(t){super(),Ut(this,t,is,os,c,{address:0,getAddress:4,flash:5})}get getAddress(){return this.$$.ctx[4]}get flash(){return this.$$.ctx[5]}}function ls(t){let e,n,r,s,o=t[5]&&us(t);return{c(){e=U("div"),n=N(t[6]),r=O(),o&&o.c(),s=D(),F(e,"class","h-[30px] w-[190px] flex items-center justify-start pl-[10px]")},m(t,i){R(t,e,i),S(e,n),R(t,r,i),o&&o.m(t,i),R(t,s,i)},p(t,e){64&e&&B(n,t[6]),t[5]?o?o.p(t,e):(o=us(t),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(t){t&&T(e),t&&T(r),o&&o.d(t),t&&T(s)}}}function as(t){let e,n,r,s;return{c(){e=U("input"),e.value=n=t[6]+(t[5]?" "+t[5]:""),F(e,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(n,o){R(n,e,o),t[16](e),r||(s=[v(t[7].call(null,e)),P(e,"focusout",t[2]),P(e,"input",ds)],r=!0)},p(t,r){96&r&&n!==(n=t[6]+(t[5]?" "+t[5]:""))&&e.value!==n&&(e.value=n)},d(n){n&&T(e),t[16](null),r=!1,o(s)}}}function us(t){let e,n;return{c(){e=U("div"),n=N(t[5]),F(e,"class","h-[30px] w-[190px] flex items-center justify-start overflow-hidden")},m(t,r){R(t,e,r),S(e,n)},p(t,e){32&e&&B(n,t[5])},d(t){t&&T(e)}}}function fs(e){let n,r,s,o;function i(t,e){return t[0]?as:ls}let c=i(e),l=c(e);return{c(){n=U("div"),l.c(),F(n,"class",r="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+e[8].class+" svelte-67wtpq")},m(t,r){R(t,n,r),l.m(n,null),e[17](n),s||(o=P(n,"click",e[1]),s=!0)},p(t,[e]){c===(c=i(t))&&l?l.p(t,e):(l.d(1),l=c(t),l&&(l.c(),l.m(n,null))),256&e&&r!==(r="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 "+t[8].class+" svelte-67wtpq")&&F(n,"class",r)},i:t,o:t,d(t){t&&T(n),l.d(),e[17](null),s=!1,o()}}}function ds({target:t}){t.value=t.value.toUpperCase().replaceAll(/[^A-Z0-9 _\-#\(\)]*/g,"")}function ps(t,e,r){let s,o,i;const c=["address","selected","select","deselect","commitInput","flash","getAddress"];let l,a,f,d,p,$=g(e,c);u(t,Wt,(t=>r(18,l=t))),u(t,Vr,(t=>r(19,a=t))),u(t,Le,(t=>r(14,f=t))),u(t,Kr,(t=>r(20,d=t))),u(t,Mr,(t=>r(15,p=t)));var h=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let w,b,{address:v}=e,{selected:x=!1}=e;function y(){try{b&&""!==b.value&&(vr.info(`RamCell input: "${b.value}"`,"USER_INPUT"),Mr.write(v,Sn(b.value.trim(),f,a)))}catch(t){l.error(t.message),vr.error(t,"USER_INPUT",t.isChecked)}}return t.$$set=t=>{e=n(n({},e),m(t)),r(8,$=g(e,c)),"address"in t&&r(9,v=t.address),"selected"in t&&r(0,x=t.selected)},t.$$.update=()=>{33280&t.$$.dirty&&r(13,s=p[wn(v)]),24576&t.$$.dirty&&r(6,o=f?s.binaryOpcode():s.symbolicOpcode),24576&t.$$.dirty&&r(5,i=f?s.binaryOperand():s.symbolicOperand)},[x,function(){Kr.select(v,"CELL")},function(){y(),"CELL"===d.column&&v===d.address&&Kr.deselect()},w,b,i,o,function(t){t.value=o+(i?` ${i}`:""),t.focus(),setTimeout((()=>t.select()))},$,v,y,function(){return h(this,void 0,void 0,(function*(){return Hn(w,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return v},s,f,p,function(t){st[t?"unshift":"push"]((()=>{b=t,r(4,b)}))},function(t){st[t?"unshift":"push"]((()=>{w=t,r(3,w)}))}]}class $s extends Qt{constructor(t){super(),Ut(this,t,ps,fs,c,{address:9,selected:0,select:1,deselect:2,commitInput:10,flash:11,getAddress:12})}get select(){return this.$$.ctx[1]}get deselect(){return this.$$.ctx[2]}get commitInput(){return this.$$.ctx[10]}get flash(){return this.$$.ctx[11]}get getAddress(){return this.$$.ctx[12]}}function hs(t,e,n){const r=t.slice();return r[25]=e[n],r[26]=e,r[27]=n,r}function ms(t,e,n){const r=t.slice();return r[25]=e[n],r[28]=e,r[27]=n,r}function gs(t){let e,n,r=t[27];const s=()=>t[15](e,r),o=()=>t[15](null,r);let i={address:t[25],selected:t[6].address===t[25]&&"LABEL"===t[6].column,class:"\n\t\t\t\t\t"+(t[25]===t[0]?"first-label":"")+"\n\t\t\t\t\t"+(t[25]===t[1]?"last-label":"")+"\n\t\t\t\t"};return e=new ss({props:i}),s(),{c(){It(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){r!==t[27]&&(o(),r=t[27],s());const i={};4&n&&(i.address=t[25]),68&n&&(i.selected=t[6].address===t[25]&&"LABEL"===t[6].column),7&n&&(i.class="\n\t\t\t\t\t"+(t[25]===t[0]?"first-label":"")+"\n\t\t\t\t\t"+(t[25]===t[1]?"last-label":"")+"\n\t\t\t\t"),e.$set(i)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){o(),Tt(e,t)}}}function ws(t){let e,n,r,s,o,i,c=t[27];const l=()=>t[16](n,c),a=()=>t[16](null,c);let u={address:t[25],class:"\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-address":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-address":"")+"\n\t\t\t\t\t"};n=new cs({props:u}),l();const f=()=>t[17](s,c),d=()=>t[17](null,c);let p={address:t[25],selected:t[6].address===t[25]&&"CELL"===t[6].column,class:"\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-cell":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-cell":"")+"\n\t\t\t\t\t"};return s=new $s({props:p}),f(),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),o=O(),F(e,"class","flex flex-nowrap")},m(t,c){R(t,e,c),Rt(n,e,null),S(e,r),Rt(s,e,null),S(e,o),i=!0},p(t,e){c!==t[27]&&(a(),c=t[27],l());const r={};4&e&&(r.address=t[25]),7&e&&(r.class="\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-address":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-address":"")+"\n\t\t\t\t\t"),n.$set(r),c!==t[27]&&(d(),c=t[27],f());const o={};4&e&&(o.address=t[25]),68&e&&(o.selected=t[6].address===t[25]&&"CELL"===t[6].column),7&e&&(o.class="\n\t\t\t\t\t\t"+(t[25]===t[0]?"first-cell":"")+"\n\t\t\t\t\t\t"+(t[25]===t[1]?"last-cell":"")+"\n\t\t\t\t\t"),s.$set(o)},i(t){i||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),i=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),i=!1},d(t){t&&T(e),a(),Tt(n),d(),Tt(s)}}}function bs(t){let e,n,r,s,i,c,l,a,u;n=new qe({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let f=t[2],d=[];for(let e=0;e<f.length;e+=1)d[e]=gs(ms(t,f,e));const p=t=>_t(d[t],1,1,(()=>{d[t]=null}));let $=t[2],h=[];for(let e=0;e<$.length;e+=1)h[e]=ws(hs(t,$,e));const m=t=>_t(h[t],1,1,(()=>{h[t]=null}));return{c(){e=U("div"),It(n.$$.fragment),r=O(),s=U("div");for(let t=0;t<d.length;t+=1)d[t].c();i=O(),c=U("div");for(let t=0;t<h.length;t+=1)h[t].c();F(s,"class","flex flex-col items-end justify-center"),F(c,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),F(e,"class","absolute top-[115px] right-[50px] z-[3] flex")},m(o,f){R(o,e,f),Rt(n,e,null),S(e,r),S(e,s);for(let t=0;t<d.length;t+=1)d[t].m(s,null);S(e,i),S(e,c);for(let t=0;t<h.length;t+=1)h[t].m(c,null);l=!0,a||(u=[P(e,"wheel",t[7]),v(t[8].call(null,e))],a=!0)},p(t,[e]){if(79&e){let n;for(f=t[2],n=0;n<f.length;n+=1){const r=ms(t,f,n);d[n]?(d[n].p(r,e),yt(d[n],1)):(d[n]=gs(r),d[n].c(),yt(d[n],1),d[n].m(s,null))}for(vt(),n=f.length;n<d.length;n+=1)p(n);xt()}if(119&e){let n;for($=t[2],n=0;n<$.length;n+=1){const r=hs(t,$,n);h[n]?(h[n].p(r,e),yt(h[n],1)):(h[n]=ws(r),h[n].c(),yt(h[n],1),h[n].m(c,null))}for(vt(),n=$.length;n<h.length;n+=1)m(n);xt()}},i(t){if(!l){yt(n.$$.fragment,t);for(let t=0;t<f.length;t+=1)yt(d[t]);for(let t=0;t<$.length;t+=1)yt(h[t]);l=!0}},o(t){_t(n.$$.fragment,t),d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)_t(d[t]);h=h.filter(Boolean);for(let t=0;t<h.length;t+=1)_t(h[t]);l=!1},d(t){t&&T(e),Tt(n),L(d,t),L(h,t),a=!1,o(u)}}}function vs(t,e,n){let r;u(t,Kr,(t=>n(6,r=t)));var s=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};let o,i,c=[],l=0;h();let a=[],f=[],d=[];var p;function $({deltaY:t}){let e=l+(t>0?2:-2);e<0&&(e=220),e>220&&(e=0),n(0,l=e),h()}function h(){n(1,o=l+34),n(2,i=[]);for(let t=l,e=0;t<=o;t+=2,e++)n(2,i[e]=t,i)}function m(){$({deltaY:-1})}function g(){$({deltaY:1})}function w(t){if(!bn(t))throw new Error("Invalid address");return t>=l&&t<=o}function b(t){return s(this,void 0,void 0,(function*(){if(!bn(t))throw new Error("Invalid address");if(w(t))return;let e=t,r=e+34;return r>gn&&(e-=r-gn),n(0,l=e),h(),new Promise(((t,e)=>{c.push(t)}))}))}return p=()=>{c.forEach((t=>t())),c=[]},Y().$$.after_update.push(p),[l,o,i,a,f,d,r,function({deltaY:t}){Kr.deselect(),$({deltaY:t})},function(t){const e=t=>{switch(t.key){case"ArrowUp":!function(t){Kr.noSelection()||(t.ctrlKey?Mr.moveSecondHalfUpFromAddress(r.address):t.shiftKey&&Mr.moveFirstHalfUpFromAddress(r.address),r.address===l&&m(),Kr.selectUp())}(t);break;case"ArrowDown":!function(t){Kr.noSelection()||(t.ctrlKey?Mr.moveSecondHalfDownFromAddress(r.address):t.shiftKey&&Mr.moveFirstHalfDownFromAddress(r.address),r.address===o&&g(),Kr.selectDown())}(t);break;case"Enter":Kr.noSelection()?Kr.select(l):Kr.deselect()}};return document.addEventListener("keydown",e),{destroy(){document.removeEventListener("keydown",e)}}},m,g,w,b,function(t){return s(this,void 0,void 0,(function*(){if(!bn(t))throw new Error("Invalid address");return b(t).then((()=>f.find((e=>e.getAddress()===t)).flash()))}))},function(t){return s(this,void 0,void 0,(function*(){if(!bn(t))throw new Error("Invalid address");return b(t).then((()=>d.find((e=>e.getAddress()===t)).flash()))}))},function(t,e){st[t?"unshift":"push"]((()=>{a[e]=t,n(3,a)}))},function(t,e){st[t?"unshift":"push"]((()=>{f[e]=t,n(4,f)}))},function(t,e){st[t?"unshift":"push"]((()=>{d[e]=t,n(5,d)}))}]}class xs extends Qt{constructor(t){super(),Ut(this,t,vs,bs,c,{scrollUp:9,scrollDown:10,addressIsVisible:11,showAddress:12,flashAddress:13,flashContent:14})}get scrollUp(){return this.$$.ctx[9]}get scrollDown(){return this.$$.ctx[10]}get addressIsVisible(){return this.$$.ctx[11]}get showAddress(){return this.$$.ctx[12]}get flashAddress(){return this.$$.ctx[13]}get flashContent(){return this.$$.ctx[14]}}function ys(t){let e,n,r=t[0].name+"";return{c(){e=U("span"),n=N(r),F(e,"class","text-fuchsia-500")},m(t,r){R(t,e,r),S(e,n)},p(t,e){1&e&&r!==(r=t[0].name+"")&&B(n,r)},d(t){t&&T(e)}}}function _s(t){let e,n,r,s,o,i,c,l=t[0].x+"",a=t[0].y+"";return{c(){e=U("span"),n=N("x: "),r=N(l),s=O(),o=U("span"),i=N("y: "),c=N(a),F(e,"class","text-blue-700"),F(o,"class","text-red-700")},m(t,l){R(t,e,l),S(e,n),S(e,r),R(t,s,l),R(t,o,l),S(o,i),S(o,c)},p(t,e){1&e&&l!==(l=t[0].x+"")&&B(r,l),1&e&&a!==(a=t[0].y+"")&&B(c,a)},d(t){t&&T(e),t&&T(s),t&&T(o)}}}function ks(e){let n,r,s,o,i,c,l=e[1]&&ys(e),a=e[2]&&_s(e);return{c(){n=U("div"),r=U("div"),o=O(),i=U("div"),l&&l.c(),c=O(),a&&a.c(),F(r,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),F(r,"title",s=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`),F(i,"class","relative left-[7px] top-[-10px] bg-white font-bold"),F(n,"class","absolute z-10"),H(n,"top",e[0].y+"px"),H(n,"left",e[0].x+"px")},m(t,e){R(t,n,e),S(n,r),S(n,o),S(n,i),l&&l.m(i,null),S(i,c),a&&a.m(i,null)},p(t,[e]){1&e&&s!==(s=`${t[0].name} x: ${t[0].x} y: ${t[0].y}`)&&F(r,"title",s),t[1]?l?l.p(t,e):(l=ys(t),l.c(),l.m(i,c)):l&&(l.d(1),l=null),t[2]?a?a.p(t,e):(a=_s(t),a.c(),a.m(i,null)):a&&(a.d(1),a=null),1&e&&H(n,"top",t[0].y+"px"),1&e&&H(n,"left",t[0].x+"px")},i:t,o:t,d(t){t&&T(n),l&&l.d(),a&&a.d()}}}function As(t,e,n){let r,s;u(t,Gt,(t=>n(1,r=t))),u(t,Jt,(t=>n(2,s=t)));let{node:o}=e;return t.$$set=t=>{"node"in t&&n(0,o=t.node)},[o,r,s]}class Cs extends Qt{constructor(t){super(),Ut(this,t,As,ks,c,{node:0})}}function Ss(t,e,n){const r=t.slice();return r[7]=e[n],r}function Es(t){let e,n,r=$e,s=[];for(let e=0;e<r.length;e+=1)s[e]=Is(Ss(t,r,e));const o=t=>_t(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=D()},m(t,r){for(let e=0;e<s.length;e+=1)s[e].m(t,r);R(t,e,r),n=!0},p(t,n){if(0&n){let i;for(r=$e,i=0;i<r.length;i+=1){const o=Ss(t,r,i);s[i]?(s[i].p(o,n),yt(s[i],1)):(s[i]=Is(o),s[i].c(),yt(s[i],1),s[i].m(e.parentNode,e))}for(vt(),i=r.length;i<s.length;i+=1)o(i);xt()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)yt(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)_t(s[t]);n=!1},d(t){L(s,t),t&&T(e)}}}function Is(e){let n,r;return n=new Cs({props:{node:e[7]}}),{c(){It(n.$$.fragment)},m(t,e){Rt(n,t,e),r=!0},p:t,i(t){r||(yt(n.$$.fragment,t),r=!0)},o(t){_t(n.$$.fragment,t),r=!1},d(t){Tt(n,t)}}}function Rs(t){let e,n,r,s,o,i,c,l;n=new Xe({props:{}}),t[4](n);s=new Lr({props:{}}),t[5](s);i=new xs({props:{}}),t[6](i);let a=t[3]&&Es(t);return{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),o=O(),It(i.$$.fragment),c=O(),a&&a.c(),F(e,"class","absolute top-0 left-0 w-app h-app")},m(t,u){R(t,e,u),Rt(n,e,null),S(e,r),Rt(s,e,null),S(e,o),Rt(i,e,null),S(e,c),a&&a.m(e,null),l=!0},p(t,[r]){n.$set({});s.$set({});i.$set({}),t[3]?a?(a.p(t,r),8&r&&yt(a,1)):(a=Es(t),a.c(),yt(a,1),a.m(e,null)):a&&(vt(),_t(a,1,1,(()=>{a=null})),xt())},i(t){l||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),yt(i.$$.fragment,t),yt(a),l=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),_t(i.$$.fragment,t),_t(a),l=!1},d(r){r&&T(e),t[4](null),Tt(n),t[5](null),Tt(s),t[6](null),Tt(i),a&&a.d()}}}function Ts(t,e,n){let r,s,o,i;return u(t,Ft,(t=>n(0,r=t))),u(t,Pt,(t=>n(1,s=t))),u(t,Dt,(t=>n(2,o=t))),u(t,Xt,(t=>n(3,i=t))),[r,s,o,i,function(t){st[t?"unshift":"push"]((()=>{r=t,Ft.set(r)}))},function(t){st[t?"unshift":"push"]((()=>{s=t,Pt.set(s)}))},function(t){st[t?"unshift":"push"]((()=>{o=t,Dt.set(o)}))}]}class Ls extends Qt{constructor(t){super(),Ut(this,t,Ts,Rs,c,{})}}var Us,Qs=Ot(new fn(16,0)),Ns=Ot(new fn(16,0)),Os=Ot(new fn(16,0)),Ds=Ot(new fn(16,0)),Ps=Ot(new fn(16,0)),Fs=Ot(new fn(16,0)),Ms=Ot(new fn(16,0)),Bs=Ot(new fn(16,0)),Ws=Ot(new fn(16,0)),Hs=Ot(new fn(16,0)),js={main_data_bus:Qs,ir_cu_data_bus:Ns,alu_acc_data_bus:Os,alu_sw_data_bus:Ds,mux_alu_data_bus:Ps,cu_mux_ctrl_bus:Fs,cu_ram_ctrl_bus:Ms,cu_alu_ctrl_bus:Bs,main_address_bus:Ws,inc_pc_address_bus:Hs},zs=function(t){function e(e){var n=t.call(this)||this;return n.component=e,n}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(this.component){case"ADDRESS":return[2,a(Dt).flashAddress(a(Ws).unsigned())];case"DATA":return[2,a(Dt).flashContent(a(Ws).unsigned())]}return[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", component: ").concat(this.component)},e}(Er),Vs=function(t){function e(e,n){var r=t.call(this)||this;return r.from=e,r.to=n,r}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return[2,a(Ft).flashWire(this.from,this.to)]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", from: ").concat(this.from,", to: ").concat(this.to)},e}(Er),Zs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e}(xr),Xs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t,e,n,r,s,o;return ee(this,(function(i){switch(i.label){case 0:return t=a(Mn.alu1),e=a(Mn.alu2),n=a(Mn.zeroFlag),r=a(Mn.negativeFlag),o=e>t,(s=e===t)===n||o===r?[3,2]:(Mn.zeroFlag.set(s),Mn.negativeFlag.set(o),[4,Promise.all([a(Pt).flash("SW:Z"),a(Pt).flash("SW:N")])]);case 1:return i.sent(),[3,6];case 2:return s===n?[3,4]:(Mn.zeroFlag.set(s),[4,a(Pt).flash("SW:Z")]);case 3:i.sent(),i.label=4;case 4:return o===r?[3,6]:(Mn.negativeFlag.set(o),[4,a(Pt).flash("SW:N")]);case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},e}(Zs),Gs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t,e,n,r;return ee(this,(function(s){switch(t=a(Mn.aluOperation),e=a(Mn.alu1).signed(),n=a(Mn.alu2).signed(),t){case"!":r=~n;break;case"&":r=e&n;break;case"*":r=e*n;break;case"+":r=e+n;break;case"-":r=e-n;break;case"/":if(0===n)throw new Error("Division by zero");r=e/n;break;case"=":r=n;break;default:throw new Error('Unexpected ALU operation: "'.concat(t,'"'))}return Mn.aluResult.set(new fn(16,r)),[2]}))}))},e}(Zs),Js=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t,e,n,r,s;return ee(this,(function(o){switch(o.label){case 0:return t=a(Mn.accumulator).signed(),e=a(Mn.zeroFlag),n=a(Mn.negativeFlag),s=t<0,(r=0===t)===e||s===n?[3,2]:(Mn.zeroFlag.set(r),Mn.negativeFlag.set(s),[4,Promise.all([a(Pt).flash("SW:Z"),a(Pt).flash("SW:N")])]);case 1:return o.sent(),[3,6];case 2:return r===e?[3,4]:(Mn.zeroFlag.set(r),[4,a(Pt).flash("SW:Z")]);case 3:o.sent(),o.label=4;case 4:return s===n?[3,6]:(Mn.negativeFlag.set(s),[4,a(Pt).flash("SW:N")]);case 5:o.sent(),o.label=6;case 6:return[2]}}))}))},e}(Zs),qs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e}(xr),Ks=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t,e;return ee(this,(function(n){switch(n.label){case 0:return t=a(Ws).unsigned(),e=Mr.read(t).symbolicOpcode,/^[A-Z]+$/.test(e)&&"NOP"!==e?Mr.write(t,Sn(a(Qs).toBinaryString(),!0)):Mr.write(t,Sn(a(Qs).signed().toString(),!1)),[4,a(Dt).flashContent(t)];case 1:return n.sent(),[2]}}))}))},e}(qs),Ys=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return Mn.isHalting.set(!0),[2]}))}))},e}(Zs),to=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return Tn.set(a(Qs)),[4,a(Pt).flash("ALU:1")];case 1:return t.sent(),[2]}}))}))},e}(Zs),eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return Mn.instructionRegister.set(Sn(a(Qs).toBinaryString(),!0)),[4,a(Pt).flash("IR")];case 1:return t.sent(),[2]}}))}))},e}(Zs),no=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t;return ee(this,(function(e){switch(e.label){case 0:return t=a(Mn.programCounter).unsigned()+a(Hs).unsigned(),Mn.programCounter.set(new fn(8,t)),[4,a(Pt).flash("PC")];case 1:return e.sent(),[2]}}))}))},e}(Zs),ro=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return Mn.isJumping.set(!0),Mn.programCounter.set(a(Ws)),[4,a(Pt).flash("PC")];case 1:return t.sent(),[2]}}))}))},e}(Zs),so=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return Mn.alu2.set(a(Ps)),[4,a(Pt).flash("ALU:2")];case 1:return t.sent(),[2]}}))}))},e}(Zs),oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t;return ee(this,(function(e){switch(e.label){case 0:return t=a(Mn.instructionRegister).opcode.operator,Mn.aluOperation.set(t),[4,a(Pt).flash("ALU:OPR")];case 1:return e.sent(),[2]}}))}))},e}(Zs),io=null;Fe.subscribe((function(t){return Us=a(Me).find((function(e){return e.name===t}))}));var co={read:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];(io=new SpeechSynthesisUtterance(t)).rate=a(Pe),io.voice=Us,io.onend=io.onerror=function(){io=null,e.forEach((function(t){return null==t?void 0:t()}))},speechSynthesis.speak(io)},isUtteranceEnded:function(){return null===io}},lo=function(t){function e(e){var n=t.call(this)||this;return n.step=e,n.condition(Sr),n}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){var t;return ee(this,(function(n){return e.utteranceEndedPromise=new Promise((function(e){return t=e})),co.read(a(tn).steps[this.step].tts,(function(){return t()})),[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", step: ").concat(this.step)},e}(xr),ao=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.call(this)||this;return r.subactions=ne([],e,!0),r}return Kt(e,t),e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this)," [").concat(this.subactions.length,"]")},e}(xr),uo=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(this,e)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return[2,Promise.all(this.subactions.map((function(t){return t.execute()})))]}))}))},e}(ao);function fo(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return[2,lo.utteranceEndedPromise]}))}))}var po=function(t){function e(e){var n=t.call(this)||this;return n.step=e,n}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return a(zt).setText(a(tn).steps[this.step].text),[2]}))}))},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this),", step: ").concat(this.step)},e}(xr),$o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e}(xr),ho={RAM:"main_data_bus","IR:OPC":"ir_cu_data_bus","IR:OPR":"main_address_bus","ALU:RES":"alu_acc_data_bus",ACC:"main_data_bus",PC:"main_address_bus",INC:"inc_pc_address_bus"},mo=function(t){function e(e,n){void 0===n&&(n="default");var r=t.call(this)||this;return r.valueSource=e,r.bus="default"===n?ho[e]:n,r}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){return js[this.bus].set(this.getValueFromSource()),[2]}))}))},e.prototype.getValueFromSource=function(){switch(this.valueSource){case"RAM":return Mr.read(a(Ws).unsigned()).value;case"IR:OPC":return a(Mn.instructionRegister).opcodeValue();case"IR:OPR":return a(Mn.instructionRegister).operandValue();case"ALU:RES":return a(Mn.aluResult);case"ACC":return a(Mn.accumulator);case"CU":throw new Error("CU value not implemented");case"PC":return a(Mn.programCounter);case"INC":return a(Mn.increment);default:throw new Error(this.valueSource+" value not implemented")}},e.prototype.toString=function(){return"".concat(t.prototype.toString.call(this)," valueSource: ").concat(this.valueSource," bus: ").concat(this.bus)},e}($o),go=[new uo(new mo("PC"),new Vs("PC:1","INC:2"),new lo("pc_increment"),new po("pc_increment")),new mo("INC"),new Vs("INC:1","PC:2"),(new no).thenWaitFor(fo).endstep()],wo=[new uo(new Ir("PC"),new lo("pc_to_ram"),new po("pc_to_ram")),new uo(new mo("PC"),new Vs("PC:2","RAM:ADD")),new zs("ADDRESS").thenWaitFor(fo).endstep(),new uo(new Vs("CU:3","RAM:CTRL"),new lo("memory_fetch"),new po("memory_fetch")).thenWaitFor(fo).endstep(),new uo(new zs("DATA"),new lo("ram_to_ir"),new po("ram_to_ir")),new uo(new mo("RAM"),new Vs("RAM:DATA","IR:1")),(new eo).thenWaitFor(fo).endstep()],bo=[new uo(new Ir("IR:OPC"),new lo("ir_to_cu"),new po("ir_to_cu")),new uo(new mo("IR:OPC"),new Vs("IR:3","CU:1")),new Ir("CU").thenWaitFor(fo).endstep()],vo=[new uo(new Vs("CU:2","MUX:4"),new lo("cu_to_mux"),new po("cu_to_mux")),new Ir("MUX").thenWaitFor(fo).endstep()],xo=[new uo(new Vs("CU:4","ALU:5"),new lo("cu_to_alu"),new po("cu_to_alu")),(new oo).thenWaitFor(fo).endstep()],yo=[new uo(new Ir("ACC"),new lo("acc_to_alu1"),new po("acc_to_alu1")),new uo(new mo("ACC"),new Vs("ACC:1","ALU:1")),(new to).thenWaitFor(fo).endstep()];function _o(t){return t?ko:Ao}var ko=[new uo(new Ir("IR:OPR"),new lo("ir_to_alu2"),new po("ir_to_alu2")),new uo(new mo("IR:OPR"),new Vs("IR:2","MUX:1")),new uo(new mo("IR:OPR","mux_alu_data_bus"),new Vs("MUX:3","ALU:2")),(new so).thenWaitFor(fo).endstep()],Ao=[new uo(new Ir("IR:OPR"),new lo("ir_to_ram"),new po("ir_to_ram")),new uo(new mo("IR:OPR"),new Vs("IR:2","RAM:ADD")),new zs("ADDRESS").thenWaitFor(fo).endstep(),new uo(new Ir("CU"),new lo("memory_read"),new po("memory_read")),new uo(new Vs("CU:3","RAM:CTRL").thenWaitFor(fo).endstep()),new uo(new zs("DATA"),new lo("ram_to_alu2"),new po("ram_to_alu2")),new uo(new mo("RAM"),new Vs("RAM:DATA","MUX:2")),new uo(new mo("RAM","mux_alu_data_bus"),new Vs("MUX:3","ALU:2")),(new so).thenWaitFor(fo).endstep()],Co=[new uo(new Ir("IR:OPR"),new lo("ir_to_pc"),new po("ir_to_pc")),new uo(new mo("IR:OPR"),new Vs("IR:2","PC:2")),(new ro).thenWaitFor(fo).endstep()],So=[new uo(new Ir("IR:OPR"),new lo("ir_to_pc"),new po("ir_to_pc")).condition(yr),new uo(new mo("IR:OPR"),new Vs("IR:2","PC:2")).condition(yr),(new ro).condition(yr).thenWaitFor(fo).endstep()],Eo=[new uo(new Ir("IR:OPR"),new lo("ir_to_pc"),new po("ir_to_pc")).condition(_r),new uo(new mo("IR:OPR"),new Vs("IR:2","PC:2")).condition(_r),(new ro).condition(_r).thenWaitFor(fo).endstep()],Io=[new uo(new Ir("IR:OPR"),new lo("ir_to_pc"),new po("ir_to_pc")).condition(kr),new uo(new mo("IR:OPR"),new Vs("IR:2","PC:2")).condition(kr),(new ro).condition(kr).thenWaitFor(fo).endstep()],Ro=[new uo(new Ir("IR:OPR"),new lo("ir_to_pc"),new po("ir_to_pc")).condition(Ar),new uo(new mo("IR:OPR"),new Vs("IR:2","PC:2")).condition(Ar),(new ro).condition(Ar).thenWaitFor(fo).endstep()],To=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Kt(e,t),e.prototype.action=function(){return te(this,void 0,void 0,(function(){return ee(this,(function(t){switch(t.label){case 0:return Mn.accumulator.set(a(Os)),[4,a(Pt).flash("ACC")];case 1:return t.sent(),[2]}}))}))},e}(Zs);var Lo=!1,Uo=!1,Qo=!1,No=!1,Oo="ENQUEUING_FETCH",Do=[],Po=Yt(Yt({},Ot(!1)),{update:function(){return Po.set(Lo||Uo||Qo)}}),Fo={subscribe:Po.subscribe};function Mo(){return te(this,void 0,void 0,(function(){var t;return ee(this,(function(e){switch(e.label){case 0:return zo()||!jo()?[3,2]:[4,(t=Do.shift()).execute()];case 1:return e.sent(),Uo&&t.doesEndStep()&&Zo(!1),[3,0];case 2:return[2]}}))}))}function Bo(){Vo(!0),Zo(!1),Xo(!1),vr.info("Execution - START","EXECUTION")}function Wo(){Vo(!1),Zo(!1),Xo(!1),vr.info("Execution - PAUSE","EXECUTION")}function Ho(){Wo(),Mn.isHalting.set(!1),Oo="ENQUEUING_FETCH",Do=[],vr.info("Execution - RESET","EXECUTION")}function jo(){return Lo||Uo||Qo}function zo(){return 0===Do.length}function Vo(t){Lo=t,Po.update()}function Zo(t){Uo=t,Po.update()}function Xo(t){Qo=t,Po.update()}setInterval((function(){return te(this,void 0,void 0,(function(){var t;return ee(this,(function(e){switch(e.label){case 0:if(No||!jo())return[2];No=!0,e.label=1;case 1:switch(e.trys.push([1,12,13,14]),Oo){case"ENQUEUING_FETCH":return[3,2];case"EXECUTING_FETCH":return[3,3];case"ENQUEUING_INSTRUCTION":return[3,5];case"EXECUTING_INSTRUCTION":return[3,6];case"ENQUEUEING_PC_INCREMENT":return[3,8];case"EXECUTING_PC_INCREMENT":return[3,9]}return[3,11];case 2:return Do.push.apply(Do,ne(ne([],wo,!1),bo,!1)),Oo="EXECUTING_FETCH",[3,11];case 3:return[4,Mo()];case 4:return e.sent(),zo()&&(Oo="ENQUEUING_INSTRUCTION"),[3,11];case 5:return Do.push.apply(Do,function(t){if(!t.opcode)throw new Error("Invalid opcode");var e=[];switch(t.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":e.push.apply(e,ne(ne(ne(ne(ne([],vo,!1),xo,!1),yo,!1),_o(t.immediateFlag()),!1),[new Gs,new uo(new mo("ALU:RES"),new Vs("ALU:4","ACC:2"),new lo("execute"),new po("execute")),(new To).thenWaitFor(fo).endstep(),new uo(new Vs("ALU:3","SW:1"),new lo("alu_to_sw"),new po("alu_to_sw")),(new Js).thenWaitFor(fo).endstep()],!1));break;case"NOT":e.push.apply(e,ne(ne(ne(ne([],vo,!1),xo,!1),_o(t.immediateFlag()),!1),[new Gs,new uo(new mo("ALU:RES"),new Vs("ALU:4","ACC:2"),new lo("execute"),new po("execute")),(new To).thenWaitFor(fo).endstep(),new uo(new Vs("ALU:3","SW:1"),new lo("alu_to_sw"),new po("alu_to_sw")),(new Js).thenWaitFor(fo).endstep()],!1));break;case"CMP":e.push.apply(e,ne(ne(ne(ne(ne([],vo,!1),xo,!1),yo,!1),_o(t.immediateFlag()),!1),[new uo(new Vs("ALU:3","SW:1"),new lo("alu_to_sw"),new po("alu_to_sw")),(new Xs).thenWaitFor(fo).endstep()],!1));break;case"LOD":e.push.apply(e,ne(ne(ne(ne([],vo,!1),xo,!1),_o(t.immediateFlag()),!1),[new Gs,new uo(new mo("ALU:RES"),new Vs("ALU:4","ACC:2"),new lo("execute"),new po("execute")),(new To).thenWaitFor(fo).endstep()],!1));break;case"STO":e.push(new uo(new mo("IR:OPR"),new Vs("IR:2","RAM:ADD"),new lo("ir_to_ram"),new po("ir_to_ram")),new zs("ADDRESS").thenWaitFor(fo).endstep(),new uo(new Ir("ACC"),new lo("acc_to_ram"),new po("acc_to_ram")),new uo(new mo("ACC"),new Vs("ACC:1","RAM:DATA")).thenWaitFor(fo).endstep(),new uo(new Vs("CU:3","RAM:CTRL"),new lo("memory_write"),new po("memory_write")).thenWaitFor(fo).endstep(),new uo(new Ks,new lo("acc_stored_to_ram"),new po("acc_stored_to_ram")).thenWaitFor(fo).endstep());break;case"JMP":e.push.apply(e,Co);break;case"JZ":e.push.apply(e,ne([new Ir("SW:Z")],So,!1));break;case"JNZ":e.push.apply(e,ne([new Ir("SW:Z")],Eo,!1));break;case"JN":e.push.apply(e,ne([new Ir("SW:N")],Io,!1));break;case"JNN":e.push.apply(e,ne([new Ir("SW:N")],Ro,!1));break;case"NOP":e.push();break;case"HLT":e.push(new Ys);break;default:throw new Error('Unrecognized opcode: "'.concat(t.opcode.symbolic,'"'))}return e}(a(Mn.instructionRegister))),vr.info('Executing instruction "'.concat(a(Mn.instructionRegister).symbolic(),'"'),"EXECUTION"),Oo="EXECUTING_INSTRUCTION",[3,11];case 6:return[4,Mo()];case 7:return e.sent(),zo()&&(a(Mn.programCounter).unsigned()!==gn||a(Mn.isJumping)||Mn.isHalting.set(!0),a(Mn.isJumping)?(Oo="ENQUEUING_FETCH",Qo&&Xo(!1)):Oo="ENQUEUEING_PC_INCREMENT"),[3,11];case 8:return Do.push.apply(Do,go),Oo="EXECUTING_PC_INCREMENT",[3,11];case 9:return[4,Mo()];case 10:return e.sent(),Qo&&(Xo(!1),Mn.isHalting.set(!0)),zo()&&(Oo="ENQUEUING_FETCH"),[3,11];case 11:return[3,14];case 12:return t=e.sent(),Mn.isHalting.set(!0),a(Wt).error(t.message),vr.error(t,"EXECUTION",t.isChecked),[3,14];case 13:return a(Mn.isHalting)&&Ho(),No=!1,[7];case 14:return[2]}}))}))}),50);var Go={start:Bo,pause:Wo,toggle:function(){a(Po)?Wo():Bo()},step:function(){Vo(!1),Zo(!0),Xo(!1),vr.info("Execution - STEP","EXECUTION")},instruction:function(){Vo(!1),Zo(!1),Xo(!0),vr.info("Execution - INSTRUCTION","EXECUTION")},reset:Ho};function Jo(t){let e,n,r,s,i;const c=t[3].default,l=f(c,t,t[2],null);return{c(){e=U("button"),l&&l.c(),F(e,"class",n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class),e.disabled=t[0]},m(n,o){R(n,e,o),l&&l.m(e,null),r=!0,s||(i=[P(e,"click",t[4]),P(e,"focus",t[5]),P(e,"focusout",t[6]),P(e,"mouseenter",t[7]),P(e,"mouseleave",t[8]),P(e,"mouseover",t[9])],s=!0)},p(t,[s]){l&&l.p&&(!r||4&s)&&$(l,c,t,t[2],r?p(c,t[2],s,null):h(t[2]),null),(!r||2&s&&n!==(n="text-white border border-white px-2 rounded-md hover:text-black hover:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class))&&F(e,"class",n),(!r||1&s)&&(e.disabled=t[0])},i(t){r||(yt(l,t),r=!0)},o(t){_t(l,t),r=!1},d(t){t&&T(e),l&&l.d(t),s=!1,o(i)}}}function qo(t,e,r){const s=["disabled"];let o=g(e,s),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(1,o=g(e,s)),"disabled"in t&&r(0,l=t.disabled),"$$scope"in t&&r(2,c=t.$$scope)},[l,o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Ko extends Qt{constructor(t){super(),Ut(this,t,qo,Jo,c,{disabled:0})}}function Yo(t){let e,n,r,s,i;const c=t[5].default,l=f(c,t,t[4],null);return{c(){e=U("button"),l&&l.c(),F(e,"class",n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class),e.disabled=t[1]},m(n,o){R(n,e,o),l&&l.m(e,null),r=!0,s||(i=[P(e,"click",t[2]),P(e,"focus",t[6]),P(e,"focusout",t[7]),P(e,"mouseenter",t[8]),P(e,"mouseleave",t[9]),P(e,"mouseover",t[10])],s=!0)},p(t,[s]){l&&l.p&&(!r||16&s)&&$(l,c,t,t[4],r?p(c,t[4],s,null):h(t[4]),null),(!r||9&s&&n!==(n="text-white border border-white px-2 rounded-md transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+(t[0]?"text-black bg-white":"")+" "+t[3].class))&&F(e,"class",n),(!r||2&s)&&(e.disabled=t[1])},i(t){r||(yt(l,t),r=!0)},o(t){_t(l,t),r=!1},d(t){t&&T(e),l&&l.d(t),s=!1,o(i)}}}function ti(t,e,r){const s=["disabled","checked"];let o=g(e,s),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=et();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,o=g(e,s)),"disabled"in t&&r(1,l=t.disabled),"checked"in t&&r(0,a=t.checked),"$$scope"in t&&r(4,c=t.$$scope)},[a,l,function(t){r(0,a=!a),u("click",t)},o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class ei extends Qt{constructor(t){super(),Ut(this,t,ti,Yo,c,{disabled:1,checked:0})}}function ni(e){let n,r,s,i;return{c(){n=U("input"),F(n,"class",r="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+e[4].class),F(n,"type","text"),F(n,"placeholder",e[1]),n.disabled=e[2]},m(t,r){R(t,n,r),W(n,e[0]),s||(i=[P(n,"input",e[6]),P(n,"change",e[7]),P(n,"focus",e[8]),P(n,"focusout",e[9]),P(n,"mouseenter",e[10]),P(n,"mouseleave",e[11]),P(n,"mouseover",e[12]),P(n,"input",e[13]),v(e[3].call(null,n))],s=!0)},p(t,[e]){16&e&&r!==(r="bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] "+t[4].class)&&F(n,"class",r),2&e&&F(n,"placeholder",t[1]),4&e&&(n.disabled=t[2]),1&e&&n.value!==t[0]&&W(n,t[0])},i:t,o:t,d(t){t&&T(n),s=!1,o(i)}}}function ri(t,e,r){const s=["value","placeholder","disabled","type"];let o=g(e,s),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{type:a="text"}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,o=g(e,s)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"type"in t&&r(5,a=t.type)},[i,c,l,function(t){t.type=a},o,a,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){i=this.value,r(0,i)}]}class si extends Qt{constructor(t){super(),Ut(this,t,ri,ni,c,{value:0,placeholder:1,disabled:2,type:5})}}function oi(t,e,n){const r=t.slice();return r[13]=e[n],r}function ii(t){let e,n;return{c(){e=U("option"),n=N(t[1]),F(e,"class","text-black bg-white"),e.__value="",e.value=e.__value,e.selected=!0,e.disabled=!0},m(t,r){R(t,e,r),S(e,n)},p(t,e){2&e&&B(n,t[1])},d(t){t&&T(e)}}}function ci(t){let e,n,r,s=t[13]+"";return{c(){e=U("option"),n=N(s),F(e,"class","text-black bg-white"),e.__value=r=t[13],e.value=e.__value},m(t,r){R(t,e,r),S(e,n)},p(t,o){8&o&&s!==(s=t[13]+"")&&B(n,s),8&o&&r!==(r=t[13])&&(e.__value=r,e.value=e.__value)},d(t){t&&T(e)}}}function li(e){let n,r,s,i,c,l=""!==e[1]&&ii(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=ci(oi(e,a,t));return{c(){n=U("select"),l&&l.c(),r=D();for(let t=0;t<u.length;t+=1)u[t].c();F(n,"class",s="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class),n.disabled=e[2],void 0===e[0]&&at((()=>e[12].call(n)))},m(t,s){R(t,n,s),l&&l.m(n,null),S(n,r);for(let t=0;t<u.length;t+=1)u[t].m(n,null);j(n,e[0]),i||(c=[P(n,"input",e[5]),P(n,"change",e[6]),P(n,"focus",e[7]),P(n,"focusout",e[8]),P(n,"mouseenter",e[9]),P(n,"mouseleave",e[10]),P(n,"mouseover",e[11]),P(n,"change",e[12])],i=!0)},p(t,[e]){if(""!==t[1]?l?l.p(t,e):(l=ii(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),8&e){let r;for(a=t[3],r=0;r<a.length;r+=1){const s=oi(t,a,r);u[r]?u[r].p(s,e):(u[r]=ci(s),u[r].c(),u[r].m(n,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}16&e&&s!==(s="cursor-pointer bg-transparent border-2 border-white text-white rounded-md px-1 disabled:brightness-[.6] w-fit "+t[4].class)&&F(n,"class",s),4&e&&(n.disabled=t[2]),9&e&&j(n,t[0])},i:t,o:t,d(t){t&&T(n),l&&l.d(),L(u,t),i=!1,o(c)}}}function ai(t,e,r){const s=["value","placeholder","disabled","options"];let o=g(e,s),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{options:a=[]}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,o=g(e,s)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"options"in t&&r(3,a=t.options)},[i,c,l,a,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){i=z(this),r(0,i),r(3,a)}]}class ui extends Qt{constructor(t){super(),Ut(this,t,ai,li,c,{value:0,placeholder:1,disabled:2,options:3})}}function fi(t){let e,n;return{c(){e=U("p"),n=N(t[4]),F(e,"class","text-red-500")},m(t,r){R(t,e,r),S(e,n)},p(t,e){16&e&&B(n,t[4])},d(t){t&&T(e)}}}function di(t){let e;return{c(){e=N("#")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function pi(t){let e,n,r,s,o,i,c,l,a,u,f,d,p=null!==t[4]&&fi(t);function $(e){t[6](e)}let h={options:dn.map($i)};function m(e){t[7](e)}void 0!==t[0]&&(h.value=t[0]),s=new ui({props:h}),st.push((()=>Et(s,"value",$)));let g={disabled:!t[3].takesOperand||!t[3].takesImmediate,$$slots:{default:[di]},$$scope:{ctx:t}};function w(e){t[8](e)}void 0!==t[2]&&(g.checked=t[2]),c=new ei({props:g}),st.push((()=>Et(c,"checked",m)));let b={class:"w-20",type:"number",disabled:!t[3].takesOperand};return void 0!==t[1]&&(b.value=t[1]),u=new si({props:b}),st.push((()=>Et(u,"value",w))),{c(){e=U("div"),p&&p.c(),n=O(),r=U("div"),It(s.$$.fragment),i=O(),It(c.$$.fragment),a=O(),It(u.$$.fragment),F(r,"class","flex items-center justify-center gap-1"),F(e,"class","flex flex-col items-center justify-center gap-1")},m(t,o){R(t,e,o),p&&p.m(e,null),S(e,n),S(e,r),Rt(s,r,null),S(r,i),Rt(c,r,null),S(r,a),Rt(u,r,null),d=!0},p(t,[r]){null!==t[4]?p?p.p(t,r):(p=fi(t),p.c(),p.m(e,n)):p&&(p.d(1),p=null);const i={};!o&&1&r&&(o=!0,i.value=t[0],ut((()=>o=!1))),s.$set(i);const a={};8&r&&(a.disabled=!t[3].takesOperand||!t[3].takesImmediate),512&r&&(a.$$scope={dirty:r,ctx:t}),!l&&4&r&&(l=!0,a.checked=t[2],ut((()=>l=!1))),c.$set(a);const d={};8&r&&(d.disabled=!t[3].takesOperand),!f&&2&r&&(f=!0,d.value=t[1],ut((()=>f=!1))),u.$set(d)},i(t){d||(yt(s.$$.fragment,t),yt(c.$$.fragment,t),yt(u.$$.fragment,t),d=!0)},o(t){_t(s.$$.fragment,t),_t(c.$$.fragment,t),_t(u.$$.fragment,t),d=!1},d(t){t&&T(e),p&&p.d(),Tt(s),Tt(c),Tt(u)}}}const $i=t=>t.symbolic;function hi(t,e,n){let r,{value:s=Sn("NOP",!1)}=e,o="NOP",i=0,c=!1,l=null;return t.$$set=t=>{"value"in t&&n(5,s=t.value)},t.$$.update=()=>{if(1&t.$$.dirty&&n(3,r=pn(o)),15&t.$$.dirty){n(4,l=null);try{r.takesOperand?c&&r.takesImmediate?n(5,s=Sn(`${o} #${i}`,!1)):n(5,s=Sn(`${o} ${i}`,!1)):n(5,s=Sn(o,!1))}catch(t){n(4,l=t.message)}}},[o,i,c,r,l,s,function(t){o=t,n(0,o)},function(t){c=t,n(2,c)},function(t){i=t,n(1,i)}]}class mi extends Qt{constructor(t){super(),Ut(this,t,hi,pi,c,{value:5})}}const gi=t=>({}),wi=t=>({}),bi=t=>({}),vi=t=>({});function xi(t){let e,n,r,s,o,i,c,l;const a=t[2].inputs,u=f(a,t,t[1],vi),d=t[2].buttons,m=f(d,t,t[1],wi);return{c(){e=U("div"),n=U("h2"),r=N(t[0]),s=O(),o=U("div"),u&&u.c(),i=O(),c=U("div"),m&&m.c(),F(n,"class","text-lg mx-auto"),F(o,"class","w-full flex flex-col items-center gap-0.5"),F(c,"class","w-full flex flex-wrap justify-center gap-1"),F(e,"class","flex flex-col items-center gap-1.5 max-w-[250px]")},m(t,a){R(t,e,a),S(e,n),S(n,r),S(e,s),S(e,o),u&&u.m(o,null),S(e,i),S(e,c),m&&m.m(c,null),l=!0},p(t,[e]){(!l||1&e)&&B(r,t[0]),u&&u.p&&(!l||2&e)&&$(u,a,t,t[1],l?p(a,t[1],e,bi):h(t[1]),vi),m&&m.p&&(!l||2&e)&&$(m,d,t,t[1],l?p(d,t[1],e,gi):h(t[1]),wi)},i(t){l||(yt(u,t),yt(m,t),l=!0)},o(t){_t(u,t),_t(m,t),l=!1},d(t){t&&T(e),u&&u.d(t),m&&m.d(t)}}}function yi(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:o=""}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"$$scope"in t&&n(1,s=t.$$scope)},[o,s,r]}class _i extends Qt{constructor(t){super(),Ut(this,t,yi,xi,c,{title:0})}}function ki(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$,h,m,g,w,b,v,x,y,_,k,A,C,E;return l=new _i({props:{title:"Execution",$$slots:{buttons:[Li]},$$scope:{ctx:t}}}),u=new _i({props:{title:"CPU",$$slots:{buttons:[ji],inputs:[Qi]},$$scope:{ctx:t}}}),d=new _i({props:{title:"CPU ANIMATION",$$slots:{buttons:[Zi],inputs:[zi]},$$scope:{ctx:t}}}),$=new _i({props:{title:"RAM",$$slots:{buttons:[ec],inputs:[Xi]},$$scope:{ctx:t}}}),m=new _i({props:{title:"MESSAGE",$$slots:{buttons:[lc],inputs:[nc]},$$scope:{ctx:t}}}),w=new _i({props:{title:"WIRES",$$slots:{buttons:[fc],inputs:[ac]},$$scope:{ctx:t}}}),v=new _i({props:{title:"NODES",$$slots:{buttons:[hc]},$$scope:{ctx:t}}}),y=new _i({props:{title:"DISPLAY",$$slots:{buttons:[bc],inputs:[mc]},$$scope:{ctx:t}}}),k=new _i({props:{title:"TTS",$$slots:{buttons:[_c],inputs:[vc]},$$scope:{ctx:t}}}),{c(){e=U("div"),n=U("div"),r=U("h1"),r.textContent="Debugger",s=O(),o=U("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',i=O(),c=U("div"),It(l.$$.fragment),a=O(),It(u.$$.fragment),f=O(),It(d.$$.fragment),p=O(),It($.$$.fragment),h=O(),It(m.$$.fragment),g=O(),It(w.$$.fragment),b=O(),It(v.$$.fragment),x=O(),It(y.$$.fragment),_=O(),It(k.$$.fragment),F(r,"class","text-xl"),F(o,"title","Close debugger"),F(n,"class","w-full flex flex-wrap items-center justify-between p-4"),F(c,"class","w-full overflow-y-auto p-5 flex flex-wrap gap-8"),F(e,"class","fixed top-0 left-0 w-screen h-screen bg-black/50 text-white")},m(I,T){R(I,e,T),S(e,n),S(n,r),S(n,s),S(n,o),S(e,i),S(e,c),Rt(l,c,null),S(c,a),Rt(u,c,null),S(c,f),Rt(d,c,null),S(c,p),Rt($,c,null),S(c,h),Rt(m,c,null),S(c,g),Rt(w,c,null),S(c,b),Rt(v,c,null),S(c,x),Rt(y,c,null),S(c,_),Rt(k,c,null),A=!0,C||(E=P(o,"click",t[25]),C=!0)},p(t,e){const n={};1024&e[2]&&(n.$$scope={dirty:e,ctx:t}),l.$set(n);const r={};15&e[0]|1024&e[2]&&(r.$$scope={dirty:e,ctx:t}),u.$set(r);const s={};4112&e[0]|1024&e[2]&&(s.$$scope={dirty:e,ctx:t}),d.$set(s);const o={};24672&e[0]|1024&e[2]&&(o.$$scope={dirty:e,ctx:t}),$.$set(o);const i={};32896&e[0]|1024&e[2]&&(i.$$scope={dirty:e,ctx:t}),m.$set(i);const c={};66304&e[0]|1024&e[2]&&(c.$$scope={dirty:e,ctx:t}),w.$set(c);const a={};917504&e[0]|1024&e[2]&&(a.$$scope={dirty:e,ctx:t}),v.$set(a);const f={};7340032&e[0]|1024&e[2]&&(f.$$scope={dirty:e,ctx:t}),y.$set(f);const p={};8389632&e[0]|1024&e[2]&&(p.$$scope={dirty:e,ctx:t}),k.$set(p)},i(t){A||(yt(l.$$.fragment,t),yt(u.$$.fragment,t),yt(d.$$.fragment,t),yt($.$$.fragment,t),yt(m.$$.fragment,t),yt(w.$$.fragment,t),yt(v.$$.fragment,t),yt(y.$$.fragment,t),yt(k.$$.fragment,t),A=!0)},o(t){_t(l.$$.fragment,t),_t(u.$$.fragment,t),_t(d.$$.fragment,t),_t($.$$.fragment,t),_t(m.$$.fragment,t),_t(w.$$.fragment,t),_t(v.$$.fragment,t),_t(y.$$.fragment,t),_t(k.$$.fragment,t),A=!1},d(t){t&&T(e),Tt(l),Tt(u),Tt(d),Tt($),Tt(m),Tt(w),Tt(v),Tt(y),Tt(k),C=!1,E()}}}function Ai(t){let e;return{c(){e=N("Reset")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ci(t){let e;return{c(){e=N("Play")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Si(t){let e;return{c(){e=N("Pause")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ei(t){let e;return{c(){e=N("Step")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ii(t){let e;return{c(){e=N("Instruction")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ri(t){let e;return{c(){e=N("Skip Step")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ti(t){let e;return{c(){e=N("Skip Instruction")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Li(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$;return e=new Ko({props:{$$slots:{default:[Ai]},$$scope:{ctx:t}}}),e.$on("click",t[26]),r=new Ko({props:{$$slots:{default:[Ci]},$$scope:{ctx:t}}}),r.$on("click",t[27]),o=new Ko({props:{$$slots:{default:[Si]},$$scope:{ctx:t}}}),o.$on("click",t[28]),c=new Ko({props:{$$slots:{default:[Ei]},$$scope:{ctx:t}}}),c.$on("click",t[29]),a=new Ko({props:{$$slots:{default:[Ii]},$$scope:{ctx:t}}}),a.$on("click",t[30]),f=new Ko({props:{disabled:!0,$$slots:{default:[Ri]},$$scope:{ctx:t}}}),p=new Ko({props:{disabled:!0,$$slots:{default:[Ti]},$$scope:{ctx:t}}}),{c(){It(e.$$.fragment),n=O(),It(r.$$.fragment),s=O(),It(o.$$.fragment),i=O(),It(c.$$.fragment),l=O(),It(a.$$.fragment),u=O(),It(f.$$.fragment),d=O(),It(p.$$.fragment)},m(t,h){Rt(e,t,h),R(t,n,h),Rt(r,t,h),R(t,s,h),Rt(o,t,h),R(t,i,h),Rt(c,t,h),R(t,l,h),Rt(a,t,h),R(t,u,h),Rt(f,t,h),R(t,d,h),Rt(p,t,h),$=!0},p(t,n){const s={};1024&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};1024&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const $={};1024&n[2]&&($.$$scope={dirty:n,ctx:t}),f.$set($);const h={};1024&n[2]&&(h.$$scope={dirty:n,ctx:t}),p.$set(h)},i(t){$||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(c.$$.fragment,t),yt(a.$$.fragment,t),yt(f.$$.fragment,t),yt(p.$$.fragment,t),$=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),$=!1},d(t){Tt(e,t),t&&T(n),Tt(r,t),t&&T(s),Tt(o,t),t&&T(i),Tt(c,t),t&&T(l),Tt(a,t),t&&T(u),Tt(f,t),t&&T(d),Tt(p,t)}}}function Ui(t){let e;return{c(){e=N("Flag")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Qi(t){let e,n,r,s,o,i,c,l,a,u,f,d,p;function $(e){t[40](e)}let h={};function m(e){t[41](e)}void 0!==t[0]&&(h.value=t[0]),e=new mi({props:h}),st.push((()=>Et(e,"value",$)));let g={type:"number",placeholder:"Value"};function w(e){t[42](e)}void 0!==t[1]&&(g.value=t[1]),s=new si({props:g}),st.push((()=>Et(s,"value",m)));let b={placeholder:"Operation",options:["+","-","*","/",":","!","&","="]};function v(e){t[43](e)}void 0!==t[2]&&(b.value=t[2]),l=new ui({props:b}),st.push((()=>Et(l,"value",w)));let x={$$slots:{default:[Ui]},$$scope:{ctx:t}};return void 0!==t[3]&&(x.checked=t[3]),f=new ei({props:x}),st.push((()=>Et(f,"checked",v))),{c(){It(e.$$.fragment),r=O(),It(s.$$.fragment),i=O(),c=U("div"),It(l.$$.fragment),u=O(),It(f.$$.fragment),F(c,"class","flex gap-1")},m(t,n){Rt(e,t,n),R(t,r,n),Rt(s,t,n),R(t,i,n),R(t,c,n),Rt(l,c,null),S(c,u),Rt(f,c,null),p=!0},p(t,r){const i={};!n&&1&r[0]&&(n=!0,i.value=t[0],ut((()=>n=!1))),e.$set(i);const c={};!o&&2&r[0]&&(o=!0,c.value=t[1],ut((()=>o=!1))),s.$set(c);const u={};!a&&4&r[0]&&(a=!0,u.value=t[2],ut((()=>a=!1))),l.$set(u);const p={};1024&r[2]&&(p.$$scope={dirty:r,ctx:t}),!d&&8&r[0]&&(d=!0,p.checked=t[3],ut((()=>d=!1))),f.$set(p)},i(t){p||(yt(e.$$.fragment,t),yt(s.$$.fragment,t),yt(l.$$.fragment,t),yt(f.$$.fragment,t),p=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(l.$$.fragment,t),_t(f.$$.fragment,t),p=!1},d(t){Tt(e,t),t&&T(r),Tt(s,t),t&&T(i),t&&T(c),Tt(l),Tt(f)}}}function Ni(t){let e;return{c(){e=N("Reset")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Oi(t){let e;return{c(){e=N("Set IR")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Di(t){let e;return{c(){e=N("Set PC")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Pi(t){let e;return{c(){e=N("Set ALU:1")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Fi(t){let e;return{c(){e=N("Set ALU:2")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Mi(t){let e;return{c(){e=N("Set ALU:OPR")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Bi(t){let e;return{c(){e=N("Set ACC")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Wi(t){let e;return{c(){e=N("Set SW:Z")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Hi(t){let e;return{c(){e=N("Set SW:N")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function ji(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$,h,m,g,w;return e=new Ko({props:{$$slots:{default:[Ni]},$$scope:{ctx:t}}}),e.$on("click",t[31]),r=new Ko({props:{$$slots:{default:[Oi]},$$scope:{ctx:t}}}),r.$on("click",t[32]),o=new Ko({props:{$$slots:{default:[Di]},$$scope:{ctx:t}}}),o.$on("click",t[33]),c=new Ko({props:{$$slots:{default:[Pi]},$$scope:{ctx:t}}}),c.$on("click",t[34]),a=new Ko({props:{$$slots:{default:[Fi]},$$scope:{ctx:t}}}),a.$on("click",t[35]),f=new Ko({props:{$$slots:{default:[Mi]},$$scope:{ctx:t}}}),f.$on("click",t[36]),p=new Ko({props:{$$slots:{default:[Bi]},$$scope:{ctx:t}}}),p.$on("click",t[37]),h=new Ko({props:{$$slots:{default:[Wi]},$$scope:{ctx:t}}}),h.$on("click",t[38]),g=new Ko({props:{$$slots:{default:[Hi]},$$scope:{ctx:t}}}),g.$on("click",t[39]),{c(){It(e.$$.fragment),n=O(),It(r.$$.fragment),s=O(),It(o.$$.fragment),i=O(),It(c.$$.fragment),l=O(),It(a.$$.fragment),u=O(),It(f.$$.fragment),d=O(),It(p.$$.fragment),$=O(),It(h.$$.fragment),m=O(),It(g.$$.fragment)},m(t,b){Rt(e,t,b),R(t,n,b),Rt(r,t,b),R(t,s,b),Rt(o,t,b),R(t,i,b),Rt(c,t,b),R(t,l,b),Rt(a,t,b),R(t,u,b),Rt(f,t,b),R(t,d,b),Rt(p,t,b),R(t,$,b),Rt(h,t,b),R(t,m,b),Rt(g,t,b),w=!0},p(t,n){const s={};1024&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};1024&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const $={};1024&n[2]&&($.$$scope={dirty:n,ctx:t}),f.$set($);const m={};1024&n[2]&&(m.$$scope={dirty:n,ctx:t}),p.$set(m);const w={};1024&n[2]&&(w.$$scope={dirty:n,ctx:t}),h.$set(w);const b={};1024&n[2]&&(b.$$scope={dirty:n,ctx:t}),g.$set(b)},i(t){w||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(c.$$.fragment,t),yt(a.$$.fragment,t),yt(f.$$.fragment,t),yt(p.$$.fragment,t),yt(h.$$.fragment,t),yt(g.$$.fragment,t),w=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),_t(h.$$.fragment,t),_t(g.$$.fragment,t),w=!1},d(t){Tt(e,t),t&&T(n),Tt(r,t),t&&T(s),Tt(o,t),t&&T(i),Tt(c,t),t&&T(l),Tt(a,t),t&&T(u),Tt(f,t),t&&T(d),Tt(p,t),t&&T($),Tt(h,t),t&&T(m),Tt(g,t)}}}function zi(t){let e,n,r;function s(e){t[45](e)}let o={placeholder:"Flashable component",options:t[24]};return void 0!==t[4]&&(o.value=t[4]),e=new ui({props:o}),st.push((()=>Et(e,"value",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&16&r[0]&&(n=!0,s.value=t[4],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function Vi(t){let e;return{c(){e=N("Flash")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Zi(t){let e,n;return e=new Ko({props:{$$slots:{default:[Vi]},$$scope:{ctx:t}}}),e.$on("click",t[44]),{c(){It(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1024&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function Xi(t){let e,n,r,s,o,i;function c(e){t[52](e)}let l={type:"number",placeholder:"Address"};function a(e){t[53](e)}void 0!==t[6]&&(l.value=t[6]),e=new si({props:l}),st.push((()=>Et(e,"value",c)));let u={};return void 0!==t[5]&&(u.value=t[5]),s=new mi({props:u}),st.push((()=>Et(s,"value",a))),{c(){It(e.$$.fragment),r=O(),It(s.$$.fragment)},m(t,n){Rt(e,t,n),R(t,r,n),Rt(s,t,n),i=!0},p(t,r){const i={};!n&&64&r[0]&&(n=!0,i.value=t[6],ut((()=>n=!1))),e.$set(i);const c={};!o&&32&r[0]&&(o=!0,c.value=t[5],ut((()=>o=!1))),s.$set(c)},i(t){i||(yt(e.$$.fragment,t),yt(s.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),i=!1},d(t){Tt(e,t),t&&T(r),Tt(s,t)}}}function Gi(t){let e;return{c(){e=N("Flash address")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ji(t){let e;return{c(){e=N("Flash data")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function qi(t){let e;return{c(){e=N("Show address")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Ki(t){let e;return{c(){e=N("Clear")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function Yi(t){let e;return{c(){e=N("Write")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function tc(t){let e;return{c(){e=N("Dump")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function ec(t){let e,n,r,s,o,i,c,l,a,u,f,d;return e=new Ko({props:{$$slots:{default:[Gi]},$$scope:{ctx:t}}}),e.$on("click",t[46]),r=new Ko({props:{$$slots:{default:[Ji]},$$scope:{ctx:t}}}),r.$on("click",t[47]),o=new Ko({props:{$$slots:{default:[qi]},$$scope:{ctx:t}}}),o.$on("click",t[48]),c=new Ko({props:{$$slots:{default:[Ki]},$$scope:{ctx:t}}}),c.$on("click",t[49]),a=new Ko({props:{$$slots:{default:[Yi]},$$scope:{ctx:t}}}),a.$on("click",t[50]),f=new Ko({props:{$$slots:{default:[tc]},$$scope:{ctx:t}}}),f.$on("click",t[51]),{c(){It(e.$$.fragment),n=O(),It(r.$$.fragment),s=O(),It(o.$$.fragment),i=O(),It(c.$$.fragment),l=O(),It(a.$$.fragment),u=O(),It(f.$$.fragment)},m(t,p){Rt(e,t,p),R(t,n,p),Rt(r,t,p),R(t,s,p),Rt(o,t,p),R(t,i,p),Rt(c,t,p),R(t,l,p),Rt(a,t,p),R(t,u,p),Rt(f,t,p),d=!0},p(t,n){const s={};1024&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const d={};1024&n[2]&&(d.$$scope={dirty:n,ctx:t}),a.$set(d);const p={};1024&n[2]&&(p.$$scope={dirty:n,ctx:t}),f.$set(p)},i(t){d||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(c.$$.fragment,t),yt(a.$$.fragment,t),yt(f.$$.fragment,t),d=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),d=!1},d(t){Tt(e,t),t&&T(n),Tt(r,t),t&&T(s),Tt(o,t),t&&T(i),Tt(c,t),t&&T(l),Tt(a,t),t&&T(u),Tt(f,t)}}}function nc(t){let e,n,r;function s(e){t[59](e)}let o={};return void 0!==t[7]&&(o.value=t[7]),e=new si({props:o}),st.push((()=>Et(e,"value",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&128&r[0]&&(n=!0,s.value=t[7],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function rc(t){let e;return{c(){e=N("Error")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function sc(t){let e;return{c(){e=N("Warning")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function oc(t){let e;return{c(){e=N("Success")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function ic(t){let e;return{c(){e=N("Info")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function cc(t){let e;return{c(){e=N("Bug")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function lc(t){let e,n,r,s,o,i,c,l,a,u;return e=new Ko({props:{$$slots:{default:[rc]},$$scope:{ctx:t}}}),e.$on("click",t[54]),r=new Ko({props:{$$slots:{default:[sc]},$$scope:{ctx:t}}}),r.$on("click",t[55]),o=new Ko({props:{$$slots:{default:[oc]},$$scope:{ctx:t}}}),o.$on("click",t[56]),c=new Ko({props:{$$slots:{default:[ic]},$$scope:{ctx:t}}}),c.$on("click",t[57]),a=new Ko({props:{$$slots:{default:[cc]},$$scope:{ctx:t}}}),a.$on("click",t[58]),{c(){It(e.$$.fragment),n=O(),It(r.$$.fragment),s=O(),It(o.$$.fragment),i=O(),It(c.$$.fragment),l=O(),It(a.$$.fragment)},m(t,f){Rt(e,t,f),R(t,n,f),Rt(r,t,f),R(t,s,f),Rt(o,t,f),R(t,i,f),Rt(c,t,f),R(t,l,f),Rt(a,t,f),u=!0},p(t,n){const s={};1024&n[2]&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};1024&n[2]&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const u={};1024&n[2]&&(u.$$scope={dirty:n,ctx:t}),c.$set(u);const f={};1024&n[2]&&(f.$$scope={dirty:n,ctx:t}),a.$set(f)},i(t){u||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(c.$$.fragment,t),yt(a.$$.fragment,t),u=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),u=!1},d(t){Tt(e,t),t&&T(n),Tt(r,t),t&&T(s),Tt(o,t),t&&T(i),Tt(c,t),t&&T(l),Tt(a,t)}}}function ac(t){let e,n,r,s,o,i;function c(e){t[61](e)}let l={placeholder:"From node",options:$e.map(Ac)};function a(e){t[62](e)}void 0!==t[8]&&(l.value=t[8]),e=new ui({props:l}),st.push((()=>Et(e,"value",c)));let u={placeholder:"To node",options:$e.map(Cc)};return void 0!==t[9]&&(u.value=t[9]),s=new ui({props:u}),st.push((()=>Et(s,"value",a))),{c(){It(e.$$.fragment),r=O(),It(s.$$.fragment)},m(t,n){Rt(e,t,n),R(t,r,n),Rt(s,t,n),i=!0},p(t,r){const i={};!n&&256&r[0]&&(n=!0,i.value=t[8],ut((()=>n=!1))),e.$set(i);const c={};!o&&512&r[0]&&(o=!0,c.value=t[9],ut((()=>o=!1))),s.$set(c)},i(t){i||(yt(e.$$.fragment,t),yt(s.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),i=!1},d(t){Tt(e,t),t&&T(r),Tt(s,t)}}}function uc(t){let e;return{c(){e=N("Flash")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function fc(t){let e,n;return e=new Ko({props:{$$slots:{default:[uc]},$$scope:{ctx:t}}}),e.$on("click",t[60]),{c(){It(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1024&n[2]&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function dc(t){let e;return{c(){e=N("Show nodes")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function pc(t){let e;return{c(){e=N("Show names")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function $c(t){let e;return{c(){e=N("Show coordinates")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function hc(t){let e,n,r,s,o,i,c,l,a;function u(e){t[63](e)}let f={$$slots:{default:[dc]},$$scope:{ctx:t}};function d(e){t[64](e)}void 0!==t[17]&&(f.checked=t[17]),e=new ei({props:f}),st.push((()=>Et(e,"checked",u)));let p={disabled:!t[17],$$slots:{default:[pc]},$$scope:{ctx:t}};function $(e){t[65](e)}void 0!==t[18]&&(p.checked=t[18]),s=new ei({props:p}),st.push((()=>Et(s,"checked",d)));let h={disabled:!t[17],$$slots:{default:[$c]},$$scope:{ctx:t}};return void 0!==t[19]&&(h.checked=t[19]),c=new ei({props:h}),st.push((()=>Et(c,"checked",$))),{c(){It(e.$$.fragment),r=O(),It(s.$$.fragment),i=O(),It(c.$$.fragment)},m(t,n){Rt(e,t,n),R(t,r,n),Rt(s,t,n),R(t,i,n),Rt(c,t,n),a=!0},p(t,r){const i={};1024&r[2]&&(i.$$scope={dirty:r,ctx:t}),!n&&131072&r[0]&&(n=!0,i.checked=t[17],ut((()=>n=!1))),e.$set(i);const a={};131072&r[0]&&(a.disabled=!t[17]),1024&r[2]&&(a.$$scope={dirty:r,ctx:t}),!o&&262144&r[0]&&(o=!0,a.checked=t[18],ut((()=>o=!1))),s.$set(a);const u={};131072&r[0]&&(u.disabled=!t[17]),1024&r[2]&&(u.$$scope={dirty:r,ctx:t}),!l&&524288&r[0]&&(l=!0,u.checked=t[19],ut((()=>l=!1))),c.$set(u)},i(t){a||(yt(e.$$.fragment,t),yt(s.$$.fragment,t),yt(c.$$.fragment,t),a=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),_t(c.$$.fragment,t),a=!1},d(t){Tt(e,t),t&&T(r),Tt(s,t),t&&T(i),Tt(c,t)}}}function mc(t){let e,n,r;function s(e){t[68](e)}let o={options:[...Re]};return void 0!==t[22]&&(o.value=t[22]),e=new ui({props:o}),st.push((()=>Et(e,"value",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&4194304&r[0]&&(n=!0,s.value=t[22],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function gc(t){let e;return{c(){e=N("Binary")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function wc(t){let e;return{c(){e=N("Labels")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function bc(t){let e,n,r,s,o,i;function c(e){t[66](e)}let l={$$slots:{default:[gc]},$$scope:{ctx:t}};function a(e){t[67](e)}void 0!==t[20]&&(l.checked=t[20]),e=new ei({props:l}),st.push((()=>Et(e,"checked",c)));let u={$$slots:{default:[wc]},$$scope:{ctx:t}};return void 0!==t[21]&&(u.checked=t[21]),s=new ei({props:u}),st.push((()=>Et(s,"checked",a))),{c(){It(e.$$.fragment),r=O(),It(s.$$.fragment)},m(t,n){Rt(e,t,n),R(t,r,n),Rt(s,t,n),i=!0},p(t,r){const i={};1024&r[2]&&(i.$$scope={dirty:r,ctx:t}),!n&&1048576&r[0]&&(n=!0,i.checked=t[20],ut((()=>n=!1))),e.$set(i);const c={};1024&r[2]&&(c.$$scope={dirty:r,ctx:t}),!o&&2097152&r[0]&&(o=!0,c.checked=t[21],ut((()=>o=!1))),s.$set(c)},i(t){i||(yt(e.$$.fragment,t),yt(s.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),i=!1},d(t){Tt(e,t),t&&T(r),Tt(s,t)}}}function vc(t){let e,n,r;function s(e){t[71](e)}let o={placeholder:"Utterance"};return void 0!==t[10]&&(o.value=t[10]),e=new si({props:o}),st.push((()=>Et(e,"value",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&1024&r[0]&&(n=!0,s.value=t[10],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function xc(t){let e;return{c(){e=N("Speak")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function yc(t){let e;return{c(){e=N("TTS Enabled")},m(t,n){R(t,e,n)},d(t){t&&T(e)}}}function _c(t){let e,n,r,s,o;function i(e){t[70](e)}e=new Ko({props:{$$slots:{default:[xc]},$$scope:{ctx:t}}}),e.$on("click",t[69]);let c={$$slots:{default:[yc]},$$scope:{ctx:t}};return void 0!==t[23]&&(c.checked=t[23]),r=new ei({props:c}),st.push((()=>Et(r,"checked",i))),{c(){It(e.$$.fragment),n=O(),It(r.$$.fragment)},m(t,s){Rt(e,t,s),R(t,n,s),Rt(r,t,s),o=!0},p(t,n){const o={};1024&n[2]&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const i={};1024&n[2]&&(i.$$scope={dirty:n,ctx:t}),!s&&8388608&n[0]&&(s=!0,i.checked=t[23],ut((()=>s=!1))),r.$set(i)},i(t){o||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),o=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),o=!1},d(t){Tt(e,t),t&&T(n),Tt(r,t)}}}function kc(t){let e,n,r=t[11]&&ki(t);return{c(){r&&r.c(),e=D()},m(t,s){r&&r.m(t,s),R(t,e,s),n=!0},p(t,n){t[11]?r?(r.p(t,n),2048&n[0]&&yt(r,1)):(r=ki(t),r.c(),yt(r,1),r.m(e.parentNode,e)):r&&(vt(),_t(r,1,1,(()=>{r=null})),xt())},i(t){n||(yt(r),n=!0)},o(t){_t(r),n=!1},d(t){r&&r.d(t),t&&T(e)}}}const Ac=t=>t.name,Cc=t=>t.name;function Sc(t,e,n){let r,s,o,i,c,l,a,f,d,p,$,h,m;u(t,Zt,(t=>n(11,r=t))),u(t,Pt,(t=>n(12,s=t))),u(t,Dt,(t=>n(13,o=t))),u(t,Mr,(t=>n(14,i=t))),u(t,Wt,(t=>n(15,c=t))),u(t,Ft,(t=>n(16,l=t))),u(t,Xt,(t=>n(17,a=t))),u(t,Gt,(t=>n(18,f=t))),u(t,Jt,(t=>n(19,d=t))),u(t,Le,(t=>n(20,p=t))),u(t,Ue,(t=>n(21,$=t))),u(t,Oe,(t=>n(22,h=t))),u(t,De,(t=>n(23,m=t))),tt((()=>{const t=t=>{t.altKey&&"d"===t.key.toLowerCase()&&(t.preventDefault(),I())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)}));let g,w,v,x,y,_,k,A,C,S,E=!1;function I(){b(Zt,r=!r,r)}return[g,w,v,E,x,y,_,k,A,C,S,r,s,o,i,c,l,a,f,d,p,$,h,m,["IR","IR:OPC","IR:OPR","PC","INC","MUX","CU","ALU:1","ALU:2","ALU:OPR","ACC","SW:Z","SW:N"],I,()=>Go.reset(),()=>Go.start(),()=>Go.pause(),()=>Go.step(),()=>Go.instruction(),()=>Mn.reset(),()=>En.set(g),()=>In.set(new fn(8,parseInt(w))),()=>Tn.set(new fn(16,parseInt(w))),()=>Ln.set(new fn(16,parseInt(w))),()=>Un.set(v),()=>Nn.set(new fn(16,parseInt(w))),()=>On.set(E),()=>Dn.set(E),function(t){g=t,n(0,g)},function(t){w=t,n(1,w)},function(t){v=t,n(2,v)},function(t){E=t,n(3,E)},()=>s.flash(x),function(t){x=t,n(4,x)},()=>o.flashAddress(parseInt(_)),()=>o.flashContent(parseInt(_)),()=>o.showAddress(parseInt(_)),()=>Mr.clear(),()=>Mr.write(parseInt(_),y),()=>{console.log("--- RAM CONTENT ----------------"),console.dir(i),console.log("--------------------------------")},function(t){_=t,n(6,_)},function(t){y=t,n(5,y)},()=>c.error(k),()=>c.warning(k),()=>c.success(k),()=>c.info(k),()=>c.bug(k),function(t){k=t,n(7,k)},()=>l.flashWire(A,C),function(t){A=t,n(8,A)},function(t){C=t,n(9,C)},function(t){a=t,Xt.set(a)},function(t){f=t,Gt.set(f)},function(t){d=t,Jt.set(d)},function(t){p=t,Le.set(p)},function(t){$=t,Ue.set($)},function(t){h=t,Oe.set(h)},()=>co.read(S),function(t){m=t,De.set(m)},function(t){S=t,n(10,S)}]}class Ec extends Qt{constructor(t){super(),Ut(this,t,Sc,kc,c,{},null,[-1,-1,-1])}}function Ic(t){const e=t-1;return e*e*e+1}function Rc(t,{delay:n=0,duration:r=400,easing:s=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:s,css:t=>"opacity: "+t*o}}function Tc(t,{delay:e=0,duration:n=400,easing:r=Ic}={}){const s=getComputedStyle(t),o=+s.opacity,i=parseFloat(s.height),c=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),a=parseFloat(s.marginTop),u=parseFloat(s.marginBottom),f=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:r,css:t=>`overflow: hidden;opacity: ${Math.min(20*t,1)*o};height: ${t*i}px;padding-top: ${t*c}px;padding-bottom: ${t*l}px;margin-top: ${t*a}px;margin-bottom: ${t*u}px;border-top-width: ${t*f}px;border-bottom-width: ${t*d}px;`}}function Lc(t,e){var n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download=e,n.click()}function Uc(t){return te(this,void 0,void 0,(function(){return ee(this,(function(e){return[2,new Promise((function(e,n){var r=document.createElement("input");r.type="file",r.accept=t,r.click(),r.oninput=function(){return e(r.files)}}))]}))}))}function Qc(e){let n,r,s;return{c(){n=U("div"),r=U("div"),F(r,"class","h-full bg-white/60 rounded-r-sm"),H(r,"width",e[0]+"%"),F(n,"class",s="w-full h-1 bg-transparent "+e[1].class)},m(t,e){R(t,n,e),S(n,r)},p(t,[e]){1&e&&H(r,"width",t[0]+"%"),2&e&&s!==(s="w-full h-1 bg-transparent "+t[1].class)&&F(n,"class",s)},i:t,o:t,d(t){t&&T(n)}}}function Nc(t,e,r){let s;const o=["value","max"];let i=g(e,o),{value:c}=e,{max:l}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(1,i=g(e,o)),"value"in t&&r(2,c=t.value),"max"in t&&r(3,l=t.max)},t.$$.update=()=>{12&t.$$.dirty&&r(0,s=100/l*c)},[s,i,c,l]}class Oc extends Qt{constructor(t){super(),Ut(this,t,Nc,Qc,c,{value:2,max:3})}}function Dc(t){let e,n;return e=new Ko({props:{$$slots:{default:[Pc]},$$scope:{ctx:t}}}),e.$on("click",t[6]),{c(){It(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};1028&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function Pc(t){let e,n=t[2].message_feed.buttons.export_logs.text+"";return{c(){e=N(n)},m(t,n){R(t,e,n)},p(t,r){4&r&&n!==(n=t[2].message_feed.buttons.export_logs.text+"")&&B(e,n)},d(t){t&&T(e)}}}function Fc(t){let e,n;return e=new Oc({props:{class:"absolute left-0 bottom-0",value:t[1],max:Bc}}),{c(){It(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,n){const r={};2&n&&(r.value=t[1]),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function Mc(t){let e,n,r,s,i,c,l,a,u,f,d,p,$,h,m,g,w=t[0].message+"",b="BUG"===t[0].type&&Dc(t),v=t[0].timer&&Fc(t);return{c(){e=U("div"),n=U("button"),r=Q("svg"),s=Q("path"),i=Q("path"),l=O(),a=U("p"),u=N(w),f=O(),b&&b.c(),d=O(),v&&v.c(),F(s,"d","M0 0h24v24H0V0z"),F(s,"fill","none"),F(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),F(r,"xmlns","http://www.w3.org/2000/svg"),F(r,"viewBox","0 0 24 24"),F(r,"fill","#FFFFFF"),F(r,"class","h-6 w-6 hover:scale-105"),F(n,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),F(n,"title",c=t[2].message_feed.buttons.close_message.title),F(a,"class","w-3/4 text-center text-xl"),F(e,"class",p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+t[0].type+" svelte-1j9b8ca")},m(o,c){R(o,e,c),S(e,n),S(n,r),S(r,s),S(r,i),S(e,l),S(e,a),S(a,u),S(e,f),b&&b.m(e,null),S(e,d),v&&v.m(e,null),h=!0,m||(g=[P(n,"click",t[3]),P(e,"mouseenter",t[4]),P(e,"mouseleave",t[5])],m=!0)},p(t,[r]){(!h||4&r&&c!==(c=t[2].message_feed.buttons.close_message.title))&&F(n,"title",c),(!h||1&r)&&w!==(w=t[0].message+"")&&B(u,w),"BUG"===t[0].type?b?(b.p(t,r),1&r&&yt(b,1)):(b=Dc(t),b.c(),yt(b,1),b.m(e,d)):b&&(vt(),_t(b,1,1,(()=>{b=null})),xt()),t[0].timer?v?(v.p(t,r),1&r&&yt(v,1)):(v=Fc(t),v.c(),yt(v,1),v.m(e,null)):v&&(vt(),_t(v,1,1,(()=>{v=null})),xt()),(!h||1&r&&p!==(p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+t[0].type+" svelte-1j9b8ca"))&&F(e,"class",p)},i(t){h||(yt(b),yt(v),at((()=>{$||($=At(e,Tc,{},!0)),$.run(1)})),h=!0)},o(t){_t(b),_t(v),$||($=At(e,Tc,{},!1)),$.run(0),h=!1},d(t){t&&T(e),b&&b.d(),v&&v.d(),t&&$&&$.end(),m=!1,o(g)}}}const Bc=5;function Wc(t,e,n){let r,s;u(t,pr,(t=>n(8,r=t))),u(t,tn,(t=>n(2,s=t)));const o=et();let{message:i}=e,c=Bc,l=!1;function a(){o("closemessage",{messageId:i.id})}return tt((()=>{if(!i.timer)return;const t=setInterval((()=>{l||n(1,c--,c),0===c&&(clearInterval(t),a())}),1e3)})),t.$$set=t=>{"message"in t&&n(0,i=t.message)},[i,c,s,a,function(){n(1,c=Bc),l=!0},function(){l=!1},function(){Lc(JSON.stringify(r),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)}]}class Hc extends Qt{constructor(t){super(),Ut(this,t,Wc,Mc,c,{message:0})}}function jc(t,e,n){const r=t.slice();return r[8]=e[n],r}function zc(t,e){let n,r,s;return r=new Hc({props:{message:e[8]}}),r.$on("closemessage",e[1]),{key:t,first:null,c(){n=D(),It(r.$$.fragment),this.first=n},m(t,e){R(t,n,e),Rt(r,t,e),s=!0},p(t,n){e=t;const s={};1&n&&(s.message=e[8]),r.$set(s)},i(t){s||(yt(r.$$.fragment,t),s=!0)},o(t){_t(r.$$.fragment,t),s=!1},d(t){t&&T(n),Tt(r,t)}}}function Vc(t){let e,n,r=[],s=new Map,o=t[0];const i=t=>t[8].id;for(let e=0;e<o.length;e+=1){let n=jc(t,o,e),c=i(n);s.set(c,r[e]=zc(c,n))}return{c(){e=U("div");for(let t=0;t<r.length;t+=1)r[t].c();F(e,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(t,s){R(t,e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){3&n&&(o=t[0],vt(),r=function(t,e,n,r,s,o,i,c,l,a,u,f){let d=t.length,p=o.length,$=d;const h={};for(;$--;)h[t[$].key]=$;const m=[],g=new Map,w=new Map;for($=p;$--;){const t=f(s,o,$),c=n(t);let l=i.get(c);l?r&&l.p(t,e):(l=a(c,t),l.c()),g.set(c,m[$]=l),c in h&&w.set(c,Math.abs($-h[c]))}const b=new Set,v=new Set;function x(t){yt(t,1),t.m(c,u),i.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=m[p-1],n=t[d-1],r=e.key,s=n.key;e===n?(u=e.first,d--,p--):g.has(s)?!i.has(r)||b.has(r)?x(e):v.has(s)?d--:w.get(r)>w.get(s)?(v.add(r),x(e)):(b.add(s),d--):(l(n,i),d--)}for(;d--;){const e=t[d];g.has(e.key)||l(e,i)}for(;p;)x(m[p-1]);return m}(r,n,i,1,t,o,s,e,St,zc,null,jc),xt())},i(t){if(!n){for(let t=0;t<o.length;t+=1)yt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)_t(r[t]);n=!1},d(t){t&&T(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function Zc(t,e,n){let r=[];function s(t){3===r.length&&r.shift(),n(0,r=[...r,t])}return[r,function(t){n(0,r=r.filter((e=>e.id!==t.detail.messageId)))},function(t){s({id:Math.random(),type:"ERROR",message:t,timer:!0})},function(t){s({id:Math.random(),type:"WARNING",message:t,timer:!0})},function(t){s({id:Math.random(),type:"SUCCESS",message:t,timer:!0})},function(t){s({id:Math.random(),type:"INFO",message:t,timer:!0})},function(t){s({id:Math.random(),type:"BUG",message:t,timer:!1})}]}class Xc extends Qt{constructor(t){super(),Ut(this,t,Zc,Vc,c,{error:2,warning:3,success:4,info:5,bug:6})}get error(){return this.$$.ctx[2]}get warning(){return this.$$.ctx[3]}get success(){return this.$$.ctx[4]}get info(){return this.$$.ctx[5]}get bug(){return this.$$.ctx[6]}}function Gc(t,e,n){const r=t.slice();return r[17]=e[n],r}function Jc(t,e,n){const r=t.slice();return r[20]=e[n],r}function qc(t,e,n){const r=t.slice();return r[23]=e[n],r}function Kc(t){let e,n,r,s,i,c,l,a,u,f,d,p,$,h,m,g,w,b,v,x,y,_,k,A,C,E,I,Q,D,M,B,H,z,V,Z,X,G=wr,J=[];for(let e=0;e<G.length;e+=1)J[e]=Yc(qc(t,G,e));let q=gr,K=[];for(let e=0;e<q.length;e+=1)K[e]=tl(Jc(t,q,e));let Y=t[5],tt=[];for(let e=0;e<Y.length;e+=1)tt[e]=nl(Gc(t,Y,e));return{c(){e=U("div"),n=U("div"),r=U("h2"),r.textContent="Logs",s=O(),i=U("div"),c=U("label"),l=N("Keyword:\n\t\t\t\t\t"),a=U("input"),u=O(),f=U("label"),d=N("Type:\n\t\t\t\t\t"),p=U("select"),$=U("option"),$.textContent="ALL";for(let t=0;t<J.length;t+=1)J[t].c();h=O(),m=U("label"),g=N("Group:\n\t\t\t\t\t"),w=U("select"),b=U("option"),b.textContent="ALL";for(let t=0;t<K.length;t+=1)K[t].c();v=O(),x=U("div"),y=U("label"),_=N("Lock scroll to bottom\n\t\t\t\t\t"),k=U("input"),A=O(),C=U("label"),E=N("Show timestamp\n\t\t\t\t\t"),I=U("input"),Q=O(),D=U("div"),M=U("button"),M.textContent="Export",B=O(),H=U("button"),H.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',z=O(),V=U("div");for(let t=0;t<tt.length;t+=1)tt[t].c();F(r,"class","text-2xl"),F(a,"type","text"),F(a,"class","text-black px-1 py-0.5"),F(c,"for","keyword"),$.__value="ALL",$.value=$.__value,F(p,"id","type"),F(p,"class","text-black px-1 py-0.5"),void 0===t[1]&&at((()=>t[12].call(p))),F(f,"for","type"),b.__value="ALL",b.value=b.__value,F(w,"id","group"),F(w,"class","text-black px-1 py-0.5"),void 0===t[2]&&at((()=>t[13].call(w))),F(m,"for","group"),F(i,"class","flex items-center flex-wrap gap-4 p-2"),F(k,"type","checkbox"),F(k,"id","lock-scroll-to-bottom"),F(y,"for","lock-scroll-to-bottom"),F(I,"type","checkbox"),F(I,"id","show-timestamp"),F(C,"for","show-timestamp"),F(x,"class","flex items-center flex-wrap gap-4 p-2"),F(M,"class","border px-1"),F(D,"class","flex items-center flex-wrap gap-4 p-2"),F(H,"title","Close logs"),F(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),F(V,"class","w-full h-[90%] overflow-y-auto"),F(e,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(o,T){R(o,e,T),S(e,n),S(n,r),S(n,s),S(n,i),S(i,c),S(c,l),S(c,a),W(a,t[3]),S(i,u),S(i,f),S(f,d),S(f,p),S(p,$);for(let t=0;t<J.length;t+=1)J[t].m(p,null);j(p,t[1]),S(i,h),S(i,m),S(m,g),S(m,w),S(w,b);for(let t=0;t<K.length;t+=1)K[t].m(w,null);j(w,t[2]),S(n,v),S(n,x),S(x,y),S(y,_),S(y,k),k.checked=t[4],S(x,A),S(x,C),S(C,E),S(C,I),I.checked=t[6],S(n,Q),S(n,D),S(D,M),S(n,B),S(n,H),S(e,z),S(e,V);for(let t=0;t<tt.length;t+=1)tt[t].m(V,null);t[16](V),Z||(X=[P(a,"input",t[11]),P(p,"change",t[12]),P(w,"change",t[13]),P(k,"change",t[14]),P(I,"change",t[15]),P(M,"click",t[9]),P(H,"click",t[8])],Z=!0)},p(t,e){if(8&e&&a.value!==t[3]&&W(a,t[3]),0&e){let n;for(G=wr,n=0;n<G.length;n+=1){const r=qc(t,G,n);J[n]?J[n].p(r,e):(J[n]=Yc(r),J[n].c(),J[n].m(p,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=G.length}if(2&e&&j(p,t[1]),0&e){let n;for(q=gr,n=0;n<q.length;n+=1){const r=Jc(t,q,n);K[n]?K[n].p(r,e):(K[n]=tl(r),K[n].c(),K[n].m(w,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=q.length}if(4&e&&j(w,t[2]),16&e&&(k.checked=t[4]),64&e&&(I.checked=t[6]),96&e){let n;for(Y=t[5],n=0;n<Y.length;n+=1){const r=Gc(t,Y,n);tt[n]?tt[n].p(r,e):(tt[n]=nl(r),tt[n].c(),tt[n].m(V,null))}for(;n<tt.length;n+=1)tt[n].d(1);tt.length=Y.length}},d(n){n&&T(e),L(J,n),L(K,n),L(tt,n),t[16](null),Z=!1,o(X)}}}function Yc(e){let n,r,s=e[23]+"";return{c(){n=U("option"),r=N(s),n.__value=e[23],n.value=n.__value},m(t,e){R(t,n,e),S(n,r)},p:t,d(t){t&&T(n)}}}function tl(e){let n,r,s=e[20]+"";return{c(){n=U("option"),r=N(s),n.__value=e[20],n.value=n.__value},m(t,e){R(t,n,e),S(n,r)},p:t,d(t){t&&T(n)}}}function el(t){let e,n,r=t[17].timestamp+"";return{c(){e=N(r),n=N(" - ")},m(t,r){R(t,e,r),R(t,n,r)},p(t,n){32&n&&r!==(r=t[17].timestamp+"")&&B(e,r)},d(t){t&&T(e),t&&T(n)}}}function nl(t){let e,n,r,s,o=t[17].message+"",i=t[6]&&el(t);return{c(){e=U("p"),i&&i.c(),n=N(o),r=O(),F(e,"class",s="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")},m(t,s){R(t,e,s),i&&i.m(e,null),S(e,n),S(e,r)},p(t,r){t[6]?i?i.p(t,r):(i=el(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),32&r&&o!==(o=t[17].message+"")&&B(n,o),32&r&&s!==(s="m-2 whitespace-pre-line "+t[17].logType+" svelte-7zjq9j")&&F(e,"class",s)},d(t){t&&T(e),i&&i.d()}}}function rl(e){let n,r=e[7].showLogger&&Kc(e);return{c(){r&&r.c(),n=D()},m(t,e){r&&r.m(t,e),R(t,n,e)},p(t,[e]){t[7].showLogger?r?r.p(t,e):(r=Kc(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&T(n)}}}function sl(t,e,n){let r,s,o;u(t,pr,(t=>n(10,r=t))),u(t,hr,(t=>n(7,s=t)));let i=[],c="ALL",l="ALL",a="",f=!1,d=!0;function p(){hr.updateShowLogger((t=>!t))}return tt((()=>{const t=t=>{t.altKey&&t.shiftKey&&"l"===t.key.toLowerCase()&&p()};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)})),t.$$.update=()=>{1055&t.$$.dirty&&o&&(n(5,i=r.filter((t=>("ALL"===c||t.logType===c)&&("ALL"===l||t.logGroup===l)&&t.message.toLowerCase().includes(a)))),d&&n(0,o.scrollTop=o.scrollHeight,o))},[o,c,l,a,d,i,f,s,p,function(){Lc(JSON.stringify(r),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},r,function(){a=this.value,n(3,a)},function(){c=z(this),n(1,c)},function(){l=z(this),n(2,l)},function(){d=this.checked,n(4,d)},function(){f=this.checked,n(6,f)},function(t){st[t?"unshift":"push"]((()=>{o=t,n(0,o),n(10,r),n(1,c),n(2,l),n(3,a),n(4,d)}))}]}class ol extends Qt{constructor(t){super(),Ut(this,t,sl,rl,c,{})}}function il(t){let e,n,r;const s=t[2].default,o=f(s,t,t[1],null);return{c(){e=U("div"),o&&o.c(),F(e,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class)},m(t,n){R(t,e,n),o&&o.m(e,null),r=!0},p(t,[i]){o&&o.p&&(!r||2&i)&&$(o,s,t,t[1],r?p(s,t[1],i,null):h(t[1]),null),(!r||1&i&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+t[0].class))&&F(e,"class",n)},i(t){r||(yt(o,t),r=!0)},o(t){_t(o,t),r=!1},d(t){t&&T(e),o&&o.d(t)}}}function cl(t,e,r){const s=[];let o=g(e,s),{$$slots:i={},$$scope:c}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(0,o=g(e,s)),"$$scope"in t&&r(1,c=t.$$scope)},[o,c,i]}class ll extends Qt{constructor(t){super(),Ut(this,t,cl,il,c,{})}}function al(e){let n,r,s,i,c,l,a;return{c(){n=U("button"),r=Q("svg"),s=Q("path"),F(s,"d",i=e[3][e[2]]),F(r,"xmlns","http://www.w3.org/2000/svg"),F(r,"viewBox","0 0 24 24"),F(r,"class","fill-black w-6 h-6 scale-[1.4]"),F(n,"class",c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],F(n,"title",e[1])},m(t,o){R(t,n,o),S(n,r),S(r,s),l||(a=[P(n,"click",e[5]),P(n,"focus",e[6]),P(n,"focusout",e[7]),P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9]),P(n,"mouseover",e[10])],l=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&F(s,"d",i),16&e&&c!==(c="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&F(n,"class",c),1&e&&(n.disabled=t[0]),2&e&&F(n,"title",t[1])},i:t,o:t,d(t){t&&T(n),l=!1,o(a)}}}function ul(t,e,r){const s=["disabled","title","icon"];let o=g(e,s),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,o=g(e,s)),"disabled"in t&&r(0,i=t.disabled),"title"in t&&r(1,c=t.title),"icon"in t&&r(2,l=t.icon)},[i,c,l,{"":"",reset:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82l5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",skip:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class fl extends Qt{constructor(t){super(),Ut(this,t,ul,al,c,{disabled:0,title:1,icon:2})}}function dl(t){let e,n,r,s,i,c,l,a,u;const d=t[5].default,m=f(d,t,t[4],null);return{c(){e=U("div"),n=U("div"),s=O(),i=U("div"),m&&m.c(),F(n,"class",r="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")),F(i,"class","font-medium pb-[3px]"),F(e,"class",c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class),F(e,"disabled",t[1])},m(r,o){R(r,e,o),S(e,n),S(e,s),S(e,i),m&&m.m(i,null),l=!0,a||(u=[P(e,"click",t[2]),P(e,"focus",t[6]),P(e,"focusout",t[7]),P(e,"mouseenter",t[8]),P(e,"mouseleave",t[9]),P(e,"mouseover",t[10])],a=!0)},p(t,[s]){(!l||3&s&&r!==(r="w-4 h-4 border border-black rounded-md transition-colors "+(t[0]?"bg-[#0F0]":"")+" "+(t[1]?"brightness-[.6]":"")))&&F(n,"class",r),m&&m.p&&(!l||16&s)&&$(m,d,t,t[4],l?p(d,t[4],s,null):h(t[4]),null),(!l||10&s&&c!==(c="flex items-center justify-center gap-1 "+(t[1]?"cursor-default":"cursor-pointer")+" "+t[3].class))&&F(e,"class",c),(!l||2&s)&&F(e,"disabled",t[1])},i(t){l||(yt(m,t),l=!0)},o(t){_t(m,t),l=!1},d(t){t&&T(e),m&&m.d(t),a=!1,o(u)}}}function pl(t,e,r){const s=["disabled","checked"];let o=g(e,s),{$$slots:i={},$$scope:c}=e,{disabled:l=!1}=e,{checked:a=!1}=e;const u=et();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,o=g(e,s)),"disabled"in t&&r(1,l=t.disabled),"checked"in t&&r(0,a=t.checked),"$$scope"in t&&r(4,c=t.$$scope)},[a,l,function(t){r(0,a=!a),u("click",t)},o,c,i,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class $l extends Qt{constructor(t){super(),Ut(this,t,pl,dl,c,{disabled:1,checked:0})}}function hl(e){let n,r,s,i;return{c(){n=U("input"),F(n,"type","range"),F(n,"class",r=w(e[6].class)+" svelte-dtr8pe"),F(n,"min",e[1]),F(n,"max",e[2]),F(n,"step",e[3]),n.disabled=e[4],F(n,"title",e[5])},m(t,r){R(t,n,r),W(n,e[0]),s||(i=[P(n,"change",e[14]),P(n,"input",e[14]),P(n,"input",e[7]),P(n,"change",e[8]),P(n,"focus",e[9]),P(n,"focusout",e[10]),P(n,"mouseenter",e[11]),P(n,"mouseleave",e[12]),P(n,"mouseover",e[13])],s=!0)},p(t,[e]){64&e&&r!==(r=w(t[6].class)+" svelte-dtr8pe")&&F(n,"class",r),2&e&&F(n,"min",t[1]),4&e&&F(n,"max",t[2]),8&e&&F(n,"step",t[3]),16&e&&(n.disabled=t[4]),32&e&&F(n,"title",t[5]),1&e&&W(n,t[0])},i:t,o:t,d(t){t&&T(n),s=!1,o(i)}}}function ml(t,e,r){const s=["min","max","value","step","disabled","title"];let o=g(e,s),{min:i=0}=e,{max:c=1}=e,{value:l=c/2+i}=e,{step:a=.1}=e,{disabled:u=!1}=e,{title:f=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(6,o=g(e,s)),"min"in t&&r(1,i=t.min),"max"in t&&r(2,c=t.max),"value"in t&&r(0,l=t.value),"step"in t&&r(3,a=t.step),"disabled"in t&&r(4,u=t.disabled),"title"in t&&r(5,f=t.title)},[l,i,c,a,u,f,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){l=M(this.value),r(0,l)}]}class gl extends Qt{constructor(t){super(),Ut(this,t,ml,hl,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function wl(t){let e,n,r,s,o;const i=t[2].default,c=f(i,t,t[1],null);return{c(){e=U("div"),n=U("span"),r=N(t[0]),s=O(),c&&c.c(),F(n,"class","text-gray-200"),F(e,"class","h-full py-2 flex flex-col items-center justify-between")},m(t,i){R(t,e,i),S(e,n),S(n,r),S(e,s),c&&c.m(e,null),o=!0},p(t,[e]){(!o||1&e)&&B(r,t[0]),c&&c.p&&(!o||2&e)&&$(c,i,t,t[1],o?p(i,t[1],e,null):h(t[1]),null)},i(t){o||(yt(c,t),o=!0)},o(t){_t(c,t),o=!1},d(t){t&&T(e),c&&c.d(t)}}}function bl(t,e,n){let{$$slots:r={},$$scope:s}=e,{label:o=""}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label),"$$scope"in t&&n(1,s=t.$$scope)},[o,s,r]}class vl extends Qt{constructor(t){super(),Ut(this,t,bl,wl,c,{label:0})}}function xl(t){let e,n;return{c(){e=U("p"),n=N(t[0]),F(e,"class","w-[450px] text-gray-200 overflow-hidden text-center")},m(t,r){R(t,e,r),S(e,n)},p(t,e){1&e&&B(n,t[0])},d(t){t&&T(e)}}}function yl(t){let e,n;return e=new ll({props:{class:"justify-center",$$slots:{default:[xl]},$$scope:{ctx:t}}}),{c(){It(e.$$.fragment)},m(t,r){Rt(e,t,r),n=!0},p(t,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(yt(e.$$.fragment,t),n=!0)},o(t){_t(e.$$.fragment,t),n=!1},d(t){Tt(e,t)}}}function _l(t,e,n){let r="";function s(t){n(0,r=t)}return Oe.subscribe((()=>s(""))),[r,s]}class kl extends Qt{constructor(t){super(),Ut(this,t,_l,yl,c,{setText:1})}get setText(){return this.$$.ctx[1]}}function Al(t){let e,n,r,s,o,i,c;return n=new fl({props:{icon:"reset",title:t[3].controls.buttons.reset.title}}),n.$on("click",t[6]),s=new fl({props:{icon:t[4]?"pause":"play",title:t[4]?t[3].controls.buttons.pause.title:t[3].controls.buttons.play.title}}),s.$on("click",t[7]),i=new fl({props:{icon:"skip",title:t[3].controls.buttons.end.title,disabled:!0}}),i.$on("click",t[8]),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),o=O(),It(i.$$.fragment),F(e,"class","flex items-center justify-center gap-1")},m(t,l){R(t,e,l),Rt(n,e,null),S(e,r),Rt(s,e,null),S(e,o),Rt(i,e,null),c=!0},p(t,e){const r={};8&e&&(r.title=t[3].controls.buttons.reset.title),n.$set(r);const o={};16&e&&(o.icon=t[4]?"pause":"play"),24&e&&(o.title=t[4]?t[3].controls.buttons.pause.title:t[3].controls.buttons.play.title),s.$set(o);const c={};8&e&&(c.title=t[3].controls.buttons.end.title),i.$set(c)},i(t){c||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),yt(i.$$.fragment,t),c=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),_t(i.$$.fragment,t),c=!1},d(t){t&&T(e),Tt(n),Tt(s),Tt(i)}}}function Cl(t){let e,n,r,s,o;return n=new fl({props:{icon:"play",title:t[3].controls.buttons.play_step.title}}),n.$on("click",t[9]),s=new fl({props:{icon:"skip",title:t[3].controls.buttons.skip_step.title,disabled:!0}}),s.$on("click",t[10]),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),F(e,"class","flex items-center justify-center gap-1")},m(t,i){R(t,e,i),Rt(n,e,null),S(e,r),Rt(s,e,null),o=!0},p(t,e){const r={};8&e&&(r.title=t[3].controls.buttons.play_step.title),n.$set(r);const o={};8&e&&(o.title=t[3].controls.buttons.skip_step.title),s.$set(o)},i(t){o||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),o=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),o=!1},d(t){t&&T(e),Tt(n),Tt(s)}}}function Sl(t){let e,n,r,s,o;return n=new fl({props:{icon:"play",title:t[3].controls.buttons.play_instruction.title}}),n.$on("click",t[11]),s=new fl({props:{icon:"skip",title:t[3].controls.buttons.skip_instruction.title,disabled:!0}}),s.$on("click",t[12]),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),F(e,"class","flex items-center justify-center gap-1")},m(t,i){R(t,e,i),Rt(n,e,null),S(e,r),Rt(s,e,null),o=!0},p(t,e){const r={};8&e&&(r.title=t[3].controls.buttons.play_instruction.title),n.$set(r);const o={};8&e&&(o.title=t[3].controls.buttons.skip_instruction.title),s.$set(o)},i(t){o||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),o=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),o=!1},d(t){t&&T(e),Tt(n),Tt(s)}}}function El(t){let e,n,r;function s(e){t[16](e)}let o={min:.1,max:3,title:t[3].controls.sliders.speed.title};return void 0!==t[2]&&(o.value=t[2]),e=new gl({props:o}),st.push((()=>Et(e,"value",s))),e.$on("change",t[13]),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};8&r&&(s.title=t[3].controls.sliders.speed.title),!n&&4&r&&(n=!0,s.value=t[2],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function Il(t){let e,n,r,s,o,i,c,l;return e=new vl({props:{label:t[3].controls.labels.execution,$$slots:{default:[Al]},$$scope:{ctx:t}}}),r=new vl({props:{label:t[3].controls.labels.step,$$slots:{default:[Cl]},$$scope:{ctx:t}}}),o=new vl({props:{label:t[3].controls.labels.instruction,$$slots:{default:[Sl]},$$scope:{ctx:t}}}),c=new vl({props:{label:t[3].controls.labels.speed,$$slots:{default:[El]},$$scope:{ctx:t}}}),{c(){It(e.$$.fragment),n=O(),It(r.$$.fragment),s=O(),It(o.$$.fragment),i=O(),It(c.$$.fragment)},m(t,a){Rt(e,t,a),R(t,n,a),Rt(r,t,a),R(t,s,a),Rt(o,t,a),R(t,i,a),Rt(c,t,a),l=!0},p(t,n){const s={};8&n&&(s.label=t[3].controls.labels.execution),1048600&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s);const i={};8&n&&(i.label=t[3].controls.labels.step),1048584&n&&(i.$$scope={dirty:n,ctx:t}),r.$set(i);const l={};8&n&&(l.label=t[3].controls.labels.instruction),1048584&n&&(l.$$scope={dirty:n,ctx:t}),o.$set(l);const a={};8&n&&(a.label=t[3].controls.labels.speed),1048588&n&&(a.$$scope={dirty:n,ctx:t}),c.$set(a)},i(t){l||(yt(e.$$.fragment,t),yt(r.$$.fragment,t),yt(o.$$.fragment,t),yt(c.$$.fragment,t),l=!0)},o(t){_t(e.$$.fragment,t),_t(r.$$.fragment,t),_t(o.$$.fragment,t),_t(c.$$.fragment,t),l=!1},d(t){Tt(e,t),t&&T(n),Tt(r,t),t&&T(s),Tt(o,t),t&&T(i),Tt(c,t)}}}function Rl(t){let e,n=t[3].controls.checkboxes.binary.text+"";return{c(){e=N(n)},m(t,n){R(t,e,n)},p(t,r){8&r&&n!==(n=t[3].controls.checkboxes.binary.text+"")&&B(e,n)},d(t){t&&T(e)}}}function Tl(t){let e,n=t[3].controls.checkboxes.animations.text+"";return{c(){e=N(n)},m(t,n){R(t,e,n)},p(t,r){8&r&&n!==(n=t[3].controls.checkboxes.animations.text+"")&&B(e,n)},d(t){t&&T(e)}}}function Ll(t){let e,n,r,s,o,i;function c(e){t[17](e)}let l={$$slots:{default:[Rl]},$$scope:{ctx:t}};function a(e){t[18](e)}void 0!==t[1]&&(l.checked=t[1]),e=new $l({props:l}),st.push((()=>Et(e,"checked",c))),e.$on("click",t[14]);let u={$$slots:{default:[Tl]},$$scope:{ctx:t}};return void 0!==t[0]&&(u.checked=t[0]),s=new $l({props:u}),st.push((()=>Et(s,"checked",a))),s.$on("click",t[15]),{c(){It(e.$$.fragment),r=O(),It(s.$$.fragment)},m(t,n){Rt(e,t,n),R(t,r,n),Rt(s,t,n),i=!0},p(t,r){const i={};1048584&r&&(i.$$scope={dirty:r,ctx:t}),!n&&2&r&&(n=!0,i.checked=t[1],ut((()=>n=!1))),e.$set(i);const c={};1048584&r&&(c.$$scope={dirty:r,ctx:t}),!o&&1&r&&(o=!0,c.checked=t[0],ut((()=>o=!1))),s.$set(c)},i(t){i||(yt(e.$$.fragment,t),yt(s.$$.fragment,t),i=!0)},o(t){_t(e.$$.fragment,t),_t(s.$$.fragment,t),i=!1},d(t){Tt(e,t),t&&T(r),Tt(s,t)}}}function Ul(t){let e,n,r,s,o,i,c;n=new ll({props:{class:"gap-5",$$slots:{default:[Il]},$$scope:{ctx:t}}}),s=new ll({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[Ll]},$$scope:{ctx:t}}});return i=new kl({props:{}}),t[19](i),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),o=O(),It(i.$$.fragment),F(e,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(t,l){R(t,e,l),Rt(n,e,null),S(e,r),Rt(s,e,null),S(e,o),Rt(i,e,null),c=!0},p(t,[e]){const r={};1048604&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r);const o={};1048587&e&&(o.$$scope={dirty:e,ctx:t}),s.$set(o);i.$set({})},i(t){c||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),yt(i.$$.fragment,t),c=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),_t(i.$$.fragment,t),c=!1},d(r){r&&T(e),Tt(n),Tt(s),t[19](null),Tt(i)}}}function Ql(t,e,n){let r,s,o,i,c,l;return u(t,Qe,(t=>n(0,r=t))),u(t,Le,(t=>n(1,s=t))),u(t,Ne,(t=>n(2,o=t))),u(t,tn,(t=>n(3,i=t))),u(t,Fo,(t=>n(4,c=t))),u(t,zt,(t=>n(5,l=t))),[r,s,o,i,c,l,function(){vr.info("Reset pressed","USER_INPUT"),Go.reset(),Mn.reset()},function(){vr.info("Toggle execution pressed","USER_INPUT"),Go.toggle()},function(){vr.info("Skip execution pressed","USER_INPUT")},function(){vr.info("Play step pressed","USER_INPUT"),Go.step()},function(){vr.info("Skip step pressed","USER_INPUT")},function(){vr.info("Play instruction pressed","USER_INPUT"),Go.instruction()},function(){vr.info("Skip instruction pressed","USER_INPUT")},function(){vr.info(`Speed slider moved - ${o}`,"USER_INPUT")},function(){vr.info(`Binary toggle pressed - ${s}`,"USER_INPUT")},function(){vr.info(`Animations toggle pressed - ${r}`,"USER_INPUT")},function(t){o=t,Ne.set(o)},function(t){s=t,Le.set(s)},function(t){r=t,Qe.set(r)},function(t){st[t?"unshift":"push"]((()=>{l=t,zt.set(l)}))}]}class Nl extends Qt{constructor(t){super(),Ut(this,t,Ql,Ul,c,{})}}var Ol=function(t){function e(e){return t.call(this,e)||this}return Kt(e,t),e}(Ke);function Dl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=t;return e.forEach((function(t,e){r=r.replace("{".concat(e,"}"),t.toString())})),r}var Pl=/;.*/g,Fl=new RegExp(":"+kn.source),Ml=new RegExp("^(".concat(Cn.source.replace(/\^|\$/g,""),"|").concat(yn.source.replace(/\^|\$/g,""),")( ").concat(Fl.source,")?$"));function Bl(t){var e=t.split(/\r\n|\r|\n/g),n=[],r=[],s=0;e.forEach((function(t,e){var o=e+1,i=t.replace(Pl,"").replace(/\s+/g," ").trim();if(""!==i){if(!Ml.test(i)){var c=i.length>30?"".concat(i.slice(0,30),"..."):i;throw new Ol(Dl(a(tn).errors.program_parsing.invalid_syntax,o,c))}var l=i.split(":").map((function(t){return t.trim()})),u=l[0],f=l[1];n.push({text:u,lineNumber:o,address:s}),r[s]=f,s+=2}})),s=0;var o=[];n.forEach((function(t){try{var e=Sn(t.text,!1,r);o.push(e)}catch(e){throw new Ol(Dl(a(tn).errors.program_parsing.parsing_error,t.lineNumber,e.message))}})),Vr.load(r),Mr.clear(),o.forEach((function(t,e){Mr.write(function(t){var e=2*t;if(!bn(e))throw new Error("Invalid index: "+t);return e}(e),t)}))}function Wl(e){let n,r,s,i,c,l,a,u;return{c(){n=U("button"),r=Q("svg"),s=Q("path"),F(s,"d",i=e[3][e[2]]),F(r,"xmlns","http://www.w3.org/2000/svg"),F(r,"viewBox","0 0 48 48"),F(r,"class",c="fill-neutral-800 w-8 h-8 drop-shadow-component "+(e[0]?"":"hover:scale-105")),F(n,"class",l="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],F(n,"title",e[1])},m(t,o){R(t,n,o),S(n,r),S(r,s),a||(u=[P(n,"click",e[5]),P(n,"focus",e[6]),P(n,"focusout",e[7]),P(n,"mouseenter",e[8]),P(n,"mouseleave",e[9]),P(n,"mouseover",e[10])],a=!0)},p(t,[e]){4&e&&i!==(i=t[3][t[2]])&&F(s,"d",i),1&e&&c!==(c="fill-neutral-800 w-8 h-8 drop-shadow-component "+(t[0]?"":"hover:scale-105"))&&F(r,"class",c),16&e&&l!==(l="flex items-center justify-center disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class)&&F(n,"class",l),1&e&&(n.disabled=t[0]),2&e&&F(n,"title",t[1])},i:t,o:t,d(t){t&&T(n),a=!1,o(u)}}}function Hl(t,e,r){const s=["disabled","title","icon"];let o=g(e,s),{disabled:i=!1}=e,{title:c=""}=e,{icon:l=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,o=g(e,s)),"disabled"in t&&r(0,i=t.disabled),"title"in t&&r(1,c=t.title),"icon"in t&&r(2,l=t.icon)},[i,c,l,{"":"",settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",help:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z"},o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class jl extends Qt{constructor(t){super(),Ut(this,t,Hl,Wl,c,{disabled:0,title:1,icon:2})}}function zl(t){let e,n,r,s,o,i,c,l,a;return n=new jl({props:{icon:"settings",title:t[0].menu.buttons.settings.title}}),n.$on("click",t[1]),s=new jl({props:{icon:"save",title:t[0].menu.buttons.save.title}}),s.$on("click",t[3]),i=new jl({props:{icon:"open",title:t[0].menu.buttons.open.title}}),i.$on("click",t[2]),l=new jl({props:{icon:"help",title:t[0].menu.buttons.help.title,disabled:!0}}),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),o=O(),It(i.$$.fragment),c=O(),It(l.$$.fragment),F(e,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-1 z-[4]")},m(t,u){R(t,e,u),Rt(n,e,null),S(e,r),Rt(s,e,null),S(e,o),Rt(i,e,null),S(e,c),Rt(l,e,null),a=!0},p(t,[e]){const r={};1&e&&(r.title=t[0].menu.buttons.settings.title),n.$set(r);const o={};1&e&&(o.title=t[0].menu.buttons.save.title),s.$set(o);const c={};1&e&&(c.title=t[0].menu.buttons.open.title),i.$set(c);const a={};1&e&&(a.title=t[0].menu.buttons.help.title),l.$set(a)},i(t){a||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),yt(i.$$.fragment,t),yt(l.$$.fragment,t),a=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),_t(i.$$.fragment,t),_t(l.$$.fragment,t),a=!1},d(t){t&&T(e),Tt(n),Tt(s),Tt(i),Tt(l)}}}function Vl(t,e,n){let r,s,o;u(t,Wt,(t=>n(4,r=t))),u(t,Te,(t=>n(5,s=t))),u(t,tn,(t=>n(0,o=t)));var i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(s,o){function i(t){try{l(r.next(t))}catch(t){o(t)}}function c(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))};return[o,function(){b(Te,s=!0,s),vr.info("Settings opened","USER_INPUT")},function(){return i(this,void 0,void 0,(function*(){try{const t=(yield Uc(".cpuvs"))[0];Bl(yield t.text())}catch(t){vr.error(t,"USER_INPUT",t.isChecked),r.error(t.message)}vr.info("Program loaded from file","USER_INPUT")}))},function(){try{let t=prompt("File name");if(!t)throw new Ke(a(tn).errors.user_input.invalid_file_name);Lc(function(){for(var t="",e="",n="",r=0;r<=gn;r+=2)e=Mr.read(r).symbolic(),t+="\t".concat(e),n=" ".repeat(20-e.length),Vr.getLabel(r)&&(t+="".concat(n,":").concat(Vr.getLabel(r))),t+="\n";return t.replace(/(\tNOP\n)*$/g,"").replace(/\n$/g,"")}(),`${t}.cpuvs`)}catch(t){vr.error(t,"USER_INPUT",t.isChecked),r.error(t.message)}vr.info("Program saved to file","USER_INPUT")}]}class Zl extends Qt{constructor(t){super(),Ut(this,t,Vl,zl,c,{})}}function Xl(e){let n,r,s,i,c,l,a,u;return{c(){n=U("button"),r=Q("svg"),s=Q("path"),i=Q("path"),F(s,"d","M0 0h24v24H0V0z"),F(s,"fill","none"),F(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),F(r,"xmlns","http://www.w3.org/2000/svg"),F(r,"viewBox","0 0 24 24"),F(r,"fill","#FFFFFF"),F(r,"class",c="h-10 w-10 "+(e[0]?"":"hover:scale-105")+" fill-black"),F(n,"class",l="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),n.disabled=e[0]},m(t,o){R(t,n,o),S(n,r),S(r,s),S(r,i),a||(u=[P(n,"click",e[2]),P(n,"focus",e[3]),P(n,"focusout",e[4]),P(n,"mouseenter",e[5]),P(n,"mouseleave",e[6]),P(n,"mouseover",e[7])],a=!0)},p(t,[e]){1&e&&c!==(c="h-10 w-10 "+(t[0]?"":"hover:scale-105")+" fill-black")&&F(r,"class",c),2&e&&l!==(l="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[1].class)&&F(n,"class",l),1&e&&(n.disabled=t[0])},i:t,o:t,d(t){t&&T(n),a=!1,o(u)}}}function Gl(t,e,r){const s=["disabled"];let o=g(e,s),{disabled:i=!1}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(1,o=g(e,s)),"disabled"in t&&r(0,i=t.disabled)},[i,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class Jl extends Qt{constructor(t){super(),Ut(this,t,Gl,Xl,c,{disabled:0})}}function ql(t){let e,n,r,s,o,i,c,l,a;const u=t[3].default,d=f(u,t,t[2],null);return{c(){e=U("div"),n=U("div"),r=U("h2"),s=N(t[0]),o=O(),i=U("p"),c=N(t[1]),l=O(),d&&d.c(),F(r,"class","text-2xl font-bold"),F(i,"class","text-sm text-neutral-500"),F(n,"class","flex flex-col"),F(e,"class","w-full flex flex-row items-center justify-between border-b border-neutral-500 p-3 pl-11 pr-24")},m(t,u){R(t,e,u),S(e,n),S(n,r),S(r,s),S(n,o),S(n,i),S(i,c),S(e,l),d&&d.m(e,null),a=!0},p(t,[e]){(!a||1&e)&&B(s,t[0]),(!a||2&e)&&B(c,t[1]),d&&d.p&&(!a||4&e)&&$(d,u,t,t[2],a?p(u,t[2],e,null):h(t[2]),null)},i(t){a||(yt(d,t),a=!0)},o(t){_t(d,t),a=!1},d(t){t&&T(e),d&&d.d(t)}}}function Kl(t,e,n){let{$$slots:r={},$$scope:s}=e,{title:o=""}=e,{description:i=""}=e;return t.$$set=t=>{"title"in t&&n(0,o=t.title),"description"in t&&n(1,i=t.description),"$$scope"in t&&n(2,s=t.$$scope)},[o,i,s,r]}class Yl extends Qt{constructor(t){super(),Ut(this,t,Kl,ql,c,{title:0,description:1})}}function ta(e){let n,r,s,i,c,l;return{c(){n=U("div"),r=U("div"),F(r,"class",s="h-7 w-7 bg-neutral-100 rounded-2xl transition-transform shadow-lg "+(e[0]?"translate-x-full":"")),F(n,"class",i="w-14 h-7 rounded-2xl p-[2px] box-content flex items-center flex-shrink-0 "+(e[1]?"cursor-default":"cursor-pointer")+" "+(e[0]?"bg-green-500":"bg-neutral-500")+" "+(e[1]?"brightness-[.6]":"")+" "+e[3].class),F(n,"disabled",e[1])},m(t,s){R(t,n,s),S(n,r),c||(l=[P(n,"click",e[2]),P(n,"focus",e[4]),P(n,"focusout",e[5]),P(n,"mouseenter",e[6]),P(n,"mouseleave",e[7]),P(n,"mouseover",e[8])],c=!0)},p(t,[e]){1&e&&s!==(s="h-7 w-7 bg-neutral-100 rounded-2xl transition-transform shadow-lg "+(t[0]?"translate-x-full":""))&&F(r,"class",s),11&e&&i!==(i="w-14 h-7 rounded-2xl p-[2px] box-content flex items-center flex-shrink-0 "+(t[1]?"cursor-default":"cursor-pointer")+" "+(t[0]?"bg-green-500":"bg-neutral-500")+" "+(t[1]?"brightness-[.6]":"")+" "+t[3].class)&&F(n,"class",i),2&e&&F(n,"disabled",t[1])},i:t,o:t,d(t){t&&T(n),c=!1,o(l)}}}function ea(t,e,r){const s=["disabled","checked"];let o=g(e,s),{disabled:i=!1}=e,{checked:c=!1}=e;const l=et();return t.$$set=t=>{e=n(n({},e),m(t)),r(3,o=g(e,s)),"disabled"in t&&r(1,i=t.disabled),"checked"in t&&r(0,c=t.checked)},[c,i,function(t){r(0,c=!c),l("click",t)},o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)}]}class na extends Qt{constructor(t){super(),Ut(this,t,ea,ta,c,{disabled:1,checked:0})}}function ra(t,e,n){const r=t.slice();return r[13]=e[n],r}function sa(t){let e,n;return{c(){e=U("option"),n=N(t[1]),F(e,"class","text-black bg-white"),e.__value="",e.value=e.__value,e.selected=!0,e.disabled=!0},m(t,r){R(t,e,r),S(e,n)},p(t,e){2&e&&B(n,t[1])},d(t){t&&T(e)}}}function oa(t){let e,n,r,s=t[13]+"";return{c(){e=U("option"),n=N(s),F(e,"class","text-black bg-white"),e.__value=r=t[13],e.value=e.__value},m(t,r){R(t,e,r),S(e,n)},p(t,o){8&o&&s!==(s=t[13]+"")&&B(n,s),8&o&&r!==(r=t[13])&&(e.__value=r,e.value=e.__value)},d(t){t&&T(e)}}}function ia(e){let n,r,s,i,c,l=""!==e[1]&&sa(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=oa(ra(e,a,t));return{c(){n=U("select"),l&&l.c(),r=D();for(let t=0;t<u.length;t+=1)u[t].c();F(n,"class",s="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class),n.disabled=e[2],void 0===e[0]&&at((()=>e[12].call(n)))},m(t,s){R(t,n,s),l&&l.m(n,null),S(n,r);for(let t=0;t<u.length;t+=1)u[t].m(n,null);j(n,e[0]),i||(c=[P(n,"input",e[5]),P(n,"change",e[6]),P(n,"focus",e[7]),P(n,"focusout",e[8]),P(n,"mouseenter",e[9]),P(n,"mouseleave",e[10]),P(n,"mouseover",e[11]),P(n,"change",e[12])],i=!0)},p(t,[e]){if(""!==t[1]?l?l.p(t,e):(l=sa(t),l.c(),l.m(n,r)):l&&(l.d(1),l=null),8&e){let r;for(a=t[3],r=0;r<a.length;r+=1){const s=ra(t,a,r);u[r]?u[r].p(s,e):(u[r]=oa(s),u[r].c(),u[r].m(n,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}16&e&&s!==(s="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+t[4].class)&&F(n,"class",s),4&e&&(n.disabled=t[2]),9&e&&j(n,t[0])},i:t,o:t,d(t){t&&T(n),l&&l.d(),L(u,t),i=!1,o(c)}}}function ca(t,e,r){const s=["value","placeholder","disabled","options"];let o=g(e,s),{value:i=""}=e,{placeholder:c=""}=e,{disabled:l=!1}=e,{options:a=[]}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(4,o=g(e,s)),"value"in t&&r(0,i=t.value),"placeholder"in t&&r(1,c=t.placeholder),"disabled"in t&&r(2,l=t.disabled),"options"in t&&r(3,a=t.options)},[i,c,l,a,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){i=z(this),r(0,i),r(3,a)}]}class la extends Qt{constructor(t){super(),Ut(this,t,ca,ia,c,{value:0,placeholder:1,disabled:2,options:3})}}function aa(e){let n,r,s,i;return{c(){n=U("input"),F(n,"type","range"),F(n,"class",r=w(e[6].class)+" svelte-10k18fr"),F(n,"min",e[1]),F(n,"max",e[2]),F(n,"step",e[3]),n.disabled=e[4],F(n,"title",e[5])},m(t,r){R(t,n,r),W(n,e[0]),s||(i=[P(n,"change",e[14]),P(n,"input",e[14]),P(n,"input",e[7]),P(n,"change",e[8]),P(n,"focus",e[9]),P(n,"focusout",e[10]),P(n,"mouseenter",e[11]),P(n,"mouseleave",e[12]),P(n,"mouseover",e[13])],s=!0)},p(t,[e]){64&e&&r!==(r=w(t[6].class)+" svelte-10k18fr")&&F(n,"class",r),2&e&&F(n,"min",t[1]),4&e&&F(n,"max",t[2]),8&e&&F(n,"step",t[3]),16&e&&(n.disabled=t[4]),32&e&&F(n,"title",t[5]),1&e&&W(n,t[0])},i:t,o:t,d(t){t&&T(n),s=!1,o(i)}}}function ua(t,e,r){const s=["min","max","value","step","disabled","title"];let o=g(e,s),{min:i=0}=e,{max:c=1}=e,{value:l=c/2+i}=e,{step:a=.1}=e,{disabled:u=!1}=e,{title:f=""}=e;return t.$$set=t=>{e=n(n({},e),m(t)),r(6,o=g(e,s)),"min"in t&&r(1,i=t.min),"max"in t&&r(2,c=t.max),"value"in t&&r(0,l=t.value),"step"in t&&r(3,a=t.step),"disabled"in t&&r(4,u=t.disabled),"title"in t&&r(5,f=t.title)},[l,i,c,a,u,f,o,function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(e){nt.call(this,t,e)},function(){l=M(this.value),r(0,l)}]}class fa extends Qt{constructor(t){super(),Ut(this,t,ua,aa,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function da(t){let e,n,r,s,o,i,c,l,a,u,f,d,p,$,h,m,g,w,b,v=t[1].settings.title+"";return i=new Jl({}),i.$on("click",t[8]),a=new Yl({props:{title:t[1].settings.language.title,description:t[1].settings.language.description,$$slots:{default:[pa]},$$scope:{ctx:t}}}),f=new Yl({props:{title:t[1].settings.dispaly_labels.title,description:t[1].settings.dispaly_labels.description,$$slots:{default:[$a]},$$scope:{ctx:t}}}),p=new Yl({props:{title:t[1].settings.tts_enabled.title,description:t[1].settings.tts_enabled.description,$$slots:{default:[ha]},$$scope:{ctx:t}}}),h=new Yl({props:{title:t[1].settings.tts_speed.title,description:t[1].settings.tts_speed.description,$$slots:{default:[ma]},$$scope:{ctx:t}}}),g=new Yl({props:{title:t[1].settings.tts_voice.title,description:t[1].settings.tts_voice.description,$$slots:{default:[ga]},$$scope:{ctx:t}}}),{c(){e=U("div"),n=U("div"),r=U("h1"),s=N(v),o=O(),It(i.$$.fragment),c=O(),l=U("div"),It(a.$$.fragment),u=O(),It(f.$$.fragment),d=O(),It(p.$$.fragment),$=O(),It(h.$$.fragment),m=O(),It(g.$$.fragment),F(r,"class","text-[2.8rem] font-bold"),F(n,"class","w-full flex flex-row items-center justify-between pt-3 pb-5 px-9 border-b border-neutral-500"),F(l,"class","w-full flex flex-col"),F(e,"class","fixed w-screen h-screen top-0 left-0 bg-gray-100")},m(t,w){R(t,e,w),S(e,n),S(n,r),S(r,s),S(n,o),Rt(i,n,null),S(e,c),S(e,l),Rt(a,l,null),S(l,u),Rt(f,l,null),S(l,d),Rt(p,l,null),S(l,$),Rt(h,l,null),S(l,m),Rt(g,l,null),b=!0},p(t,e){(!b||2&e)&&v!==(v=t[1].settings.title+"")&&B(s,v);const n={};2&e&&(n.title=t[1].settings.language.title),2&e&&(n.description=t[1].settings.language.description),16388&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n);const r={};2&e&&(r.title=t[1].settings.dispaly_labels.title),2&e&&(r.description=t[1].settings.dispaly_labels.description),16392&e&&(r.$$scope={dirty:e,ctx:t}),f.$set(r);const o={};2&e&&(o.title=t[1].settings.tts_enabled.title),2&e&&(o.description=t[1].settings.tts_enabled.description),16400&e&&(o.$$scope={dirty:e,ctx:t}),p.$set(o);const i={};2&e&&(i.title=t[1].settings.tts_speed.title),2&e&&(i.description=t[1].settings.tts_speed.description),16416&e&&(i.$$scope={dirty:e,ctx:t}),h.$set(i);const c={};2&e&&(c.title=t[1].settings.tts_voice.title),2&e&&(c.description=t[1].settings.tts_voice.description),16576&e&&(c.$$scope={dirty:e,ctx:t}),g.$set(c)},i(t){b||(yt(i.$$.fragment,t),yt(a.$$.fragment,t),yt(f.$$.fragment,t),yt(p.$$.fragment,t),yt(h.$$.fragment,t),yt(g.$$.fragment,t),at((()=>{w||(w=At(e,Rc,{duration:75},!0)),w.run(1)})),b=!0)},o(t){_t(i.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),_t(h.$$.fragment,t),_t(g.$$.fragment,t),w||(w=At(e,Rc,{duration:75},!1)),w.run(0),b=!1},d(t){t&&T(e),Tt(i),Tt(a),Tt(f),Tt(p),Tt(h),Tt(g),t&&w&&w.end()}}}function pa(t){let e,n,r;function s(e){t[9](e)}let o={options:[...Re]};return void 0!==t[2]&&(o.value=t[2]),e=new la({props:o}),st.push((()=>Et(e,"value",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&4&r&&(n=!0,s.value=t[2],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function $a(t){let e,n,r;function s(e){t[10](e)}let o={};return void 0!==t[3]&&(o.checked=t[3]),e=new na({props:o}),st.push((()=>Et(e,"checked",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&8&r&&(n=!0,s.checked=t[3],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function ha(t){let e,n,r;function s(e){t[11](e)}let o={};return void 0!==t[4]&&(o.checked=t[4]),e=new na({props:o}),st.push((()=>Et(e,"checked",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};!n&&16&r&&(n=!0,s.checked=t[4],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function ma(t){let e,n,r,s,o,i,c;function l(e){t[12](e)}let a={min:.5,max:1.5};return void 0!==t[5]&&(a.value=t[5]),o=new fa({props:a}),st.push((()=>Et(o,"value",l))),{c(){e=U("div"),n=U("p"),r=N(t[5]),s=O(),It(o.$$.fragment),F(e,"class","w-36 flex flex-col items-center justify-center")},m(t,i){R(t,e,i),S(e,n),S(n,r),S(e,s),Rt(o,e,null),c=!0},p(t,e){(!c||32&e)&&B(r,t[5]);const n={};!i&&32&e&&(i=!0,n.value=t[5],ut((()=>i=!1))),o.$set(n)},i(t){c||(yt(o.$$.fragment,t),c=!0)},o(t){_t(o.$$.fragment,t),c=!1},d(t){t&&T(e),Tt(o)}}}function ga(t){let e,n,r;function s(e){t[13](e)}let o={options:t[6].map(ba)};return void 0!==t[7]&&(o.value=t[7]),e=new la({props:o}),st.push((()=>Et(e,"value",s))),{c(){It(e.$$.fragment)},m(t,n){Rt(e,t,n),r=!0},p(t,r){const s={};64&r&&(s.options=t[6].map(ba)),!n&&128&r&&(n=!0,s.value=t[7],ut((()=>n=!1))),e.$set(s)},i(t){r||(yt(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){Tt(e,t)}}}function wa(t){let e,n,r=t[0]&&da(t);return{c(){r&&r.c(),e=D()},m(t,s){r&&r.m(t,s),R(t,e,s),n=!0},p(t,[n]){t[0]?r?(r.p(t,n),1&n&&yt(r,1)):(r=da(t),r.c(),yt(r,1),r.m(e.parentNode,e)):r&&(vt(),_t(r,1,1,(()=>{r=null})),xt())},i(t){n||(yt(r),n=!0)},o(t){_t(r),n=!1},d(t){r&&r.d(t),t&&T(e)}}}const ba=t=>t.name;function va(t,e,n){let r,s,o,i,c,l,a,f;return u(t,Te,(t=>n(0,r=t))),u(t,tn,(t=>n(1,s=t))),u(t,Oe,(t=>n(2,o=t))),u(t,Ue,(t=>n(3,i=t))),u(t,De,(t=>n(4,c=t))),u(t,Pe,(t=>n(5,l=t))),u(t,Me,(t=>n(6,a=t))),u(t,Fe,(t=>n(7,f=t))),[r,s,o,i,c,l,a,f,function(){b(Te,r=!1,r),vr.info("Settings closed","USER_INPUT")},function(t){o=t,Oe.set(o)},function(t){i=t,Ue.set(i)},function(t){c=t,De.set(c)},function(t){l=t,Pe.set(l)},function(t){f=t,Fe.set(f)}]}class xa extends Qt{constructor(t){super(),Ut(this,t,va,wa,c,{})}}const{window:ya}=Ct;function _a(t){let e,n,r,s,i,c,l,a,u,f,d,p,$,h,m,g,w;n=new Ls({});s=new Nl({props:{}}),t[9](s);c=new Zl({props:{}}),t[10](c);a=new Ec({props:{}}),t[12](a);f=new ol({props:{}}),t[13](f);p=new Xc({props:{}}),t[14](p);return h=new xa({props:{}}),t[15](h),{c(){e=U("div"),It(n.$$.fragment),r=O(),It(s.$$.fragment),i=O(),It(c.$$.fragment),l=O(),It(a.$$.fragment),u=O(),It(f.$$.fragment),d=O(),It(p.$$.fragment),$=O(),It(h.$$.fragment),F(e,"class","relative w-app h-app origin-top-left")},m(o,b){R(o,e,b),Rt(n,e,null),S(e,r),Rt(s,e,null),S(e,i),Rt(c,e,null),t[11](e),R(o,l,b),Rt(a,o,b),R(o,u,b),Rt(f,o,b),R(o,d,b),Rt(p,o,b),R(o,$,b),Rt(h,o,b),m=!0,g||(w=[P(ya,"resize",t[7]),P(ya,"error",t[8])],g=!0)},p(t,[e]){s.$set({});c.$set({});a.$set({});f.$set({});p.$set({});h.$set({})},i(t){m||(yt(n.$$.fragment,t),yt(s.$$.fragment,t),yt(c.$$.fragment,t),yt(a.$$.fragment,t),yt(f.$$.fragment,t),yt(p.$$.fragment,t),yt(h.$$.fragment,t),m=!0)},o(t){_t(n.$$.fragment,t),_t(s.$$.fragment,t),_t(c.$$.fragment,t),_t(a.$$.fragment,t),_t(f.$$.fragment,t),_t(p.$$.fragment,t),_t(h.$$.fragment,t),m=!1},d(r){r&&T(e),Tt(n),t[9](null),Tt(s),t[10](null),Tt(c),t[11](null),r&&T(l),t[12](null),Tt(a,r),r&&T(u),t[13](null),Tt(f,r),r&&T(d),t[14](null),Tt(p,r),r&&T($),t[15](null),Tt(h,r),g=!1,o(w)}}}function ka(t,e,n){let r,s,o,i,c,l,a;function f(){let t=window.innerWidth/1400,e=window.innerHeight/800,r=t<e?t:e;n(0,a.style.transform=`scale(${r})`,a)}return u(t,Mt,(t=>n(1,r=t))),u(t,jt,(t=>n(2,s=t))),u(t,Bt,(t=>n(3,o=t))),u(t,Ht,(t=>n(4,i=t))),u(t,Wt,(t=>n(5,c=t))),u(t,Vt,(t=>n(6,l=t))),tt(f),[a,r,s,o,i,c,l,f,function(t){t.preventDefault(),vr.error(t.error,"UNCAUGHT")},function(t){st[t?"unshift":"push"]((()=>{r=t,Mt.set(r)}))},function(t){st[t?"unshift":"push"]((()=>{s=t,jt.set(s)}))},function(t){st[t?"unshift":"push"]((()=>{a=t,n(0,a)}))},function(t){st[t?"unshift":"push"]((()=>{o=t,Bt.set(o)}))},function(t){st[t?"unshift":"push"]((()=>{i=t,Ht.set(i)}))},function(t){st[t?"unshift":"push"]((()=>{c=t,Wt.set(c)}))},function(t){st[t?"unshift":"push"]((()=>{l=t,Vt.set(l)}))}]}return new class extends Qt{constructor(t){super(),Ut(this,t,ka,_a,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
