var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function s(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(s)}function r(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function c(e){let t;return a(e,(e=>t=e))(),t}function u(e,t,n){e.$$.on_destroy.push(a(t,n))}function d(e,t,n,s){if(e){const o=f(e,t,n,s);return e[0](o)}}function f(e,t,s,o){return e[1]&&o?n(s.ctx.slice(),e[1](o(t))):s.ctx}function p(e,t,n,s){if(e[2]&&s){const o=e[2](s(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|o[s];return e}return t.dirty|o}return t.dirty}function h(e,t,n,s,o,i){if(o){const r=f(t,n,s,i);e.p(r,o)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function g(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function $(e,t){const n={};t=new Set(t);for(const s in e)t.has(s)||"$"===s[0]||(n[s]=e[s]);return n}function b(e){return null==e?"":e}function y(e,t,n){return e.set(n),t}function w(t){return t&&r(t.destroy)?t.destroy:e}const v="undefined"!=typeof window;let x=v?()=>window.performance.now():()=>Date.now(),_=v?e=>requestAnimationFrame(e):e;const E=new Set;function k(e){E.forEach((t=>{t.c(e)||(E.delete(t),t.f())})),0!==E.size&&_(k)}function A(e){let t;return 0===E.size&&_(k),{promise:new Promise((n=>{E.add(t={c:e,f:n})})),abort(){E.delete(t)}}}function S(e,t){e.appendChild(t)}function L(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function I(e){const t=C("style");return function(e,t){S(e.head||e,t),t.sheet}(L(e),t),t.sheet}function T(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function N(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function D(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function R(){return P(" ")}function U(){return P("")}function B(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function F(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)null==t[s]?e.removeAttribute(s):"style"===s?e.style.cssText=t[s]:"__value"===s?e.value=e[s]=t[s]:n[s]&&n[s].set?e[s]=t[s]:M(e,s,t[s])}function Q(e){return""===e?null:+e}function j(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function H(e,t){e.value=null==t?"":t}function q(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function W(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function G(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function K(e,t,n){e.classList[n?"add":"remove"](t)}function V(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,s,t),o}function z(e,t){return new e(t)}const X=new Map;let J,Z=0;function Y(e,t,n,s,o,i,r,l=0){const a=16.666/s;let c="{\n";for(let e=0;e<=1;e+=a){const s=t+(n-t)*i(e);c+=100*e+`%{${r(s,1-s)}}\n`}const u=c+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,f=L(e),{stylesheet:p,rules:h}=X.get(f)||function(e,t){const n={stylesheet:I(t),rules:{}};return X.set(e,n),n}(f,e);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${o}ms 1 both`,Z+=1,d}function ee(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-s.length;o&&(e.style.animation=s.join(", "),Z-=o,Z||_((()=>{Z||(X.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&O(t)})),X.clear())})))}function te(e){J=e}function ne(){if(!J)throw new Error("Function called outside component initialization");return J}function se(e){ne().$$.on_mount.push(e)}function oe(e){ne().$$.after_update.push(e)}function ie(e){ne().$$.on_destroy.push(e)}function re(){const e=ne();return(t,n,{cancelable:s=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=V(t,n,{cancelable:s});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function le(e,t){return ne().$$.context.set(e,t),t}function ae(e){return ne().$$.context.get(e)}function ce(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ue=[],de=[],fe=[],pe=[],he=Promise.resolve();let me=!1;function ge(){me||(me=!0,he.then(_e))}function $e(){return ge(),he}function be(e){fe.push(e)}function ye(e){pe.push(e)}const we=new Set;let ve,xe=0;function _e(){const e=J;do{for(;xe<ue.length;){const e=ue[xe];xe++,te(e),Ee(e.$$)}for(te(null),ue.length=0,xe=0;de.length;)de.pop()();for(let e=0;e<fe.length;e+=1){const t=fe[e];we.has(t)||(we.add(t),t())}fe.length=0}while(ue.length);for(;pe.length;)pe.pop()();me=!1,we.clear(),te(e)}function Ee(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(be)}}function ke(){return ve||(ve=Promise.resolve(),ve.then((()=>{ve=null}))),ve}function Ae(e,t,n){e.dispatchEvent(V(`${t?"intro":"outro"}${n}`))}const Se=new Set;let Le;function Ie(){Le={r:0,c:[],p:Le}}function Te(){Le.r||i(Le.c),Le=Le.p}function Oe(e,t){e&&e.i&&(Se.delete(e),e.i(t))}function Ne(e,t,n,s){if(e&&e.o){if(Se.has(e))return;Se.add(e),Le.c.push((()=>{Se.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const Ce={duration:0};function De(n,s,o){const i={direction:"in"};let l,a,c=s(n,o,i),u=!1,d=0;function f(){l&&ee(n,l)}function p(){const{delay:s=0,duration:o=300,easing:i=t,tick:r=e,css:p}=c||Ce;p&&(l=Y(n,0,1,o,s,i,p,d++)),r(0,1);const h=x()+s,m=h+o;a&&a.abort(),u=!0,be((()=>Ae(n,!0,"start"))),a=A((e=>{if(u){if(e>=m)return r(1,0),Ae(n,!0,"end"),f(),u=!1;if(e>=h){const t=i((e-h)/o);r(t,1-t)}}return u}))}let h=!1;return{start(){h||(h=!0,ee(n),r(c)?(c=c(i),ke().then(p)):p())},invalidate(){h=!1},end(){u&&(f(),u=!1)}}}function Pe(n,s,o,l){const a={direction:"both"};let c=s(n,o,a),u=l?0:1,d=null,f=null,p=null;function h(){p&&ee(n,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(s){const{delay:o=0,duration:r=300,easing:l=t,tick:a=e,css:g}=c||Ce,$={start:x()+o,b:s};s||($.group=Le,Le.r+=1),d||f?f=$:(g&&(h(),p=Y(n,u,s,r,o,l,g)),s&&a(0,1),d=m($,r),be((()=>Ae(n,s,"start"))),A((e=>{if(f&&e>f.start&&(d=m(f,r),f=null,Ae(n,d.b,"start"),g&&(h(),p=Y(n,u,d.b,d.duration,0,l,c.css))),d)if(e>=d.end)a(u=d.b,1-u),Ae(n,d.b,"end"),f||(d.b?h():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*l(t/d.duration),a(u,1-u)}return!(!d&&!f)})))}return{run(e){r(c)?ke().then((()=>{c=c(a),g(e)})):g(e)},end(){h(),d=f=null}}}const Re="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Ue(e,t){Ne(e,1,1,(()=>{t.delete(e.key)}))}function Be(e,t,n,s,o,i,r,l,a,c,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],$=new Map,b=new Map;for(h=p;h--;){const e=d(o,i,h),l=n(e);let a=r.get(l);a?s&&a.p(e,t):(a=c(l,e),a.c()),$.set(l,g[h]=a),l in m&&b.set(l,Math.abs(h-m[l]))}const y=new Set,w=new Set;function v(e){Oe(e,1),e.m(l,u),r.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],s=t.key,o=n.key;t===n?(u=t.first,f--,p--):$.has(o)?!r.has(s)||y.has(s)?v(t):w.has(o)?f--:b.get(s)>b.get(o)?(w.add(s),v(t)):(y.add(o),f--):(a(n,r),f--)}for(;f--;){const t=e[f];$.has(t.key)||a(t,r)}for(;p;)v(g[p-1]);return g}function Me(e,t){const n={},s={},o={$$scope:1};let i=e.length;for(;i--;){const r=e[i],l=t[i];if(l){for(const e in r)e in l||(s[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in r)o[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function Fe(e){return"object"==typeof e&&null!==e?e:{}}function Qe(e,t,n,s){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,void 0===s&&n(e.$$.ctx[o]))}function je(e){e&&e.c()}function He(e,t,n,o){const{fragment:l,after_update:a}=e.$$;l&&l.m(t,n),o||be((()=>{const t=e.$$.on_mount.map(s).filter(r);e.$$.on_destroy?e.$$.on_destroy.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(be)}function qe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function We(t,n,s,r,l,a,c,u=[-1]){const d=J;te(t);const f=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(f.root);let p=!1;if(f.ctx=s?s(t,n.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&l(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&function(e,t){-1===e.$$.dirty[0]&&(ue.push(e),ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(O)}else f.fragment&&f.fragment.c();n.intro&&Oe(t.$$.fragment),He(t,n.target,n.anchor,n.customElement),_e()}te(d)}class Ge{$destroy(){qe(this,1),this.$destroy=e}$on(t,n){if(!r(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ke=[];function Ve(t,n=e){let s;const o=new Set;function i(e){if(l(t,e)&&(t=e,s)){const e=!Ke.length;for(const e of o)e[1](),Ke.push(e,t);if(e){for(let e=0;e<Ke.length;e+=2)Ke[e][0](Ke[e+1]);Ke.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(r,l=e){const a=[r,l];return o.add(a),1===o.size&&(s=n(i)||e),r(t),()=>{o.delete(a),0===o.size&&(s(),s=null)}}}}function ze(t,n,s){const o=!Array.isArray(t),l=o?[t]:t,c=n.length<2;return u=t=>{let s=!1;const u=[];let d=0,f=e;const p=()=>{if(d)return;f();const s=n(o?u[0]:u,t);c?t(s):f=r(s)?s:e},h=l.map(((e,t)=>a(e,(e=>{u[t]=e,d&=~(1<<t),s&&p()}),(()=>{d|=1<<t}))));return s=!0,p(),function(){i(h),f()}},{subscribe:Ve(s,u).subscribe};var u}function Xe(e,t){const n=Ve(e,t);return n.get=()=>c(n),n}function Je(e,t){const n=ze(e,t);return n.get=()=>c(n),n}const Ze=Xe(),Ye=Xe(),et=Xe(),tt=Xe(),nt=Xe(),st=Xe(),ot=Xe(),it=Xe(),rt=Xe();class lt{constructor(e,t,n){this.a=e,this.b=t,this.type=n,this.a.connectTo(t,this)}isConnecting(e,t){return this.a===e&&this.b===t||this.a===t&&this.b===e}}lt.WIDTH=5;class at{constructor(e,t,n,s=null){this.x=t,this.y=n,this.name=e,this.neighbours=[],this.intersectionType=s}isAlignedTo(e){return this.x===e.x||this.y===e.y}isConnectedTo(e){return this.neighbours.some((t=>t===e))}connectTo(e,t){if(!this.isAlignedTo(e))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+e.name+")");if(this.isConnectedTo(e))throw new Error("This node is already connected to "+e.name);this.neighbours.push(e),e.neighbours.push(this)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static direction(e,t){return e.x>t.x?{x:-1,y:0}:e.x<t.x?{x:1,y:0}:e.y>t.y?{x:0,y:-1}:{x:0,y:1}}}const ct=["en","it"];const ut=new class{constructor(e){this.namespace=e}set(e,t){localStorage.setItem(`${this.namespace}.${e.toString()}`,t.toString())}get(e){return localStorage.getItem(`${this.namespace}.${e.toString()}`)}getOrElse(e,t){return this.isSet(e)?this.get(e):t.toString()}isSet(e){return null!==localStorage.getItem(`${this.namespace}.${e.toString()}`)}}("app");let dt=null;var ft={read:function(e,t,n,...s){dt=new SpeechSynthesisUtterance(e),dt.rate=t,dt.voice=n,dt.onend=dt.onerror=()=>{dt=null,s.forEach((e=>null==e?void 0:e()))},speechSynthesis.speak(dt)},isUtteranceEnded:function(){return null===dt},getAvailableVoices:function(e){return window.speechSynthesis.getVoices().filter((t=>t.lang.startsWith(e)))}};const pt=Ve([]),ht={subscribe:pt.subscribe,push(e){pt.update((t=>[...t,e]))}},mt=Ve({showLogger:!1}),gt={subscribe:mt.subscribe,updateShowLogger(e){mt.update((t=>Object.assign(Object.assign({},t),{showLogger:e(t.showLogger)})))}},$t=Date.now(),bt=["EXECUTION","USER_INPUT","DEBUG","UNCAUGHT"],yt=["UNCHECKED_ERROR","CHECKED_ERROR","INFO"];function wt(e,t,n=!1){ht.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:t,timestamp:vt(),message:n?e.message:e.stack})}function vt(){return Date.now()-$t}var xt={error:function(e,t,n=!1){ht.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:t,timestamp:vt(),message:n?e.message:e.stack})},info:function(e,t){ht.push({logType:"INFO",logGroup:t,timestamp:vt(),message:e})}};const _t=Xe(),Et=Xe(),kt=Xe(),At=Xe(),St=Xe(),Lt=Xe(),It=Xe(),Tt=Xe(),Ot=Xe(),Nt=Xe(),Ct=Xe(),Dt=Xe(),Pt=Xe(),Rt=Xe(),Ut=Xe(),Bt=Xe(),Mt=Xe(),Ft=Xe(),Qt=Xe(),jt=Xe(),Ht=Xe(),qt=Xe(),Wt=Xe(),Gt=Xe(),Kt={showSettings:!1,displayAsBinary:!1,displayComponentsLabels:!0,displayBussesLabels:!0,displayStepText:!1,minimalAnimations:!1,animationsEnabled:!0,animationSpeed:1.5,language:function(){let e=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return e=e.split("-")[0],ct.includes(e)?e:"en"}(),ttsEnabled:!1,ttsSpeed:1,extDataBusColor:"#0000ff",intDataBusColor:"#00ffff",extDataBusAnimationColor:"#00ff00",intDataBusAnimationColor:"#006400",extAddressBusColor:"#ff8c00",intAddressBusColor:"#ffff00",extAddressBusAnimationColor:"#00ff00",intAddressBusAnimationColor:"#006400",extControlBusColor:"#ff0000",intControlBusColor:"#ff7a90",extControlBusAnimationColor:"#00ff00",intControlBusAnimationColor:"#00ff00"};function Vt(){kt.set(Kt.displayComponentsLabels),At.set(Kt.displayBussesLabels),St.set(Kt.displayStepText),Tt.set(Kt.animationSpeed),Ot.set(Kt.language),Nt.set(Kt.ttsEnabled),Ct.set(Kt.ttsSpeed),Pt.set(Kt.extDataBusColor),Rt.set(Kt.intDataBusColor),Ut.set(Kt.extDataBusAnimationColor),Bt.set(Kt.intDataBusAnimationColor),Mt.set(Kt.extAddressBusColor),Ft.set(Kt.intAddressBusColor),Qt.set(Kt.extAddressBusAnimationColor),jt.set(Kt.intAddressBusAnimationColor),Ht.set(Kt.extControlBusColor),qt.set(Kt.intControlBusColor),Wt.set(Kt.extControlBusAnimationColor),Gt.set(Kt.intControlBusAnimationColor)}const zt={DATA_INT:{name:"DATA_INT",color:()=>c(Rt),animationColor:()=>c(Bt)},DATA_EXT:{name:"DATA_EXT",color:()=>c(Pt),animationColor:()=>c(Ut)},CONTROL_INT:{name:"CONTROL_INT",color:()=>c(qt),animationColor:()=>c(Gt)},CONTROL_EXT:{name:"CONTROL_EXT",color:()=>c(Ht),animationColor:()=>c(Wt)},ADDRESS_INT:{name:"ADDRESS_INT",color:()=>c(Ft),animationColor:()=>c(jt)},ADDRESS_EXT:{name:"ADDRESS_EXT",color:()=>c(Mt),animationColor:()=>c(Qt)},INVISIBLE:{name:"INVISIBLE",color:()=>"transparent",animationColor:()=>"transparent"}},Xt=[...[new at("RAM:DATA",1250,115),new at("DATA:1",1250,85,zt.DATA_EXT),new at("DATA:2",749,85),new at("DATA:3",527,85),new at("DATA:4",262,85),new at("DATA:5",95,85,zt.DATA_INT),new at("DATA:6",95,390),new at("DATA:7",95,617,zt.DATA_INT),new at("DATA:8",320,390,zt.DATA_INT),new at("DATA:9",312,250,zt.DATA_INT),new at("DATA:10",477,250),new at("DATA:11",652,490,zt.DATA_INT),new at("IR:1",262,151),new at("IR:2",312,180),new at("IR:3",212,180),new at("MUX:1",477,292),new at("MUX:2",527,292),new at("MUX:3",502,332),new at("ACC:1",327,617),new at("ACC:2",412,601),new at("ALU:1",320,432),new at("ALU:2",502,432),new at("ALU:3",526,490),new at("ALU:4",412,538),new at("SW:1",652,601)],...[new at("RAM:ADD",1061,250),new at("ADD:1",749,250),new at("ADD:2",670,250),new at("ADD:3",590,250),new at("ADD:4",590,137,zt.ADDRESS_INT),new at("ADD:5",532,250),new at("ADD:6",522,250),new at("INC:1",670,210),new at("INC:2",670,182),new at("PC:1",670,150),new at("PC:2",622,137)],...[new at("RAM:CTRL",1061,370),new at("CTRL:1",749,370),new at("CTRL:2",507,370),new at("CTRL:3",497,370),new at("CTRL:4",240,370,zt.CONTROL_INT),new at("CTRL:5",185,385),new at("CTRL:6",185,395),new at("CTRL:7",185,490,zt.CONTROL_INT),new at("CU:1",212,281),new at("CU:2",270,313),new at("CU:3",240,340),new at("CU:4",185,340),new at("MUX:4",464,313),new at("ALU:5",297,490)]];function Jt(e){return Xt.find((t=>t.name===e))}const Zt=[...[new lt(Jt("RAM:DATA"),Jt("DATA:1"),zt.DATA_EXT),new lt(Jt("DATA:1"),Jt("DATA:2"),zt.DATA_EXT),new lt(Jt("DATA:2"),Jt("DATA:3"),zt.DATA_INT),new lt(Jt("DATA:3"),Jt("DATA:4"),zt.DATA_INT),new lt(Jt("DATA:4"),Jt("DATA:5"),zt.DATA_INT),new lt(Jt("DATA:5"),Jt("DATA:6"),zt.DATA_INT),new lt(Jt("DATA:6"),Jt("DATA:7"),zt.DATA_INT),new lt(Jt("DATA:6"),Jt("DATA:8"),zt.DATA_INT),new lt(Jt("DATA:8"),Jt("ALU:1"),zt.DATA_INT),new lt(Jt("DATA:7"),Jt("ACC:1"),zt.DATA_INT),new lt(Jt("MUX:3"),Jt("ALU:2"),zt.DATA_INT),new lt(Jt("ALU:4"),Jt("ACC:2"),zt.DATA_INT),new lt(Jt("ALU:3"),Jt("DATA:11"),zt.DATA_INT),new lt(Jt("DATA:11"),Jt("SW:1"),zt.DATA_INT),new lt(Jt("DATA:4"),Jt("IR:1"),zt.DATA_INT),new lt(Jt("IR:3"),Jt("CU:1"),zt.DATA_INT),new lt(Jt("IR:2"),Jt("DATA:9"),zt.DATA_INT),new lt(Jt("DATA:9"),Jt("DATA:10"),zt.DATA_INT),new lt(Jt("DATA:10"),Jt("MUX:1"),zt.DATA_INT),new lt(Jt("DATA:3"),Jt("MUX:2"),zt.DATA_INT)],...[new lt(Jt("RAM:ADD"),Jt("ADD:1"),zt.ADDRESS_EXT),new lt(Jt("ADD:1"),Jt("ADD:2"),zt.ADDRESS_INT),new lt(Jt("ADD:2"),Jt("INC:1"),zt.ADDRESS_INT),new lt(Jt("INC:2"),Jt("PC:1"),zt.ADDRESS_INT),new lt(Jt("PC:2"),Jt("ADD:4"),zt.ADDRESS_INT),new lt(Jt("ADD:2"),Jt("ADD:3"),zt.ADDRESS_INT),new lt(Jt("ADD:3"),Jt("ADD:4"),zt.ADDRESS_INT),new lt(Jt("ADD:3"),Jt("ADD:5"),zt.ADDRESS_INT),new lt(Jt("ADD:5"),Jt("ADD:6"),zt.INVISIBLE),new lt(Jt("ADD:6"),Jt("DATA:10"),zt.ADDRESS_INT)],...[new lt(Jt("CU:2"),Jt("MUX:4"),zt.CONTROL_INT),new lt(Jt("RAM:CTRL"),Jt("CTRL:1"),zt.CONTROL_EXT),new lt(Jt("CTRL:1"),Jt("CTRL:2"),zt.CONTROL_INT),new lt(Jt("CTRL:2"),Jt("CTRL:3"),zt.INVISIBLE),new lt(Jt("CTRL:3"),Jt("CTRL:4"),zt.CONTROL_INT),new lt(Jt("CTRL:4"),Jt("CU:3"),zt.CONTROL_INT),new lt(Jt("CU:4"),Jt("CTRL:5"),zt.CONTROL_INT),new lt(Jt("CTRL:5"),Jt("CTRL:6"),zt.INVISIBLE),new lt(Jt("CTRL:6"),Jt("CTRL:7"),zt.CONTROL_INT),new lt(Jt("CTRL:7"),Jt("ALU:5"),zt.CONTROL_INT)]];function Yt(e){return Zt.find((t=>t.a.name+"-"+t.b.name===e||t.b.name+"-"+t.a.name===e))}function en(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))}let tn,nn;class sn{constructor(e,t){this.pos={x:0,y:0},this.path=[...e],this.wires=[...t],this.reset()}play(){return en(this,void 0,void 0,(function*(){return new Promise(this._play.bind(this))}))}_play(e,t){this.resolve=e,requestAnimationFrame(this.startAnimation.bind(this))}startAnimation(e){this.previousTimestamp=e,this.animate(e)}animate(e){this.deltatime=(e-this.previousTimestamp)/1e3;const t=Math.floor(400*this.deltatime*c(Tt));if(this.draw(t),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return rn(0),this.reset(),void this.resolve();this.previousTimestamp=e,requestAnimationFrame(this.animate.bind(this))}draw(e){for(nn.beginPath(),nn.moveTo(this.pos.x,this.pos.y);e>0;){for(this.nextNode=ln(this.pos,this.path[this.nextNodeIndex],e),nn.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor();(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&e>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,nn.lineTo(this.incrementedX,this.incrementedY),nn.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,e--;on(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(e=0))}nn.closePath()}reset(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1}}function on(e){nn.save(),nn.globalAlpha=e,nn.globalCompositeOperation="destination-out",nn.fillStyle="#FFF",nn.fillRect(0,0,tn.width,tn.height),nn.restore()}function rn(e){on(.1),40!==++e?requestAnimationFrame((()=>rn(e))):nn.clearRect(0,0,tn.width,tn.height)}function ln(e,t,n){let s=at.direction(e,t),o=at.distance(e,t),i=t;return o>n&&(o=n,i=function(e,t,n){return{x:e.x+t*n.x,y:e.y+t*n.y}}(e,n,s)),{distance:o,direction:s,node:i}}function an(t){let n,s,o=(t[7]?t[8][t[0]].text:"")+"";return{c(){n=C("div"),s=P(o),M(n,"class","absolute w-fit font-bold cursor-default text-sm leading-tight"),q(n,"top",t[1]),q(n,"bottom",t[4]),q(n,"left",t[2]),q(n,"right",t[3]),q(n,"color",t[6])},m(e,t){T(e,n,t),S(n,s)},p(e,[t]){129&t&&o!==(o=(e[7]?e[8][e[0]].text:"")+"")&&j(s,o),2&t&&q(n,"top",e[1]),16&t&&q(n,"bottom",e[4]),4&t&&q(n,"left",e[2]),8&t&&q(n,"right",e[3]),64&t&&q(n,"color",e[6])},i:e,o:e,d(e){e&&O(n)}}}function cn(t,n,s){let o,i,r,l=e;u(t,At,(e=>s(7,r=e))),t.$$.on_destroy.push((()=>l()));let{bus:c}=n,{top:d="auto"}=n,{left:f="auto"}=n,{right:p="auto"}=n,{bottom:h="auto"}=n;const m={DATA:{text:"DATA BUS",colorStore:Pt},ADDRESS:{text:"ADDRESS BUS",colorStore:Mt},CONTROL:{text:"CONTROL BUS",colorStore:Ht}};return t.$$set=e=>{"bus"in e&&s(0,c=e.bus),"top"in e&&s(1,d=e.top),"left"in e&&s(2,f=e.left),"right"in e&&s(3,p=e.right),"bottom"in e&&s(4,h=e.bottom)},t.$$.update=()=>{1&t.$$.dirty&&(s(5,o=m[c].colorStore),l(),l=a(o,(e=>s(6,i=e))))},[c,d,f,p,h,o,i,r,m]}class un extends Ge{constructor(e){super(),We(this,e,cn,an,l,{bus:0,top:1,left:2,right:3,bottom:4})}}const dn=Ve(!1),fn=Ve(!1),pn=Ve(!1);function hn(e){let t,n,s=e[0].name+"";return{c(){t=C("span"),n=P(s),M(t,"class","text-fuchsia-500")},m(e,s){T(e,t,s),S(t,n)},p(e,t){1&t&&s!==(s=e[0].name+"")&&j(n,s)},d(e){e&&O(t)}}}function mn(e){let t,n,s,o,i,r,l,a=e[0].x+"",c=e[0].y+"";return{c(){t=C("span"),n=P("x: "),s=P(a),o=R(),i=C("span"),r=P("y: "),l=P(c),M(t,"class","text-blue-700"),M(i,"class","text-red-700")},m(e,a){T(e,t,a),S(t,n),S(t,s),T(e,o,a),T(e,i,a),S(i,r),S(i,l)},p(e,t){1&t&&a!==(a=e[0].x+"")&&j(s,a),1&t&&c!==(c=e[0].y+"")&&j(l,c)},d(e){e&&O(t),e&&O(o),e&&O(i)}}}function gn(t){let n,s,o,i,r,l,a=t[1]&&hn(t),c=t[2]&&mn(t);return{c(){n=C("div"),s=C("div"),i=R(),r=C("div"),a&&a.c(),l=R(),c&&c.c(),M(s,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),M(s,"title",o=`${t[0].name} x: ${t[0].x} y: ${t[0].y}`),M(r,"class","relative left-[7px] top-[-10px] bg-white font-bold"),M(n,"class","absolute z-10"),q(n,"top",t[0].y+"px"),q(n,"left",t[0].x+"px")},m(e,t){T(e,n,t),S(n,s),S(n,i),S(n,r),a&&a.m(r,null),S(r,l),c&&c.m(r,null)},p(e,[t]){1&t&&o!==(o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`)&&M(s,"title",o),e[1]?a?a.p(e,t):(a=hn(e),a.c(),a.m(r,l)):a&&(a.d(1),a=null),e[2]?c?c.p(e,t):(c=mn(e),c.c(),c.m(r,null)):c&&(c.d(1),c=null),1&t&&q(n,"top",e[0].y+"px"),1&t&&q(n,"left",e[0].x+"px")},i:e,o:e,d(e){e&&O(n),a&&a.d(),c&&c.d()}}}function $n(e,t,n){let s,o;u(e,fn,(e=>n(1,s=e))),u(e,pn,(e=>n(2,o=e)));let{node:i}=t;return e.$$set=e=>{"node"in e&&n(0,i=e.node)},[i,s,o]}class bn extends Ge{constructor(e){super(),We(this,e,$n,gn,l,{node:0})}}function yn(e,t,n){const s=e.slice();return s[10]=t[n],s}function wn(e){let t,n,s=Xt,o=[];for(let t=0;t<s.length;t+=1)o[t]=vn(yn(e,s,t));const i=e=>Ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=U()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);T(e,t,s),n=!0},p(e,n){if(0&n){let r;for(s=Xt,r=0;r<s.length;r+=1){const i=yn(e,s,r);o[r]?(o[r].p(i,n),Oe(o[r],1)):(o[r]=vn(i),o[r].c(),Oe(o[r],1),o[r].m(t.parentNode,t))}for(Ie(),r=s.length;r<o.length;r+=1)i(r);Te()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Oe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ne(o[e]);n=!1},d(e){N(o,e),e&&O(t)}}}function vn(t){let n,s;return n=new bn({props:{node:t[10]}}),{c(){je(n.$$.fragment)},m(e,t){He(n,e,t),s=!0},p:e,i(e){s||(Oe(n.$$.fragment,e),s=!0)},o(e){Ne(n.$$.fragment,e),s=!1},d(e){qe(n,e)}}}function xn(e){let t,n,s,o,i,r,l,a,c,u,d,f;i=new un({props:{bus:"DATA",top:"62px",left:"850px"}}),l=new un({props:{bus:"ADDRESS",top:"226px",left:"837px"}}),c=new un({props:{bus:"CONTROL",top:"346px",left:"838px"}});let p=e[2]&&wn(e);return{c(){t=C("canvas"),n=R(),s=C("canvas"),o=R(),je(i.$$.fragment),r=R(),je(l.$$.fragment),a=R(),je(c.$$.fragment),u=R(),p&&p.c(),d=U(),M(t,"class","absolute z-[2] top-0 left-0 w-app h-app"),M(s,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(h,m){T(h,t,m),e[6](t),T(h,n,m),T(h,s,m),e[7](s),T(h,o,m),He(i,h,m),T(h,r,m),He(l,h,m),T(h,a,m),He(c,h,m),T(h,u,m),p&&p.m(h,m),T(h,d,m),f=!0},p(e,[t]){e[2]?p?(p.p(e,t),4&t&&Oe(p,1)):(p=wn(e),p.c(),Oe(p,1),p.m(d.parentNode,d)):p&&(Ie(),Ne(p,1,1,(()=>{p=null})),Te())},i(e){f||(Oe(i.$$.fragment,e),Oe(l.$$.fragment,e),Oe(c.$$.fragment,e),Oe(p),f=!0)},o(e){Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),Ne(c.$$.fragment,e),Ne(p),f=!1},d(f){f&&O(t),e[6](null),f&&O(n),f&&O(s),e[7](null),f&&O(o),qe(i,f),f&&O(r),qe(l,f),f&&O(a),qe(c,f),f&&O(u),p&&p.d(f),f&&O(d)}}}function _n(e,t,n){let s;u(e,dn,(e=>n(2,s=e)));var o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let{animationsEnabled:i}=t;const r=new Map;let l,a;function c(){const e=l.getContext("2d");e.lineWidth=lt.WIDTH,e.clearRect(0,0,a.width,a.height);for(const t of Zt)e.strokeStyle=t.type.color(),e.beginPath(),e.moveTo(t.a.x,t.a.y),e.lineTo(t.b.x,t.b.y),e.stroke();for(const t of Xt.filter((e=>null!==e.intersectionType))){const n=lt.WIDTH/2-.5;e.beginPath(),e.fillStyle=t.intersectionType.color(),e.arc(t.x,t.y,n,0,2*Math.PI),e.fill()}}return se((()=>o(void 0,void 0,void 0,(function*(){n(0,l.width=n(1,a.width=1400,a),l),n(0,l.height=n(1,a.height=800,a),l),c(),tn=a,nn=tn.getContext("2d"),nn.lineCap="round",nn.lineWidth=lt.WIDTH,Pt.subscribe((e=>c())),Rt.subscribe((e=>c())),Mt.subscribe((e=>c())),Ft.subscribe((e=>c())),Ht.subscribe((e=>c())),qt.subscribe((e=>c()))})))),e.$$set=e=>{"animationsEnabled"in e&&n(3,i=e.animationsEnabled)},[l,a,s,i,function(e,t){return o(this,void 0,void 0,(function*(){if(!i)return;const n=Jt(e),s=Jt(t);if(!n)throw new Error("Node "+e+" is undefined");if(!s)throw new Error("Node "+t+" is undefined");let o;if(o=r.get(e+t))o.reset();else{const i=function(e,t){const n=[e],s=new Set,o={};let i=0;for(;i<n.length;){let r=n[i++];for(const i of r.neighbours)if(!s.has(i)){if(s.add(i),i===t){const t=[i];for(;r!==e;)t.push(r),r=o[r.name];return t.push(r),t.reverse(),t}o[i.name]=r,n.push(i)}}throw new Error("No path connecting "+e.name+" to "+t.name)}(n,s),l=function(e){let t=[];for(let n=0;n<e.length-1;n++)t.push(Yt(`${e[n].name}-${e[n+1].name}`));return t}(i);o=new sn(i,l),r.set(e+t,o)}yield o.play()}))},c,function(e){de[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(e){de[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class En extends Ge{constructor(e){super(),We(this,e,_n,xn,l,{animationsEnabled:3,flashWire:4,drawStaticWires:5})}get flashWire(){return this.$$.ctx[4]}get drawStaticWires(){return this.$$.ctx[5]}}function kn(t){let n,s,o,i=(t[6]?t[0]:"")+"";return{c(){n=C("div"),s=P(i),M(n,"class",o="absolute w-fit font-bold font-sans cursor-default "+t[7][t[5]]+" leading-tight"),q(n,"top",t[1]),q(n,"bottom",t[4]),q(n,"left",t[2]),q(n,"right",t[3])},m(e,t){T(e,n,t),S(n,s)},p(e,[t]){65&t&&i!==(i=(e[6]?e[0]:"")+"")&&j(s,i),32&t&&o!==(o="absolute w-fit font-bold font-sans cursor-default "+e[7][e[5]]+" leading-tight")&&M(n,"class",o),2&t&&q(n,"top",e[1]),16&t&&q(n,"bottom",e[4]),4&t&&q(n,"left",e[2]),8&t&&q(n,"right",e[3])},i:e,o:e,d(e){e&&O(n)}}}function An(e,t,n){let s;u(e,kt,(e=>n(6,s=e)));let{text:o=""}=t,{top:i="auto"}=t,{left:r="auto"}=t,{right:l="auto"}=t,{bottom:a="auto"}=t,{fontSize:c="MEDIUM"}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"top"in e&&n(1,i=e.top),"left"in e&&n(2,r=e.left),"right"in e&&n(3,l=e.right),"bottom"in e&&n(4,a=e.bottom),"fontSize"in e&&n(5,c=e.fontSize)},[o,i,r,l,a,c,s,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class Sn extends Ge{constructor(e){super(),We(this,e,An,kn,l,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}function Ln(e,t,n){return(1-n)*e+n*t}function In(e,t,n,s){return en(this,void 0,void 0,(function*(){return new Promise(((o,i)=>{let r,l=0;const a=i=>{if(r||(r=i),l>=1)return o(),void e.style.setProperty(t,`rgb(${s.r}, ${s.g}, ${s.b})`);const u=Math.round(Ln(n.r,s.r,l)),d=Math.round(Ln(n.g,s.g,l)),f=Math.round(Ln(n.b,s.b,l));e.style.setProperty(t,`rgb(${u}, ${d}, ${f})`);l=(i-r)/(300/c(Tt)),requestAnimationFrame(a)};requestAnimationFrame(a)}))}))}function Tn(e,t,n,s){return en(this,void 0,void 0,(function*(){return In(e,t,n,s).then((()=>In(e,t,s,n)))}))}const On=Symbol.for("yaml.alias"),Nn=Symbol.for("yaml.document"),Cn=Symbol.for("yaml.map"),Dn=Symbol.for("yaml.pair"),Pn=Symbol.for("yaml.scalar"),Rn=Symbol.for("yaml.seq"),Un=Symbol.for("yaml.node.type"),Bn=e=>!!e&&"object"==typeof e&&e[Un]===On,Mn=e=>!!e&&"object"==typeof e&&e[Un]===Nn,Fn=e=>!!e&&"object"==typeof e&&e[Un]===Cn,Qn=e=>!!e&&"object"==typeof e&&e[Un]===Dn,jn=e=>!!e&&"object"==typeof e&&e[Un]===Pn,Hn=e=>!!e&&"object"==typeof e&&e[Un]===Rn;function qn(e){if(e&&"object"==typeof e)switch(e[Un]){case Cn:case Rn:return!0}return!1}function Wn(e){if(e&&"object"==typeof e)switch(e[Un]){case On:case Cn:case Pn:case Rn:return!0}return!1}class Gn{constructor(e){Object.defineProperty(this,Un,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const Kn=Symbol("break visit"),Vn=Symbol("skip children"),zn=Symbol("remove node");function Xn(e,t){const n=function(e){if("object"==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);if(Mn(e)){Jn(null,e.contents,n,Object.freeze([e]))===zn&&(e.contents=null)}else Jn(null,e,n,Object.freeze([]))}function Jn(e,t,n,s){const o=function(e,t,n,s){return"function"==typeof n?n(e,t,s):Fn(t)?n.Map?.(e,t,s):Hn(t)?n.Seq?.(e,t,s):Qn(t)?n.Pair?.(e,t,s):jn(t)?n.Scalar?.(e,t,s):Bn(t)?n.Alias?.(e,t,s):void 0}(e,t,n,s);if(Wn(o)||Qn(o))return function(e,t,n){const s=t[t.length-1];if(qn(s))s.items[e]=n;else if(Qn(s))"key"===e?s.key=n:s.value=n;else{if(!Mn(s)){const e=Bn(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}s.contents=n}}(e,s,o),Jn(e,o,n,s);if("symbol"!=typeof o)if(qn(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=Jn(e,t.items[e],n,s);if("number"==typeof o)e=o-1;else{if(o===Kn)return Kn;o===zn&&(t.items.splice(e,1),e-=1)}}}else if(Qn(t)){s=Object.freeze(s.concat(t));const e=Jn("key",t.key,n,s);if(e===Kn)return Kn;e===zn&&(t.key=null);const o=Jn("value",t.value,n,s);if(o===Kn)return Kn;o===zn&&(t.value=null)}return o}Xn.BREAK=Kn,Xn.SKIP=Vn,Xn.REMOVE=zn;const Zn={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Yn{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Yn.defaultYaml,e),this.tags=Object.assign({},Yn.defaultTags,t)}clone(){const e=new Yn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Yn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Yn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Yn.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Yn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Yn.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/);s||t(`The ${e} tag has no suffix`);const o=this.tags[n];return o?o+decodeURIComponent(s):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>Zn[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&Wn(e.contents)){const t={};Xn(e.contents,((e,n)=>{Wn(n)&&n.tag&&(t[n.tag]=!0)})),s=Object.keys(t)}else s=[];for(const[o,i]of n)"!!"===o&&"tag:yaml.org,2002:"===i||e&&!s.some((e=>e.startsWith(i)))||t.push(`%TAG ${o} ${i}`);return t.join("\n")}}function es(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function ts(e){const t=new Set;return Xn(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function ns(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}Yn.defaultYaml={explicit:!1,version:"1.2"},Yn.defaultTags={"!!":"tag:yaml.org,2002:"};class ss extends Gn{constructor(e){super(On),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Xn(e,{Node:(e,n)=>{if(n===this)return Xn.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:o}=t,i=this.resolve(s);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const r=n.get(i);if(!r||void 0===r.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(o>=0&&(r.count+=1,0===r.aliasCount&&(r.aliasCount=os(s,i,n)),r.count*r.aliasCount>o)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return r.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(es(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${s} `}return s}}function os(e,t,n){if(Bn(t)){const s=t.resolve(e),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}if(qn(t)){let s=0;for(const o of t.items){const t=os(e,o,n);t>s&&(s=t)}return s}if(Qn(t)){const s=os(e,t.key,n),o=os(e,t.value,n);return Math.max(s,o)}return 1}function is(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>is(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||!(e=>(jn(e)||qn(e))&&!!e.anchor)(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!=typeof e||n?.keep?e:Number(e)}const rs=e=>!e||"function"!=typeof e&&"object"!=typeof e;class ls extends Gn{constructor(e){super(Pn),this.value=e}toJSON(e,t){return t?.keep?this.value:is(this.value,e,t)}toString(){return String(this.value)}}ls.BLOCK_FOLDED="BLOCK_FOLDED",ls.BLOCK_LITERAL="BLOCK_LITERAL",ls.PLAIN="PLAIN",ls.QUOTE_DOUBLE="QUOTE_DOUBLE",ls.QUOTE_SINGLE="QUOTE_SINGLE";function as(e,t,n){if(Mn(e)&&(e=e.contents),Wn(e))return e;if(Qn(e)){const t=n.schema[Cn].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:r,sourceObjects:l}=n;let a;if(s&&e&&"object"==typeof e){if(a=l.get(e),a)return a.anchor||(a.anchor=o(e)),new ss(a.anchor);a={anchor:null,node:null},l.set(e,a)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let c=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),s=e.find((e=>!e.format))??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,r.tags);if(!c){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new ls(e);return a&&(a.node=t),t}c=e instanceof Map?r[Cn]:Symbol.iterator in Object(e)?r[Rn]:r[Cn]}i&&(i(c),delete n.onTagObj);const u=c?.createNode?c.createNode(n.schema,e,n):new ls(e);return t&&(u.tag=t),a&&(a.node=u),u}function cs(e,t,n){let s=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=s,s=e}else s=new Map([[n,s]])}return as(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const us=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class ds extends Gn{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>Wn(t)||Qn(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(us(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(qn(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,cs(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(qn(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,o=this.get(n,!0);return 0===s.length?!t&&jn(o)?o.value:o:qn(o)?o.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!Qn(t))return!1;const n=t.value;return null==n||e&&jn(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!qn(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(qn(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,cs(this.schema,s,t))}}}}ds.maxFlowStringSingleLineLength=60;const fs=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function ps(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const hs=(e,t,n)=>e.endsWith("\n")?ps(n,t):n.includes("\n")?"\n"+ps(n,t):(e.endsWith(" ")?"":" ")+n,ms="flow",gs="block",$s="quoted";function bs(e,t,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:l}={}){if(!o||o<0)return e;const a=Math.max(1+i,1+o-t.length);if(e.length<=a)return e;const c=[],u={};let d,f,p=o-t.length;"number"==typeof s&&(s>o-Math.max(2,i)?c.push(0):p=o-s);let h,m=!1,g=-1,$=-1,b=-1;for(n===gs&&(g=ys(e,g),-1!==g&&(p=g+a));h=e[g+=1];){if(n===$s&&"\\"===h){switch($=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if("\n"===h)n===gs&&(g=ys(e,g)),p=g+a,d=void 0;else{if(" "===h&&f&&" "!==f&&"\n"!==f&&"\t"!==f){const t=e[g+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(d=g)}if(g>=p)if(d)c.push(d),p=d+a,d=void 0;else if(n===$s){for(;" "===f||"\t"===f;)f=h,h=e[g+=1],m=!0;const t=g>b+1?g-2:$-1;if(u[t])return e;c.push(t),u[t]=!0,p=t+a,d=void 0}else m=!0}f=h}if(m&&l&&l(),0===c.length)return e;r&&r();let y=e.slice(0,c[0]);for(let s=0;s<c.length;++s){const o=c[s],i=c[s+1]||e.length;0===o?y=`\n${t}${e.slice(0,i)}`:(n===$s&&u[o]&&(y+=`${e[o]}\\`),y+=`\n${t}${e.slice(o+1,i)}`)}return y}function ys(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}const ws=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),vs=e=>/^(%|---|\.\.\.)/m.test(e);function xs(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,o=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(vs(e)?"  ":"");let r="",l=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(r+=n.slice(l,e)+"\\ ",e+=1,l=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{r+=n.slice(l,e);const t=n.substr(e+2,4);switch(t){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:"00"===t.substr(0,2)?r+="\\x"+t.substr(2):r+=n.substr(e,6)}e+=5,l=e+1}break;case"n":if(s||'"'===n[e+2]||n.length<o)e+=1;else{for(r+=n.slice(l,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)r+="\n",e+=2;r+=i," "===n[e+2]&&(r+="\\"),e+=1,l=e+1}break;default:e+=1}return r=l?r+n.slice(l):n,s?r:bs(r,i,$s,ws(t))}function _s(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return xs(e,t);const n=t.indent||(vs(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?s:bs(s,n,ms,ws(t))}function Es(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=xs;else{const t=e.includes('"'),o=e.includes("'");s=t&&!o?_s:o&&!t?xs:n?_s:xs}return s(e,t)}function ks({comment:e,type:t,value:n},s,o,i){const{blockQuote:r,commentString:l,lineWidth:a}=s.options;if(!r||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return Es(n,s);const c=s.indent||(s.forceBlockIndent||vs(n)?"  ":""),u="literal"===r||"folded"!==r&&t!==ls.BLOCK_FOLDED&&(t===ls.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,o=e.length;if(o<=s)return!1;for(let t=0,n=0;t<o;++t)if("\n"===e[t]){if(t-n>s)return!0;if(n=t+1,o-n<=s)return!1}return!0}(n,a,c.length));if(!n)return u?"|\n":">\n";let d,f;for(f=n.length;f>0;--f){const e=n[f-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(f);const h=p.indexOf("\n");-1===h?d="-":n===p||h!==p.length-1?(d="+",i&&i()):d="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${c}`));let m,g=!1,$=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;$=m}}let b=n.substring(0,$<m?$+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${c}`));let y=(u?"|":">")+(g?c?"2":"1":"")+d;if(e&&(y+=" "+l(e.replace(/ ?[\r\n]+/g," ")),o&&o()),u)return`${y}\n${c}${b}${n=n.replace(/\n+/g,`$&${c}`)}${p}`;return`${y}\n${c}${bs(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`)}${p}`,c,gs,ws(s))}`}function As(e,t,n,s){const{implicitKey:o,inFlow:i}=t,r="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==ls.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(l=ls.QUOTE_DOUBLE);const a=e=>{switch(e){case ls.BLOCK_FOLDED:case ls.BLOCK_LITERAL:return o||i?Es(r.value,t):ks(r,t,n,s);case ls.QUOTE_DOUBLE:return xs(r.value,t);case ls.QUOTE_SINGLE:return _s(r.value,t);case ls.PLAIN:return function(e,t,n,s){const{type:o,value:i}=e,{actualString:r,implicitKey:l,indent:a,inFlow:c}=t;if(l&&/[\n[\]{},]/.test(i)||c&&/[[\]{},]/.test(i))return Es(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||c||!i.includes("\n")?Es(i,t):ks(e,t,n,s);if(!l&&!c&&o!==ls.PLAIN&&i.includes("\n"))return ks(e,t,n,s);if(""===a&&vs(i))return t.forceBlockIndent=!0,ks(e,t,n,s);const u=i.replace(/\n+/g,`$&\n${a}`);if(r){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(u),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return Es(i,t)}return l?u:bs(u,a,ms,ws(t))}(r,t,n,s);default:return null}};let c=a(l);if(null===c){const{defaultKeyType:e,defaultStringType:n}=t.options,s=o&&e||n;if(c=a(s),null===c)throw new Error(`Unsupported default string type ${s}`)}return c}function Ss(e,t){const n=Object.assign({blockQuote:!0,commentString:fs,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Ls(e,t,n,s){if(Qn(e))return e.toString(t,n,s);if(Bn(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o;const i=Wn(e)?e:t.doc.createNode(e,{onTagObj:e=>o=e});o||(o=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,s;if(jn(t)){s=t.value;const o=e.filter((e=>e.identify?.(s)));n=o.find((e=>e.format===t.format))??o.find((e=>!e.format))}else s=t,n=e.find((e=>e.nodeClass&&s instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??typeof s} value`);return n}(t.doc.schema.tags,i));const r=function(e,t,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],i=(jn(e)||qn(e))&&e.anchor;i&&es(i)&&(n.add(i),o.push(`&${i}`));const r=e.tag?e.tag:t.default?null:t.tag;return r&&o.push(s.directives.tagString(r)),o.join(" ")}(i,o,t);r.length>0&&(t.indentAtStart=(t.indentAtStart??0)+r.length+1);const l="function"==typeof o.stringify?o.stringify(i,t,n,s):jn(i)?As(i,t,n,s):i.toString(t,n,s);return r?jn(i)||"{"===l[0]||"["===l[0]?`${r} ${l}`:`${r}\n${t.indent}${l}`:l}function Is(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}function Ts(e,t,{key:n,value:s}){if(e?.doc.schema.merge&&Os(n))if(s=Bn(s)?s.resolve(e.doc):s,Hn(s))for(const n of s.items)Ns(e,t,n);else if(Array.isArray(s))for(const n of s)Ns(e,t,n);else Ns(e,t,s);else{const o=is(n,"",e);if(t instanceof Map)t.set(o,is(s,o,e));else if(t instanceof Set)t.add(o);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(Wn(e)&&n&&n.doc){const t=Ss(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),Is(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(n,o,e),r=is(s,i,e);i in t?Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):t[i]=r}}return t}const Os=e=>"<<"===e||jn(e)&&"<<"===e.value&&(!e.type||e.type===ls.PLAIN);function Ns(e,t,n){const s=e&&Bn(n)?n.resolve(e.doc):n;if(!Fn(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,e,Map);for(const[e,n]of o)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function Cs(e,t,n){const s=as(e,void 0,n),o=as(t,void 0,n);return new Ds(s,o)}class Ds{constructor(e,t=null){Object.defineProperty(this,Un,{value:Dn}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return Wn(t)&&(t=t.clone(e)),Wn(n)&&(n=n.clone(e)),new Ds(t,n)}toJSON(e,t){return Ts(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,s,o){const{allNullValues:i,doc:r,indent:l,indentStep:a,options:{commentString:c,indentSeq:u,simpleKeys:d}}=n;let f=Wn(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(qn(e))throw new Error("With simple keys, collection cannot be used as a key value")}let p=!d&&(!e||f&&null==t&&!n.inFlow||qn(e)||(jn(e)?e.type===ls.BLOCK_FOLDED||e.type===ls.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(d||!i),indent:l+a});let h=!1,m=!1,g=Ls(e,n,(()=>h=!0),(()=>m=!0));if(!p&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||null==t)return h&&s&&s(),""===g?"?":p?`? ${g}`:g}else if(i&&!d||null==t&&p)return g=`? ${g}`,f&&!h?g+=hs(g,n.indent,c(f)):m&&o&&o(),g;h&&(f=null),p?(f&&(g+=hs(g,n.indent,c(f))),g=`? ${g}\n${l}:`):(g=`${g}:`,f&&(g+=hs(g,n.indent,c(f))));let $="",b=null;Wn(t)?(t.spaceBefore&&($="\n"),t.commentBefore&&($+=`\n${ps(c(t.commentBefore),n.indent)}`),b=t.comment):t&&"object"==typeof t&&(t=r.createNode(t));n.implicitKey=!1,p||f||!jn(t)||(n.indentAtStart=g.length+1),m=!1,u||!(a.length>=2)||n.inFlow||p||!Hn(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let y=!1;const w=Ls(t,n,(()=>y=!0),(()=>m=!0));let v=" ";$||f?v=""!==w||n.inFlow?`${$}\n${n.indent}`:"\n"===$?"\n\n":$:!p&&qn(t)?("["===w[0]||"{"===w[0])&&!w.includes("\n")||(v=`\n${n.indent}`):""!==w&&"\n"!==w[0]||(v="");return g+=v+w,n.inFlow?y&&s&&s():b&&!y?g+=hs(g,n.indent,c(b)):m&&o&&o(),g}(this,e,t,n):JSON.stringify(this)}}function Ps(e,t,n){return(t.inFlow??e.flow?Us:Rs)(e,t,n)}function Rs({comment:e,items:t},n,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:r,onComment:l}){const{indent:a,options:{commentString:c}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const f=[];for(let e=0;e<t.length;++e){const o=t[e];let r=null;if(Wn(o))!d&&o.spaceBefore&&f.push(""),Bs(n,f,o.commentBefore,d),o.comment&&(r=o.comment);else if(Qn(o)){const e=Wn(o.key)?o.key:null;e&&(!d&&e.spaceBefore&&f.push(""),Bs(n,f,e.commentBefore,d))}d=!1;let l=Ls(o,u,(()=>r=null),(()=>d=!0));r&&(l+=hs(l,i,c(r))),d&&r&&(d=!1),f.push(s+l)}let p;if(0===f.length)p=o.start+o.end;else{p=f[0];for(let e=1;e<f.length;++e){const t=f[e];p+=t?`\n${a}${t}`:"\n"}}return e?(p+="\n"+ps(c(e),a),l&&l()):d&&r&&r(),p}function Us({comment:e,items:t},n,{flowChars:s,itemIndent:o,onComment:i}){const{indent:r,indentStep:l,options:{commentString:a}}=n;o+=l;const c=Object.assign({},n,{indent:o,inFlow:!0,type:null});let u=!1,d=0;const f=[];for(let e=0;e<t.length;++e){const s=t[e];let i=null;if(Wn(s))s.spaceBefore&&f.push(""),Bs(n,f,s.commentBefore,!1),s.comment&&(i=s.comment);else if(Qn(s)){const e=Wn(s.key)?s.key:null;e&&(e.spaceBefore&&f.push(""),Bs(n,f,e.commentBefore,!1),e.comment&&(u=!0));const t=Wn(s.value)?s.value:null;t?(t.comment&&(i=t.comment),t.commentBefore&&(u=!0)):null==s.value&&e&&e.comment&&(i=e.comment)}i&&(u=!0);let r=Ls(s,c,(()=>i=null));e<t.length-1&&(r+=","),i&&(r+=hs(r,o,a(i))),!u&&(f.length>d||r.includes("\n"))&&(u=!0),f.push(r),d=f.length}let p;const{start:h,end:m}=s;if(0===f.length)p=h+m;else{if(!u){u=f.reduce(((e,t)=>e+t.length+2),2)>ds.maxFlowStringSingleLineLength}if(u){p=h;for(const e of f)p+=e?`\n${l}${r}${e}`:"\n";p+=`\n${r}${m}`}else p=`${h} ${f.join(" ")} ${m}`}return e&&(p+=hs(p,a(e),r),i&&i()),p}function Bs({indent:e,options:{commentString:t}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const o=ps(t(s),e);n.push(o.trimStart())}}function Ms(e,t){const n=jn(t)?t.value:t;for(const s of e)if(Qn(s)){if(s.key===t||s.key===n)return s;if(jn(s.key)&&s.key.value===n)return s}}class Fs extends ds{constructor(e){super(Cn,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=Qn(e)?e:e&&"object"==typeof e&&"key"in e?new Ds(e.key,e.value):new Ds(e,e?.value);const s=Ms(this.items,n.key),o=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);jn(s.value)&&rs(n.value)?s.value.value=n.value:s.value=n.value}else if(o){const e=this.items.findIndex((e=>o(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=Ms(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Ms(this.items,e)?.value;return(!t&&jn(n)?n.value:n)??void 0}has(e){return!!Ms(this.items,e)}set(e,t){this.add(new Ds(e,t),!0)}toJSON(e,t,n){const s=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const e of this.items)Ts(t,s,e);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!Qn(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Ps(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Qs={collection:"map",createNode:function(e,t,n){const{keepUndefined:s,replacer:o}=n,i=new Fs(e),r=(e,r)=>{if("function"==typeof o)r=o.call(t,e,r);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==r||s)&&i.items.push(Cs(e,r,n))};if(t instanceof Map)for(const[e,n]of t)r(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))r(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i},default:!0,nodeClass:Fs,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(Fn(e)||t("Expected a mapping for this tag"),e)};class js extends ds{constructor(e){super(Rn,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=Hs(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=Hs(e);if("number"!=typeof n)return;const s=this.items[n];return!t&&jn(s)?s.value:s}has(e){const t=Hs(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=Hs(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];jn(s)&&rs(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let s=0;for(const e of this.items)n.push(is(e,String(s++),t));return n}toString(e,t,n){return e?Ps(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function Hs(e){let t=jn(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const qs={collection:"seq",createNode:function(e,t,n){const{replacer:s}=n,o=new js(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof s){const n=t instanceof Set?i:String(e++);i=s.call(t,n,i)}o.items.push(as(i,void 0,n))}}return o},default:!0,nodeClass:js,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(Hn(e)||t("Expected a sequence for this tag"),e)},Ws={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,s)=>As(e,t=Object.assign({actualString:!0},t),n,s)},Gs={identify:e=>null==e,createNode:()=>new ls(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new ls(null),stringify:({source:e},t)=>"string"==typeof e&&Gs.test.test(e)?e:t.options.nullStr},Ks={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new ls("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&Ks.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Vs({format:e,minFractionDigits:t,tag:n,value:s}){if("bigint"==typeof s)return String(s);const o="number"==typeof s?s:Number(s);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let i=JSON.stringify(s);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const zs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Vs},Xs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Vs(e)}},Js={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new ls(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Vs},Zs=e=>"bigint"==typeof e||Number.isInteger(e),Ys=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function eo(e,t,n){const{value:s}=e;return Zs(s)&&s>=0?n+s.toString(t):Vs(e)}const to={identify:e=>Zs(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Ys(e,2,8,n),stringify:e=>eo(e,8,"0o")},no={identify:Zs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Ys(e,0,10,n),stringify:Vs},so={identify:e=>Zs(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Ys(e,2,16,n),stringify:e=>eo(e,16,"0x")},oo=[Qs,qs,Ws,Gs,Ks,to,no,so,zs,Xs,Js];function io(e){return"bigint"==typeof e||Number.isInteger(e)}const ro=({value:e})=>JSON.stringify(e),lo=[Qs,qs].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:ro},{identify:e=>null==e,createNode:()=>new ls(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ro},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:ro},{identify:io,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>io(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:ro}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),ao={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},s,o,i){const r=n;let l;if("function"==typeof Buffer)l=r instanceof Buffer?r.toString("base64"):Buffer.from(r.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<r.length;++t)e+=String.fromCharCode(r[t]);l=btoa(e)}}if(t||(t=ls.BLOCK_LITERAL),t!==ls.QUOTE_DOUBLE){const e=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),n=Math.ceil(l.length/e),o=new Array(n);for(let t=0,s=0;t<n;++t,s+=e)o[t]=l.substr(s,e);l=o.join(t===ls.BLOCK_LITERAL?"\n":" ")}return As({comment:e,type:t,value:l},s,o,i)}};function co(e,t){if(Hn(e))for(let n=0;n<e.items.length;++n){let s=e.items[n];if(!Qn(s)){if(Fn(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");const e=s.items[0]||new Ds(new ls(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}\n${e.key.commentBefore}`:s.commentBefore),s.comment){const t=e.value??e.key;t.comment=t.comment?`${s.comment}\n${t.comment}`:s.comment}s=e}e.items[n]=Qn(s)?s:new Ds(s)}}else t("Expected a sequence for this tag");return e}function uo(e,t,n){const{replacer:s}=n,o=new js(e);o.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let r,l;if("function"==typeof s&&(e=s.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);r=e[0],l=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);r=t[0],l=e[r]}else r=e;o.items.push(Cs(r,l,n))}return o}const fo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:co,createNode:uo};class po extends js{constructor(){super(),this.add=Fs.prototype.add.bind(this),this.delete=Fs.prototype.delete.bind(this),this.get=Fs.prototype.get.bind(this),this.has=Fs.prototype.has.bind(this),this.set=Fs.prototype.set.bind(this),this.tag=po.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let s,o;if(Qn(e)?(s=is(e.key,"",t),o=is(e.value,s,t)):s=is(e,"",t),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}}po.tag="tag:yaml.org,2002:omap";const ho={collection:"seq",identify:e=>e instanceof Map,nodeClass:po,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=co(e,t),s=[];for(const{key:e}of n.items)jn(e)&&(s.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):s.push(e.value));return Object.assign(new po,n)},createNode(e,t,n){const s=uo(e,t,n),o=new po;return o.items=s.items,o}};function mo({value:e,source:t},n){return t&&(e?go:$o).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const go={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new ls(!0),stringify:mo},$o={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new ls(!1),stringify:mo},bo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Vs},yo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Vs(e)}},wo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new ls(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:Vs},vo=e=>"bigint"==typeof e||Number.isInteger(e);function xo(e,t,n,{intAsBigInt:s}){const o=e[0];if("-"!==o&&"+"!==o||(t+=1),e=e.substring(t).replace(/_/g,""),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===o?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===o?-1*i:i}function _o(e,t,n){const{value:s}=e;if(vo(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return Vs(e)}const Eo={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>xo(e,2,2,n),stringify:e=>_o(e,2,"0b")},ko={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>xo(e,1,8,n),stringify:e=>_o(e,8,"0")},Ao={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>xo(e,0,10,n),stringify:Vs},So={identify:vo,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>xo(e,2,16,n),stringify:e=>_o(e,16,"0x")};class Lo extends Fs{constructor(e){super(e),this.tag=Lo.tag}add(e){let t;t=Qn(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new Ds(e.key,null):new Ds(e,null);Ms(this.items,t.key)||this.items.push(t)}get(e,t){const n=Ms(this.items,e);return!t&&Qn(n)?jn(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Ms(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Ds(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}Lo.tag="tag:yaml.org,2002:set";const Io={collection:"map",identify:e=>e instanceof Set,nodeClass:Lo,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Fn(e)){if(e.hasAllNullValues(!0))return Object.assign(new Lo,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:s}=n,o=new Lo(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof s&&(e=s.call(t,e,e)),o.items.push(Cs(e,null,n));return o}};function To(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=s.replace(/_/g,"").split(":").reduce(((e,t)=>e*o(60)+o(t)),o(0));return"-"===n?o(-1)*i:i}function Oo(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Vs(e);let s="";t<0&&(s="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),s+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const No={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>To(e,n),stringify:Oo},Co={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>To(e,!1),stringify:Oo},Do={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Do.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,i,r,l]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,s-1,o,i||0,r||0,l||0,a);const u=t[8];if(u&&"Z"!==u){let e=To(u,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Po=[Qs,qs,Ws,Gs,go,$o,Eo,ko,Ao,So,bo,yo,wo,ao,ho,fo,Io,No,Co,Do],Ro=new Map([["core",oo],["failsafe",[Qs,qs,Ws]],["json",lo],["yaml11",Po],["yaml-1.1",Po]]),Uo={binary:ao,bool:Ks,float:Js,floatExp:Xs,floatNaN:zs,floatTime:Co,int:no,intHex:so,intOct:to,intTime:No,map:Qs,null:Gs,omap:ho,pairs:fo,seq:qs,set:Io,timestamp:Do},Bo={"tag:yaml.org,2002:binary":ao,"tag:yaml.org,2002:omap":ho,"tag:yaml.org,2002:pairs":fo,"tag:yaml.org,2002:set":Io,"tag:yaml.org,2002:timestamp":Do};function Mo(e,t){let n=Ro.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(Ro.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=Uo[e];if(t)return t;const n=Object.keys(Uo).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const Fo=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Qo{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:o,sortMapEntries:i,toStringDefaults:r}){this.compat=Array.isArray(e)?Mo(e,"compat"):e?Mo(null,e):null,this.merge=!!n,this.name="string"==typeof o&&o||"core",this.knownTags=s?Bo:{},this.tags=Mo(t,this.name),this.toStringOptions=r??null,Object.defineProperty(this,Cn,{value:Qs}),Object.defineProperty(this,Pn,{value:Ws}),Object.defineProperty(this,Rn,{value:qs}),this.sortMapEntries="function"==typeof i?i:!0===i?Fo:null}clone(){const e=Object.create(Qo.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function jo(e,t,n,s){if(s&&"object"==typeof s)if(Array.isArray(s))for(let t=0,n=s.length;t<n;++t){const n=s[t],o=jo(e,s,String(t),n);void 0===o?delete s[t]:o!==n&&(s[t]=o)}else if(s instanceof Map)for(const t of Array.from(s.keys())){const n=s.get(t),o=jo(e,s,t,n);void 0===o?s.delete(t):o!==n&&s.set(t,o)}else if(s instanceof Set)for(const t of Array.from(s)){const n=jo(e,s,t,t);void 0===n?s.delete(t):n!==t&&(s.delete(t),s.add(n))}else for(const[t,n]of Object.entries(s)){const o=jo(e,s,t,n);void 0===o?delete s[t]:o!==n&&(s[t]=o)}return e.call(t,n,s)}class Ho{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Un,{value:Nn});let s=null;"function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:i}=o;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new Yn({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(Ho.prototype,{[Un]:{value:Nn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=Wn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){qo(this.contents)&&this.contents.add(e)}addIn(e,t){qo(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=ts(this);e.anchor=!t||n.has(t)?ns(t||"a",n):t}return new ss(e.anchor)}createNode(e,t,n){let s;if("function"==typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:r,keepUndefined:l,onTagObj:a,tag:c}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:f}=function(e,t){const n=[],s=new Map;let o=null;return{onAnchor:s=>{n.push(s),o||(o=ts(e));const i=ns(t,o);return o.add(i),i},setAnchors:()=>{for(const e of n){const t=s.get(e);if("object"!=typeof t||!t.anchor||!jn(t.node)&&!qn(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,i||"a"),p=as(e,c,{aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:a,replacer:s,schema:this.schema,sourceObjects:f});return r&&qn(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const s=this.createNode(e,null,n),o=this.createNode(t,null,n);return new Ds(s,o)}delete(e){return!!qo(this.contents)&&this.contents.delete(e)}deleteIn(e){return us(e)?null!=this.contents&&(this.contents=null,!0):!!qo(this.contents)&&this.contents.deleteIn(e)}get(e,t){return qn(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return us(e)?!t&&jn(this.contents)?this.contents.value:this.contents:qn(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!qn(this.contents)&&this.contents.has(e)}hasIn(e){return us(e)?void 0!==this.contents:!!qn(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=cs(this.schema,[e],t):qo(this.contents)&&this.contents.set(e,t)}setIn(e,t){us(e)?this.contents=t:null==this.contents?this.contents=cs(this.schema,Array.from(e),t):qo(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Yn({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Yn({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Qo(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}={}){const r={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100,stringify:Ls},l=is(this.contents,t??"",r);if("function"==typeof o)for(const{count:e,res:t}of r.anchors.values())o(t,e);return"function"==typeof i?jo(i,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let s=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&n.push("---");const o=Ss(e,t),{commentString:i}=o.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=i(e.commentBefore);n.unshift(ps(t,""))}let r=!1,l=null;if(e.contents){if(Wn(e.contents)){if(e.contents.spaceBefore&&s&&n.push(""),e.contents.commentBefore){const t=i(e.contents.commentBefore);n.push(ps(t,""))}o.forceBlockIndent=!!e.comment,l=e.contents.comment}const t=l?void 0:()=>r=!0;let a=Ls(e.contents,o,(()=>l=null),t);l&&(a+=hs(a,"",i(l))),"|"!==a[0]&&">"!==a[0]||"---"!==n[n.length-1]?n.push(a):n[n.length-1]=`--- ${a}`}else n.push(Ls(e.contents,o));if(e.directives?.docEnd)if(e.comment){const t=i(e.comment);t.includes("\n")?(n.push("..."),n.push(ps(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&r&&(t=t.replace(/^\n+/,"")),t&&(r&&!l||""===n[n.length-1]||n.push(""),n.push(ps(i(t),"")))}return n.join("\n")+"\n"}(this,e)}}function qo(e){if(qn(e))return!0;throw new Error("Expected a YAML collection as document contents")}class Wo extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class Go extends Wo{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Ko extends Wo{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Vo=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:s,col:o}=n.linePos[0];n.message+=` at line ${s}, column ${o}`;let i=o-1,r=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&r.length>80){const e=Math.min(i-39,r.length-79);r=""+r.substring(e),i-=e-1}if(r.length>80&&(r=r.substring(0,79)+""),s>1&&/^ *$/.test(r.substring(0,i))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\n"),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>o&&(e=Math.min(t.col-o,80-i));const l=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${r}\n${l}\n`}};function zo(e,{flow:t,indicator:n,next:s,offset:o,onError:i,startOnNewline:r}){let l=!1,a=r,c=r,u="",d="",f=!1,p=!1,h=!1,m=null,g=null,$=null,b=null,y=null;for(const s of e)switch(h&&("space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),s.type){case"space":!t&&a&&"doc-start"!==n&&"\t"===s.source[0]&&i(s,"TAB_AS_INDENT","Tabs are not allowed as indentation"),c=!0;break;case"comment":{c||i(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=s.source.substring(1)||" ";u?u+=d+e:u=e,d="",a=!1;break}case"newline":a?u?u+=s.source:l=!0:d+=s.source,a=!0,f=!0,(m||g)&&(p=!0),c=!0;break;case"anchor":m&&i(s,"MULTIPLE_ANCHORS","A node can have at most one anchor"),s.source.endsWith(":")&&i(s.offset+s.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=s,null===y&&(y=s.offset),a=!1,c=!1,h=!0;break;case"tag":g&&i(s,"MULTIPLE_TAGS","A node can have at most one tag"),g=s,null===y&&(y=s.offset),a=!1,c=!1,h=!0;break;case n:(m||g)&&i(s,"BAD_PROP_ORDER",`Anchors and tags must be after the ${s.source} indicator`),b&&i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.source} in ${t??"collection"}`),b=s,a=!1,c=!1;break;case"comma":if(t){$&&i(s,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),$=s,a=!1,c=!1;break}default:i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.type} token`),a=!1,c=!1}const w=e[e.length-1],v=w?w.offset+w.source.length:o;return h&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:$,found:b,spaceBefore:l,comment:u,hasNewline:f,hasNewlineAfterProp:p,anchor:m,tag:g,end:v,start:y??v}}function Xo(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Xo(t.key)||Xo(t.value))return!0}return!1;default:return!0}}function Jo(e,t,n){if("flow-collection"===t?.type){const s=t.end[0];if(s.indent===e&&("]"===s.source||"}"===s.source)&&Xo(t)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Zo(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const o="function"==typeof s?s:(t,n)=>t===n||jn(t)&&jn(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>o(e.key,n)))}const Yo="All mapping items must start at the same column";function ei(e,t,n,s){let o="";if(e){let i=!1,r="";for(const l of e){const{source:e,type:a}=l;switch(a){case"space":i=!0;break;case"comment":{n&&!i&&s(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=r+t:o=t,r="";break}case"newline":o&&(r+=e),i=!0;break;default:s(l,"UNEXPECTED_TOKEN",`Unexpected ${a} at node end`)}t+=e.length}}return{comment:o,offset:t}}const ti="Block collections are not allowed within flow collections",ni=e=>e&&("block-map"===e.type||"block-seq"===e.type);function si(e,t,n,s,o){let i;switch(n.type){case"block-map":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i=new Fs(n.schema);n.atRoot&&(n.atRoot=!1);let r=s.offset,l=null;for(const a of s.items){const{start:c,key:u,sep:d,value:f}=a,p=zo(c,{indicator:"explicit-key-ind",next:u??d?.[0],offset:r,onError:o,startOnNewline:!0}),h=!p.found;if(h){if(u&&("block-seq"===u.type?o(r,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&o(r,"BAD_INDENT",Yo)),!p.anchor&&!p.tag&&!d){l=p.end,p.comment&&(i.comment?i.comment+="\n"+p.comment:i.comment=p.comment);continue}(p.hasNewlineAfterProp||Xo(u))&&o(u??c[c.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==s.indent&&o(r,"BAD_INDENT",Yo);const m=p.end,g=u?e(n,u,p,o):t(n,m,c,null,p,o);n.schema.compat&&Jo(s.indent,u,o),Zo(n,i.items,g)&&o(m,"DUPLICATE_KEY","Map keys must be unique");const $=zo(d??[],{indicator:"map-value-ind",next:f,offset:g.range[2],onError:o,startOnNewline:!u||"block-scalar"===u.type});if(r=$.end,$.found){h&&("block-map"!==f?.type||$.hasNewline||o(r,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<$.found.offset-1024&&o(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const l=f?e(n,f,$,o):t(n,r,d,null,$,o);n.schema.compat&&Jo(s.indent,f,o),r=l.range[2];const c=new Ds(g,l);n.options.keepSourceTokens&&(c.srcToken=a),i.items.push(c)}else{h&&o(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),$.comment&&(g.comment?g.comment+="\n"+$.comment:g.comment=$.comment);const e=new Ds(g);n.options.keepSourceTokens&&(e.srcToken=a),i.items.push(e)}}return l&&l<r&&o(l,"IMPOSSIBLE","Map comment with trailing content"),i.range=[s.offset,r,l??r],i}(e,t,n,o);break;case"block-seq":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i=new js(n.schema);n.atRoot&&(n.atRoot=!1);let r=s.offset,l=null;for(const{start:a,value:c}of s.items){const u=zo(a,{indicator:"seq-item-ind",next:c,offset:r,onError:o,startOnNewline:!0});if(!u.found){if(!(u.anchor||u.tag||c)){l=u.end,u.comment&&(i.comment=u.comment);continue}c&&"block-seq"===c.type?o(u.end,"BAD_INDENT","All sequence items must start at the same column"):o(r,"MISSING_CHAR","Sequence item without - indicator")}const d=c?e(n,c,u,o):t(n,u.end,a,null,u,o);n.schema.compat&&Jo(s.indent,c,o),r=d.range[2],i.items.push(d)}return i.range=[s.offset,r,l??r],i}(e,t,n,o);break;case"flow-collection":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i="{"===s.start.source,r=i?"flow map":"flow sequence",l=i?new Fs(n.schema):new js(n.schema);l.flow=!0;const a=n.atRoot;a&&(n.atRoot=!1);let c=s.offset+s.start.source.length;for(let a=0;a<s.items.length;++a){const u=s.items[a],{start:d,key:f,sep:p,value:h}=u,m=zo(d,{flow:r,indicator:"explicit-key-ind",next:f??p?.[0],offset:c,onError:o,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||p||h)){0===a&&m.comma?o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`):a<s.items.length-1&&o(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${r}`),m.comment&&(l.comment?l.comment+="\n"+m.comment:l.comment=m.comment),c=m.end;continue}!i&&n.options.strict&&Xo(f)&&o(f,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===a)m.comma&&o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`);else if(m.comma||o(m.start,"MISSING_CHAR",`Missing , between ${r} items`),m.comment){let e="";e:for(const t of d)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];Qn(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(i||p||m.found){const s=m.end,a=f?e(n,f,m,o):t(n,s,d,null,m,o);ni(f)&&o(a.range,"BLOCK_IN_FLOW",ti);const g=zo(p??[],{flow:r,indicator:"map-value-ind",next:h,offset:a.range[2],onError:o,startOnNewline:!1});if(g.found){if(!i&&!m.found&&n.options.strict){if(p)for(const e of p){if(e===g.found)break;if("newline"===e.type){o(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<g.found.offset-1024&&o(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else h&&("source"in h&&h.source&&":"===h.source[0]?o(h,"MISSING_CHAR",`Missing space after : in ${r}`):o(g.start,"MISSING_CHAR",`Missing , or : between ${r} items`));const $=h?e(n,h,g,o):g.found?t(n,g.end,p,null,g,o):null;$?ni(h)&&o($.range,"BLOCK_IN_FLOW",ti):g.comment&&(a.comment?a.comment+="\n"+g.comment:a.comment=g.comment);const b=new Ds(a,$);if(n.options.keepSourceTokens&&(b.srcToken=u),i){const e=l;Zo(n,e.items,a)&&o(s,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Fs(n.schema);e.flow=!0,e.items.push(b),l.items.push(e)}c=$?$.range[2]:g.end}else{const s=h?e(n,h,m,o):t(n,m.end,p,null,m,o);l.items.push(s),c=s.range[2],ni(h)&&o(s.range,"BLOCK_IN_FLOW",ti)}}const u=i?"}":"]",[d,...f]=s.end;let p=c;if(d&&d.source===u)p=d.offset+d.source.length;else{const e=r[0].toUpperCase()+r.substring(1);o(c,a?"MISSING_CHAR":"BAD_INDENT",a?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),d&&1!==d.source.length&&f.unshift(d)}if(f.length>0){const e=ei(f,p,n.options.strict,o);e.comment&&(l.comment?l.comment+="\n"+e.comment:l.comment=e.comment),l.range=[s.offset,p,e.offset]}else l.range=[s.offset,p,p];return l}(e,t,n,o)}if(!s)return i;const r=t.directives.tagName(s.source,(e=>o(s,"TAG_RESOLVE_FAILED",e)));if(!r)return i;const l=i.constructor;if("!"===r||r===l.tagName)return i.tag=l.tagName,i;const a=Fn(i)?"map":"seq";let c=t.schema.tags.find((e=>e.collection===a&&e.tag===r));if(!c){const e=t.schema.knownTags[r];if(!e||e.collection!==a)return o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,!0),i.tag=r,i;t.schema.tags.push(Object.assign({},e,{default:!1})),c=e}const u=c.resolve(i,(e=>o(s,"TAG_RESOLVE_FAILED",e)),t.options),d=Wn(u)?u:new ls(u);return d.range=i.range,d.tag=r,c?.format&&(d.format=c.format),d}function oi(e,t,n){const s=e.offset,o=function({offset:e,props:t},n,s){if("block-scalar-header"!==t[0].type)return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=t[0],i=o[0];let r=0,l="",a=-1;for(let t=1;t<o.length;++t){const n=o[t];if(l||"-"!==n&&"+"!==n){const s=Number(n);!r&&s?r=s:-1===a&&(a=e+t)}else l=n}-1!==a&&s(a,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let c=!1,u="",d=o.length;for(let e=1;e<t.length;++e){const o=t[e];switch(o.type){case"space":c=!0;case"newline":d+=o.source.length;break;case"comment":if(n&&!c){s(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}d+=o.source.length,u=o.source.substring(1);break;case"error":s(o,"UNEXPECTED_TOKEN",o.message),d+=o.source.length;break;default:{s(o,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${o.type}`);const e=o.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:i,indent:r,chomp:l,comment:u,length:d}}(e,t,n);if(!o)return{value:"",type:null,comment:"",range:[s,s,s]};const i=">"===o.mode?ls.BLOCK_FOLDED:ls.BLOCK_LITERAL,r=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),o=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)o.push([t[e],t[e+1]]);return o}(e.source):[];let l=r.length;for(let e=r.length-1;e>=0;--e){const t=r[e][1];if(""!==t&&"\r"!==t)break;l=e}if(0===l){const t="+"===o.chomp&&r.length>0?"\n".repeat(Math.max(1,r.length-1)):"";let n=s+o.length;return e.source&&(n+=e.source.length),{value:t,type:i,comment:o.comment,range:[s,n,n]}}let a=e.indent+o.indent,c=e.offset+o.length,u=0;for(let e=0;e<l;++e){const[t,s]=r[e];if(""!==s&&"\r"!==s){if(t.length<a){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(c+t.length,"MISSING_CHAR",e)}0===o.indent&&(a=t.length),u=e;break}0===o.indent&&t.length>a&&(a=t.length),c+=t.length+s.length+1}for(let e=r.length-1;e>=l;--e)r[e][0].length>a&&(l=e+1);let d="",f="",p=!1;for(let e=0;e<u;++e)d+=r[e][0].slice(a)+"\n";for(let e=u;e<l;++e){let[t,s]=r[e];c+=t.length+s.length+1;const l="\r"===s[s.length-1];if(l&&(s=s.slice(0,-1)),s&&t.length<a){const e=`Block scalar lines must not be less indented than their ${o.indent?"explicit indentation indicator":"first line"}`;n(c-s.length-(l?2:1),"BAD_INDENT",e),t=""}i===ls.BLOCK_LITERAL?(d+=f+t.slice(a)+s,f="\n"):t.length>a||"\t"===s[0]?(" "===f?f="\n":p||"\n"!==f||(f="\n\n"),d+=f+t.slice(a)+s,f="\n",p=!0):""===s?"\n"===f?d+="\n":f="\n":(d+=f+s,f=" ",p=!1)}switch(o.chomp){case"-":break;case"+":for(let e=l;e<r.length;++e)d+="\n"+r[e][0].slice(a);"\n"!==d[d.length-1]&&(d+="\n");break;default:d+="\n"}const h=s+o.length+e.source.length;return{value:d,type:i,comment:o.comment,range:[s,h,h]}}function ii(e,t,n){const{offset:s,type:o,source:i,end:r}=e;let l,a;const c=(e,t,o)=>n(s+e,t,o);switch(o){case"scalar":l=ls.PLAIN,a=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return ri(e)}(i,c);break;case"single-quoted-scalar":l=ls.QUOTE_SINGLE,a=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return ri(e.slice(1,-1)).replace(/''/g,"'")}(i,c);break;case"double-quoted-scalar":l=ls.QUOTE_DOUBLE,a=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const o=e[s];if("\r"!==o||"\n"!==e[s+1])if("\n"===o){const{fold:t,offset:o}=li(e,s);n+=t,s=o}else if("\\"===o){let o=e[++s];const i=ai[o];if(i)n+=i;else if("\n"===o)for(o=e[s+1];" "===o||"\t"===o;)o=e[1+ ++s];else if("\r"===o&&"\n"===e[s+1])for(o=e[1+ ++s];" "===o||"\t"===o;)o=e[1+ ++s];else if("x"===o||"u"===o||"U"===o){const i={x:2,u:4,U:8}[o];n+=ci(e,s+1,i,t),s+=i}else{const o=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(" "===o||"\t"===o){const t=s;let i=e[s+1];for(;" "===i||"\t"===i;)i=e[1+ ++s];"\n"===i||"\r"===i&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):o)}else n+=o}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(i,c);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,d=ei(r,u,t,n);return{value:a,type:l,comment:d.comment,range:[s,u,d.offset]}}function ri(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let o=s[1],i=" ",r=t.lastIndex;for(n.lastIndex=r;s=n.exec(e);)""===s[1]?"\n"===i?o+=i:i="\n":(o+=i+s[1],i=" "),r=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=r,s=l.exec(e),o+i+(s?.[1]??"")}function li(e,t){let n="",s=e[t+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const ai={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function ci(e,t,n,s){const o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}function ui(e,t,n,s){const{value:o,type:i,comment:r,range:l}="block-scalar"===t.type?oi(t,e.options.strict,s):ii(t,e.options.strict,s),a=n?e.directives.tagName(n.source,(e=>s(n,"TAG_RESOLVE_FAILED",e))):null,c=n&&a?function(e,t,n,s,o){if("!"===n)return e[Pn];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const r=e.knownTags[n];if(r&&!r.collection)return e.tags.push(Object.assign({},r,{default:!1,test:void 0})),r;return o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[Pn]}(e.schema,o,a,n,s):"scalar"===t.type?function({directives:e,schema:t},n,s,o){const i=t.tags.find((e=>e.default&&e.test?.test(n)))||t[Pn];if(t.compat){const r=t.compat.find((e=>e.default&&e.test?.test(n)))??t[Pn];if(i.tag!==r.tag){o(s,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(i.tag)} or ${e.tagString(r.tag)}`,!0)}}return i}(e,o,t,s):e.schema[Pn];let u;try{const i=c.resolve(o,(e=>s(n??t,"TAG_RESOLVE_FAILED",e)),e.options);u=jn(i)?i:new ls(i)}catch(e){const i=e instanceof Error?e.message:String(e);s(n??t,"TAG_RESOLVE_FAILED",i),u=new ls(o)}return u.range=l,u.source=o,i&&(u.type=i),a&&(u.tag=a),c.format&&(u.format=c.format),r&&(u.comment=r),u}function di(e,t,n){if(t){null===n&&(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++s];"space"===n?.type;)e+=n.source.length,n=t[++s];break}}return e}const fi={composeNode:pi,composeEmptyNode:hi};function pi(e,t,n,s){const{spaceBefore:o,comment:i,anchor:r,tag:l}=n;let a,c=!0;switch(t.type){case"alias":a=function({options:e},{offset:t,source:n,end:s},o){const i=new ss(n.substring(1));""===i.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string");i.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const r=t+n.length,l=ei(s,r,e.strict,o);i.range=[t,r,l.offset],l.comment&&(i.comment=l.comment);return i}(e,t,s),(r||l)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":a=ui(e,t,l,s),r&&(a.anchor=r.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":a=si(fi,e,t,l,s),r&&(a.anchor=r.source.substring(1));break;default:s(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),a=hi(e,t.offset,void 0,null,n,s),c=!1}return r&&""===a.anchor&&s(r,"BAD_ALIAS","Anchor cannot be an empty string"),o&&(a.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?a.comment=i:a.commentBefore=i),e.options.keepSourceTokens&&c&&(a.srcToken=t),a}function hi(e,t,n,s,{spaceBefore:o,comment:i,anchor:r,tag:l,end:a},c){const u=ui(e,{type:"scalar",offset:di(t,n,s),indent:-1,source:""},l,c);return r&&(u.anchor=r.source.substring(1),""===u.anchor&&c(r,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(u.spaceBefore=!0),i&&(u.comment=i,u.range[2]=a),u}function mi(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function gi(e){let t="",n=!1,s=!1;for(let o=0;o<e.length;++o){const i=e[o];switch(i[0]){case"#":t+=(""===t?"":s?"\n\n":"\n")+(i.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==e[o+1]?.[0]&&(o+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}class $i{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const o=mi(e);s?this.warnings.push(new Ko(o,t,n)):this.errors.push(new Go(o,t,n))},this.directives=new Yn({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=gi(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!o)e.commentBefore=n;else if(qn(o)&&!o.flow&&o.items.length>0){let e=o.items[0];Qn(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=o.commentBefore;o.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:gi(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,s)=>{const o=mi(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,s)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:s,value:o,end:i},r){const l=Object.assign({_directives:t},e),a=new Ho(void 0,l),c={atRoot:!0,directives:a.directives,options:a.options,schema:a.schema},u=zo(s,{indicator:"doc-start",next:o??i?.[0],offset:n,onError:r,startOnNewline:!0});u.found&&(a.directives.docStart=!0,!o||"block-map"!==o.type&&"block-seq"!==o.type||u.hasNewline||r(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),a.contents=o?pi(c,o,u,r):hi(c,u.end,s,null,u,r);const d=a.contents.range[2],f=ei(i,d,!1,r);return f.comment&&(a.comment=f.comment),a.range=[n,d,f.offset],a}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Go(mi(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Go(mi(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=ei(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Go(mi(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new Ho(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function bi(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const yi="0123456789ABCDEFabcdef".split(""),wi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),vi=",[]{}".split(""),xi=" ,[]{}\n\r\t".split(""),_i=e=>!e||xi.includes(e);class Ei{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&bi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if("\ufeff"===e[0]&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const s=e[n-1];" "!==s&&"\t"!==s||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield"",yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&bi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&bi(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!bi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&bi(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(_i),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&bi(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart()}let o=0;for(;","===s[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(_i),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||bi(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>bi(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let s=this.pos;e=this.buffer[s];++s)switch(e){case" ":n+=1;break;case"\n":t=s,n=0;break;case"\r":{const e=this.buffer[s+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const o=e;for(;" "===s||"\t"===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>o))break;t=e}return yield"",yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(":"===t){const t=this.buffer[s+1];if(bi(t)||e&&","===t)break;n=s}else if(bi(t)){let o=this.buffer[s+1];if("\r"===t&&("\n"===o?(s+=1,t="\n",o=this.buffer[s+1]):n=s),"#"===o||e&&vi.includes(o))break;if("\n"===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&vi.includes(t))break;n=s}return t||this.atEnd?(yield"",yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(_i))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(bi(t)||e&&vi.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!bi(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(wi.includes(t))t=this.buffer[++e];else{if("%"!==t||!yi.includes(this.buffer[e+1])||!yi.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class ki{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function Ai(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Si(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Li(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ii(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ti(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function Oi(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||Ai(t.start,"explicit-key-ind")||Ai(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,Li(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Ni{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Ei,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Oi(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!Ai(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Si(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==Si(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Ti(Ii(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let s=[];if(n&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const o=t.sep[s];switch(o.type){case"newline":n.push(s);break;case"space":break;case"comment":o.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(s=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||Ai(t.start,"explicit-key-ind")?n||t.value?(s.push(this.sourceToken),e.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(Ai(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Ai(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Li(t.key)&&!Ai(t.sep,"newline")){const e=Ti(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if(Ai(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Ti(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:s,key:null,sep:[this.sourceToken]}):Ai(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0))}default:{const o=this.startBlockValue(e);if(o)return n&&"block-seq"!==o.type&&Ai(t.start,"explicit-key-ind")&&e.items.push({start:s}),void this.stack.push(o)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||Ai(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Ti(Ii(t));Oi(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Ti(Ii(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Ti(Ii(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Ci(e,t={}){const{lineCounter:n,prettyErrors:s}=function(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new ki||null,prettyErrors:t}}(t),o=new Ni(n?.addNewLine),i=new $i(t);let r=null;for(const t of i.compose(o.parse(e),!0,e.length))if(r){if("silent"!==r.options.logLevel){r.errors.push(new Go(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else r=t;return s&&n&&(r.errors.forEach(Vo(e,n)),r.warnings.forEach(Vo(e,n))),r}const Di=Xe({displayName:"",steps:{pc_to_ram:{tts:"",text:""},ram_to_ir:{tts:"",text:""},ir_to_cu:{tts:"",text:""},cu_to_mux:{tts:"",text:""},cu_to_alu:{tts:"",text:""},acc_to_alu1:{tts:"",text:""},pc_increment:{tts:"",text:""},ir_to_alu2:{tts:"",text:""},ir_to_ram:{tts:"",text:""},memory_read:{tts:"",text:""},memory_fetch:{tts:"",text:""},memory_write:{tts:"",text:""},ram_to_alu2:{tts:"",text:""},ir_to_pc:{tts:"",text:""},execute:{tts:"",text:""},alu_to_sw:{tts:"",text:""},acc_to_ram:{tts:"",text:""},acc_stored_to_ram:{tts:"",text:""}},cpu:{ir:{invalid_instruction:""}},ram:{buttons:{clear:{text:"",title:""},undo:{title:""},redo:{title:""}}},menu:{buttons:{settings:{text:"",title:""},save:{text:"",title:""},load:{text:"",title:""},examples:{text:"",title:"",examples:{if_then_else:{text:"",title:""},while_do:{text:"",title:""},array_sum:{text:"",title:""}}},manual:{text:"",title:""},copyright:{text:"",title:""}},overlays:{save_to_file:{title:"",buttons:{save:{text:"",title:""},cancel:{text:"",title:""}},inputs:{filename:{placeholder:""}}},copyright:{subsections:{copyright_notice:{title:"",paragraphs:[],disclaimer:""},credits:{title:"",paragraphs:[]}}}}},controls:{labels:{execution:"",step:"",instruction:"",speed:""},buttons:{reset:{title:""},play_program:{title:""},pause_program:{title:""},fast_program:{title:""},play_step:{title:""},fast_step:{title:""},play_instruction:{title:""},fast_instruction:{title:""}},sliders:{speed:{title:""}},checkboxes:{binary:{text:""},animations:{text:""}}},message_feed:{buttons:{export_logs:{text:""},close_message:{title:""}}},settings:{title:"",sections_titles:{general:"",tts:"",busses:""},language:{title:"",description:""},dispaly_components_labels:{title:"",description:""},dispaly_busses_labels:{title:"",description:""},display_step_text:{title:"",description:""},reset_all:{title:"",description:"",button:{text:""}},tts_enabled:{title:"",description:""},tts_speed:{title:"",description:""},tts_voice:{title:"",description:""},databus_ext_color:{title:"",description:""},databus_int_color:{title:"",description:""},databus_ext_anim_color:{title:"",description:""},databus_int_anim_color:{title:"",description:""},addressbus_ext_color:{title:"",description:""},addressbus_int_color:{title:"",description:""},addressbus_ext_anim_color:{title:"",description:""},addressbus_int_anim_color:{title:"",description:""},controlbus_ext_color:{title:"",description:""},controlbus_int_color:{title:"",description:""},controlbus_ext_anim_color:{title:"",description:""},controlbus_int_anim_color:{title:"",description:""}},errors:{unchecked:"",program_parsing:{invalid_instruction:"",invalid_label:"",duplicated_label:""},instruction_parsing:{invalid_binary_input:"",invalid_opcode:"",operand_not_allowed:"",operand_required:"",unknown_label:"",immediate_operand_not_allowed:"",invalid_immediate_operand:"",invalid_direct_operand:"",invalid_data:""},label_parsing:{invalid_character:"",label_too_short:"",label_too_long:""},symbol_table:{label_already_exists:"",invalid_label:""},user_input:{invalid_file_name:"",invalid_pc_value:"",invalid_acc_value:""},execution:{invalid_instruction:"",division_by_zero:""},generic:{fetch_error:""}}});function Pi(e){return en(this,void 0,void 0,(function*(){xt.info(`Fetching text - Lang: ${e}`,"DEBUG"),yield fetch(`resources/i18n/app/${e}.yaml`).then((e=>e.text())).then((e=>function(e,t,n){let s;"function"==typeof t?s=t:void 0===n&&t&&"object"==typeof t&&(n=t);const o=Ci(e,n);if(!o)return null;if(o.warnings.forEach((e=>Is(o.options.logLevel,e))),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:s},n))}(e))).then((e=>Di.set(e))).catch((e=>xt.error(e,"DEBUG"))),xt.info("Text fetched","DEBUG")}))}class Ri extends Error{constructor(e){super(e),this.isChecked=!0}}class Ui extends Ri{constructor(e,t){super(`Value ${e} out of ${t}-bit valid range`)}}function Bi(e,t){if(Math.abs(e)>t)throw new Error(`Position ${e} out of range +/-${t}`);if(0===e)throw new Error("Positions start from 1");return e<0?this.value.length+e:e-1}function Mi(e,t){return e.length>t?e.substring(0,t).concat("..."):e}function Fi(e){if(e<1||e>32)throw new Error("Binary numbers must be between 1 and 32 bits")}function Qi(e,t){return e<=function(e){return Fi(e),Math.pow(2,e)}(t)&&e>=Hi(t)}function ji(e,t){return e<=function(e){return Fi(e),Math.pow(2,e-1)-1}(t)&&e>=Hi(t)}function Hi(e){return Fi(e),-Math.pow(2,e-1)}function qi(e,t){return Fi(t),Wi((e>>>0).toString(2),t)}function Wi(e,t){return("00000000000000000000000000000000"+e).slice(-t)}class Gi{constructor(e,t){if("string"==typeof t){if(!function(e,t){return Fi(t),new RegExp(`^[01]{1,${t}}$`).test(e)}(t,e))throw new Ui(t,e);this.value=Wi(t,e)}else if("number"==typeof t){if(!Qi(t,e))throw new Ui(t,e);this.value=qi(t,e)}else this.value=qi(t.signed(),e)}signed(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)}unsigned(){return parseInt(this.value,2)}toBinaryString(){return this.value}bits(){return this.value.length}bytes(){return this.bits()/8}getByte(e){const t=8*Bi(e,this.bytes());return new Gi(8,this.value.substring(t,t+8))}getBytes(){const e=[];for(let t=1;t<=this.bytes();t++)e.push(this.getByte(t));return e}isBitSet(e){return"1"===this.value.charAt(Bi(e,this.bits()))}setBit(e,t){return new Gi(this.bits(),function(e,t,n){if(!/^[10]*$/.test(e))throw new Error("Invalid binary string");let s=e.split("");return s[Bi(t,e.length)]=n?"1":"0",s.join("")}(this.value,e,t))}static fromBytes(e){return Fi(8*e.length),"number"==typeof e[0]?Gi.fromBytes(e.map((e=>new Gi(8,e)))):"string"==typeof e[0]?new Gi(8*e.length,e.join("")):new Gi(8*e.length,e.map((e=>e.toBinaryString())).join(""))}}function Ki(e){return e.isBitSet(1)}function Vi(e,t){return e.setBit(1,t)}function zi(e){return Vi(e,!1)}const Xi=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"=",category:"DATA_FLOW"},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:"",category:"DATA_FLOW"},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+",category:"ARITHMETIC_LOGIC"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-",category:"ARITHMETIC_LOGIC"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*",category:"ARITHMETIC_LOGIC"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/",category:"ARITHMETIC_LOGIC"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&",category:"ARITHMETIC_LOGIC"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":",category:"ARITHMETIC_LOGIC"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!",category:"ARITHMETIC_LOGIC"}];function Ji(e){return"string"==typeof e?Xi.find((t=>t.symbolic===e)):Xi.find((t=>t.numeric===e.getByte(1).unsigned()))}class Zi extends Gi{constructor(e,t,n,s=!1){super(16,n),this.opcode=Ji(zi(n)),this.symbolicOpcode=e,this.symbolicOperand=t,s&&(this.opcode=void 0)}immediateFlag(){return Ki(this)}opcodeValue(){return this.getByte(1)}operandValue(){return this.getByte(2)}numericOpcode(){return this.getByte(1).signed()}numericOperand(){return this.immediateFlag()?this.getByte(2).signed():this.getByte(2).unsigned()}binaryOpcode(){return this.getByte(1).toBinaryString()}binaryOperand(){return this.getByte(2).toBinaryString()}symbolic(){return this.symbolicOpcode+(""!==this.symbolicOperand?` ${this.symbolicOperand}`:"")}}Zi.NOP=new Zi("NOP","",new Gi(16,Ji("NOP").numeric));const Yi=254;function er(e){return e%2==0&&e>=0&&e<=Yi}var tr;function nr(e){let t,n,s,o,i;return{c(){t=C("div"),n=P(e[4]),s=R(),o=C("div"),i=P(e[5]),M(t,"class","w-full h-[28px] leading-[30px] text-center rounded-l-md"),M(o,"class","w-full h-[28px] leading-[30px] text-center rounded-r-md")},m(r,l){T(r,t,l),S(t,n),e[12](t),T(r,s,l),T(r,o,l),S(o,i),e[13](o)},p(e,t){16&t&&j(n,e[4]),32&t&&j(i,e[5])},d(n){n&&O(t),e[12](null),n&&O(s),n&&O(o),e[13](null)}}}function sr(e){let t,n,s=e[6].cpu.ir.invalid_instruction+"";return{c(){t=C("div"),n=P(s),M(t,"class","w-[200px] h-[30px] leading-[30px] col-span-2 text-center rounded-md")},m(e,s){T(e,t,s),S(t,n)},p(e,t){64&t&&s!==(s=e[6].cpu.ir.invalid_instruction+"")&&j(n,s)},d(e){e&&O(t)}}}function or(e){let t,n,s,o;function i(e,t){return e[0].opcode||e[1]?nr:sr}n=new Sn({props:{text:"IR",top:"-25px",left:"10px"}});let r=i(e),l=r(e);return{c(){t=C("div"),je(n.$$.fragment),s=R(),l.c(),M(t,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 font-mono ")},m(e,i){T(e,t,i),He(n,t,null),S(t,s),l.m(t,null),o=!0},p(e,[n]){r===(r=i(e))&&l?l.p(e,n):(l.d(1),l=r(e),l&&(l.c(),l.m(t,null)))},i(e){o||(Oe(n.$$.fragment,e),o=!0)},o(e){Ne(n.$$.fragment,e),o=!1},d(e){e&&O(t),qe(n),l.d()}}}function ir(e,t,n){let s,o,i;u(e,Et,(e=>n(1,o=e))),u(e,Di,(e=>n(6,i=e)));var r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let l,a,c,d,{cpu:f}=t,{animationsEnabled:p}=t;const h=f.instructionRegister;return u(e,h,(e=>n(0,s=e))),e.$$set=e=>{"cpu"in e&&n(8,f=e.cpu),"animationsEnabled"in e&&n(9,p=e.animationsEnabled)},e.$$.update=()=>{3&e.$$.dirty&&(o?(n(4,c=s.binaryOpcode()),n(5,d=s.binaryOperand())):s.opcode&&(n(4,c=s.opcode.symbolic),s.opcode.takesOperand?s.immediateFlag()?n(5,d=`#${s.numericOperand()}`):n(5,d=`${s.numericOperand()}`):n(5,d="")))},[s,o,l,a,c,d,i,h,f,p,function(){return r(this,void 0,void 0,(function*(){if(p&&l)return Tn(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return r(this,void 0,void 0,(function*(){if(p&&a)return Tn(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){de[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},function(e){de[e?"unshift":"push"]((()=>{a=e,n(3,a)}))}]}!function(e){e.IR="IR",e.PC="PC",e.INC="INC",e.ALU1="ALU1",e.ALU2="ALU2",e.ALU_OP="ALU_OP",e.ALU_RESULT="ALU_RESULT",e.ACC="ACC",e.SW_Z="SW_Z",e.SW_N="SW_N",e.HALTING="HALTING",e.JUMPING="JUMPING"}(tr||(tr={}));class rr extends Ge{constructor(e){super(),We(this,e,ir,or,l,{cpu:8,animationsEnabled:9,flashOpcode:10,flashOperand:11})}get flashOpcode(){return this.$$.ctx[10]}get flashOperand(){return this.$$.ctx[11]}}function lr(t){let n,s,o;return s=new Sn({props:{text:"Control Unit / Decoder"}}),{c(){n=C("div"),je(s.$$.fragment),M(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(e,i){T(e,n,i),He(s,n,null),t[3](n),o=!0},p:e,i(e){o||(Oe(s.$$.fragment,e),o=!0)},o(e){Ne(s.$$.fragment,e),o=!1},d(e){e&&O(n),qe(s),t[3](null)}}}function ar(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let o,{animationsEnabled:i}=t;return e.$$set=e=>{"animationsEnabled"in e&&n(1,i=e.animationsEnabled)},[o,i,function(){return s(this,void 0,void 0,(function*(){if(i)return Tn(o,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){de[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class cr extends Ge{constructor(e){super(),We(this,e,ar,lr,l,{animationsEnabled:1,flash:2})}get flash(){return this.$$.ctx[2]}}const ur=Xe(),dr=Xe(),fr=Xe(),pr=Xe(),hr=Xe(),mr=Xe(),gr=Xe();function $r(e){let t,n=(e[0]?e[1].toBinaryString():e[1].signed())+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){3&s&&n!==(n=(e[0]?e[1].toBinaryString():e[1].signed())+"")&&j(t,n)},d(e){e&&O(t)}}}function br(e){let t,n,s;return{c(){t=C("input"),M(t,"type","text"),M(t,"class","w-[170px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(o,i){T(o,t,i),H(t,e[4]),n||(s=[w(wr.call(null,t)),w(vr.call(null,t)),B(t,"input",e[11]),B(t,"input",e[7]),B(t,"focusout",e[6])],n=!0)},p(e,n){16&n&&t.value!==e[4]&&H(t,e[4])},d(e){e&&O(t),n=!1,i(s)}}}function yr(e){let t,n,s,o,i,r;function l(e,t){return e[3]?br:$r}n=new Sn({props:{text:"ACC",top:"-25px",left:"0"}});let a=l(e),c=a(e);return{c(){t=C("div"),je(n.$$.fragment),s=R(),c.c(),M(t,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center cursor-text font-mono ")},m(l,a){T(l,t,a),He(n,t,null),S(t,s),c.m(t,null),e[12](t),o=!0,i||(r=B(t,"click",e[13]),i=!0)},p(e,[n]){a===(a=l(e))&&c?c.p(e,n):(c.d(1),c=a(e),c&&(c.c(),c.m(t,null)))},i(e){o||(Oe(n.$$.fragment,e),o=!0)},o(e){Ne(n.$$.fragment,e),o=!1},d(s){s&&O(t),qe(n),c.d(),e[12](null),i=!1,r()}}}function wr(e){e.focus()}function vr(e){e.select()}function xr(e,t,n){let s,o,i,r;u(e,Et,(e=>n(0,s=e))),u(e,gr,(e=>n(14,i=e))),u(e,Di,(e=>n(15,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let a,c,{cpu:d}=t,{animationsEnabled:f}=t,p=!1;const h=d.accumulator;function m(){n(4,c=s?o.toBinaryString():o.signed().toString())}u(e,h,(e=>n(1,o=e))),m();return e.$$set=e=>{"cpu"in e&&n(8,d=e.cpu),"animationsEnabled"in e&&n(9,f=e.animationsEnabled)},e.$$.update=()=>{2&e.$$.dirty&&m(),1&e.$$.dirty&&m()},[s,o,a,p,c,h,function(){try{if(xt.info(`Accumulator input: "${c}"`,"USER_INPUT"),""===c)return m(),void n(3,p=!1);let e;try{e=new Gi(16,s?c:parseInt(c)),h.set(e)}catch(e){throw new Ri(r.errors.user_input.invalid_acc_value)}}catch(e){null==i||i.error(e.message),xt.error(e,"USER_INPUT",e.isChecked),m()}finally{n(3,p=!1)}},function(){n(4,c=s?c.replace(/[^10]/g,"").slice(0,16):c.replace(/[^\d\-]/g,"").slice(0,6))},d,f,function(){return l(this,void 0,void 0,(function*(){if(f)return Tn(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){c=this.value,n(4,c)},function(e){de[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},()=>n(3,p=!0)]}class _r extends Ge{constructor(e){super(),We(this,e,xr,yr,l,{cpu:8,animationsEnabled:9,flash:10})}get flash(){return this.$$.ctx[10]}}function Er(t){let n,s,o,i=(t[1]?t[2].toBinaryString():t[2].unsigned())+"";return{c(){n=C("div"),s=P("+"),o=P(i),M(n,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] leading-[30px] text-center border border-black rounded-md bg-gray-100 shadow-component font-mono ")},m(e,i){T(e,n,i),S(n,s),S(n,o),t[7](n)},p(e,[t]){6&t&&i!==(i=(e[1]?e[2].toBinaryString():e[2].unsigned())+"")&&j(o,i)},i:e,o:e,d(e){e&&O(n),t[7](null)}}}function kr(e,t,n){let s,o;u(e,Et,(e=>n(1,s=e)));var i=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let r,{cpu:l}=t,{animationsEnabled:a}=t;const c=l.increment;return u(e,c,(e=>n(2,o=e))),e.$$set=e=>{"cpu"in e&&n(4,l=e.cpu),"animationsEnabled"in e&&n(5,a=e.animationsEnabled)},[r,s,o,c,l,a,function(){return i(this,void 0,void 0,(function*(){if(a)return Tn(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){de[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Ar extends Ge{constructor(e){super(),We(this,e,kr,Er,l,{cpu:4,animationsEnabled:5,flash:6})}get flash(){return this.$$.ctx[6]}}function Sr(e){let t,n,s,o,r,l,a,c,u,d,f,p,h,m,g,$,b,y,w,v=e[3]?"1":"0",x=e[2]?"1":"0";return n=new Sn({props:{text:"SW",top:"-25px",left:"0"}}),r=new Sn({props:{text:"Z",bottom:"-21px",left:"25%"}}),d=new Sn({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){t=C("div"),je(n.$$.fragment),s=R(),o=C("div"),je(r.$$.fragment),l=R(),a=P(v),c=R(),u=C("div"),je(d.$$.fragment),f=R(),p=P(x),h=R(),m=C("div"),m.textContent="------",g=R(),$=C("div"),M(o,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md cursor-pointer select-none"),M(u,"class","relative h-full flex items-center justify-center w-[19%] cursor-pointer select-none"),M(m,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md select-none"),M(t,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center font-mono "),M($,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black pointer-events-none")},m(i,v){T(i,t,v),He(n,t,null),S(t,s),S(t,o),He(r,o,null),S(o,l),S(o,a),e[12](o),S(t,c),S(t,u),He(d,u,null),S(u,f),S(u,p),e[13](u),S(t,h),S(t,m),T(i,g,v),T(i,$,v),b=!0,y||(w=[B(o,"click",e[6]),B(u,"click",e[7])],y=!0)},p(e,[t]){(!b||8&t)&&v!==(v=e[3]?"1":"0")&&j(a,v),(!b||4&t)&&x!==(x=e[2]?"1":"0")&&j(p,x)},i(e){b||(Oe(n.$$.fragment,e),Oe(r.$$.fragment,e),Oe(d.$$.fragment,e),b=!0)},o(e){Ne(n.$$.fragment,e),Ne(r.$$.fragment,e),Ne(d.$$.fragment,e),b=!1},d(s){s&&O(t),qe(n),qe(r),e[12](null),qe(d),e[13](null),s&&O(g),s&&O($),y=!1,i(w)}}}function Lr(e,t,n){let s,o;var i=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let r,l,{cpu:a}=t,{animationsEnabled:c}=t;const d=a.negativeFlag;u(e,d,(e=>n(2,s=e)));const f=a.zeroFlag;function p(){return i(this,void 0,void 0,(function*(){if(c)return Tn(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}function h(){return i(this,void 0,void 0,(function*(){if(c)return Tn(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}return u(e,f,(e=>n(3,o=e))),e.$$set=e=>{"cpu"in e&&n(8,a=e.cpu),"animationsEnabled"in e&&n(9,c=e.animationsEnabled)},[r,l,s,o,d,f,function(){xt.info(`Toggled zero flag: "${!o}"`,"USER_INPUT"),y(f,o=!o,o),p()},function(){xt.info(`Toggled negative flag: "${!s}"`,"USER_INPUT"),y(d,s=!s,s),h()},a,c,p,h,function(e){de[e?"unshift":"push"]((()=>{r=e,n(0,r)}))},function(e){de[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class Ir extends Ge{constructor(e){super(),We(this,e,Lr,Sr,l,{cpu:8,animationsEnabled:9,flashZeroFlag:10,flashNegativeFlag:11})}get flashZeroFlag(){return this.$$.ctx[10]}get flashNegativeFlag(){return this.$$.ctx[11]}}function Tr(e){let t,n=(e[0]?e[1].toBinaryString():e[1].unsigned())+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){3&s&&n!==(n=(e[0]?e[1].toBinaryString():e[1].unsigned())+"")&&j(t,n)},d(e){e&&O(t)}}}function Or(e){let t,n,s;return{c(){t=C("input"),M(t,"type","text"),M(t,"class","w-[100px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(o,i){T(o,t,i),H(t,e[4]),n||(s=[w(Cr.call(null,t)),w(Dr.call(null,t)),B(t,"input",e[11]),B(t,"input",e[7]),B(t,"focusout",e[6])],n=!0)},p(e,n){16&n&&t.value!==e[4]&&H(t,e[4])},d(e){e&&O(t),n=!1,i(s)}}}function Nr(e){let t,n,s,o,i,r;function l(e,t){return e[3]?Or:Tr}n=new Sn({props:{text:"PC",top:"-25px",left:"0"}});let a=l(e),c=a(e);return{c(){t=C("div"),je(n.$$.fragment),s=R(),c.c(),M(t,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] leading-[30px] text-center border border-black rounded-md bg-gray-100 shadow-component cursor-text font-mono ")},m(l,a){T(l,t,a),He(n,t,null),S(t,s),c.m(t,null),e[12](t),o=!0,i||(r=B(t,"click",e[13]),i=!0)},p(e,[n]){a===(a=l(e))&&c?c.p(e,n):(c.d(1),c=a(e),c&&(c.c(),c.m(t,null)))},i(e){o||(Oe(n.$$.fragment,e),o=!0)},o(e){Ne(n.$$.fragment,e),o=!1},d(s){s&&O(t),qe(n),c.d(),e[12](null),i=!1,r()}}}function Cr(e){e.focus()}function Dr(e){e.select()}function Pr(e,t,n){let s,o,i,r;u(e,Et,(e=>n(0,s=e))),u(e,gr,(e=>n(14,i=e))),u(e,Di,(e=>n(15,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let a,c,{cpu:d}=t,{animationsEnabled:f}=t,p=!1;const h=d.programCounter;function m(){n(4,c=s?o.toBinaryString():o.unsigned().toString())}u(e,h,(e=>n(1,o=e))),m();return e.$$set=e=>{"cpu"in e&&n(8,d=e.cpu),"animationsEnabled"in e&&n(9,f=e.animationsEnabled)},e.$$.update=()=>{2&e.$$.dirty&&m(),1&e.$$.dirty&&m()},[s,o,a,p,c,h,function(){try{if(xt.info(`ProgramCounter input: "${c}"`,"USER_INPUT"),""===c)return m(),void n(3,p=!1);let e;try{e=new Gi(8,s?c:parseInt(c))}catch(e){throw new Ri(r.errors.user_input.invalid_pc_value)}if(!er(e.unsigned()))throw new Ri(r.errors.user_input.invalid_pc_value);h.set(e)}catch(e){null==i||i.error(e.message),xt.error(e,"USER_INPUT",e.isChecked),m()}finally{n(3,p=!1)}},function(){n(4,c=s?c.replace(/[^10]/g,"").slice(0,8):c.replace(/\D/g,"").slice(0,3))},d,f,function(){return l(this,void 0,void 0,(function*(){if(f)return Tn(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){c=this.value,n(4,c)},function(e){de[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},()=>n(3,p=!0)]}class Rr extends Ge{constructor(e){super(),We(this,e,Pr,Nr,l,{cpu:8,animationsEnabled:9,flash:10})}get flash(){return this.$$.ctx[10]}}function Ur(t){let n,s,o,i,r,l;return r=new Sn({props:{text:"MUX"}}),{c(){n=C("div"),s=D("svg"),o=D("path"),i=R(),je(r.$$.fragment),M(o,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),M(s,"viewBox","-1 -1 102 42"),M(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(e,a){T(e,n,a),S(n,s),S(s,o),t[3](s),S(n,i),He(r,n,null),l=!0},p:e,i(e){l||(Oe(r.$$.fragment,e),l=!0)},o(e){Ne(r.$$.fragment,e),l=!1},d(e){e&&O(n),t[3](null),qe(r)}}}function Br(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let o,{animationsEnabled:i}=t;return e.$$set=e=>{"animationsEnabled"in e&&n(1,i=e.animationsEnabled)},[o,i,function(){return s(this,void 0,void 0,(function*(){if(i)return Tn(o,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){de[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class Mr extends Ge{constructor(e){super(),We(this,e,Br,Ur,l,{animationsEnabled:1,flash:2})}get flash(){return this.$$.ctx[2]}}function Fr(e){let t,n,s,o,i,r,l,a,c,u,d,f,p,h,m,g,$,b=(e[3]?Qr(e[4].toBinaryString()):e[4].signed())+"",y=(e[3]?Qr(e[6].toBinaryString()):e[6].signed())+"";return i=new Sn({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){t=C("div"),n=D("svg"),s=D("path"),o=R(),je(i.$$.fragment),r=R(),l=C("div"),a=P(b),u=R(),d=C("div"),f=P(e[5]),p=R(),h=C("div"),m=P(y),M(s,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),M(n,"viewBox","-1 -1 450 162"),M(l,"class",c="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"),M(d,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),M(h,"class",g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"),M(t,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(c,g){T(c,t,g),S(t,n),S(n,s),S(t,o),He(i,t,null),S(t,r),S(t,l),S(l,a),e[15](l),S(t,u),S(t,d),S(d,f),e[16](d),S(t,p),S(t,h),S(h,m),e[17](h),$=!0},p(e,[t]){(!$||24&t)&&b!==(b=(e[3]?Qr(e[4].toBinaryString()):e[4].signed())+"")&&j(a,b),(!$||8&t&&c!==(c="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"))&&M(l,"class",c),(!$||32&t)&&j(f,e[5]),(!$||72&t)&&y!==(y=(e[3]?Qr(e[6].toBinaryString()):e[6].signed())+"")&&j(m,y),(!$||8&t&&g!==(g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"))&&M(h,"class",g)},i(e){$||(Oe(i.$$.fragment,e),$=!0)},o(e){Ne(i.$$.fragment,e),$=!1},d(n){n&&O(t),qe(i),e[15](null),e[16](null),e[17](null)}}}function Qr(e){return[e.slice(0,8),e.slice(8)].join(" ")}function jr(e,t,n){let s,o,i,r;u(e,Et,(e=>n(3,s=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let a,c,d,{cpu:f}=t,{animationsEnabled:p}=t;const h=f.alu1;u(e,h,(e=>n(4,o=e)));const m=f.alu2;u(e,m,(e=>n(6,r=e)));const g=f.aluOperation;return u(e,g,(e=>n(5,i=e))),e.$$set=e=>{"cpu"in e&&n(10,f=e.cpu),"animationsEnabled"in e&&n(11,p=e.animationsEnabled)},[a,c,d,s,o,i,r,h,m,g,f,p,function(){return l(this,void 0,void 0,(function*(){if(p)return Tn(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return l(this,void 0,void 0,(function*(){if(p)return Tn(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return l(this,void 0,void 0,(function*(){if(p)return Tn(d,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){de[e?"unshift":"push"]((()=>{a=e,n(0,a)}))},function(e){de[e?"unshift":"push"]((()=>{d=e,n(2,d)}))},function(e){de[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}class Hr extends Ge{constructor(e){super(),We(this,e,jr,Fr,l,{cpu:10,animationsEnabled:11,flashFirstOperand:12,flashSecondOperand:13,flashOperator:14})}get flashFirstOperand(){return this.$$.ctx[12]}get flashSecondOperand(){return this.$$.ctx[13]}get flashOperator(){return this.$$.ctx[14]}}class qr{constructor(){this._conditions=[],this._name="Action",this._endsStep=!1,this._endsInstruction=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}condition(...e){return this._conditions.push(...e),this}endstep(){return this._endsStep=!0,this}endinstruction(){return this._endsInstruction=!0,this}sideffects(...e){return this._sideffects.push(...e),this}waitFor(...e){return this._waits_before.push(...e),this}thenWaitFor(...e){return this._waits_after.push(...e),this}execute(e){return en(this,void 0,void 0,(function*(){if(this._conditions.reduceRight(((t,n)=>t&&n(e)),!0))return xt.info(`Executing: ${this.toString()}`,"EXECUTION"),yield Promise.all(this._waits_before.map((t=>t(e)))),yield Promise.all([...this._sideffects.map((t=>t.execute(e))),this.action(e)]),Promise.all(this._waits_after.map((t=>t(e))));xt.info(`Skipping: ${this.toString()}`,"EXECUTION")}))}doesEndStep(){return this._endsStep}doesEndInstruction(){return this._endsInstruction}toString(){return`${this._name}`}}function Wr(e){return e.cpu.model.zeroFlag.get()}function Gr(e){return e.cpu.model.negativeFlag.get()}function Kr(e){return It.get()}function Vr(e){return Lt.get()}function zr(e){return Nt.get()}function Xr(e){return St.get()}function Jr(e){return t=>!e(t)}class Zr extends qr{constructor(){var e,t;super(),this._name="Animation",this.condition((e=Jr(Vr),t=Kr,n=>e(n)&&t(n)))}}class Yr extends Zr{constructor(e){super(),this._name="FlashCpu",this.component=e}action(e){return en(this,void 0,void 0,(function*(){return e.cpu.component.flash(this.component)}))}toString(){return`${super.toString()}, component: ${this.component}`}}function el(e){let t,n,s,o,i,r,l,a,c,u,d,f,p,h,m,g,$,b,y,w,v;o=new Sn({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});let x={cpu:e[0],animationsEnabled:e[1]};r=new rr({props:x}),e[11](r);let _={animationsEnabled:e[1]};a=new cr({props:_}),e[12](a);let E={cpu:e[0],animationsEnabled:e[1]};u=new Rr({props:E}),e[13](u);let k={cpu:e[0],animationsEnabled:e[1]};f=new Ar({props:k}),e[14](f);let A={animationsEnabled:e[1]};h=new Mr({props:A}),e[15](h);let L={cpu:e[0],animationsEnabled:e[1]};g=new Hr({props:L}),e[16](g);let I={cpu:e[0],animationsEnabled:e[1]};b=new Ir({props:I}),e[17](b);let N={cpu:e[0],animationsEnabled:e[1]};return w=new _r({props:N}),e[18](w),{c(){t=C("div"),n=R(),s=C("div"),je(o.$$.fragment),i=R(),je(r.$$.fragment),l=R(),je(a.$$.fragment),c=R(),je(u.$$.fragment),d=R(),je(f.$$.fragment),p=R(),je(h.$$.fragment),m=R(),je(g.$$.fragment),$=R(),je(b.$$.fragment),y=R(),je(w.$$.fragment),M(t,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),M(s,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(e,x){T(e,t,x),T(e,n,x),T(e,s,x),He(o,s,null),S(s,i),He(r,s,null),S(s,l),He(a,s,null),S(s,c),He(u,s,null),S(s,d),He(f,s,null),S(s,p),He(h,s,null),S(s,m),He(g,s,null),S(s,$),He(b,s,null),S(s,y),He(w,s,null),v=!0},p(e,[t]){const n={};1&t&&(n.cpu=e[0]),2&t&&(n.animationsEnabled=e[1]),r.$set(n);const s={};2&t&&(s.animationsEnabled=e[1]),a.$set(s);const o={};1&t&&(o.cpu=e[0]),2&t&&(o.animationsEnabled=e[1]),u.$set(o);const i={};1&t&&(i.cpu=e[0]),2&t&&(i.animationsEnabled=e[1]),f.$set(i);const l={};2&t&&(l.animationsEnabled=e[1]),h.$set(l);const c={};1&t&&(c.cpu=e[0]),2&t&&(c.animationsEnabled=e[1]),g.$set(c);const d={};1&t&&(d.cpu=e[0]),2&t&&(d.animationsEnabled=e[1]),b.$set(d);const p={};1&t&&(p.cpu=e[0]),2&t&&(p.animationsEnabled=e[1]),w.$set(p)},i(e){v||(Oe(o.$$.fragment,e),Oe(r.$$.fragment,e),Oe(a.$$.fragment,e),Oe(u.$$.fragment,e),Oe(f.$$.fragment,e),Oe(h.$$.fragment,e),Oe(g.$$.fragment,e),Oe(b.$$.fragment,e),Oe(w.$$.fragment,e),v=!0)},o(e){Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),Ne(a.$$.fragment,e),Ne(u.$$.fragment,e),Ne(f.$$.fragment,e),Ne(h.$$.fragment,e),Ne(g.$$.fragment,e),Ne(b.$$.fragment,e),Ne(w.$$.fragment,e),v=!1},d(i){i&&O(t),i&&O(n),i&&O(s),qe(o),e[11](null),qe(r),e[12](null),qe(a),e[13](null),qe(u),e[14](null),qe(f),e[15](null),qe(h),e[16](null),qe(g),e[17](null),qe(b),e[18](null),qe(w)}}}function tl(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let o,i,r,l,a,c,u,d,{cpu:f}=t,{animationsEnabled:p}=t;return e.$$set=e=>{"cpu"in e&&n(0,f=e.cpu),"animationsEnabled"in e&&n(1,p=e.animationsEnabled)},[f,p,o,i,r,l,a,c,u,d,function(e){return s(this,void 0,void 0,(function*(){if(p)switch(e){case"IR":return Promise.all([o.flashOpcode(),o.flashOperand()]);case"IR:OPC":return o.flashOpcode();case"IR:OPR":return o.flashOperand();case"PC":return r.flash();case"INC":return l.flash();case"MUX":return a.flash();case"CU":return i.flash();case"ALU:1":return c.flashFirstOperand();case"ALU:2":return c.flashSecondOperand();case"ALU:OPR":return c.flashOperator();case"ACC":return d.flash();case"SW:Z":return u.flashZeroFlag();case"SW:N":return u.flashNegativeFlag()}}))},function(e){de[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(e){de[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},function(e){de[e?"unshift":"push"]((()=>{r=e,n(4,r)}))},function(e){de[e?"unshift":"push"]((()=>{l=e,n(5,l)}))},function(e){de[e?"unshift":"push"]((()=>{a=e,n(6,a)}))},function(e){de[e?"unshift":"push"]((()=>{c=e,n(7,c)}))},function(e){de[e?"unshift":"push"]((()=>{u=e,n(8,u)}))},function(e){de[e?"unshift":"push"]((()=>{d=e,n(9,d)}))}]}class nl extends Ge{constructor(e){super(),We(this,e,tl,el,l,{cpu:0,animationsEnabled:1,flash:10})}get flash(){return this.$$.ctx[10]}}class sl{constructor(){this._instructions=Xe([]),this.instructions=Je(this._instructions,(e=>e)),this.clear()}write(e,t){if(!er(e))throw new Error("Invalid address: "+e);this._instructions.update((n=>{const s=[...n];return s[e]=t,s}))}read(e){if(!er(e))throw new Error("Invalid address: "+e);return this._instructions.get()[e]}clear(){const e=[];for(let t=0;t<=Yi;t+=2)e[t]=Zi.NOP;this._instructions.set(e)}updateLabel(e,t){this._instructions.update((n=>{const s=[...n];for(let n=0;n<=Yi;n+=2){const o=s[n];o.symbolicOperand===e?s[n]=new Zi(o.symbolicOpcode,t,o):o.symbolicOperand===`#${e}`&&(s[n]=new Zi(o.symbolicOpcode,`#${t}`,o))}return s}))}updateLabelAddress(e,t){this._instructions.update((n=>{const s=[...n];for(let n=0;n<=Yi;n+=2){const o=s[n];o.symbolicOperand!==e&&o.symbolicOperand!==`#${e}`||(s[n]=new Zi(o.symbolicOpcode,o.symbolicOperand,Gi.fromBytes([o.numericOpcode(),t]),void 0===o.opcode))}return s}))}removeLabel(e){this._instructions.update((t=>{const n=[...t];for(let t=0;t<=Yi;t+=2){const s=n[t];s.symbolicOperand===e?n[t]=new Zi(s.symbolicOpcode,s.numericOperand().toString(),s):s.symbolicOperand===`#${e}`&&(n[t]=new Zi(s.symbolicOpcode,`#${s.numericOperand()}`,s))}return n}))}import(e){this._instructions.set([...e.instructions.get()])}moveFirstHalfUpFromAddress(e){const t=this._instructions.get(),n=[...t.slice(2,e+2),Zi.NOP,void 0,...t.slice(e+2)];this._instructions.set(n)}moveFirstHalfDownFromAddress(e){const t=this._instructions.get(),n=[Zi.NOP,void 0,...t.slice(0,e),...t.slice(e+2)];this._instructions.set(n)}moveSecondHalfUpFromAddress(e){const t=this._instructions.get(),n=[...t.slice(0,e),...t.slice(e+2),void 0,Zi.NOP];this._instructions.set(n)}moveSecondHalfDownFromAddress(e){const t=this._instructions.get(),n=[...t.slice(0,e),Zi.NOP,void 0,...t.slice(e,253)];this._instructions.set(n)}*[Symbol.iterator](){const e=this._instructions.get();for(let t=0;t<=Yi;t+=2)yield{address:t,instruction:e[t]}}}function ol(e,...t){let n=e;return t.forEach(((e,t)=>{n=n.replace(`{${t}}`,e.toString())})),n}class il extends Ri{constructor(e,t){super(e),this.badLabel=t}}const rl=10,ll=/[^A-Z_]/;function al(e){if(ll.test(e))throw new il(ol(Di.get().errors.label_parsing.invalid_character,e.match(ll)[0]),e);if(e.length>rl)throw new il(ol(Di.get().errors.label_parsing.label_too_long,rl),e);if(e.length<1)throw new il(ol(Di.get().errors.label_parsing.label_too_short,1),e);return e}class cl{constructor(){this._labels=Xe([]),this.labels=Je(this._labels,(e=>e)),this.labelEditedListeners=[],this.labelMovedListeners=[],this.labelRemovedListeners=[],this.clear()}setLabel(e,t){if(!er(e))throw new Error("Invalid address: "+e);const n=this.getLabel(e);if(n!==t&&(n!==cl.NO_LABEL||""!==t))if(""!==t){if(al(t),this.hasLabel(t))throw new Ri(Di.get().errors.symbol_table.label_already_exists);this._labels.update((n=>{const s=[...n];return s[e]=t,s})),n!==cl.NO_LABEL&&this.notifyLabelEditedListeners(e,n,t)}else this.unlabelAddress(e)}unlabelAddress(e){if(!er(e))throw new Error("Invalid address: "+e);const t=this.getLabel(e);this._labels.update((t=>{const n=[...t];return n[e]=cl.NO_LABEL,n})),this.notifyLabelRemovedListeners(e,t)}getLabel(e){if(!er(e))throw new Error("Invalid address: "+e);return this._labels.get()[e]}getAddress(e){return e===cl.NO_LABEL?-1:this._labels.get().findIndex((t=>t===e))}hasLabel(e){return this._labels.get().includes(e)&&e!==cl.NO_LABEL}addressIsLabeled(e){if(!er(e))throw new Error("Invalid address: "+e);return this._labels.get()[e]!==cl.NO_LABEL}clear(){const e=[];for(let t=0;t<=Yi;t+=2)e[t]=cl.NO_LABEL;this._labels.set(e)}import(e){this._labels.set([...e.labels.get()])}moveFirstHalfUpFromAddress(e){const t=this._labels.get(),n=[...t.slice(2,e+2),cl.NO_LABEL,void 0,...t.slice(e+2)];this._labels.set(n),t[0]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(0,t[0]);for(const{label:t,address:n}of this)n<e&&this.notifyLabelMovedListeners(t,n+2,n)}moveFirstHalfDownFromAddress(e){const t=this._labels.get(),n=[cl.NO_LABEL,void 0,...t.slice(0,e),...t.slice(e+2)];this._labels.set(n),t[e]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(e,t[e]);for(const{label:t,address:n}of this)n<=e&&this.notifyLabelMovedListeners(t,n-2,n)}moveSecondHalfUpFromAddress(e){const t=this._labels.get(),n=[...t.slice(0,e),...t.slice(e+2),void 0,cl.NO_LABEL];this._labels.set(n),t[e]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(e,t[e]);for(const{label:t,address:n}of this)n>=e&&this.notifyLabelMovedListeners(t,n+2,n)}moveSecondHalfDownFromAddress(e){const t=this._labels.get(),n=[...t.slice(0,e),cl.NO_LABEL,void 0,...t.slice(e,253)];this._labels.set(n),t[254]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(Yi,t[254]);for(const{label:t,address:n}of this)n>e&&this.notifyLabelMovedListeners(t,n-2,n)}addLabelEditedListener(e){return this.labelEditedListeners.push(e),()=>this.labelEditedListeners=this.labelEditedListeners.filter((t=>t!==e))}addLabelMovedListener(e){return this.labelMovedListeners.push(e),()=>this.labelMovedListeners=this.labelMovedListeners.filter((t=>t!==e))}addLabelRemovedListener(e){return this.labelRemovedListeners.push(e),()=>this.labelRemovedListeners=this.labelRemovedListeners.filter((t=>t!==e))}notifyLabelEditedListeners(e,t,n){this.labelEditedListeners.forEach((s=>s({address:e,oldLabel:t,newLabel:n})))}notifyLabelMovedListeners(e,t,n){this.labelMovedListeners.forEach((s=>s({label:e,oldAddress:t,newAddress:n})))}notifyLabelRemovedListeners(e,t){this.labelRemovedListeners.forEach((n=>n({address:e,removedLabel:t})))}*[Symbol.iterator](){const e=this._labels.get();for(let t=0;t<=Yi;t+=2)e[t]!==cl.NO_LABEL&&(yield{address:t,label:e[t]})}}function ul(e){const t=e-1;return t*t*t+1}function dl(e,{delay:n=0,duration:s=400,easing:o=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:s,easing:o,css:e=>"opacity: "+e*i}}function fl(e,{delay:t=0,duration:n=400,easing:s=ul}={}){const o=getComputedStyle(e),i=+o.opacity,r=parseFloat(o.height),l=parseFloat(o.paddingTop),a=parseFloat(o.paddingBottom),c=parseFloat(o.marginTop),u=parseFloat(o.marginBottom),d=parseFloat(o.borderTopWidth),f=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:s,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*i};height: ${e*r}px;padding-top: ${e*l}px;padding-bottom: ${e*a}px;margin-top: ${e*c}px;margin-bottom: ${e*u}px;border-top-width: ${e*d}px;border-bottom-width: ${e*f}px;`}}cl.NO_LABEL=null;let pl={address:null,column:"CELL"};const{subscribe:hl,set:ml,update:gl}=Ve(pl);function $l(e){gl(e),pl=e(pl)}var bl={subscribe:hl,selectUp:function(){$l((e=>{let t=e.address-=2;return Object.assign(Object.assign({},e),{address:t<0?0:t})}))},selectDown:function(){$l((e=>{let t=e.address+=2;return Object.assign(Object.assign({},e),{address:t>Yi?Yi:t})}))},selectLeft:function(){$l((e=>Object.assign(Object.assign({},e),{column:"LABEL"})))},selectRight:function(){$l((e=>Object.assign(Object.assign({},e),{column:"CELL"})))},select:function(e,t="CELL"){if(!er(e))throw new Error("Invalid address");$l((n=>Object.assign(Object.assign({},n),{address:e,column:t})))},deselect:function(){$l((e=>Object.assign(Object.assign({},e),{address:null})))},noSelection:function(){return null===pl.address},isSelected:function(e,t){return pl.address===e&&pl.column===t}};function yl(t){let n,s,o,i;return{c(){n=C("button"),n.innerHTML='<svg class="fill-black/30 w-6 h-6 transition-colors hover:fill-black"><rect class="fill-transparent h-6 w-6"></rect><path d="M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"></path></svg>',M(n,"class","absolute right-0 cursor-pointer w-6 h-6")},m(e,s){T(e,n,s),o||(i=B(n,"click",t[9]),o=!0)},p(e,n){t=e},i(e){s||be((()=>{s=De(n,t[11],{condition:t[15]}),s.start()}))},o:e,d(e){e&&O(n),o=!1,i()}}}function wl(t){let n,s,o,r,l;return{c(){n=C("div"),s=P(t[2]),o=P(" :"),M(n,"class","absolute right-0 h-[28px] w-[150px] flex items-center justify-start p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right cursor-text  svelte-1trus45"),K(n,"firstLabel",t[4]),K(n,"lastLabel",t[5])},m(e,i){T(e,n,i),S(n,s),S(n,o),r||(l=[B(n,"input",t[10]),B(n,"click",t[9])],r=!0)},p(e,t){4&t&&j(s,e[2]),16&t&&K(n,"firstLabel",e[4]),32&t&&K(n,"lastLabel",e[5])},i:e,o:e,d(e){e&&O(n),r=!1,i(l)}}}function vl(n){let s,o,l,a,c,u;return{c(){s=C("input"),M(s,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right  svelte-1trus45"),K(s,"firstLabel",n[4]),K(s,"lastLabel",n[5])},m(e,t){T(e,s,t),H(s,n[6]),a=!0,c||(u=[B(s,"input",n[12]),B(s,"input",n[10]),B(s,"focusout",n[8]),w(_l.call(null,s))],c=!0)},p(e,t){n=e,64&t&&s.value!==n[6]&&H(s,n[6]),(!a||16&t)&&K(s,"firstLabel",n[4]),(!a||32&t)&&K(s,"lastLabel",n[5])},i(e){a||(be((()=>{l&&l.end(1),o=De(s,El,{condition:n[13]}),o.start()})),a=!0)},o(c){o&&o.invalidate(),l=function(n,s,o){const l={direction:"out"};let a,c=s(n,o,l),u=!0;const d=Le;function f(){const{delay:s=0,duration:o=300,easing:r=t,tick:l=e,css:f}=c||Ce;f&&(a=Y(n,1,0,o,s,r,f));const p=x()+s,h=p+o;be((()=>Ae(n,!1,"start"))),A((e=>{if(u){if(e>=h)return l(0,1),Ae(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=r((e-p)/o);l(1-t,t)}}return u}))}return d.r+=1,r(c)?ke().then((()=>{c=c(l),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&ee(n,a),u=!1)}}}(s,El,{condition:n[14]}),a=!1},d(e){e&&O(s),e&&l&&l.end(),c=!1,i(u)}}}function xl(e){let t,n,s,o;const i=[vl,wl,yl],r=[];function l(e,t){return e[3]?0:e[2]?1:2}return n=l(e),s=r[n]=i[n](e),{c(){t=C("div"),s.c(),M(t,"class","relative h-[30px] flex items-center font-mono")},m(e,s){T(e,t,s),r[n].m(t,null),o=!0},p(e,[o]){let a=n;n=l(e),n===a?r[n].p(e,o):(Ie(),Ne(r[a],1,1,(()=>{r[a]=null})),Te(),s=r[n],s?s.p(e,o):(s=r[n]=i[n](e),s.c()),Oe(s,1),s.m(t,null))},i(e){o||(Oe(s),o=!0)},o(e){Ne(s),o=!1},d(e){e&&O(t),r[n].d()}}}function _l(e){e.focus()}function El(e,{condition:t=(()=>!0)}){return{delay:0,duration:t()?200:0,css:e=>`transform: scaleX(${e})`}}function kl(e,t,n){let s;u(e,gr,(e=>n(16,s=e)));let o,i,{symbolTable:r}=t,{address:l}=t,{label:a}=t,{isSelected:c}=t,{isFirstLabel:d=!1}=t,{isLastLabel:f=!1}=t;se((()=>{n(7,i=!0)}));return e.$$set=e=>{"symbolTable"in e&&n(0,r=e.symbolTable),"address"in e&&n(1,l=e.address),"label"in e&&n(2,a=e.label),"isSelected"in e&&n(3,c=e.isSelected),"isFirstLabel"in e&&n(4,d=e.isFirstLabel),"isLastLabel"in e&&n(5,f=e.isLastLabel)},e.$$.update=()=>{4&e.$$.dirty&&n(6,o=a===cl.NO_LABEL?"":a),2&e.$$.dirty&&(n(7,i=!1),n(6,o=a===cl.NO_LABEL?"":a)),8&e.$$.dirty&&c&&n(6,o=a===cl.NO_LABEL?"":a)},[r,l,a,c,d,f,o,i,function(){try{xt.info(`RamLabel input: "${o}"`,"USER_INPUT"),r.setLabel(l,o)}catch(e){null==s||s.error(e.message),xt.error(e,"USER_INPUT",e.isChecked),n(6,o=a===cl.NO_LABEL?"":a)}finally{bl.isSelected(l,"LABEL")&&bl.deselect()}},function(){bl.select(l,"LABEL")},function(){n(6,o=o.toUpperCase().replace(ll,"").slice(0,rl))},function(e,{condition:t=(()=>!0)}){return t()?dl(e,{delay:150}):null},function(){o=this.value,n(6,o)},()=>!r.addressIsLabeled(l),()=>!r.addressIsLabeled(l),()=>{const e=i;return n(7,i=!0),!c&&e}]}class Al extends Ge{constructor(e){super(),We(this,e,kl,xl,l,{symbolTable:0,address:1,label:2,isSelected:3,isFirstLabel:4,isLastLabel:5})}}function Sl(t){let n,s,o,i=(t[3]?new Gi(8,t[0]).toBinaryString():t[0])+"";return{c(){n=C("div"),s=P(i),M(n,"class",o="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 font-mono "+t[4].class+" svelte-1v2acx4"),q(n,"background-color",t[2])},m(e,o){T(e,n,o),S(n,s),t[7](n)},p(e,[t]){9&t&&i!==(i=(e[3]?new Gi(8,e[0]).toBinaryString():e[0])+"")&&j(s,i),16&t&&o!==(o="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 font-mono "+e[4].class+" svelte-1v2acx4")&&M(n,"class",o),4&t&&q(n,"background-color",e[2])},i:e,o:e,d(e){e&&O(n),t[7](null)}}}function Ll(e,t,s){const o=["address","getAddress","flash"];let i,r,l,a=$(t,o);u(e,It,(e=>s(8,i=e))),u(e,Mt,(e=>s(2,r=e))),u(e,Et,(e=>s(3,l=e)));var c=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let d,{address:f}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(4,a=$(t,o)),"address"in e&&s(0,f=e.address)},[f,d,r,l,a,function(){return f},function(){return c(this,void 0,void 0,(function*(){if(i)return Tn(d,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(e){de[e?"unshift":"push"]((()=>{d=e,s(1,d)}))}]}class Il extends Ge{constructor(e){super(),We(this,e,Ll,Sl,l,{address:0,getAddress:5,flash:6})}get getAddress(){return this.$$.ctx[5]}get flash(){return this.$$.ctx[6]}}class Tl extends Ri{constructor(e,t){super(e),this.inputString=t}}const Ol=/^[01]{0,8}\s?[01]{1,8}?$/,Nl=/^-?[0-9]+$/,Cl=/#-?[0-9]{1,3}/,Dl=/[A-Z_]{1,10}/,Pl=/#[A-Z_]{1,10}/,Rl=new cl;function Ul(e,t=Rl){return Nl.test(e)?function(e){const t=parseInt(e);if(!ji(t,16))throw new Tl(ol(Di.get().errors.instruction_parsing.invalid_data,Mi(t.toString(),10)),e);const n=new Gi(16,t),s=n.getByte(1),o=n.getByte(2),i=Ji(zi(s)),r=Ki(s),l=!i||!i.takesOperand&&0!==o.signed()||!i.takesImmediate&&r||!i.takesOperand&&r;return new Zi(e,"",n,l)}(e):function(e,t){const[n,s]=e.split(" "),o=!!s,i=Ji(n);if(!i)throw new Tl(ol(Di.get().errors.instruction_parsing.invalid_opcode,Mi(n,10)),e);if(o){if(!i.takesOperand)throw new Tl(ol(Di.get().errors.instruction_parsing.operand_not_allowed,Mi(i.symbolic,10)),e);return Pl.test(s)?function(e,t,n){const[s,o]=e.split(" "),i=o.slice(1);if(!n.hasLabel(i))throw new Tl(ol(Di.get().errors.instruction_parsing.unknown_label,Mi(o,rl)),e);const r=Vi(new Gi(8,t.numeric),!0).signed(),l=n.getAddress(i);if(!t.takesImmediate)throw new Tl(ol(Di.get().errors.instruction_parsing.immediate_operand_not_allowed,Mi(t.symbolic,10)),e);if(!ji(l,8))throw new Tl(ol(Di.get().errors.instruction_parsing.invalid_immediate_operand,Mi(l.toString(),10)),e);return new Zi(s,o,Gi.fromBytes([r,l]))}(e,i,t):Dl.test(s)?function(e,t,n){const[s,o]=e.split(" ");if(!n.hasLabel(o))throw new Tl(ol(Di.get().errors.instruction_parsing.unknown_label,Mi(o,rl)),e);const i=n.getAddress(o);return new Zi(s,o,Gi.fromBytes([t.numeric,i]))}(e,i,t):Cl.test(s)?function(e,t){const[n,s]=e.split(" "),o=Vi(new Gi(8,t.numeric),!0).signed(),i=parseInt(s.slice(1));if(!t.takesImmediate)throw new Tl(ol(Di.get().errors.instruction_parsing.immediate_operand_not_allowed,Mi(t.symbolic,10)),e);if(!ji(i,8))throw new Tl(ol(Di.get().errors.instruction_parsing.invalid_immediate_operand,Mi(i.toString(),10)),e);return new Zi(n,s,Gi.fromBytes([o,i]))}(e,i):function(e,t){const[n,s]=e.split(" "),o=parseInt(s);if(!er(o))throw new Tl(ol(Di.get().errors.instruction_parsing.invalid_direct_operand,Mi(o.toString(),10)),e);return new Zi(n,s,Gi.fromBytes([t.numeric,o]))}(e,i)}if(i.takesOperand)throw new Tl(ol(Di.get().errors.instruction_parsing.operand_required,Mi(i.symbolic,10)),e);return new Zi(n,"",Gi.fromBytes([i.numeric,0]))}(e,t)}function Bl(e){if(Ol.test(e))return function(e){if(e.includes(" ")){const[t,n]=e.split(" ");e=t+Wi(n,8)}const t=new Gi(16,e),n=t.getByte(1),s=t.getByte(2),o=Ki(n),i=Ji(zi(n)),r=!i||!i.takesOperand&&0!==s.unsigned()||o&&!i.takesImmediate||!o&&!er(s.unsigned()),l=r?t.signed().toString():i.symbolic;let a=o?"#"+s.signed():s.unsigned().toString();!r&&i.takesOperand||(a="");return new Zi(l,a,t,r)}(e);throw new Tl(Di.get().errors.instruction_parsing.invalid_binary_input,e)}function Ml(e){let t,n,s,o,i=e[3]&&Ql(e);return{c(){t=C("div"),n=P(e[4]),s=R(),i&&i.c(),o=U(),M(t,"class","h-[30px] w-[95px] leading-[30px] text-left pl-[10px]")},m(e,r){T(e,t,r),S(t,n),T(e,s,r),i&&i.m(e,r),T(e,o,r)},p(e,t){16&t&&j(n,e[4]),e[3]?i?i.p(e,t):(i=Ql(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&O(t),e&&O(s),i&&i.d(e),e&&O(o)}}}function Fl(e){let t,n,s;return{c(){t=C("input"),M(t,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(o,i){T(o,t,i),H(t,e[2]),n||(s=[B(t,"input",e[15]),B(t,"focusout",e[5]),B(t,"input",e[7]),w(Hl.call(null,t)),w(ql.call(null,t))],n=!0)},p(e,n){4&n&&t.value!==e[2]&&H(t,e[2])},d(e){e&&O(t),n=!1,i(s)}}}function Ql(e){let t,n;return{c(){t=C("div"),n=P(e[3]),M(t,"class","h-[30px] w-[95px] min-w-0 leading-[30px] text-left overflow-hidden text-ellipsis whitespace-nowrap")},m(e,s){T(e,t,s),S(t,n)},p(e,t){8&t&&j(n,e[3])},d(e){e&&O(t)}}}function jl(t){let n,s,o,i;function r(e,t){return e[0]?Fl:Ml}let l=r(t),a=l(t);return{c(){n=C("div"),a.c(),M(n,"class",s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 font-mono "+t[8].class+" svelte-67wtpq")},m(e,s){T(e,n,s),a.m(n,null),t[16](n),o||(i=B(n,"click",t[6]),o=!0)},p(e,[t]){l===(l=r(e))&&a?a.p(e,t):(a.d(1),a=l(e),a&&(a.c(),a.m(n,null))),256&t&&s!==(s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 font-mono "+e[8].class+" svelte-67wtpq")&&M(n,"class",s)},i:e,o:e,d(e){e&&O(n),a.d(),t[16](null),o=!1,i()}}}function Hl(e){e.focus()}function ql(e){setTimeout((()=>e.select()))}function Wl(e,t,s){let o,i;const r=["symbolTable","address","instruction","isSelected","flash","getAddress"];let l,a,c,d,f=$(t,r);u(e,gr,(e=>s(17,l=e))),u(e,dr,(e=>s(18,a=e))),u(e,Et,(e=>s(14,c=e))),u(e,It,(e=>s(19,d=e)));var p=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let h,m,{symbolTable:b}=t,{address:y}=t,{instruction:w}=t,{isSelected:v}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(8,f=$(t,r)),"symbolTable"in e&&s(9,b=e.symbolTable),"address"in e&&s(10,y=e.address),"instruction"in e&&s(11,w=e.instruction),"isSelected"in e&&s(0,v=e.isSelected)},e.$$.update=()=>{18432&e.$$.dirty&&s(4,o=c?w.binaryOpcode():w.symbolicOpcode),18432&e.$$.dirty&&s(3,i=c?w.binaryOperand():w.symbolicOperand),1&e.$$.dirty&&v&&s(2,m=o+(i?` ${i}`:"")),2048&e.$$.dirty&&s(2,m=o+(i?` ${i}`:"")),1024&e.$$.dirty&&s(2,m=o+(i?` ${i}`:""))},[v,h,m,i,o,function(){try{""!==m&&(xt.info(`RamCell input: "${m}"`,"USER_INPUT"),c?a.write(y,Bl(m.trim())):a.write(y,Ul(m.trim(),b)))}catch(e){null==l||l.error(e.message),xt.error(e,"USER_INPUT",e.isChecked)}finally{bl.isSelected(y,"CELL")&&bl.deselect()}},function(){bl.select(y,"CELL")},function(){s(2,m=m.toUpperCase().replace(/[^A-Z0-9 _\-#\(\)]*/g,""))},f,b,y,w,function(){return p(this,void 0,void 0,(function*(){if(d)return Tn(h,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return y},c,function(){m=this.value,s(2,m)},function(e){de[e?"unshift":"push"]((()=>{h=e,s(1,h)}))}]}class Gl extends Ge{constructor(e){super(),We(this,e,Wl,jl,l,{symbolTable:9,address:10,instruction:11,isSelected:0,flash:12,getAddress:13})}get flash(){return this.$$.ctx[12]}get getAddress(){return this.$$.ctx[13]}}function Kl(e){let t,n,s,o,r;const l=e[3].default,a=d(l,e,e[2],null);return{c(){t=C("button"),a&&a.c(),M(t,"class",n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,i){T(n,t,i),a&&a.m(t,null),s=!0,o||(r=[B(t,"click",e[4]),B(t,"focus",e[5]),B(t,"focusout",e[6]),B(t,"mouseenter",e[7]),B(t,"mouseleave",e[8]),B(t,"mouseover",e[9])],o=!0)},p(e,[o]){a&&a.p&&(!s||4&o)&&h(a,l,e,e[2],s?p(l,e[2],o,null):m(e[2]),null),(!s||2&o&&n!==(n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&M(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Oe(a,e),s=!0)},o(e){Ne(a,e),s=!1},d(e){e&&O(t),a&&a.d(e),o=!1,i(r)}}}function Vl(e,t,s){const o=["disabled"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(1,i=$(t,o)),"disabled"in e&&s(0,a=e.disabled),"$$scope"in e&&s(2,l=e.$$scope)},[a,i,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class zl extends Ge{constructor(e){super(),We(this,e,Vl,Kl,l,{disabled:0})}}class Xl extends Ri{constructor(e){super(e)}}const Jl=/;.*$/g,Zl=/^.*\s?:/;function Yl(e){const t=new sl,n=new cl,s=e.toUpperCase().split(/\r\n|\r|\n/g),o=[];for(let e=0,t=1,i=0;e<s.length;e++,t++){const r=na(ta(s[e]).trim());if(""!==r){if(sa(r)){const e=oa(r);try{if(al(e),n.hasLabel(e))throw new Xl(ol(Di.get().errors.program_parsing.duplicated_label,t,e));n.setLabel(i,e)}catch(e){throw new Xl(ol(Di.get().errors.program_parsing.invalid_label,t,e.message))}}o.push({text:ia(r),lineNumber:t,address:i}),i+=2}}for(let e of o)try{t.write(e.address,Ul(e.text,n))}catch(t){throw new Xl(ol(Di.get().errors.program_parsing.invalid_instruction,e.lineNumber,t.message))}return{ram:t,symbolTable:n}}function ea(e,t){let n="",s="",o="";let i="";for(let r=0;r<=Yi;r+=2)s=e.read(r).symbolic(),o=t.addressIsLabeled(r)?`${t.getLabel(r)}:`:"",i=" ".repeat(15-o.length),n+=`${o}${i}${s}\n`;return n.replace(/\n(\s*NOP\n)*$/g,"\n").replace(/\n$/g,"")}function ta(e){return e.replace(Jl,"")}function na(e){return e.replace(/\s+/g," ")}function sa(e){return Zl.test(e)}function oa(e){return e.split(":")[0].trim()}function ia(e){return sa(e)?e.split(":")[1].trim():e}function ra(e,t,n){const s=e.slice();return s[35]=t[n],s[36]=t,s[37]=n,s}function la(e,t,n){const s=e.slice();return s[35]=t[n],s[38]=t,s[37]=n,s}function aa(e,t){let n,s,o,i=t[37];const r=()=>t[24](s,i),l=()=>t[24](null,i);let a={symbolTable:t[0],address:t[35],label:t[8][t[35]],isSelected:t[7].address===t[35]&&"LABEL"===t[7].column,isFirstLabel:t[35]===t[1],isLastLabel:t[35]===t[2]};return s=new Al({props:a}),r(),{key:e,first:null,c(){n=U(),je(s.$$.fragment),this.first=n},m(e,t){T(e,n,t),He(s,e,t),o=!0},p(e,n){i!==(t=e)[37]&&(l(),i=t[37],r());const o={};1&n[0]&&(o.symbolTable=t[0]),8&n[0]&&(o.address=t[35]),264&n[0]&&(o.label=t[8][t[35]]),136&n[0]&&(o.isSelected=t[7].address===t[35]&&"LABEL"===t[7].column),10&n[0]&&(o.isFirstLabel=t[35]===t[1]),12&n[0]&&(o.isLastLabel=t[35]===t[2]),s.$set(o)},i(e){o||(Oe(s.$$.fragment,e),o=!0)},o(e){Ne(s.$$.fragment,e),o=!1},d(e){e&&O(n),l(),qe(s,e)}}}function ca(e,t){let n,s,o,i,r,l,a=t[37];const c=()=>t[25](s,a),u=()=>t[25](null,a);let d={address:t[35],class:"\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-address":"")+"\n\t\t\t\t\t\t"};s=new Il({props:d}),c();const f=()=>t[26](i,a),p=()=>t[26](null,a);let h={symbolTable:t[0],address:t[35],instruction:t[9][t[35]],isSelected:t[7].address===t[35]&&"CELL"===t[7].column,class:"\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-cell":"")+"\n\t\t\t\t\t\t"};return i=new Gl({props:h}),f(),{key:e,first:null,c(){n=C("div"),je(s.$$.fragment),o=R(),je(i.$$.fragment),r=R(),M(n,"class","flex flex-nowrap"),this.first=n},m(e,t){T(e,n,t),He(s,n,null),S(n,o),He(i,n,null),S(n,r),l=!0},p(e,n){a!==(t=e)[37]&&(u(),a=t[37],c());const o={};8&n[0]&&(o.address=t[35]),14&n[0]&&(o.class="\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-address":"")+"\n\t\t\t\t\t\t"),s.$set(o),a!==t[37]&&(p(),a=t[37],f());const r={};1&n[0]&&(r.symbolTable=t[0]),8&n[0]&&(r.address=t[35]),520&n[0]&&(r.instruction=t[9][t[35]]),136&n[0]&&(r.isSelected=t[7].address===t[35]&&"CELL"===t[7].column),14&n[0]&&(r.class="\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-cell":"")+"\n\t\t\t\t\t\t"),i.$set(r)},i(e){l||(Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),l=!0)},o(e){Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),l=!1},d(e){e&&O(n),u(),qe(s),p(),qe(i)}}}function ua(e){let t,n=e[10].ram.buttons.clear.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){1024&s[0]&&n!==(n=e[10].ram.buttons.clear.text+"")&&j(t,n)},d(e){e&&O(t)}}}function da(e){let t,n,s,o,r,l,a,c,u,d,f,p,h,m=[],g=new Map,$=[],b=new Map;n=new Sn({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let y=e[3];const v=e=>e[35];for(let t=0;t<y.length;t+=1){let n=la(e,y,t),s=v(n);g.set(s,m[t]=aa(s,n))}let x=e[3];const _=e=>e[35];for(let t=0;t<x.length;t+=1){let n=ra(e,x,t),s=_(n);b.set(s,$[t]=ca(s,n))}return d=new zl({props:{title:e[10].ram.buttons.clear.title,$$slots:{default:[ua]},$$scope:{ctx:e}}}),d.$on("click",e[15]),{c(){t=C("div"),je(n.$$.fragment),s=R(),o=C("div"),r=C("div");for(let e=0;e<m.length;e+=1)m[e].c();l=R(),a=C("div");for(let e=0;e<$.length;e+=1)$[e].c();c=R(),u=C("div"),je(d.$$.fragment),M(r,"class","flex flex-col items-end justify-center"),M(a,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),M(o,"class","flex"),M(u,"class","flex"),M(t,"class","absolute top-[115px] right-[50px] z-[3] flex flex-col items-center justify-center")},m(i,g){T(i,t,g),He(n,t,null),S(t,s),S(t,o),S(o,r);for(let e=0;e<m.length;e+=1)m[e].m(r,null);S(o,l),S(o,a);for(let e=0;e<$.length;e+=1)$[e].m(a,null);S(t,c),S(t,u),He(d,u,null),f=!0,p||(h=[B(o,"wheel",e[13]),w(e[14].call(null,t))],p=!0)},p(e,t){415&t[0]&&(y=e[3],Ie(),m=Be(m,t,v,1,e,y,g,r,Ue,aa,null,la),Te()),751&t[0]&&(x=e[3],Ie(),$=Be($,t,_,1,e,x,b,a,Ue,ca,null,ra),Te());const n={};1024&t[0]&&(n.title=e[10].ram.buttons.clear.title),1024&t[0]|256&t[1]&&(n.$$scope={dirty:t,ctx:e}),d.$set(n)},i(e){if(!f){Oe(n.$$.fragment,e);for(let e=0;e<y.length;e+=1)Oe(m[e]);for(let e=0;e<x.length;e+=1)Oe($[e]);Oe(d.$$.fragment,e),f=!0}},o(e){Ne(n.$$.fragment,e);for(let e=0;e<m.length;e+=1)Ne(m[e]);for(let e=0;e<$.length;e+=1)Ne($[e]);Ne(d.$$.fragment,e),f=!1},d(e){e&&O(t),qe(n);for(let e=0;e<m.length;e+=1)m[e].d();for(let e=0;e<$.length;e+=1)$[e].d();qe(d),p=!1,i(h)}}}function fa(e,t,n){let s,o,i,r;u(e,bl,(e=>n(7,s=e))),u(e,Di,(e=>n(10,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let{ram:a}=t,{symbolTable:c}=t,{animationsEnabled:d}=t;const f=a.instructions;u(e,f,(e=>n(9,i=e)));const p=c.labels;u(e,p,(e=>n(8,o=e)));let h,m,g=[],$=[],b=0,y=[],w=[],v=[];var x;function _(e){if(!er(e))throw new Error("Invalid address");return e>=b&&e<=h}function E(e){return l(this,void 0,void 0,(function*(){if(!er(e))throw new Error("Invalid address");if(_(e))return;let t=e,s=t+34;return s>Yi&&(t-=s-Yi),n(1,b=t),A(),new Promise(((e,t)=>{$.push(e)}))}))}function k(e,t){t&&g.push(bl.deselect);let s=b+(e>0?2:-2);s<0&&(s=0),s>220&&(s=220),n(1,b=s),A()}function A(){n(2,h=b+34),n(3,m=[]);for(let e=b,t=0;e<=h;e+=2,t++)n(3,m[t]=e,m)}return A(),x=()=>{g.forEach((e=>e())),g=[]},ne().$$.before_update.push(x),oe((()=>{$.forEach((e=>e())),$=[]})),e.$$set=e=>{"ram"in e&&n(16,a=e.ram),"symbolTable"in e&&n(0,c=e.symbolTable),"animationsEnabled"in e&&n(17,d=e.animationsEnabled)},[c,b,h,m,y,w,v,s,o,i,r,f,p,function({deltaY:e}){k(e,!0)},function(e){const t=e=>{switch(e.key){case"ArrowUp":!function(e){if(!bl.noSelection()){if(e.ctrlKey)return a.moveSecondHalfUpFromAddress(s.address),void c.moveSecondHalfUpFromAddress(s.address);if(e.shiftKey)return a.moveFirstHalfUpFromAddress(s.address),void c.moveFirstHalfUpFromAddress(s.address);s.address===b&&k(-1,!1),bl.selectUp()}}(e);break;case"ArrowDown":!function(e){if(!bl.noSelection()){if(e.ctrlKey)return a.moveSecondHalfDownFromAddress(s.address),void c.moveSecondHalfDownFromAddress(s.address);if(e.shiftKey)return a.moveFirstHalfDownFromAddress(s.address),void c.moveFirstHalfDownFromAddress(s.address);s.address===h&&k(1,!1),bl.selectDown()}}(e);break;case"Enter":bl.noSelection()?bl.select(b):bl.deselect()}};return document.addEventListener("keydown",t),{destroy(){document.removeEventListener("keydown",t)}}},function(){a.clear(),c.clear()},a,d,function(){k(-1,!0)},function(){k(1,!0)},_,E,function(e){return l(this,void 0,void 0,(function*(){if(!er(e))throw new Error("Invalid address");if(d)return E(e).then((()=>l(this,void 0,void 0,(function*(){return yield $e()})))).then((()=>{var t;return null===(t=w.find((t=>{var n;return(null===(n=null==t?void 0:t.getAddress)||void 0===n?void 0:n.call(t))===e})))||void 0===t?void 0:t.flash()}))}))},function(e){return l(this,void 0,void 0,(function*(){if(!er(e))throw new Error("Invalid address");if(d)return E(e).then((()=>l(this,void 0,void 0,(function*(){return yield $e()})))).then((()=>{var t;return null===(t=v.find((t=>{var n;return(null===(n=null==t?void 0:t.getAddress)||void 0===n?void 0:n.call(t))===e})))||void 0===t?void 0:t.flash()}))}))},function(e,t){de[e?"unshift":"push"]((()=>{y[t]=e,n(4,y)}))},function(e,t){de[e?"unshift":"push"]((()=>{w[t]=e,n(5,w)}))},function(e,t){de[e?"unshift":"push"]((()=>{v[t]=e,n(6,v)}))}]}class pa extends Ge{constructor(e){super(),We(this,e,fa,da,l,{ram:16,symbolTable:0,animationsEnabled:17,scrollUp:18,scrollDown:19,addressIsVisible:20,showAddress:21,flashAddress:22,flashContent:23},null,[-1,-1])}get scrollUp(){return this.$$.ctx[18]}get scrollDown(){return this.$$.ctx[19]}get addressIsVisible(){return this.$$.ctx[20]}get showAddress(){return this.$$.ctx[21]}get flashAddress(){return this.$$.ctx[22]}get flashContent(){return this.$$.ctx[23]}}function ha(e){let t,n,s,o,i,r,l,a={animationsEnabled:e[3]};n=new En({props:a}),e[7](n);let c={animationsEnabled:e[3],cpu:e[0]};o=new nl({props:c}),e[8](o);let u={animationsEnabled:e[3],ram:e[1],symbolTable:e[2]};return r=new pa({props:u}),e[9](r),{c(){t=C("div"),je(n.$$.fragment),s=R(),je(o.$$.fragment),i=R(),je(r.$$.fragment),M(t,"class","absolute top-0 left-0 w-app h-app")},m(e,a){T(e,t,a),He(n,t,null),S(t,s),He(o,t,null),S(t,i),He(r,t,null),l=!0},p(e,[t]){const s={};8&t&&(s.animationsEnabled=e[3]),n.$set(s);const i={};8&t&&(i.animationsEnabled=e[3]),1&t&&(i.cpu=e[0]),o.$set(i);const l={};8&t&&(l.animationsEnabled=e[3]),2&t&&(l.ram=e[1]),4&t&&(l.symbolTable=e[2]),r.$set(l)},i(e){l||(Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),Oe(r.$$.fragment,e),l=!0)},o(e){Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),l=!1},d(s){s&&O(t),e[7](null),qe(n),e[8](null),qe(o),e[9](null),qe(r)}}}function ma(e,t,n){let s,o,i;u(e,et,(e=>n(4,s=e))),u(e,Ye,(e=>n(5,o=e))),u(e,Ze,(e=>n(6,i=e)));let{cpu:r}=t,{ram:l}=t,{symbolTable:a}=t,{animationsEnabled:c}=t;return e.$$set=e=>{"cpu"in e&&n(0,r=e.cpu),"ram"in e&&n(1,l=e.ram),"symbolTable"in e&&n(2,a=e.symbolTable),"animationsEnabled"in e&&n(3,c=e.animationsEnabled)},[r,l,a,c,s,o,i,function(e){de[e?"unshift":"push"]((()=>{s=e,et.set(s)}))},function(e){de[e?"unshift":"push"]((()=>{o=e,Ye.set(o)}))},function(e){de[e?"unshift":"push"]((()=>{i=e,Ze.set(i)}))}]}class ga extends Ge{constructor(e){super(),We(this,e,ma,ha,l,{cpu:0,ram:1,symbolTable:2,animationsEnabled:3})}}function $a(e,t){const n=document.createElement("a"),s=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(s),n.download=t,n.click()}function ba(e){return en(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{const s=document.createElement("input");s.type="file",s.accept=e,s.click(),s.oninput=()=>t(s.files)}))}))}function ya(e){let t,n,s,o,r;const l=e[3].default,a=d(l,e,e[2],null);return{c(){t=C("button"),a&&a.c(),M(t,"class",n="text-black border-2 border-white px-2 rounded-md hover:text-black focus:text-black hover:bg-white focus:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,i){T(n,t,i),a&&a.m(t,null),s=!0,o||(r=[B(t,"click",e[4]),B(t,"focus",e[5]),B(t,"focusout",e[6]),B(t,"mouseenter",e[7]),B(t,"mouseleave",e[8]),B(t,"mouseover",e[9])],o=!0)},p(e,[o]){a&&a.p&&(!s||4&o)&&h(a,l,e,e[2],s?p(l,e[2],o,null):m(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-white px-2 rounded-md hover:text-black focus:text-black hover:bg-white focus:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&M(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Oe(a,e),s=!0)},o(e){Ne(a,e),s=!1},d(e){e&&O(t),a&&a.d(e),o=!1,i(r)}}}function wa(e,t,s){const o=["disabled"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(1,i=$(t,o)),"disabled"in e&&s(0,a=e.disabled),"$$scope"in e&&s(2,l=e.$$scope)},[a,i,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class va extends Ge{constructor(e){super(),We(this,e,wa,ya,l,{disabled:0})}}function xa(t){let n,s,o;return{c(){n=C("div"),s=C("div"),M(s,"class","h-full bg-white/60 rounded-r-sm"),q(s,"width",t[0]+"%"),M(n,"class",o="w-full h-1 bg-transparent "+t[1].class)},m(e,t){T(e,n,t),S(n,s)},p(e,[t]){1&t&&q(s,"width",e[0]+"%"),2&t&&o!==(o="w-full h-1 bg-transparent "+e[1].class)&&M(n,"class",o)},i:e,o:e,d(e){e&&O(n)}}}function _a(e,t,s){let o;const i=["value","max"];let r=$(t,i),{value:l}=t,{max:a}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(1,r=$(t,i)),"value"in e&&s(2,l=e.value),"max"in e&&s(3,a=e.max)},e.$$.update=()=>{12&e.$$.dirty&&s(0,o=100/a*l)},[o,r,l,a]}class Ea extends Ge{constructor(e){super(),We(this,e,_a,xa,l,{value:2,max:3})}}var ka;!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.SUCCESS="SUCCESS",e.INFO="INFO",e.BUG="BUG"}(ka||(ka={}));class Aa{constructor(){this._messages=Xe([]),this.messages=Je(this._messages,(e=>e))}error(e,t=5){return this.addMessage({type:ka.ERROR,message:e,expiresInSec:t})}warning(e,t=5){return this.addMessage({type:ka.WARNING,message:e,expiresInSec:t})}success(e,t=5){return this.addMessage({type:ka.SUCCESS,message:e,expiresInSec:t})}info(e,t=5){return this.addMessage({type:ka.INFO,message:e,expiresInSec:t})}bug(e,t=Aa.NO_EXPIRE){return this.addMessage({type:ka.BUG,message:e,expiresInSec:t})}addMessage(e){const t=Math.random();return this._messages.set([...this._messages.get(),Object.assign({id:t},e)]),t}deleteMessage(e){this._messages.update((t=>t.filter((t=>t.id!==e))))}}function Sa(e){let t,n;return t=new va({props:{$$slots:{default:[La]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};1028&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function La(e){let t,n=e[2].message_feed.buttons.export_logs.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){4&s&&n!==(n=e[2].message_feed.buttons.export_logs.text+"")&&j(t,n)},d(e){e&&O(t)}}}function Ia(e){let t,n;return t=new Ea({props:{class:"absolute left-0 bottom-0",value:e[1],max:e[0].expiresInSec}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.value=e[1]),1&n&&(s.max=e[0].expiresInSec),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Ta(e){let t,n,s,o,r,l,a,c,u,d,f,p,h,m,g,$,b=e[0].message+"",y=e[0].type===ka.BUG&&Sa(e),w=-1!==e[0].expiresInSec&&Ia(e);return{c(){t=C("div"),n=C("button"),s=D("svg"),o=D("path"),r=D("path"),a=R(),c=C("p"),u=P(b),d=R(),y&&y.c(),f=R(),w&&w.c(),M(o,"d","M0 0h24v24H0V0z"),M(o,"fill","none"),M(r,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 24 24"),M(s,"fill","#FFFFFF"),M(s,"class","h-6 w-6 hover:scale-105"),M(n,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),M(n,"title",l=e[2].message_feed.buttons.close_message.title),M(c,"class","w-3/4 text-center text-xl"),M(t,"class",p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+e[0].type+" svelte-1j9b8ca")},m(i,l){T(i,t,l),S(t,n),S(n,s),S(s,o),S(s,r),S(t,a),S(t,c),S(c,u),S(t,d),y&&y.m(t,null),S(t,f),w&&w.m(t,null),m=!0,g||($=[B(n,"click",e[3]),B(t,"mouseenter",e[4]),B(t,"mouseleave",e[5])],g=!0)},p(e,[s]){(!m||4&s&&l!==(l=e[2].message_feed.buttons.close_message.title))&&M(n,"title",l),(!m||1&s)&&b!==(b=e[0].message+"")&&j(u,b),e[0].type===ka.BUG?y?(y.p(e,s),1&s&&Oe(y,1)):(y=Sa(e),y.c(),Oe(y,1),y.m(t,f)):y&&(Ie(),Ne(y,1,1,(()=>{y=null})),Te()),-1!==e[0].expiresInSec?w?(w.p(e,s),1&s&&Oe(w,1)):(w=Ia(e),w.c(),Oe(w,1),w.m(t,null)):w&&(Ie(),Ne(w,1,1,(()=>{w=null})),Te()),(!m||1&s&&p!==(p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+e[0].type+" svelte-1j9b8ca"))&&M(t,"class",p)},i(e){m||(Oe(y),Oe(w),be((()=>{h||(h=Pe(t,fl,{},!0)),h.run(1)})),m=!0)},o(e){Ne(y),Ne(w),h||(h=Pe(t,fl,{},!1)),h.run(0),m=!1},d(e){e&&O(t),y&&y.d(),w&&w.d(),e&&h&&h.end(),g=!1,i($)}}}function Oa(e,t,n){let s,o;u(e,ht,(e=>n(8,s=e))),u(e,Di,(e=>n(2,o=e)));const i=re();let r,{message:l}=t,a=!1;function c(){i("closemessage",{messageId:l.id})}return se((()=>{if(-1===l.expiresInSec)return;n(1,r=l.expiresInSec);const e=setInterval((()=>{a||n(1,r--,r),0===r&&(clearInterval(e),c())}),1e3)})),e.$$set=e=>{"message"in e&&n(0,l=e.message)},[l,r,o,c,function(){n(1,r=l.expiresInSec),a=!0},function(){a=!1},function(){$a(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)}]}Aa.NO_EXPIRE=-1;class Na extends Ge{constructor(e){super(),We(this,e,Oa,Ta,l,{message:0})}}function Ca(e,t,n){const s=e.slice();return s[4]=t[n],s}function Da(e,t){let n,s,o;return s=new Na({props:{message:t[4]}}),s.$on("closemessage",(function(){return t[3](t[4])})),{key:e,first:null,c(){n=U(),je(s.$$.fragment),this.first=n},m(e,t){T(e,n,t),He(s,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.message=t[4]),s.$set(o)},i(e){o||(Oe(s.$$.fragment,e),o=!0)},o(e){Ne(s.$$.fragment,e),o=!1},d(e){e&&O(n),qe(s,e)}}}function Pa(e){let t,n,s=[],o=new Map,i=e[2];const r=e=>e[4].id;for(let t=0;t<i.length;t+=1){let n=Ca(e,i,t),l=r(n);o.set(l,s[t]=Da(l,n))}return{c(){t=C("div");for(let e=0;e<s.length;e+=1)s[e].c();M(t,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(e,o){T(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){5&n&&(i=e[2],Ie(),s=Be(s,n,r,1,e,i,o,t,Ue,Da,null,Ca),Te())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Oe(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)Ne(s[e]);n=!1},d(e){e&&O(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Ra(t,n,s){let o,i,r,l=e;u(t,gr,(e=>s(0,i=e))),t.$$.on_destroy.push((()=>l()));return t.$$.update=()=>{1&t.$$.dirty&&(s(1,o=i.messages),l(),l=a(o,(e=>s(2,r=e))))},[i,o,r,e=>i.deleteMessage(e.id)]}class Ua extends Ge{constructor(e){super(),We(this,e,Ra,Pa,l,{})}}function Ba(e,t,n){const s=e.slice();return s[17]=t[n],s}function Ma(e,t,n){const s=e.slice();return s[20]=t[n],s}function Fa(e,t,n){const s=e.slice();return s[23]=t[n],s}function Qa(e){let t,n,s,o,r,l,a,c,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E,k,A,L,I,D,U,F,Q,j,q,G,K,V,z=yt,X=[];for(let t=0;t<z.length;t+=1)X[t]=ja(Fa(e,z,t));let J=bt,Z=[];for(let t=0;t<J.length;t+=1)Z[t]=Ha(Ma(e,J,t));let Y=e[5],ee=[];for(let t=0;t<Y.length;t+=1)ee[t]=Wa(Ba(e,Y,t));return{c(){t=C("div"),n=C("div"),s=C("h2"),s.textContent="Logs",o=R(),r=C("div"),l=C("label"),a=P("Keyword:\n\t\t\t\t\t"),c=C("input"),u=R(),d=C("label"),f=P("Type:\n\t\t\t\t\t"),p=C("select"),h=C("option"),h.textContent="ALL";for(let e=0;e<X.length;e+=1)X[e].c();m=R(),g=C("label"),$=P("Group:\n\t\t\t\t\t"),b=C("select"),y=C("option"),y.textContent="ALL";for(let e=0;e<Z.length;e+=1)Z[e].c();w=R(),v=C("div"),x=C("label"),_=P("Lock scroll to bottom\n\t\t\t\t\t"),E=C("input"),k=R(),A=C("label"),L=P("Show timestamp\n\t\t\t\t\t"),I=C("input"),D=R(),U=C("div"),F=C("button"),F.textContent="Export",Q=R(),j=C("button"),j.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',q=R(),G=C("div");for(let e=0;e<ee.length;e+=1)ee[e].c();M(s,"class","text-2xl"),M(c,"type","text"),M(c,"class","text-black px-1 py-0.5"),M(l,"for","keyword"),h.__value="ALL",h.value=h.__value,M(p,"id","type"),M(p,"class","text-black px-1 py-0.5"),void 0===e[1]&&be((()=>e[12].call(p))),M(d,"for","type"),y.__value="ALL",y.value=y.__value,M(b,"id","group"),M(b,"class","text-black px-1 py-0.5"),void 0===e[2]&&be((()=>e[13].call(b))),M(g,"for","group"),M(r,"class","flex items-center flex-wrap gap-4 p-2"),M(E,"type","checkbox"),M(E,"id","lock-scroll-to-bottom"),M(x,"for","lock-scroll-to-bottom"),M(I,"type","checkbox"),M(I,"id","show-timestamp"),M(A,"for","show-timestamp"),M(v,"class","flex items-center flex-wrap gap-4 p-2"),M(F,"class","border px-1"),M(U,"class","flex items-center flex-wrap gap-4 p-2"),M(j,"title","Close logs"),M(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),M(G,"class","w-full h-[90%] overflow-y-auto"),M(t,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(i,O){T(i,t,O),S(t,n),S(n,s),S(n,o),S(n,r),S(r,l),S(l,a),S(l,c),H(c,e[3]),S(r,u),S(r,d),S(d,f),S(d,p),S(p,h);for(let e=0;e<X.length;e+=1)X[e].m(p,null);W(p,e[1]),S(r,m),S(r,g),S(g,$),S(g,b),S(b,y);for(let e=0;e<Z.length;e+=1)Z[e].m(b,null);W(b,e[2]),S(n,w),S(n,v),S(v,x),S(x,_),S(x,E),E.checked=e[4],S(v,k),S(v,A),S(A,L),S(A,I),I.checked=e[6],S(n,D),S(n,U),S(U,F),S(n,Q),S(n,j),S(t,q),S(t,G);for(let e=0;e<ee.length;e+=1)ee[e].m(G,null);e[16](G),K||(V=[B(c,"input",e[11]),B(p,"change",e[12]),B(b,"change",e[13]),B(E,"change",e[14]),B(I,"change",e[15]),B(F,"click",e[9]),B(j,"click",e[8])],K=!0)},p(e,t){if(8&t&&c.value!==e[3]&&H(c,e[3]),0&t){let n;for(z=yt,n=0;n<z.length;n+=1){const s=Fa(e,z,n);X[n]?X[n].p(s,t):(X[n]=ja(s),X[n].c(),X[n].m(p,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=z.length}if(2&t&&W(p,e[1]),0&t){let n;for(J=bt,n=0;n<J.length;n+=1){const s=Ma(e,J,n);Z[n]?Z[n].p(s,t):(Z[n]=Ha(s),Z[n].c(),Z[n].m(b,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=J.length}if(4&t&&W(b,e[2]),16&t&&(E.checked=e[4]),64&t&&(I.checked=e[6]),96&t){let n;for(Y=e[5],n=0;n<Y.length;n+=1){const s=Ba(e,Y,n);ee[n]?ee[n].p(s,t):(ee[n]=Wa(s),ee[n].c(),ee[n].m(G,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=Y.length}},d(n){n&&O(t),N(X,n),N(Z,n),N(ee,n),e[16](null),K=!1,i(V)}}}function ja(t){let n,s,o=t[23]+"";return{c(){n=C("option"),s=P(o),n.__value=t[23],n.value=n.__value},m(e,t){T(e,n,t),S(n,s)},p:e,d(e){e&&O(n)}}}function Ha(t){let n,s,o=t[20]+"";return{c(){n=C("option"),s=P(o),n.__value=t[20],n.value=n.__value},m(e,t){T(e,n,t),S(n,s)},p:e,d(e){e&&O(n)}}}function qa(e){let t,n,s=e[17].timestamp+"";return{c(){t=P(s),n=P(" - ")},m(e,s){T(e,t,s),T(e,n,s)},p(e,n){32&n&&s!==(s=e[17].timestamp+"")&&j(t,s)},d(e){e&&O(t),e&&O(n)}}}function Wa(e){let t,n,s,o,i=e[17].message+"",r=e[6]&&qa(e);return{c(){t=C("p"),r&&r.c(),n=P(i),s=R(),M(t,"class",o="m-2 whitespace-pre-line "+e[17].logType+" svelte-7zjq9j")},m(e,o){T(e,t,o),r&&r.m(t,null),S(t,n),S(t,s)},p(e,s){e[6]?r?r.p(e,s):(r=qa(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),32&s&&i!==(i=e[17].message+"")&&j(n,i),32&s&&o!==(o="m-2 whitespace-pre-line "+e[17].logType+" svelte-7zjq9j")&&M(t,"class",o)},d(e){e&&O(t),r&&r.d()}}}function Ga(t){let n,s=t[7].showLogger&&Qa(t);return{c(){s&&s.c(),n=U()},m(e,t){s&&s.m(e,t),T(e,n,t)},p(e,[t]){e[7].showLogger?s?s.p(e,t):(s=Qa(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&O(n)}}}function Ka(e,t,n){let s,o,i;u(e,ht,(e=>n(10,s=e))),u(e,gt,(e=>n(7,o=e)));let r=[],l="ALL",a="ALL",c="",d=!1,f=!0;function p(){gt.updateShowLogger((e=>!e))}return se((()=>{const e=e=>{e.altKey&&e.shiftKey&&"l"===e.key.toLowerCase()&&p()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)})),e.$$.update=()=>{1055&e.$$.dirty&&i&&(n(5,r=s.filter((e=>("ALL"===l||e.logType===l)&&("ALL"===a||e.logGroup===a)&&e.message.toLowerCase().includes(c)))),f&&n(0,i.scrollTop=i.scrollHeight,i))},[i,l,a,c,f,r,d,o,p,function(){$a(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},s,function(){c=this.value,n(3,c)},function(){l=G(this),n(1,l)},function(){a=G(this),n(2,a)},function(){f=this.checked,n(4,f)},function(){d=this.checked,n(6,d)},function(e){de[e?"unshift":"push"]((()=>{i=e,n(0,i),n(10,s),n(1,l),n(2,a),n(3,c),n(4,f)}))}]}class Va extends Ge{constructor(e){super(),We(this,e,Ka,Ga,l,{})}}function za(e){let t,n,s;const o=e[2].default,i=d(o,e,e[1],null);return{c(){t=C("div"),i&&i.c(),M(t,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+e[0].class)},m(e,n){T(e,t,n),i&&i.m(t,null),s=!0},p(e,[r]){i&&i.p&&(!s||2&r)&&h(i,o,e,e[1],s?p(o,e[1],r,null):m(e[1]),null),(!s||1&r&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+e[0].class))&&M(t,"class",n)},i(e){s||(Oe(i,e),s=!0)},o(e){Ne(i,e),s=!1},d(e){e&&O(t),i&&i.d(e)}}}function Xa(e,t,s){const o=[];let i=$(t,o),{$$slots:r={},$$scope:l}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(0,i=$(t,o)),"$$scope"in e&&s(1,l=e.$$scope)},[i,l,r]}class Ja extends Ge{constructor(e){super(),We(this,e,Xa,za,l,{})}}function Za(t){let n,s,o,r,l,a,c;return{c(){n=C("button"),s=D("svg"),o=D("path"),M(o,"d",r=t[3][t[2]]),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 24 24"),M(s,"class","fill-black w-6 h-6 scale-[1.4]"),M(n,"class",l="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[4].class),n.disabled=t[0],M(n,"title",t[1])},m(e,i){T(e,n,i),S(n,s),S(s,o),a||(c=[B(n,"click",t[5]),B(n,"focus",t[6]),B(n,"focusout",t[7]),B(n,"mouseenter",t[8]),B(n,"mouseleave",t[9]),B(n,"mouseover",t[10])],a=!0)},p(e,[t]){4&t&&r!==(r=e[3][e[2]])&&M(o,"d",r),16&t&&l!==(l="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class)&&M(n,"class",l),1&t&&(n.disabled=e[0]),2&t&&M(n,"title",e[1])},i:e,o:e,d(e){e&&O(n),a=!1,i(c)}}}function Ya(e,t,s){const o=["disabled","title","icon"];let i=$(t,o),{disabled:r=!1}=t,{title:l=""}=t,{icon:a=""}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(4,i=$(t,o)),"disabled"in e&&s(0,r=e.disabled),"title"in e&&s(1,l=e.title),"icon"in e&&s(2,a=e.icon)},[r,l,a,{"":"",reset:"M9.825 20.7q-2.575-.725-4.2-2.837Q4 15.75 4 13q0-1.425.475-2.713Q4.95 9 5.825 7.925q.275-.3.675-.313.4-.012.725.313.275.275.288.675.012.4-.263.75-.6.775-.925 1.7Q6 11.975 6 13q0 2.025 1.188 3.613 1.187 1.587 3.062 2.162.325.1.538.375.212.275.212.6 0 .5-.35.788-.35.287-.825.162Zm4.35 0q-.475.125-.825-.175t-.35-.8q0-.3.213-.575.212-.275.537-.375 1.875-.6 3.062-2.175Q18 15.025 18 13q0-2.5-1.75-4.25T12 7h-.075l.4.4q.275.275.275.7 0 .425-.275.7-.275.275-.7.275-.425 0-.7-.275l-2.1-2.1q-.15-.15-.212-.325Q8.55 6.2 8.55 6t.063-.375q.062-.175.212-.325l2.1-2.1q.275-.275.7-.275.425 0 .7.275.275.275.275.7 0 .425-.275.7l-.4.4H12q3.35 0 5.675 2.325Q20 9.65 20 13q0 2.725-1.625 4.85-1.625 2.125-4.2 2.85Z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",fast:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},i,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class ec extends Ge{constructor(e){super(),We(this,e,Ya,Za,l,{disabled:0,title:1,icon:2})}}function tc(e){let t,n,s,o,r,l,a,c,u;const f=e[5].default,g=d(f,e,e[4],null);return{c(){t=C("div"),n=C("div"),o=R(),r=C("div"),g&&g.c(),M(n,"class",s="w-4 h-4 border border-black rounded-md transition-colors "+(e[0]?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")),M(r,"class","font-medium pb-[3px]"),M(t,"class",l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class),M(t,"disabled",e[1])},m(s,i){T(s,t,i),S(t,n),S(t,o),S(t,r),g&&g.m(r,null),a=!0,c||(u=[B(t,"click",e[2]),B(t,"focus",e[6]),B(t,"focusout",e[7]),B(t,"mouseenter",e[8]),B(t,"mouseleave",e[9]),B(t,"mouseover",e[10])],c=!0)},p(e,[o]){(!a||3&o&&s!==(s="w-4 h-4 border border-black rounded-md transition-colors "+(e[0]?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")))&&M(n,"class",s),g&&g.p&&(!a||16&o)&&h(g,f,e,e[4],a?p(f,e[4],o,null):m(e[4]),null),(!a||10&o&&l!==(l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class))&&M(t,"class",l),(!a||2&o)&&M(t,"disabled",e[1])},i(e){a||(Oe(g,e),a=!0)},o(e){Ne(g,e),a=!1},d(e){e&&O(t),g&&g.d(e),c=!1,i(u)}}}function nc(e,t,s){const o=["disabled","checked"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t,{checked:c=!1}=t;const u=re();return e.$$set=e=>{t=n(n({},t),g(e)),s(3,i=$(t,o)),"disabled"in e&&s(1,a=e.disabled),"checked"in e&&s(0,c=e.checked),"$$scope"in e&&s(4,l=e.$$scope)},[c,a,function(e){s(0,c=!c),u("click",e)},i,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class sc extends Ge{constructor(e){super(),We(this,e,nc,tc,l,{disabled:1,checked:0})}}function oc(t){let n,s,o,r;return{c(){n=C("input"),M(n,"type","range"),M(n,"class",s=b(t[6].class)+" svelte-dtr8pe"),M(n,"min",t[1]),M(n,"max",t[2]),M(n,"step",t[3]),n.disabled=t[4],M(n,"title",t[5])},m(e,s){T(e,n,s),H(n,t[0]),o||(r=[B(n,"change",t[14]),B(n,"input",t[14]),B(n,"input",t[7]),B(n,"change",t[8]),B(n,"focus",t[9]),B(n,"focusout",t[10]),B(n,"mouseenter",t[11]),B(n,"mouseleave",t[12]),B(n,"mouseover",t[13])],o=!0)},p(e,[t]){64&t&&s!==(s=b(e[6].class)+" svelte-dtr8pe")&&M(n,"class",s),2&t&&M(n,"min",e[1]),4&t&&M(n,"max",e[2]),8&t&&M(n,"step",e[3]),16&t&&(n.disabled=e[4]),32&t&&M(n,"title",e[5]),1&t&&H(n,e[0])},i:e,o:e,d(e){e&&O(n),o=!1,i(r)}}}function ic(e,t,s){const o=["min","max","value","step","disabled","title"];let i=$(t,o),{min:r=0}=t,{max:l=1}=t,{value:a=l/2+r}=t,{step:c=.1}=t,{disabled:u=!1}=t,{title:d=""}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(6,i=$(t,o)),"min"in e&&s(1,r=e.min),"max"in e&&s(2,l=e.max),"value"in e&&s(0,a=e.value),"step"in e&&s(3,c=e.step),"disabled"in e&&s(4,u=e.disabled),"title"in e&&s(5,d=e.title)},[a,r,l,c,u,d,i,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(){a=Q(this.value),s(0,a)}]}class rc extends Ge{constructor(e){super(),We(this,e,ic,oc,l,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function lc(e){let t,n,s,o,i;const r=e[2].default,l=d(r,e,e[1],null);return{c(){t=C("div"),n=C("span"),s=P(e[0]),o=R(),l&&l.c(),M(n,"class","text-gray-200"),M(t,"class","h-full py-2 flex flex-col items-center justify-between")},m(e,r){T(e,t,r),S(t,n),S(n,s),S(t,o),l&&l.m(t,null),i=!0},p(e,[t]){(!i||1&t)&&j(s,e[0]),l&&l.p&&(!i||2&t)&&h(l,r,e,e[1],i?p(r,e[1],t,null):m(e[1]),null)},i(e){i||(Oe(l,e),i=!0)},o(e){Ne(l,e),i=!1},d(e){e&&O(t),l&&l.d(e)}}}function ac(e,t,n){let{$$slots:s={},$$scope:o}=t,{label:i=""}=t;return e.$$set=e=>{"label"in e&&n(0,i=e.label),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,s]}class cc extends Ge{constructor(e){super(),We(this,e,ac,lc,l,{label:0})}}function uc(e){let t,n;return t=new Ja({props:{class:"justify-center",$$slots:{default:[dc]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function dc(e){let t,n;return{c(){t=C("p"),n=P(e[0]),M(t,"class","w-[450px] text-gray-200 overflow-hidden text-center")},m(e,s){T(e,t,s),S(t,n)},p(e,t){1&t&&j(n,e[0])},d(e){e&&O(t)}}}function fc(e){let t,n,s=e[1]&&uc(e);return{c(){s&&s.c(),t=U()},m(e,o){s&&s.m(e,o),T(e,t,o),n=!0},p(e,[n]){e[1]?s?(s.p(e,n),2&n&&Oe(s,1)):(s=uc(e),s.c(),Oe(s,1),s.m(t.parentNode,t)):s&&(Ie(),Ne(s,1,1,(()=>{s=null})),Te())},i(e){n||(Oe(s),n=!0)},o(e){Ne(s),n=!1},d(e){s&&s.d(e),e&&O(t)}}}function pc(e,t,n){let s;u(e,St,(e=>n(1,s=e)));let o="";function i(e){n(0,o=e)}return Ot.subscribe((()=>i(""))),[o,s,i]}class hc extends Ge{constructor(e){super(),We(this,e,pc,fc,l,{setText:2})}get setText(){return this.$$.ctx[2]}}class mc extends qr{constructor(e){super(),this._name="ReadStep",this.step=e,this.condition(zr)}action(e){return en(this,void 0,void 0,(function*(){let e;mc.utteranceEndedPromise=new Promise((t=>e=t)),ft.read(Di.get().steps[this.step].tts,Ct.get(),ft.getAvailableVoices(Ot.get()).find((e=>e.name===Dt.get())),(()=>e()))}))}toString(){return`${super.toString()}, step: ${this.step}`}}function gc(e){return en(this,void 0,void 0,(function*(){return mc.utteranceEndedPromise}))}class $c extends qr{constructor(...e){super(),this._name="Macro",this.subactions=[...e]}toString(){return`${super.toString()} [${this.subactions.length}]`}}class bc extends $c{constructor(...e){super(...e),this._name="Parallel"}action(e){return en(this,void 0,void 0,(function*(){return Promise.all(this.subactions.map((t=>t.execute(e))))}))}}class yc extends qr{constructor(){super(),this._name="CpuAction"}}class wc extends yc{constructor(){super(),this._name="SetPC"}action(e){return en(this,void 0,void 0,(function*(){e.cpu.model.isJumping.set(!0),e.cpu.model.programCounter.set(e.wires.model.addr_main.get()),yield e.cpu.component.flash("PC")}))}}class vc extends yc{constructor(){super(),this._name="SetALU2"}action(e){return en(this,void 0,void 0,(function*(){e.cpu.model.alu2.set(new Gi(16,e.wires.model.data_mux_alu.get().signed())),yield e.cpu.component.flash("ALU:2")}))}}class xc extends Zr{constructor(e){super(),this._name="FlashRam",this.component=e}action(e){return en(this,void 0,void 0,(function*(){switch(this.component){case"ADDRESS":return e.ram.component.flashAddress(e.wires.model.addr_main.get().unsigned());case"DATA":return e.ram.component.flashContent(e.wires.model.addr_main.get().unsigned())}}))}toString(){return`${super.toString()}, component: ${this.component}`}}class _c extends Zr{constructor(e,t){super(),this._name="FlashWire",this.from=e,this.to=t}action(e){return en(this,void 0,void 0,(function*(){return e.wires.component.flashWire(this.from,this.to)}))}toString(){return`${super.toString()}, from: ${this.from}, to: ${this.to}`}}class Ec extends qr{constructor(e){super(),this._name="StepText",this.step=e,this.condition(Xr)}action(e){return en(this,void 0,void 0,(function*(){e.stepTextComponent.setText(Di.get().steps[this.step].text)}))}toString(){return`${super.toString()}, step: ${this.step}`}}class kc extends qr{constructor(){super(),this._name="BusAction"}}const Ac={RAM:"data_main","IR:OPC":"data_ir_cu","IR:OPR":"addr_main","ALU:RES":"data_alu_acc",ACC:"data_main",PC:"addr_main",INC:"addr_inc_pc"};class Sc extends kc{constructor(e,t="default"){super(),this._name="LoadValueOnBus",this.valueSource=e,this.bus="default"===t?Ac[e]:t}action(e){return en(this,void 0,void 0,(function*(){e.wires.model[this.bus].set(this.getValueFromSource(e))}))}getValueFromSource(e){switch(this.valueSource){case"RAM":return e.ram.model.read(e.wires.model.addr_main.get().unsigned());case"IR:OPC":return e.cpu.model.instructionRegister.get().opcodeValue();case"IR:OPR":return e.cpu.model.instructionRegister.get().operandValue();case"ALU:RES":return e.cpu.model.aluResult.get();case"ACC":return e.cpu.model.accumulator.get();case"CU":throw new Error("CU value not implemented");case"PC":return e.cpu.model.programCounter.get();case"INC":return e.cpu.model.increment.get();default:throw new Error(this.valueSource+" value not implemented")}}toString(){return`${super.toString()} valueSource: ${this.valueSource} bus: ${this.bus}`}}const Lc=[new bc(new Sc("PC"),new _c("PC:1","INC:2"),new mc("pc_increment"),new Ec("pc_increment")),new Sc("INC"),new _c("INC:1","PC:2"),(new class extends yc{constructor(){super(),this._name="IncrementPC"}action(e){return en(this,void 0,void 0,(function*(){const t=e.cpu.model.programCounter.get().unsigned()+e.wires.model.addr_inc_pc.get().unsigned();e.cpu.model.programCounter.set(new Gi(8,t)),yield e.cpu.component.flash("PC")}))}}).thenWaitFor(gc).endstep()],Ic=[new bc(new Yr("PC"),new mc("pc_to_ram"),new Ec("pc_to_ram")),new bc(new Sc("PC"),new _c("PC:2","RAM:ADD")),new xc("ADDRESS").thenWaitFor(gc).endstep(),new bc(new _c("CU:3","RAM:CTRL"),new mc("memory_fetch"),new Ec("memory_fetch")).thenWaitFor(gc).endstep(),new bc(new xc("DATA"),new mc("ram_to_ir"),new Ec("ram_to_ir")),new bc(new Sc("RAM"),new _c("RAM:DATA","IR:1")),(new class extends yc{constructor(){super(),this._name="SetIR"}action(e){return en(this,void 0,void 0,(function*(){e.cpu.model.instructionRegister.set(Bl(e.wires.model.data_main.get().toBinaryString())),yield e.cpu.component.flash("IR")}))}}).thenWaitFor(gc).endstep(),new bc(new Yr("IR:OPC"),new mc("ir_to_cu"),new Ec("ir_to_cu")),new bc(new Sc("IR:OPC"),new _c("IR:3","CU:1")),new Yr("CU").thenWaitFor(gc).endstep()],Tc=[new bc(new _c("CU:2","MUX:4"),new mc("cu_to_mux"),new Ec("cu_to_mux")),new Yr("MUX").thenWaitFor(gc).endstep()],Oc=[new bc(new _c("CU:4","ALU:5"),new mc("cu_to_alu"),new Ec("cu_to_alu")),(new class extends yc{constructor(){super(),this._name="SetALUOperation"}action(e){return en(this,void 0,void 0,(function*(){const t=e.cpu.model.instructionRegister.get().opcode.operator;e.cpu.model.aluOperation.set(t),yield e.cpu.component.flash("ALU:OPR")}))}}).thenWaitFor(gc).endstep()],Nc=[new bc(new Yr("ACC"),new mc("acc_to_alu1"),new Ec("acc_to_alu1")),new bc(new Sc("ACC"),new _c("ACC:1","ALU:1")),(new class extends yc{constructor(){super(),this._name="SetALU1"}action(e){return en(this,void 0,void 0,(function*(){e.cpu.model.alu1.set(e.wires.model.data_main.get()),yield e.cpu.component.flash("ALU:1")}))}}).thenWaitFor(gc).endstep()];function Cc(e){return e?Dc:Pc}const Dc=[new bc(new Yr("IR:OPR"),new mc("ir_to_alu2"),new Ec("ir_to_alu2")),new bc(new Sc("IR:OPR"),new _c("IR:2","MUX:1")),new bc(new Sc("IR:OPR","data_mux_alu"),new _c("MUX:3","ALU:2")),(new vc).thenWaitFor(gc).endstep()],Pc=[new bc(new Yr("IR:OPR"),new mc("ir_to_ram"),new Ec("ir_to_ram")),new bc(new Sc("IR:OPR"),new _c("IR:2","RAM:ADD")),new xc("ADDRESS").thenWaitFor(gc).endstep(),new bc(new Yr("CU"),new mc("memory_read"),new Ec("memory_read")),new bc(new _c("CU:3","RAM:CTRL").thenWaitFor(gc).endstep()),new bc(new xc("DATA"),new mc("ram_to_alu2"),new Ec("ram_to_alu2")),new bc(new Sc("RAM"),new _c("RAM:DATA","MUX:2")),new bc(new Sc("RAM","data_mux_alu"),new _c("MUX:3","ALU:2")),(new vc).thenWaitFor(gc).endstep()],Rc=[new bc(new Yr("IR:OPR"),new mc("ir_to_pc"),new Ec("ir_to_pc")),new bc(new Sc("IR:OPR"),new _c("IR:2","PC:2")),(new wc).thenWaitFor(gc).endstep()],Uc=[new bc(new Yr("IR:OPR"),new mc("ir_to_pc"),new Ec("ir_to_pc")).condition(Wr),new bc(new Sc("IR:OPR"),new _c("IR:2","PC:2")).condition(Wr),(new wc).condition(Wr).thenWaitFor(gc).endstep()],Bc=[new bc(new Yr("IR:OPR"),new mc("ir_to_pc"),new Ec("ir_to_pc")).condition(Jr(Wr)),new bc(new Sc("IR:OPR"),new _c("IR:2","PC:2")).condition(Jr(Wr)),(new wc).condition(Jr(Wr)).thenWaitFor(gc).endstep()],Mc=[new bc(new Yr("IR:OPR"),new mc("ir_to_pc"),new Ec("ir_to_pc")).condition(Gr),new bc(new Sc("IR:OPR"),new _c("IR:2","PC:2")).condition(Gr),(new wc).condition(Gr).thenWaitFor(gc).endstep()],Fc=[new bc(new Yr("IR:OPR"),new mc("ir_to_pc"),new Ec("ir_to_pc")).condition(Jr(Gr)),new bc(new Sc("IR:OPR"),new _c("IR:2","PC:2")).condition(Jr(Gr)),(new wc).condition(Jr(Gr)).thenWaitFor(gc).endstep()];class Qc extends yc{constructor(){super(),this._name="ExecuteALUOperation"}action(e){return en(this,void 0,void 0,(function*(){const t=e.cpu.model,n=t.aluOperation.get(),s=t.alu1.get().signed(),o=t.alu2.get().signed();let i;switch(n){case"!":i=~o;break;case"&":i=s&o;break;case"*":i=s*o;break;case"+":i=s+o;break;case"-":i=s-o;break;case"/":if(0===o)throw new Ri(Di.get().errors.execution.division_by_zero);i=s/o;break;case"=":i=o;break;default:throw new Error(`Unexpected ALU operation: "${n}"`)}t.aluResult.set(new Gi(16,i))}))}}class jc extends yc{constructor(){super(),this._name="UpdateSW"}action(e){return en(this,void 0,void 0,(function*(){const t=e.cpu.model.accumulator.get().signed(),n=e.cpu.model.zeroFlag.get(),s=e.cpu.model.negativeFlag.get(),o=0===t,i=t<0;o!==n&&i!==s?(e.cpu.model.zeroFlag.set(o),e.cpu.model.negativeFlag.set(i),yield Promise.all([e.cpu.component.flash("SW:Z"),e.cpu.component.flash("SW:N")])):(o!==n&&(e.cpu.model.zeroFlag.set(o),yield e.cpu.component.flash("SW:Z")),i!==s&&(e.cpu.model.negativeFlag.set(i),yield e.cpu.component.flash("SW:N")))}))}}class Hc extends yc{constructor(){super(),this._name="SetACC"}action(e){return en(this,void 0,void 0,(function*(){e.cpu.model.accumulator.set(e.wires.model.data_alu_acc.get()),yield e.cpu.component.flash("ACC")}))}}class qc extends yc{constructor(){super(),this._name="HaltExecution"}action(e){return en(this,void 0,void 0,(function*(){e.cpu.model.isHalting.set(!0)}))}}class Wc extends yc{constructor(){super(),this._name="UpdateSWCompare"}action(e){return en(this,void 0,void 0,(function*(){const t=e.cpu.model.alu1.get().signed(),n=e.cpu.model.alu2.get().signed(),s=e.cpu.model.zeroFlag.get(),o=e.cpu.model.negativeFlag.get(),i=n===t,r=n>t;i!==s&&r!==o?(e.cpu.model.zeroFlag.set(i),e.cpu.model.negativeFlag.set(r),yield Promise.all([e.cpu.component.flash("SW:Z"),e.cpu.component.flash("SW:N")])):(i!==s&&(e.cpu.model.zeroFlag.set(i),yield e.cpu.component.flash("SW:Z")),r!==o&&(e.cpu.model.negativeFlag.set(r),yield e.cpu.component.flash("SW:N")))}))}}class Gc extends qr{constructor(){super(),this._name="RamAction"}}class Kc extends Gc{constructor(){super(),this._name="MemoryWrite"}action(e){return en(this,void 0,void 0,(function*(){const t=e.wires.model.addr_main.get().unsigned(),n=e.ram.model.read(t).symbolicOpcode;/^[A-Z]+$/.test(n)&&"NOP"!==n?e.ram.model.write(t,Bl(e.wires.model.data_main.get().toBinaryString())):e.ram.model.write(t,Ul(e.wires.model.data_main.get().signed().toString())),yield e.ram.component.flashContent(t)}))}}function Vc(e){let t,n;return{c(){t=C("div"),M(t,"class",n="w-[98%] h-[35%] rounded-md bg-lime-400 "+(e[1]?"brightness-[.6]":""))},m(e,n){T(e,t,n)},p(e,s){2&s&&n!==(n="w-[98%] h-[35%] rounded-md bg-lime-400 "+(e[1]?"brightness-[.6]":""))&&M(t,"class",n)},d(e){e&&O(t)}}}function zc(e){let t,n,s,o,r,l,a,c,u,f=e[0]===Xc.HALF&&Vc(e);const g=e[6].default,$=d(g,e,e[5],null);return{c(){t=C("div"),n=C("div"),f&&f.c(),o=R(),r=C("div"),$&&$.c(),M(n,"class",s="w-4 h-4 flex items-center justify-center border border-black rounded-md transition-colors "+(e[0]===Xc.ON?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")),M(r,"class","font-medium pb-[3px]"),M(t,"class",l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class),M(t,"disabled",e[1])},m(s,i){T(s,t,i),S(t,n),f&&f.m(n,null),S(t,o),S(t,r),$&&$.m(r,null),a=!0,c||(u=[B(t,"click",e[2]),B(t,"focus",e[7]),B(t,"focusout",e[8]),B(t,"mouseenter",e[9]),B(t,"mouseleave",e[10]),B(t,"mouseover",e[11])],c=!0)},p(e,[o]){e[0]===Xc.HALF?f?f.p(e,o):(f=Vc(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),(!a||3&o&&s!==(s="w-4 h-4 flex items-center justify-center border border-black rounded-md transition-colors "+(e[0]===Xc.ON?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")))&&M(n,"class",s),$&&$.p&&(!a||32&o)&&h($,g,e,e[5],a?p(g,e[5],o,null):m(e[5]),null),(!a||10&o&&l!==(l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class))&&M(t,"class",l),(!a||2&o)&&M(t,"disabled",e[1])},i(e){a||(Oe($,e),a=!0)},o(e){Ne($,e),a=!1},d(e){e&&O(t),f&&f.d(),$&&$.d(e),c=!1,i(u)}}}var Xc,Jc;function Zc(e,t,s){const o=["disabled","value","descending"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t,{value:c=Xc.OFF}=t,{descending:u=!1}=t;const d=re();return e.$$set=e=>{t=n(n({},t),g(e)),s(3,i=$(t,o)),"disabled"in e&&s(1,a=e.disabled),"value"in e&&s(0,c=e.value),"descending"in e&&s(4,u=e.descending),"$$scope"in e&&s(5,l=e.$$scope)},[c,a,function(e){switch(c){case Xc.OFF:s(0,c=u?Xc.ON:Xc.HALF);break;case Xc.HALF:s(0,c=u?Xc.OFF:Xc.ON);break;case Xc.ON:s(0,c=u?Xc.HALF:Xc.OFF)}d("click",e),d("change",{value:c})},i,u,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}!function(e){e.OFF="OFF",e.HALF="HALF",e.ON="ON"}(Xc||(Xc={}));class Yc extends Ge{constructor(e){super(),We(this,e,Zc,zc,l,{disabled:1,value:0,descending:4})}}function eu(e){let t,n,s,o,i,r,l;return n=new ec({props:{icon:"reset",title:e[4].controls.buttons.reset.title}}),n.$on("click",e[8]),o=new ec({props:{icon:e[5]?"pause":"play",title:e[5]?e[4].controls.buttons.pause_program.title:e[4].controls.buttons.play_program.title}}),o.$on("click",e[9]),r=new ec({props:{icon:"fast",title:e[4].controls.buttons.fast_program.title}}),r.$on("click",e[10]),{c(){t=C("div"),je(n.$$.fragment),s=R(),je(o.$$.fragment),i=R(),je(r.$$.fragment),M(t,"class","flex items-center justify-center gap-1")},m(e,a){T(e,t,a),He(n,t,null),S(t,s),He(o,t,null),S(t,i),He(r,t,null),l=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.reset.title),n.$set(s);const i={};32&t&&(i.icon=e[5]?"pause":"play"),48&t&&(i.title=e[5]?e[4].controls.buttons.pause_program.title:e[4].controls.buttons.play_program.title),o.$set(i);const l={};16&t&&(l.title=e[4].controls.buttons.fast_program.title),r.$set(l)},i(e){l||(Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),Oe(r.$$.fragment,e),l=!0)},o(e){Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),l=!1},d(e){e&&O(t),qe(n),qe(o),qe(r)}}}function tu(e){let t,n,s,o,i;return n=new ec({props:{icon:"play",title:e[4].controls.buttons.play_instruction.title}}),n.$on("click",e[13]),o=new ec({props:{icon:"fast",title:e[4].controls.buttons.fast_instruction.title}}),o.$on("click",e[14]),{c(){t=C("div"),je(n.$$.fragment),s=R(),je(o.$$.fragment),M(t,"class","flex items-center justify-center gap-1")},m(e,r){T(e,t,r),He(n,t,null),S(t,s),He(o,t,null),i=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.play_instruction.title),n.$set(s);const i={};16&t&&(i.title=e[4].controls.buttons.fast_instruction.title),o.$set(i)},i(e){i||(Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),i=!0)},o(e){Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),i=!1},d(e){e&&O(t),qe(n),qe(o)}}}function nu(e){let t,n,s,o,i;return n=new ec({props:{icon:"play",title:e[4].controls.buttons.play_step.title}}),n.$on("click",e[11]),o=new ec({props:{icon:"fast",title:e[4].controls.buttons.fast_step.title}}),o.$on("click",e[12]),{c(){t=C("div"),je(n.$$.fragment),s=R(),je(o.$$.fragment),M(t,"class","flex items-center justify-center gap-1")},m(e,r){T(e,t,r),He(n,t,null),S(t,s),He(o,t,null),i=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.play_step.title),n.$set(s);const i={};16&t&&(i.title=e[4].controls.buttons.fast_step.title),o.$set(i)},i(e){i||(Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),i=!0)},o(e){Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),i=!1},d(e){e&&O(t),qe(n),qe(o)}}}function su(e){let t,n,s;function o(t){e[20](t)}let i={min:.1,max:3,title:e[4].controls.sliders.speed.title};return void 0!==e[3]&&(i.value=e[3]),t=new rc({props:i}),de.push((()=>Qe(t,"value",o,e[3]))),t.$on("change",e[15]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};16&s&&(o.title=e[4].controls.sliders.speed.title),!n&&8&s&&(n=!0,o.value=e[3],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function ou(e){let t,n,s,o,i,r,l,a;return t=new cc({props:{label:e[4].controls.labels.execution,$$slots:{default:[eu]},$$scope:{ctx:e}}}),s=new cc({props:{label:e[4].controls.labels.instruction,$$slots:{default:[tu]},$$scope:{ctx:e}}}),i=new cc({props:{label:e[4].controls.labels.step,$$slots:{default:[nu]},$$scope:{ctx:e}}}),l=new cc({props:{label:e[4].controls.labels.speed,$$slots:{default:[su]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment),o=R(),je(i.$$.fragment),r=R(),je(l.$$.fragment)},m(e,c){He(t,e,c),T(e,n,c),He(s,e,c),T(e,o,c),He(i,e,c),T(e,r,c),He(l,e,c),a=!0},p(e,n){const o={};16&n&&(o.label=e[4].controls.labels.execution),16777264&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};16&n&&(r.label=e[4].controls.labels.instruction),16777232&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const a={};16&n&&(a.label=e[4].controls.labels.step),16777232&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a);const c={};16&n&&(c.label=e[4].controls.labels.speed),16777240&n&&(c.$$scope={dirty:n,ctx:e}),l.$set(c)},i(e){a||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),Oe(l.$$.fragment,e),a=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),a=!1},d(e){qe(t,e),e&&O(n),qe(s,e),e&&O(o),qe(i,e),e&&O(r),qe(l,e)}}}function iu(e){let t,n=e[4].controls.checkboxes.binary.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){16&s&&n!==(n=e[4].controls.checkboxes.binary.text+"")&&j(t,n)},d(e){e&&O(t)}}}function ru(e){let t,n=e[4].controls.checkboxes.animations.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){16&s&&n!==(n=e[4].controls.checkboxes.animations.text+"")&&j(t,n)},d(e){e&&O(t)}}}function lu(e){let t,n,s,o,i;function r(t){e[21](t)}let l={$$slots:{default:[iu]},$$scope:{ctx:e}};return void 0!==e[2]&&(l.checked=e[2]),t=new sc({props:l}),de.push((()=>Qe(t,"checked",r,e[2]))),t.$on("click",e[16]),o=new Yc({props:{value:e[0]?e[1]?Xc.HALF:Xc.ON:Xc.OFF,descending:!0,$$slots:{default:[ru]},$$scope:{ctx:e}}}),o.$on("change",e[17]),{c(){je(t.$$.fragment),s=R(),je(o.$$.fragment)},m(e,n){He(t,e,n),T(e,s,n),He(o,e,n),i=!0},p(e,s){const i={};16777232&s&&(i.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,i.checked=e[2],ye((()=>n=!1))),t.$set(i);const r={};3&s&&(r.value=e[0]?e[1]?Xc.HALF:Xc.ON:Xc.OFF),16777232&s&&(r.$$scope={dirty:s,ctx:e}),o.$set(r)},i(e){i||(Oe(t.$$.fragment,e),Oe(o.$$.fragment,e),i=!0)},o(e){Ne(t.$$.fragment,e),Ne(o.$$.fragment,e),i=!1},d(e){qe(t,e),e&&O(s),qe(o,e)}}}function au(e){let t,n,s,o,i,r,l;n=new Ja({props:{class:"gap-5",$$slots:{default:[ou]},$$scope:{ctx:e}}}),o=new Ja({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[lu]},$$scope:{ctx:e}}});return r=new hc({props:{}}),e[22](r),{c(){t=C("div"),je(n.$$.fragment),s=R(),je(o.$$.fragment),i=R(),je(r.$$.fragment),M(t,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(e,a){T(e,t,a),He(n,t,null),S(t,s),He(o,t,null),S(t,i),He(r,t,null),l=!0},p(e,[t]){const s={};16777272&t&&(s.$$scope={dirty:t,ctx:e}),n.$set(s);const i={};16777239&t&&(i.$$scope={dirty:t,ctx:e}),o.$set(i);r.$set({})},i(e){l||(Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),Oe(r.$$.fragment,e),l=!0)},o(e){Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),l=!1},d(s){s&&O(t),qe(n),qe(o),e[22](null),qe(r)}}}function cu(e,t,n){let s,o,i,r,l,a,c;u(e,It,(e=>n(0,s=e))),u(e,Lt,(e=>n(1,o=e))),u(e,Et,(e=>n(2,i=e))),u(e,Tt,(e=>n(3,r=e))),u(e,Di,(e=>n(4,l=e))),u(e,it,(e=>n(6,c=e)));let{cpu:d}=t,{programExecution:f}=t;const p=f.isExecuting;function h(e){switch(e){case Xc.OFF:y(Lt,o=!1,o),y(It,s=!1,s);break;case Xc.HALF:y(Lt,o=!0,o),y(It,s=!0,s);break;case Xc.ON:y(Lt,o=!1,o),y(It,s=!0,s)}}return u(e,p,(e=>n(5,a=e))),e.$$set=e=>{"cpu"in e&&n(18,d=e.cpu),"programExecution"in e&&n(19,f=e.programExecution)},[s,o,i,r,l,a,c,p,function(){xt.info("Reset pressed","USER_INPUT"),f.reset(),d.reset()},function(){xt.info("Toggle execution pressed","USER_INPUT"),f.toggle()},function(){let e;xt.info("Skip execution pressed","USER_INPUT"),e=o&&s?Xc.HALF:o||s?Xc.ON:Xc.OFF,y(It,s=!1,s),y(Lt,o=!1,o),f.start((t=>{h(e)}))},function(){xt.info("Play step pressed","USER_INPUT"),f.step()},function(){let e;xt.info("Skip step pressed","USER_INPUT"),e=o&&s?Xc.HALF:o||s?Xc.ON:Xc.OFF,y(It,s=!1,s),y(Lt,o=!1,o),f.step((t=>{h(e)}))},function(){xt.info("Play instruction pressed","USER_INPUT"),f.instruction()},function(){let e;xt.info("Skip instruction pressed","USER_INPUT"),e=o&&s?Xc.HALF:o||s?Xc.ON:Xc.OFF,y(It,s=!1,s),y(Lt,o=!1,o),f.instruction((t=>{h(e)}))},function(){xt.info(`Speed slider moved - ${r}`,"USER_INPUT")},function(){xt.info(`Binary toggle pressed - ${i}`,"USER_INPUT")},function(e){h(e.detail.value),xt.info(`Animations toggle pressed - ${e.detail.value}`,"USER_INPUT")},d,f,function(e){r=e,Tt.set(r)},function(e){i=e,Et.set(i)},function(e){de[e?"unshift":"push"]((()=>{c=e,it.set(c)}))}]}class uu extends Ge{constructor(e){super(),We(this,e,cu,au,l,{cpu:18,programExecution:19})}}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Jc||(Jc={}));const du="headlessui-open-closed-context";function fu(){return ae(du)}function pu(e){le(du,e)}function hu(e,t,...n){if(e in t){let s=t[e];return"function"==typeof s?s(...n):s}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,hu),s}let mu=0;function gu(){return++mu}let $u=new Set,bu=new Map;function yu(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function wu(e){let t=bu.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function vu(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var xu;!function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(xu||(xu={}));let _u=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Eu,ku,Au,Su;function Lu(e){e?.focus({preventScroll:!0})}function Iu(e,t){let n,s=Array.isArray(e)?e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(_u))}(e),o=document.activeElement,i=(()=>{if(t&(Eu.First|Eu.Next))return Au.Next;if(t&(Eu.Previous|Eu.Last))return Au.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),r=(()=>{if(t&Eu.First)return 0;if(t&Eu.Previous)return Math.max(0,s.indexOf(o))-1;if(t&Eu.Next)return Math.max(0,s.indexOf(o))+1;if(t&Eu.Last)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=t&Eu.NoScroll?{preventScroll:!0}:{},a=0,c=s.length;do{if(a>=c||a+c<=0)return ku.Error;let e=r+a;if(t&Eu.WrapAround)e=(e+c)%c;else{if(e<0)return ku.Underflow;if(e>=c)return ku.Overflow}n=s[e],n?.focus(l),a+=i}while(n!==document.activeElement);return n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),ku.Success}!function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(Eu||(Eu={})),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(ku||(ku={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(Au||(Au={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(Su||(Su={}));const{window:Tu}=Re;function Ou(t){let n,s;return{c:e,m(e,o){n||(s=[B(Tu,"keydown",t[0]),B(Tu,"focus",t[1],!0)],n=!0)},p:e,i:e,o:e,d(e){n=!1,i(s)}}}function Nu(e,t,n){let{containers:s}=t,{enabled:o=!0}=t,{options:i={}}=t,r="undefined"!=typeof window?document.activeElement:null,l=null;async function a(){if(!o)return;if(1!==s.size)return;let{initialFocus:e}=i;await $e();let t=document.activeElement;if(e){if(e===t)return}else if(vu(s,t))return;if(r=t,e)Lu(e);else{let e=!1;for(let t of s){if(Iu(t,Eu.First)===ku.Success){e=!0;break}}e||console.warn("There are no focusable elements inside the <FocusTrap />")}l=document.activeElement}function c(){Lu(r),r=null,l=null}se(a);let u=!1;return ie((()=>{u=!0,c()})),e.$$set=e=>{"containers"in e&&n(2,s=e.containers),"enabled"in e&&n(3,o=e.enabled),"options"in e&&n(4,i=e.options)},e.$$.update=()=>{12&e.$$.dirty&&(o&&s?a():c())},[function(e){if(o&&e.key===xu.Tab&&document.activeElement&&1===s.size){e.preventDefault();for(let t of s){if(Iu(t,(e.shiftKey?Eu.Previous:Eu.Next)|Eu.WrapAround)===ku.Success){l=document.activeElement;break}}}},function(e){if(e.target===window.document.body)return;if(!o)return;if(1!==s.size)return;if(u)return;let t=l;if(!t)return;let n=e.target;n&&n instanceof HTMLElement?vu(s,n)?(l=n,Lu(n)):(e.preventDefault(),e.stopPropagation(),Lu(t)):Lu(l)},s,o,i]}class Cu extends Ge{constructor(e){super(),We(this,e,Nu,Ou,l,{containers:2,enabled:3,options:4})}}function Du(e){let t;const n=e[4].default,s=d(n,e,e[3],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||8&o)&&h(s,n,e,e[3],t?p(n,e[3],o,null):m(e[3]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}var Pu;!function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(Pu||(Pu={}));const Ru="headlessui-stack-context";function Uu(e,t,n){let s,{$$slots:o={},$$scope:i}=t,{onUpdate:r}=t,{element:l}=t;function a(...e){r?.(...e),c?.(...e)}let c=ae(Ru);return le(Ru,a),ie((()=>{s&&s()})),e.$$set=e=>{"onUpdate"in e&&n(0,r=e.onUpdate),"element"in e&&n(1,l=e.element),"$$scope"in e&&n(3,i=e.$$scope)},e.$$.update=()=>{6&e.$$.dirty&&n(2,s=(()=>{if(s&&s(),!l)return null;let e=l;return a(Pu.Add,e),()=>a(Pu.Remove,e)})())},[r,l,s,i,o]}class Bu extends Ge{constructor(e){super(),We(this,e,Uu,Du,l,{onUpdate:0,element:1})}}const Mu=e=>({describedby:1&e}),Fu=e=>({describedby:e[0].descriptionIds});function Qu(e){let t;const n=e[6].default,s=d(n,e,e[5],Fu);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||33&o)&&h(s,n,e,e[5],t?p(n,e[5],o,Mu):m(e[5]),Fu)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}const ju="headlessui-description-context";function Hu(e,t,s){const o=["name","slotProps"];let i,r=$(t,o),{$$slots:l={},$$scope:a}=t,{name:c}=t,{slotProps:d={}}=t,f=[],p=Ve({name:c,slotProps:d,props:r,register:h});function h(e){return s(4,f=[...f,e]),()=>{s(4,f=f.filter((t=>t!==e)))}}return u(e,p,(e=>s(0,i=e))),le(ju,p),e.$$set=e=>{t=n(n({},t),g(e)),s(8,r=$(t,o)),"name"in e&&s(2,c=e.name),"slotProps"in e&&s(3,d=e.slotProps),"$$scope"in e&&s(5,a=e.$$scope)},e.$$.update=()=>{p.set({name:c,slotProps:d,props:r,register:h,descriptionIds:f.length>0?f.join(" "):void 0})},[i,p,c,d,f,a,l]}class qu extends Ge{constructor(e){super(),We(this,e,Hu,Qu,l,{name:2,slotProps:3})}}function Wu(e){let t;const n=e[2].default,s=d(n,e,e[1],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||2&o)&&h(s,n,e,e[1],t?p(n,e[1],o,null):m(e[1]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}const Gu="headlessui-force-portal-root-context";function Ku(e,t,n){let{$$slots:s={},$$scope:o}=t,{force:i}=t;return le(Gu,Ve(i)),e.$$set=e=>{"force"in e&&n(0,i=e.force),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,s]}class Vu extends Ge{constructor(e){super(),We(this,e,Ku,Wu,l,{force:0})}}function zu(e){let t;const n=e[2].default,s=d(n,e,e[1],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||2&o)&&h(s,n,e,e[1],t?p(n,e[1],o,null):m(e[1]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}const Xu="headlessui-portal-group-context";function Ju(e,t,n){let{$$slots:s={},$$scope:o}=t,{target:i}=t,r=Ve(i);return le(Xu,r),e.$$set=e=>{"target"in e&&n(0,i=e.target),"$$scope"in e&&n(1,o=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&r.set(i)},[i,o,s]}class Zu extends Ge{constructor(e){super(),We(this,e,Ju,zu,l,{target:0})}}function Yu(e,t){return t&&t.append(e),{update(n){t=n,n.append(e)},destroy(){t?.contains(e)&&t.removeChild(e),t&&t.childNodes.length<=0&&t.parentElement?.removeChild(t)}}}function ed(e){let t,n,s,o,i;const l=e[6].default,a=d(l,e,e[5],null);return{c(){t=C("div"),a&&a.c()},m(r,l){T(r,t,l),a&&a.m(t,null),s=!0,o||(i=w(n=Yu.call(null,t,e[0])),o=!0)},p(e,[t]){a&&a.p&&(!s||32&t)&&h(a,l,e,e[5],s?p(l,e[5],t,null):m(e[5]),null),n&&r(n.update)&&1&t&&n.update.call(null,e[0])},i(e){s||(Oe(a,e),s=!0)},o(e){Ne(a,e),s=!1},d(e){e&&O(t),a&&a.d(e),o=!1,i()}}}function td(e,t,n){let s,o,i,{$$slots:r={},$$scope:l}=t,a=ae(Gu);u(e,a,(e=>n(4,i=e)));let c=ae(Xu);return u(e,c,(e=>n(3,o=e))),e.$$set=e=>{"$$scope"in e&&n(5,l=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&n(0,s=(()=>{if(!(a&&i||void 0===c||null===o))return o;if("undefined"==typeof window)return null;let e=document.getElementById("headlessui-portal-root");if(e)return e;let t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),$e().then((()=>{t!==document.body.lastChild&&document.body.appendChild(t)})),document.body.appendChild(t)})())},[s,a,c,o,i,l,r]}class nd extends Ge{constructor(e){super(),We(this,e,td,ed,l,{})}}const sd=new RegExp("^[^!]+(?:!(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$");function od(e,t=[]){let n,s=[];function o(t){ce(e,t)}return e.$on=(o,i)=>{let r=o,l=()=>{};for(let n of t){if("string"==typeof n&&n===r){const t=e.$$.callbacks[r]||(e.$$.callbacks[r]=[]);return t.push(i),()=>{const e=t.indexOf(i);-1!==e&&t.splice(e,1)}}if("object"==typeof n&&n.name===r){let e=i;i=(...t)=>{"object"==typeof n&&n.shouldExclude()||e(...t)}}}return n?l=n(r,i):s.push([r,i]),()=>{l()}},e=>{const t=[],i={};n=(n,s)=>{let r=n,l=s,a=!1;if(r.match(sd)){const e=r.split("!");r=e[0];const t=Object.fromEntries(e.slice(1).map((e=>[e,!0])));t.passive&&(a=a||{},a.passive=!0),t.nonpassive&&(a=a||{},a.passive=!1),t.capture&&(a=a||{},a.capture=!0),t.once&&(a=a||{},a.once=!0),t.preventDefault&&(c=l,l=function(e){return e.preventDefault(),c.call(this,e)}),t.stopPropagation&&(l=function(e){return function(t){return t.stopPropagation(),e.call(this,t)}}(l))}var c;const u=B(e,r,l,a),d=()=>{u();const e=t.indexOf(d);e>-1&&t.splice(e,1)};return t.push(d),r in i||(i[r]=B(e,r,o)),d};for(let e=0;e<s.length;e++)n(s[e][0],s[e][1]);return{destroy:()=>{for(let e=0;e<t.length;e++)t[e]();for(let e of Object.entries(i))e[1]()}}}}const id=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function rd(e,t){let n=[];if(t)for(let s=0;s<t.length;s++){const o=t[s],i=Array.isArray(o)?o[0]:o;Array.isArray(o)&&o.length>1?n.push(i(e,o[1])):n.push(i(e))}return{update(e){if((e&&e.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(e)for(let t=0;t<e.length;t++){const s=n[t];if(s&&s.update){const n=e[t];Array.isArray(n)&&n.length>1?s.update(n[1]):s.update()}}},destroy(){for(let e=0;e<n.length;e++){const t=n[e];t&&t.destroy&&t.destroy()}}}}var ld,ad;function cd(e){let t,n,s,o;const i=[zd,Vd,Kd,Gd,Wd,qd,Hd,jd,Qd,Fd,Md,Bd,Ud,Rd,Pd,Dd,Cd,Nd,Od,Td,Id,Ld,Sd,Ad,kd,Ed,_d,xd,vd,wd,yd,bd,$d,gd,md,hd,pd,fd,dd,ud],r=[];function l(e,t){return"a"===e[1]?0:"address"===e[1]?1:"article"===e[1]?2:"aside"===e[1]?3:"b"===e[1]?4:"bdi"===e[1]?5:"bdo"===e[1]?6:"blockquote"===e[1]?7:"button"===e[1]?8:"cite"===e[1]?9:"code"===e[1]?10:"data"===e[1]?11:"datalist"===e[1]?12:"dd"===e[1]?13:"dl"===e[1]?14:"dt"===e[1]?15:"div"===e[1]?16:"em"===e[1]?17:"footer"===e[1]?18:"form"===e[1]?19:"h1"===e[1]?20:"h2"===e[1]?21:"h3"===e[1]?22:"h4"===e[1]?23:"h5"===e[1]?24:"h6"===e[1]?25:"header"===e[1]?26:"i"===e[1]?27:"input"===e[1]?28:"label"===e[1]?29:"li"===e[1]?30:"main"===e[1]?31:"nav"===e[1]?32:"ol"===e[1]?33:"p"===e[1]?34:"section"===e[1]?35:"span"===e[1]?36:"strong"===e[1]?37:"ul"===e[1]?38:39}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=U()},m(e,n){r[t].m(e,n),T(e,s,n),o=!0},p(e,o){let a=t;t=l(e),t===a?r[t].p(e,o):(Ie(),Ne(r[a],1,1,(()=>{r[a]=null})),Te(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),Oe(n,1),n.m(s.parentNode,s))},i(e){o||(Oe(n),o=!0)},o(e){Ne(n),o=!1},d(e){r[t].d(e),e&&O(s)}}}function ud(e){let t,s,o,i;const r=[{use:[...e[2],e[6]]},e[7],e[3],{hidden:e[4]||void 0}];function l(t){e[58](t)}var a=e[1];function c(e){let t={$$slots:{default:[Xd]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)t=n(t,r[e]);return void 0!==e[0]&&(t.el=e[0]),{props:t}}return a&&(t=z(a,c(e)),de.push((()=>Qe(t,"el",l,e[0])))),{c(){t&&je(t.$$.fragment),o=U()},m(e,n){t&&He(t,e,n),T(e,o,n),i=!0},p(e,n){const i=220&n[0]?Me(r,[68&n[0]&&{use:[...e[2],e[6]]},128&n[0]&&Fe(e[7]),8&n[0]&&Fe(e[3]),16&n[0]&&{hidden:e[4]||void 0}]):{};if(268435456&n[1]&&(i.$$scope={dirty:n,ctx:e}),!s&&1&n[0]&&(s=!0,i.el=e[0],ye((()=>s=!1))),a!==(a=e[1])){if(t){Ie();const e=t;Ne(e.$$.fragment,1,0,(()=>{qe(e,1)})),Te()}a?(t=z(a,c(e)),de.push((()=>Qe(t,"el",l,e[0]))),je(t.$$.fragment),Oe(t.$$.fragment,1),He(t,o.parentNode,o)):t=null}else a&&t.$set(i)},i(e){i||(t&&Oe(t.$$.fragment,e),i=!0)},o(e){t&&Ne(t.$$.fragment,e),i=!1},d(e){e&&O(o),t&&qe(t,e)}}}function dd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("ul"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[57](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[57](null),a=!1,i(c)}}}function fd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("strong"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[56](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[56](null),a=!1,i(c)}}}function pd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("span"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[55](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[55](null),a=!1,i(c)}}}function hd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("section"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[54](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[54](null),a=!1,i(c)}}}function md(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("p"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[53](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[53](null),a=!1,i(c)}}}function gd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("ol"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[52](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[52](null),a=!1,i(c)}}}function $d(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("nav"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[51](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[51](null),a=!1,i(c)}}}function bd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("main"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[50](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[50](null),a=!1,i(c)}}}function yd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("li"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[49](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[49](null),a=!1,i(c)}}}function wd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("label"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[48](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[48](null),a=!1,i(c)}}}function vd(t){let s,o,l,a,c,u=[t[7],t[3],{hidden:o=t[4]||void 0}],d={};for(let e=0;e<u.length;e+=1)d=n(d,u[e]);return{c(){s=C("input"),F(s,d)},m(e,n){T(e,s,n),s.autofocus&&s.focus(),t[47](s),a||(c=[w(l=rd.call(null,s,t[2])),w(t[6].call(null,s))],a=!0)},p(e,t){F(s,d=Me(u,[128&t[0]&&e[7],8&t[0]&&e[3],16&t[0]&&o!==(o=e[4]||void 0)&&{hidden:o}])),l&&r(l.update)&&4&t[0]&&l.update.call(null,e[2])},i:e,o:e,d(e){e&&O(s),t[47](null),a=!1,i(c)}}}function xd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("i"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[46](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[46](null),a=!1,i(c)}}}function _d(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("header"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[45](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[45](null),a=!1,i(c)}}}function Ed(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("h6"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[44](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[44](null),a=!1,i(c)}}}function kd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("h5"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[43](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[43](null),a=!1,i(c)}}}function Ad(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("h4"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[42](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[42](null),a=!1,i(c)}}}function Sd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("h3"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[41](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[41](null),a=!1,i(c)}}}function Ld(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("h2"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[40](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[40](null),a=!1,i(c)}}}function Id(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("h1"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[39](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[39](null),a=!1,i(c)}}}function Td(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("form"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[38](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[38](null),a=!1,i(c)}}}function Od(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("footer"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[37](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[37](null),a=!1,i(c)}}}function Nd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("em"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[36](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[36](null),a=!1,i(c)}}}function Cd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("div"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[35](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[35](null),a=!1,i(c)}}}function Dd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("dt"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[34](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[34](null),a=!1,i(c)}}}function Pd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("dl"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[33](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[33](null),a=!1,i(c)}}}function Rd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("dd"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[32](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[32](null),a=!1,i(c)}}}function Ud(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("datalist"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[31](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[31](null),a=!1,i(c)}}}function Bd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("data"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[30](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[30](null),a=!1,i(c)}}}function Md(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("code"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[29](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[29](null),a=!1,i(c)}}}function Fd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("cite"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[28](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[28](null),a=!1,i(c)}}}function Qd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("button"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),t.autofocus&&t.focus(),e[27](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[27](null),a=!1,i(c)}}}function jd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("blockquote"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[26](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[26](null),a=!1,i(c)}}}function Hd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("bdo"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[25](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[25](null),a=!1,i(c)}}}function qd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("bdi"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[24](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[24](null),a=!1,i(c)}}}function Wd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("b"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[23](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[23](null),a=!1,i(c)}}}function Gd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("aside"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[22](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[22](null),a=!1,i(c)}}}function Kd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("article"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[21](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[21](null),a=!1,i(c)}}}function Vd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("address"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[20](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[20](null),a=!1,i(c)}}}function zd(e){let t,s,o,l,a,c;const u=e[18].default,f=d(u,e,e[59],null);let g=[e[7],e[3],{hidden:s=e[4]||void 0}],$={};for(let e=0;e<g.length;e+=1)$=n($,g[e]);return{c(){t=C("a"),f&&f.c(),F(t,$)},m(n,s){T(n,t,s),f&&f.m(t,null),e[19](t),l=!0,a||(c=[w(o=rd.call(null,t,e[2])),w(e[6].call(null,t))],a=!0)},p(e,n){f&&f.p&&(!l||268435456&n[1])&&h(f,u,e,e[59],l?p(u,e[59],n,null):m(e[59]),null),F(t,$=Me(g,[128&n[0]&&e[7],8&n[0]&&e[3],(!l||16&n[0]&&s!==(s=e[4]||void 0))&&{hidden:s}])),o&&r(o.update)&&4&n[0]&&o.update.call(null,e[2])},i(e){l||(Oe(f,e),l=!0)},o(e){Ne(f,e),l=!1},d(n){n&&O(t),f&&f.d(n),e[19](null),a=!1,i(c)}}}function Xd(e){let t;const n=e[18].default,s=d(n,e,e[59],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||268435456&o[1])&&h(s,n,e,e[59],t?p(n,e[59],o,null):m(e[59]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Jd(e){let t,n,s=e[5]&&cd(e);return{c(){s&&s.c(),t=U()},m(e,o){s&&s.m(e,o),T(e,t,o),n=!0},p(e,n){e[5]?s?(s.p(e,n),32&n[0]&&Oe(s,1)):(s=cd(e),s.c(),Oe(s,1),s.m(t.parentNode,t)):s&&(Ie(),Ne(s,1,1,(()=>{s=null})),Te())},i(e){n||(Oe(s),n=!0)},o(e){Ne(s),n=!1},d(e){s&&s.d(e),e&&O(t)}}}function Zd(e,t,s){let o,i,r,l,a;const c=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let u=$(t,c),{$$slots:d={},$$scope:f}=t;const p=od(ne());let{name:h}=t,{as:m}=t,{slotProps:b}=t,{el:y=null}=t,{use:w=[]}=t,{visible:v=!0}=t,{features:x=ld.None}=t,{unmount:_=!0}=t,{static:E=!1}=t,{class:k}=t,{style:A}=t;if(!m)throw new Error(`<${h}> did not provide an \`as\` value to <Render>`);if(!function(e){return!("string"==typeof e&&!id.includes(e))}(m))throw new Error(`<${h}> has an invalid or unsupported \`as\` prop: ${m}`);return e.$$set=e=>{t=n(n({},t),g(e)),s(7,u=$(t,c)),"name"in e&&s(8,h=e.name),"as"in e&&s(1,m=e.as),"slotProps"in e&&s(9,b=e.slotProps),"el"in e&&s(0,y=e.el),"use"in e&&s(2,w=e.use),"visible"in e&&s(10,v=e.visible),"features"in e&&s(11,x=e.features),"unmount"in e&&s(12,_=e.unmount),"static"in e&&s(13,E=e.static),"class"in e&&s(14,k=e.class),"style"in e&&s(15,A=e.style),"$$scope"in e&&s(59,f=e.$$scope)},e.$$.update=()=>{16896&e.$$.dirty[0]&&s(17,o="function"==typeof k?k(b):k),33280&e.$$.dirty[0]&&s(16,i="function"==typeof A?A(b):A),15360&e.$$.dirty[0]&&s(5,r=v||x&ld.Static&&E||!(x&ld.RenderStrategy&&_)),15360&e.$$.dirty[0]&&s(4,l=!v&&!(x&ld.Static&&E)&&x&ld.RenderStrategy&&!_),196624&e.$$.dirty[0]&&s(3,a={class:o,style:`${i??""}${l?" display: none":""}`||void 0}),8&e.$$.dirty[0]&&void 0===a.style&&delete a.style},[y,m,w,a,l,r,p,u,h,b,v,x,_,E,k,A,i,o,d,function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){de[e?"unshift":"push"]((()=>{y=e,s(0,y)}))},function(e){y=e,s(0,y)},f]}!function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(ld||(ld={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(ad||(ad={}));class Yd extends Ge{constructor(e){super(),We(this,e,Zd,Jd,l,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:ef}=Re,tf=e=>({}),nf=e=>({...e[6]});function sf(e){let t;const n=e[24].default,s=d(n,e,e[27],nf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||134217792&o)&&h(s,n,e,e[27],(e=>64&e)(o)||!t?m(e[27]):p(n,e[27],o,tf),nf)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function of(e){let t,s,o;const i=[{...e[14],...e[7]},{as:e[0]},{slotProps:e[6]},{use:[...e[1],e[9]]},{name:"Dialog"},{"aria-describedby":e[30]},{visible:e[8]},{features:ld.RenderStrategy|ld.Static}];function r(t){e[25](t)}let l={$$slots:{default:[sf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[3]&&(l.el=e[3]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[3]))),t.$on("click",mf),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,n){const o=1073759171&n?Me(i,[16512&n&&{...e[14],...e[7]},1&n&&{as:e[0]},64&n&&{slotProps:e[6]},514&n&&{use:[...e[1],e[9]]},i[4],1073741824&n&&{"aria-describedby":e[30]},256&n&&{visible:e[8]},0&n&&{features:ld.RenderStrategy|ld.Static}]):{};134217792&n&&(o.$$scope={dirty:n,ctx:e}),!s&&8&n&&(s=!0,o.el=e[3],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function rf(e){let t,n;return t=new qu({props:{name:"DialogDescription",slotProps:e[6],$$slots:{default:[of,({describedby:e})=>({30:e}),({describedby:e})=>e?1073741824:0]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};64&n&&(s.slotProps=e[6]),1207976395&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function lf(e){let t,n;return t=new Vu({props:{force:!1,$$slots:{default:[rf]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function af(e){let t,n;return t=new Zu({props:{target:e[3],$$slots:{default:[lf]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.target=e[3]),134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function cf(e){let t,n;return t=new nd({props:{$$slots:{default:[af]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function uf(e){let t,n;return t=new Vu({props:{force:!0,$$slots:{default:[cf]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function df(e){let t,n,s,o,r,l;return t=new Cu({props:{containers:e[5],enabled:e[4],options:{initialFocus:e[2]}}}),s=new Bu({props:{element:e[3],onUpdate:e[26],$$slots:{default:[uf]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment)},m(i,a){He(t,i,a),T(i,n,a),He(s,i,a),o=!0,r||(l=[B(ef,"mousedown",e[12]),B(ef,"keydown",e[13])],r=!0)},p(e,[n]){const o={};32&n&&(o.containers=e[5]),16&n&&(o.enabled=e[4]),4&n&&(o.options={initialFocus:e[2]}),t.$set(o);const i={};8&n&&(i.element=e[3]),32&n&&(i.onUpdate=e[26]),134234571&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!1},d(e){qe(t,e),e&&O(n),qe(s,e),r=!1,i(l)}}}var ff;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(ff||(ff={}));const pf="headlessui-dialog-context";function hf(e){let t=ae(pf);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Dialog /> component.`);return t}function mf(e){e.stopPropagation()}function gf(e,t,s){let o,i,r,l,a,c,d,f;const p=["as","use","open","initialFocus"];let h,m,b=$(t,p),{$$slots:y={},$$scope:w}=t,{as:v="div"}=t,{use:x=[]}=t,{open:_}=t,{initialFocus:E=null}=t;const k=od(ne(),["close"]),A=re();let S=new Set,L=fu();u(e,L,(e=>s(23,m=e)));let I=null;const T=`headlessui-dialog-${gu()}`;let O;ie((()=>{l&&l()}));let N=Ve({titleId:O,dialogState:o,setTitleId(e){O!==e&&s(16,O=e)},close(){A("close",!1)}});u(e,N,(e=>s(22,h=e))),le(pf,N);let C=!1;se((()=>s(17,C=!0))),ie((()=>{a&&a()})),ie((()=>{c&&c()}));return e.$$set=e=>{t=n(n({},t),g(e)),s(14,b=$(t,p)),"as"in e&&s(0,v=e.as),"use"in e&&s(1,x=e.use),"open"in e&&s(15,_=e.open),"initialFocus"in e&&s(2,E=e.initialFocus),"$$scope"in e&&s(27,w=e.$$scope)},e.$$.update=()=>{if(8421376&e.$$.dirty){if(s(15,_=void 0===_&&void 0!==L?hu(m,{[Jc.Open]:!0,[Jc.Closed]:!1}):_),!(void 0!==_||void 0!==L))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if("boolean"!=typeof _)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${_}`)}32768&e.$$.dirty&&s(18,o=_?ff.Open:ff.Closed),8650752&e.$$.dirty&&s(8,i=void 0!==L?m===Jc.Open:o===ff.Open),262144&e.$$.dirty&&s(4,r=o===ff.Open),2097176&e.$$.dirty&&s(21,(l&&l(),l=function(e,t=!0){if(!t)return;if(!e)return;let n=e;$u.add(n);for(let e of bu.keys())e.contains(n)&&(wu(e),bu.delete(e));return document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of $u)if(e.contains(t))return;1===$u.size&&(bu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),yu(e))}})),()=>{if($u.delete(n),$u.size>0)document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!bu.has(e)){for(let t of $u)if(e.contains(t))return;bu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),yu(e)}}));else for(let e of bu.keys())wu(e),bu.delete(e)}}(I,r))),327680&e.$$.dirty&&N.update((e=>({...e,titleId:O,dialogState:o}))),1441792&e.$$.dirty&&s(20,a=(()=>{if(a&&a(),o!==ff.Open)return;if(!C)return;let e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}})()),4980744&e.$$.dirty&&s(19,c=(()=>{if(c&&c(),o!==ff.Open)return;let e=I;if(!e)return;let t=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&h.close()}));return t.observe(e),()=>t.disconnect()})()),327680&e.$$.dirty&&s(7,d={id:T,role:"dialog","aria-modal":o===ff.Open||void 0,"aria-labelledby":O}),32768&e.$$.dirty&&s(6,f={open:_})},[v,x,E,I,r,S,f,d,i,k,L,N,async function(e){let t=e.target;o===ff.Open&&1===S.size&&(vu(S,t)||(h.close(),await $e(),t?.focus()))},function(e){e.key===xu.Escape&&o===ff.Open&&(S.size>1||(e.preventDefault(),e.stopPropagation(),h.close()))},b,_,O,C,o,c,a,l,h,m,y,function(e){I=e,s(3,I)},(e,t)=>hu(e,{[Pu.Add](){s(5,S=new Set([...S,t]))},[Pu.Remove](){S.delete(t),s(5,S=new Set([...S]))}}),w]}class $f extends Ge{constructor(e){super(),We(this,e,gf,df,l,{as:0,use:1,open:15,initialFocus:2})}}const bf=e=>({}),yf=e=>({...e[2]});function wf(e){let t;const n=e[8].default,s=d(n,e,e[9],yf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||516&o)&&h(s,n,e,e[9],(e=>4&e)(o)||!t?m(e[9]):p(n,e[9],o,bf),yf)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function vf(e){let t,s;const o=[{...e[6],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogTitle"}];let i={$$slots:{default:[wf]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Yd({props:i}),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,[n]){const s=95&n?Me(o,[72&n&&{...e[6],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[4]]):{};516&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function xf(e,t,s){let o,i;const r=["as","use"];let l,a=$(t,r),{$$slots:c={},$$scope:d}=t,{as:f="h2"}=t,{use:p=[]}=t;const h=od(ne());let m=hf("DialogTitle");u(e,m,(e=>s(7,l=e)));let b=`headlessui-dialog-title-${gu()}`;return se((()=>(l.setTitleId(b),()=>l.setTitleId(void 0)))),e.$$set=e=>{t=n(n({},t),g(e)),s(6,a=$(t,r)),"as"in e&&s(0,f=e.as),"use"in e&&s(1,p=e.use),"$$scope"in e&&s(9,d=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&s(2,i={open:l.dialogState===ff.Open})},s(3,o={id:b}),[f,p,i,o,h,m,a,l,c,d]}class _f extends Ge{constructor(e){super(),We(this,e,xf,vf,l,{as:0,use:1})}}const Ef=e=>({}),kf=e=>({...e[2]});function Af(e){let t;const n=e[9].default,s=d(n,e,e[10],kf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||1028&o)&&h(s,n,e,e[10],(e=>4&e)(o)||!t?m(e[10]):p(n,e[10],o,Ef),kf)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Sf(e){let t,s;const o=[{...e[7],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogOverlay"}];let i={$$slots:{default:[Af]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Yd({props:i}),t.$on("click",e[6]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,[n]){const s=159&n?Me(o,[136&n&&{...e[7],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[4]]):{};1028&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function Lf(e,t,s){let o,i;const r=["as","use"];let l,a=$(t,r),{$$slots:c={},$$scope:d}=t,{as:f="div"}=t,{use:p=[]}=t;const h=od(ne());let m=hf("DialogOverlay");u(e,m,(e=>s(8,l=e)));let b=`headlessui-dialog-overlay-${gu()}`;return e.$$set=e=>{t=n(n({},t),g(e)),s(7,a=$(t,r)),"as"in e&&s(0,f=e.as),"use"in e&&s(1,p=e.use),"$$scope"in e&&s(10,d=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&s(2,i={open:l.dialogState===ff.Open})},s(3,o={id:b,"aria-hidden":!0}),[f,p,i,o,h,m,function(e){let t=e;t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),l.close())},a,l,c,d]}class If extends Ge{constructor(e){super(),We(this,e,Lf,Sf,l,{as:0,use:1})}}var Tf,Of;function Nf(e,t){if(e.type)return e.type;let n=e.as??"button";return"string"==typeof n&&"button"===n.toLowerCase()||t&&t instanceof HTMLButtonElement?"button":void 0}function Cf(e,t){let n=t.resolveItems();if(n.length<=0)return null;let s=t.resolveActiveIndex(),o=s??-1,i=(()=>{switch(e.focus){case Of.First:return n.findIndex((e=>!t.resolveDisabled(e)));case Of.Previous:{let e=n.slice().reverse().findIndex(((e,n,s)=>!(-1!==o&&s.length-n-1>=o)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case Of.Next:return n.findIndex(((e,n)=>!(n<=o)&&!t.resolveDisabled(e)));case Of.Last:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case Of.Specific:return n.findIndex((n=>t.resolveId(n)===e.id));case Of.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===i?s:i}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Tf||(Tf={})),function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Of||(Of={}));const Df=e=>({}),Pf=e=>({...e[2]});function Rf(e){let t;const n=e[17].default,s=d(n,e,e[18],Pf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262148&o)&&h(s,n,e,e[18],(e=>4&e)(o)||!t?m(e[18]):p(n,e[18],o,Df),Pf)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Uf(e){let t,s,o,i;const r=[e[8],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"Listbox"}];let l={$$slots:{default:[Rf]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)l=n(l,r[e]);return t=new Yd({props:l}),{c(){je(t.$$.fragment)},m(n,r){He(t,n,r),s=!0,o||(i=B(window,"mousedown",e[7]),o=!0)},p(e,[n]){const s=271&n?Me(r,[256&n&&Fe(e[8]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},r[4]]):{};262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e),o=!1,i()}}}var Bf;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Bf||(Bf={}));const Mf="headlessui-listbox-context";function Ff(e){let t=ae(Mf);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Listbox /> component.`);return t}function Qf(e,t,s){let o,i;const r=["as","use","disabled","horizontal","value"];let l,a,c,d=$(t,r),{$$slots:f={},$$scope:p}=t,{as:h="div"}=t,{use:m=[]}=t,{disabled:b=!1}=t,{horizontal:y=!1}=t,{value:w}=t;const v=od(ne(),["change"]),x=re();let _=Bf.Closed,E=Ve(null),k=Ve(null);u(e,k,(e=>s(19,l=e)));let A=Ve(null);u(e,A,(e=>s(21,c=e)));let S=[],L="",I=null,T=Ve({listboxState:_,value:w,labelRef:E,buttonRef:k,optionsRef:A,options:S,searchQuery:L,activeOptionIndex:I,disabled:b,orientation:o,closeListbox(){b||_!==Bf.Closed&&(s(12,_=Bf.Closed),s(15,I=null))},openListbox(){b||_!==Bf.Open&&s(12,_=Bf.Open)},goToOption(e,t){if(b)return;if(_===Bf.Closed)return;let n=Cf(e===Of.Specific?{focus:Of.Specific,id:t}:{focus:e},{resolveItems:()=>S,resolveActiveIndex:()=>I,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});""===L&&I===n||(s(15,I=n),s(14,L=""))},search(e){if(b)return;if(_===Bf.Closed)return;s(14,L+=e.toLowerCase());let t=(null!==I?S.slice(I+1).concat(S.slice(0,I+1)):S).find((e=>!e.dataRef.disabled&&e.dataRef.textValue.startsWith(L))),n=t?S.indexOf(t):-1;-1!==n&&n!==I&&s(15,I=n)},clearSearch(){b||_!==Bf.Closed&&""!==L&&s(14,L="")},registerOption(e,t){if(!c)return void s(13,S=[...S,{id:e,dataRef:t}]);let n=null!==I?S[I]:null,o=Array.from(c.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[...S,{id:e,dataRef:t}];i.sort(((e,t)=>o[e.id]-o[t.id])),s(13,S=i),s(15,I=null===n?null:S.indexOf(n))},unregisterOption(e){let t=S.slice(),n=null!==I?t[I]:null,o=t.findIndex((t=>t.id===e));-1!==o&&t.splice(o,1),s(13,S=t),s(15,I=o===I||null===n?null:t.indexOf(n))},select(e){b||x("change",e)}});u(e,T,(e=>s(20,a=e))),le(Mf,T);let O=Ve(Jc.Closed);return pu(O),e.$$set=e=>{t=n(n({},t),g(e)),s(8,d=$(t,r)),"as"in e&&s(0,h=e.as),"use"in e&&s(1,m=e.use),"disabled"in e&&s(9,b=e.disabled),"horizontal"in e&&s(10,y=e.horizontal),"value"in e&&s(11,w=e.value),"$$scope"in e&&s(18,p=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&s(16,o=y?"horizontal":"vertical"),4096&e.$$.dirty&&O.set(hu(_,{[Bf.Open]:Jc.Open,[Bf.Closed]:Jc.Closed})),129536&e.$$.dirty&&T.update((e=>({...e,listboxState:_,value:w,options:S,searchQuery:L,activeOptionIndex:I,disabled:b,orientation:o}))),4096&e.$$.dirty&&s(2,i={open:_===Bf.Open})},[h,m,i,v,k,A,T,function(e){let t=e.target,n=document.activeElement;_===Bf.Open&&(l?.contains(t)||(c?.contains(t)||a.closeListbox(),n!==document.body&&n?.contains(t)||e.defaultPrevented||l?.focus({preventScroll:!0})))},d,b,y,w,_,S,L,I,o,f,p]}class jf extends Ge{constructor(e){super(),We(this,e,Qf,Uf,l,{as:0,use:1,disabled:9,horizontal:10,value:11})}}const Hf=e=>({}),qf=e=>({...e[3]});function Wf(e){let t;const n=e[17].default,s=d(n,e,e[19],qf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&h(s,n,e,e[19],(e=>8&e)(o)||!t?m(e[19]):p(n,e[19],o,Hf),qf)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Gf(e){let t,s,o;const i=[e[13],e[4],{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[5]]},{name:"ListboxButton"}];function r(t){e[18](t)}let l={$$slots:{default:[Wf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[2]))),t.$on("click",e[12]),t.$on("keydown",e[10]),t.$on("keyup",e[11]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=8251&n?Me(i,[8192&n&&Fe(e[13]),16&n&&Fe(e[4]),1&n&&{as:e[0]},8&n&&{slotProps:e[3]},34&n&&{use:[...e[1],e[5]]},i[5]]):{};524296&n&&(o.$$scope={dirty:n,ctx:e}),!s&&4&n&&(s=!0,o.el=e[2],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function Kf(e,t,s){let o,i;const r=["as","use"];let l,a,c,d,f=$(t,r),{$$slots:p={},$$scope:h}=t,{as:m="button"}=t,{use:b=[]}=t;const y=od(ne());let w=Ff("ListboxButton");u(e,w,(e=>s(14,l=e)));let v=`headlessui-listbox-button-${gu()}`,x=l.buttonRef;u(e,x,(e=>s(2,d=e)));let _=l.optionsRef;u(e,_,(e=>s(16,c=e)));let E=l.labelRef;return u(e,E,(e=>s(15,a=e))),e.$$set=e=>{s(21,t=n(n({},t),g(e))),s(13,f=$(t,r)),"as"in e&&s(0,m=e.as),"use"in e&&s(1,b=e.use),"$$scope"in e&&s(19,h=e.$$scope)},e.$$.update=()=>{s(4,o={id:v,type:Nf({type:t.type,as:m},d),"aria-haspopup":!0,"aria-controls":c?.id,"aria-expanded":l.disabled?void 0:l.listboxState===Bf.Open,"aria-labelledby":a?[a?.id,v].join(" "):void 0,disabled:!0===l.disabled||void 0}),16384&e.$$.dirty&&s(3,i={open:l.listboxState===Bf.Open,disabled:l.disabled})},t=g(t),[m,b,d,i,o,y,w,x,_,E,async function(e){let t=e;switch(t.key){case xu.Space:case xu.Enter:case xu.ArrowDown:t.preventDefault(),l.openListbox(),await $e(),c?.focus({preventScroll:!0}),l.value||l.goToOption(Of.First);break;case xu.ArrowUp:t.preventDefault(),l.openListbox(),await $e(),c?.focus({preventScroll:!0}),l.value||l.goToOption(Of.Last)}},function(e){let t=e;if(t.key===xu.Space)t.preventDefault()},async function(e){let t=e;l.disabled||(l.listboxState===Bf.Open?(l.closeListbox(),await $e(),d?.focus({preventScroll:!0})):(t.preventDefault(),l.openListbox(),await $e(),c?.focus({preventScroll:!0})))},f,l,a,c,p,function(e){d=e,x.set(d)},h]}class Vf extends Ge{constructor(e){super(),We(this,e,Kf,Gf,l,{as:0,use:1})}}const zf=e=>({}),Xf=e=>({...e[2]});function Jf(e){let t;const n=e[18].default,s=d(n,e,e[20],Xf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||1048580&o)&&h(s,n,e,e[20],(e=>4&e)(o)||!t?m(e[20]):p(n,e[20],o,zf),Xf)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Zf(e){let t,s,o;const i=[e[13],e[4],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[6]]},{name:"ListboxOptions"},{visible:e[3]},{features:ld.RenderStrategy|ld.Static}];function r(t){e[19](t)}let l={$$slots:{default:[Jf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[5]&&(l.el=e[5]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[5]))),t.$on("keydown",e[11]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=8287&n?Me(i,[8192&n&&Fe(e[13]),16&n&&Fe(e[4]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},66&n&&{use:[...e[1],e[6]]},i[5],8&n&&{visible:e[3]},0&n&&{features:ld.RenderStrategy|ld.Static}]):{};1048580&n&&(o.$$scope={dirty:n,ctx:e}),!s&&32&n&&(s=!0,o.el=e[5],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function Yf(e,t,s){let o,i,r;const l=["as","use"];let a,c,d,f,p,h=$(t,l),{$$slots:m={},$$scope:b}=t,{as:y="ul"}=t,{use:w=[]}=t;const v=od(ne());let x=Ff("ListboxOptions");u(e,x,(e=>s(14,a=e)));let _=`headlessui-listbox-options-${gu()}`,E=a.optionsRef;u(e,E,(e=>s(5,p=e)));let k=a.buttonRef;u(e,k,(e=>s(16,d=e)));let A=a.labelRef;u(e,A,(e=>s(17,f=e)));let S=null;let L=fu();return u(e,L,(e=>s(15,c=e))),e.$$set=e=>{t=n(n({},t),g(e)),s(13,h=$(t,l)),"as"in e&&s(0,y=e.as),"use"in e&&s(1,w=e.use),"$$scope"in e&&s(20,b=e.$$scope)},e.$$.update=()=>{212992&e.$$.dirty&&s(4,o={"aria-activedescendant":null===a.activeOptionIndex?void 0:a.options[a.activeOptionIndex]?.id,"aria-labelledby":f?.id??d?.id,"aria-orientation":a.orientation,id:_,role:"listbox",tabIndex:0}),49152&e.$$.dirty&&s(3,i=void 0!==L?c===Jc.Open:a.listboxState===Bf.Open),16384&e.$$.dirty&&s(2,r={open:a.listboxState===Bf.Open})},[y,w,r,i,o,p,v,x,E,k,A,async function(e){let t=e;switch(S&&clearTimeout(S),t.key){case xu.Space:if(""!==a.searchQuery)return t.preventDefault(),t.stopPropagation(),a.search(t.key);case xu.Enter:if(t.preventDefault(),t.stopPropagation(),null!==a.activeOptionIndex){let{dataRef:e}=a.options[a.activeOptionIndex];a.select(e.value)}a.closeListbox(),await $e(),d?.focus({preventScroll:!0});break;case hu(a.orientation,{vertical:xu.ArrowDown,horizontal:xu.ArrowRight}):return t.preventDefault(),t.stopPropagation(),a.goToOption(Of.Next);case hu(a.orientation,{vertical:xu.ArrowUp,horizontal:xu.ArrowLeft}):return t.preventDefault(),t.stopPropagation(),a.goToOption(Of.Previous);case xu.Home:case xu.PageUp:return t.preventDefault(),t.stopPropagation(),a.goToOption(Of.First);case xu.End:case xu.PageDown:return t.preventDefault(),t.stopPropagation(),a.goToOption(Of.Last);case xu.Escape:t.preventDefault(),t.stopPropagation(),a.closeListbox(),await $e(),d?.focus({preventScroll:!0});break;case xu.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(a.search(t.key),S=setTimeout((()=>a.clearSearch()),350))}},L,h,a,c,d,f,m,function(e){p=e,E.set(p)},b]}class ep extends Ge{constructor(e){super(),We(this,e,Yf,Zf,l,{as:0,use:1})}}const tp=e=>({}),np=e=>({...e[2]});function sp(e){let t;const n=e[17].default,s=d(n,e,e[18],np);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262148&o)&&h(s,n,e,e[18],(e=>4&e)(o)||!t?m(e[18]):p(n,e[18],o,tp),np)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function op(e){let t,s;const o=[e[11],e[3],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"ListboxOption"}];let i={$$slots:{default:[sp]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Yd({props:i}),t.$on("click",e[7]),t.$on("focus",e[8]),t.$on("pointermove",e[9]),t.$on("mousemove",e[9]),t.$on("pointerleave",e[10]),t.$on("mouseleave",e[10]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,[n]){const s=2079&n?Me(o,[2048&n&&Fe(e[11]),8&n&&Fe(e[3]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[5]]):{};262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function ip(e,t,s){let o,i,r,l,a;const c=["as","use","value","disabled"];let d,f,p=$(t,c),{$$slots:h={},$$scope:m}=t,{as:b="li"}=t,{use:y=[]}=t,{value:w}=t,{disabled:v=!1}=t;const x=od(ne());let _=Ff("ListboxOption");u(e,_,(e=>s(16,d=e)));let E=`headlessui-listbox-option-${gu()}`,k=d.buttonRef;u(e,k,(e=>s(23,f=e))),se((()=>{let e=document.getElementById(E)?.textContent?.toLowerCase().trim();void 0!==e&&(r.textValue=e)})),se((()=>d.registerOption(E,r))),ie((()=>d.unregisterOption(E)));let A=d.listboxState,S=i,L=o;return e.$$set=e=>{t=n(n({},t),g(e)),s(11,p=$(t,c)),"as"in e&&s(0,b=e.as),"use"in e&&s(1,y=e.use),"value"in e&&s(12,w=e.value),"disabled"in e&&s(13,v=e.disabled),"$$scope"in e&&s(18,m=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&s(15,o=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===E),69632&e.$$.dirty&&s(14,i=d.value===w),12288&e.$$.dirty&&(r={disabled:v,value:w,textValue:""}),114688&e.$$.dirty&&async function(e,t,n){await $e(),e===A&&t===S||e===Bf.Open&&t&&d.goToOption(Of.Specific,E),e===A&&n===L||e===Bf.Open&&n&&document.getElementById(E)?.scrollIntoView?.({block:"nearest"}),A=e,S=t,L=n}(d.listboxState,i,o),24576&e.$$.dirty&&s(3,l={id:E,role:"option",tabIndex:!0===v?void 0:-1,"aria-disabled":!0===v||void 0,"aria-selected":!0===i?i:void 0}),57344&e.$$.dirty&&s(2,a={active:o,selected:i,disabled:v})},[b,y,a,l,x,_,k,async function(e){if(v)return e.preventDefault();d.select(w),d.closeListbox(),await $e(),f?.focus({preventScroll:!0})},function(){if(v)return d.goToOption(Of.Nothing);d.goToOption(Of.Specific,E)},function(){v||o||d.goToOption(Of.Specific,E)},function(){v||o&&d.goToOption(Of.Nothing)},p,w,v,i,o,d,h,m]}class rp extends Ge{constructor(e){super(),We(this,e,ip,op,l,{as:0,use:1,value:12,disabled:13})}}const lp=e=>({}),ap=e=>({...e[2]});function cp(e){let t;const n=e[14].default,s=d(n,e,e[15],ap);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||32772&o)&&h(s,n,e,e[15],(e=>4&e)(o)||!t?m(e[15]):p(n,e[15],o,lp),ap)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function up(e){let t,s,o,i;const r=[e[9],{use:[...e[0],e[3]]},{as:e[1]},{slotProps:e[2]},{name:"Menu"}];let l={$$slots:{default:[cp]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)l=n(l,r[e]);return t=new Yd({props:l}),{c(){je(t.$$.fragment)},m(n,r){He(t,n,r),s=!0,o||(i=B(window,"mousedown",e[7]),o=!0)},p(e,[n]){const s=527&n?Me(r,[512&n&&Fe(e[9]),9&n&&{use:[...e[0],e[3]]},2&n&&{as:e[1]},4&n&&{slotProps:e[2]},r[4]]):{};32772&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e),o=!1,i()}}}var dp;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(dp||(dp={}));const fp="headlessui-menu-context";function pp(e){let t=ae(fp);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Menu /> component.`);return t}function hp(e,t,s){let o;const i=["use","as"];let r,l,a,c,d=$(t,i),{$$slots:f={},$$scope:p}=t,{use:h=[]}=t,{as:m="div"}=t;const b=od(ne());let w=dp.Closed,v=Ve(null);u(e,v,(e=>s(17,l=e)));let x=Ve(null);u(e,x,(e=>s(19,c=e)));let _=[],E="",k=null,A=Ve({menuState:w,buttonStore:v,itemsStore:x,items:_,searchQuery:E,activeItemIndex:k,closeMenu:()=>{s(10,w=dp.Closed),s(13,k=null)},openMenu:()=>s(10,w=dp.Open),goToItem(e,t){let n=Cf(e===Of.Specific?{focus:Of.Specific,id:t}:{focus:e},{resolveItems:()=>_,resolveActiveIndex:()=>k,resolveId:e=>e.id,resolveDisabled:e=>e.data.disabled});""===E&&k===n||(s(12,E=""),s(13,k=n))},search(e){s(12,E+=e.toLowerCase());let t=(null!==k?_.slice(k+1).concat(_.slice(0,k+1)):_).find((e=>e.data.textValue.startsWith(E)&&!e.data.disabled)),n=t?_.indexOf(t):-1;-1!==n&&n!==k&&s(13,k=n)},clearSearch(){s(12,E="")},registerItem(e,t){if(!c)return void s(11,_=[..._,{id:e,data:t}]);let n=null!==k?_[k]:null,o=Array.from(c.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[..._,{id:e,data:t}];i.sort(((e,t)=>o[e.id]-o[t.id])),s(11,_=i),s(13,k=null===n?null:_.indexOf(n))},unregisterItem(e){let t=_.slice(),n=null!==k?t[k]:null,o=t.findIndex((t=>t.id===e));-1!==o&&t.splice(o,1),s(11,_=t),s(13,k=o===k||null===n?null:t.indexOf(n))}});u(e,A,(e=>s(18,a=e))),le(fp,A);let S=Ve(Jc.Closed);return u(e,S,(e=>s(16,r=e))),pu(S),e.$$set=e=>{t=n(n({},t),g(e)),s(9,d=$(t,i)),"use"in e&&s(0,h=e.use),"as"in e&&s(1,m=e.as),"$$scope"in e&&s(15,p=e.$$scope)},e.$$.update=()=>{15360&e.$$.dirty&&A.update((e=>({...e,menuState:w,buttonStore:v,itemsStore:x,items:_,searchQuery:E,activeItemIndex:k}))),1024&e.$$.dirty&&y(S,r=hu(w,{[dp.Open]:Jc.Open,[dp.Closed]:Jc.Closed}),r),1024&e.$$.dirty&&s(2,o={open:w===dp.Open})},[h,m,o,b,v,x,A,function(e){let t=e.target,n=document.activeElement;w===dp.Open&&(l?.contains(t)||(c?.contains(t)||a.closeMenu(),n!==document.body&&n?.contains(t)||e.defaultPrevented||l?.focus({preventScroll:!0})))},S,d,w,_,E,k,f,p]}class mp extends Ge{constructor(e){super(),We(this,e,hp,up,l,{use:0,as:1})}}const gp=e=>({}),$p=e=>({...e[3]});function bp(e){let t;const n=e[16].default,s=d(n,e,e[18],$p);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262152&o)&&h(s,n,e,e[18],(e=>8&e)(o)||!t?m(e[18]):p(n,e[18],o,gp),$p)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function yp(e){let t,s,o;const i=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[7]]},{name:"MenuButton"}];function r(t){e[17](t)}let l={$$slots:{default:[bp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[2]))),t.$on("click",e[11]),t.$on("keydown",e[9]),t.$on("keyup",e[10]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=4251&n?Me(i,[4112&n&&{...e[12],...e[4]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},130&n&&{use:[...e[1],e[7]]},i[4]]):{};262152&n&&(o.$$scope={dirty:n,ctx:e}),!s&&4&n&&(s=!0,o.el=e[2],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function wp(t,s,o){let i,r,l,c;const d=["as","use","disabled"];let f,p,h,m=$(s,d),b=e,y=e;t.$$.on_destroy.push((()=>b())),t.$$.on_destroy.push((()=>y()));let{$$slots:w={},$$scope:v}=s,{as:x="button"}=s,{use:_=[]}=s,{disabled:E=!1}=s;const k=od(ne()),A=pp("MenuButton");u(t,A,(e=>o(14,f=e)));const S=`headlessui-menu-button-${gu()}`;return t.$$set=e=>{o(20,s=n(n({},s),g(e))),o(12,m=$(s,d)),"as"in e&&o(0,x=e.as),"use"in e&&o(1,_=e.use),"disabled"in e&&o(13,E=e.disabled),"$$scope"in e&&o(18,v=e.$$scope)},t.$$.update=()=>{16384&t.$$.dirty&&(o(6,i=f.buttonStore),y(),y=a(i,(e=>o(2,h=e)))),16384&t.$$.dirty&&(o(5,r=f.itemsStore),b(),b=a(r,(e=>o(15,p=e)))),o(4,l={id:S,type:Nf({type:s.type,as:x},h),disabled:!!E||void 0,"aria-haspopup":!0,"aria-controls":p?.id,"aria-expanded":E?void 0:f.menuState===dp.Open}),16384&t.$$.dirty&&o(3,c={open:f.menuState===dp.Open})},s=g(s),[x,_,h,c,l,r,i,k,A,async function(e){let t=e;switch(t.key){case xu.Space:case xu.Enter:case xu.ArrowDown:t.preventDefault(),t.stopPropagation(),f.openMenu(),await $e(),p?.focus({preventScroll:!0}),f.goToItem(Of.First);break;case xu.ArrowUp:t.preventDefault(),t.stopPropagation(),f.openMenu(),await $e(),p?.focus({preventScroll:!0}),f.goToItem(Of.Last)}},function(e){let t=e;if(t.key===xu.Space)t.preventDefault()},async function(e){let t=e;E||(f.menuState===dp.Open?(f.closeMenu(),await $e(),h?.focus({preventScroll:!0})):(t.preventDefault(),t.stopPropagation(),f.openMenu(),await $e(),p?.focus({preventScroll:!0})))},m,E,f,p,w,function(e){h=e,i.set(h)},v]}class vp extends Ge{constructor(e){super(),We(this,e,wp,yp,l,{as:0,use:1,disabled:13})}}const xp=e=>({}),_p=e=>({...e[3]});function Ep(e){let t;const n=e[17].default,s=d(n,e,e[19],_p);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&h(s,n,e,e[19],(e=>8&e)(o)||!t?m(e[19]):p(n,e[19],o,xp),_p)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function kp(e){let t,s,o;const i=[{...e[13],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[8]]},{name:"MenuItems"},{visible:e[5]},{features:ld.RenderStrategy|ld.Static}];function r(t){e[18](t)}let l={$$slots:{default:[Ep]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[2]))),t.$on("keydown",e[11]),t.$on("keyup",e[12]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=8507&n?Me(i,[8208&n&&{...e[13],...e[4]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},258&n&&{use:[...e[1],e[8]]},i[4],32&n&&{visible:e[5]},0&n&&{features:ld.RenderStrategy|ld.Static}]):{};524296&n&&(o.$$scope={dirty:n,ctx:e}),!s&&4&n&&(s=!0,o.el=e[2],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function Ap(t,s,o){let i,r,l,c,d;const f=["as","use"];let p,h,m,b,y=$(s,f),w=e,v=e;t.$$.on_destroy.push((()=>w())),t.$$.on_destroy.push((()=>v()));let{$$slots:x={},$$scope:_}=s,{as:E="div"}=s,{use:k=[]}=s;const A=od(ne()),S=pp("MenuItems");u(t,S,(e=>o(14,p=e)));const L=`headlessui-menu-items-${gu()}`;let I=null,T=fu();return u(t,T,(e=>o(16,b=e))),t.$$set=e=>{s=n(n({},s),g(e)),o(13,y=$(s,f)),"as"in e&&o(0,E=e.as),"use"in e&&o(1,k=e.use),"$$scope"in e&&o(19,_=e.$$scope)},t.$$.update=()=>{16384&t.$$.dirty&&(o(7,i=p.buttonStore),w(),w=a(i,(e=>o(15,h=e)))),16384&t.$$.dirty&&(o(6,r=p.itemsStore),v(),v=a(r,(e=>o(2,m=e)))),81920&t.$$.dirty&&o(5,l=void 0!==T?b===Jc.Open:p.menuState===dp.Open),16388&t.$$.dirty&&function({container:e,accept:t,walk:n,enabled:s}){let o=e;if(!o)return;if(void 0!==s&&!s)return;let i=Object.assign((e=>t(e)),{acceptNode:t}),r=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,i,!1);for(;r.nextNode();)n(r.currentNode)}({container:m,enabled:p.menuState===dp.Open,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}}),49152&t.$$.dirty&&o(4,c={"aria-activedescendant":null===p.activeItemIndex?void 0:p.items[p.activeItemIndex]?.id,"aria-labelledby":h?.id,id:L,role:"menu",tabIndex:0}),16384&t.$$.dirty&&o(3,d={open:p.menuState===dp.Open})},[E,k,m,d,c,l,r,i,A,S,T,async function(e){I&&clearTimeout(I);let t=e;switch(t.key){case xu.Space:if(""!==p.searchQuery)return t.preventDefault(),t.stopPropagation(),p.search(t.key);case xu.Enter:if(t.preventDefault(),t.stopPropagation(),null!==p.activeItemIndex){let{id:e}=p.items[p.activeItemIndex];document.getElementById(e)?.click()}p.closeMenu(),await $e(),h?.focus({preventScroll:!0});break;case xu.ArrowDown:return t.preventDefault(),t.stopPropagation(),p.goToItem(Of.Next);case xu.ArrowUp:return t.preventDefault(),t.stopPropagation(),p.goToItem(Of.Previous);case xu.Home:case xu.PageUp:return t.preventDefault(),t.stopPropagation(),p.goToItem(Of.First);case xu.End:case xu.PageDown:return t.preventDefault(),t.stopPropagation(),p.goToItem(Of.Last);case xu.Escape:t.preventDefault(),t.stopPropagation(),p.closeMenu(),await $e(),h?.focus({preventScroll:!0});break;case xu.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(p.search(t.key),I=setTimeout((()=>p.clearSearch()),350))}},function(e){let t=e;if(t.key===xu.Space)t.preventDefault()},y,p,h,b,x,function(e){m=e,r.set(m)},_]}class Sp extends Ge{constructor(e){super(),We(this,e,Ap,kp,l,{as:0,use:1})}}const Lp=e=>({}),Ip=e=>({...e[3]});function Tp(e){let t;const n=e[17].default,s=d(n,e,e[19],Ip);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&h(s,n,e,e[19],(e=>8&e)(o)||!t?m(e[19]):p(n,e[19],o,Lp),Ip)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Op(e){let t,s,o;const i=[{...e[12],...e[4]},{use:[...e[1],e[6]]},{as:e[0]},{slotProps:e[3]},{name:"MenuItem"}];function r(t){e[18](t)}let l={$$slots:{default:[Tp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[2]))),t.$on("click",e[8]),t.$on("focus",e[9]),t.$on("pointermove",e[10]),t.$on("mousemove",e[10]),t.$on("pointerleave",e[11]),t.$on("mouseleave",e[11]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=4187&n?Me(i,[4112&n&&{...e[12],...e[4]},66&n&&{use:[...e[1],e[6]]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},i[4]]):{};524296&n&&(o.$$scope={dirty:n,ctx:e}),!s&&4&n&&(s=!0,o.el=e[2],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function Np(t,s,o){let i,r,l,c,d;const f=["as","use","disabled"];let p,h,m=$(s,f),b=e;t.$$.on_destroy.push((()=>b()));let{$$slots:y={},$$scope:w}=s,{as:v="a"}=s,{use:x=[]}=s,{disabled:_=!1}=s;const E=od(ne(),[{name:"click",shouldExclude:()=>_}]),k=pp("MenuItem");u(t,k,(e=>o(16,p=e)));const A=`headlessui-menu-item-${gu()}`;let S,L={disabled:_,textValue:l};return se((async()=>{p.registerItem(A,L)})),ie((()=>{p.unregisterItem(A)})),oe((async()=>{p.menuState===dp.Open&&i&&(await $e(),S?.scrollIntoView?.({block:"nearest"}))})),t.$$set=e=>{s=n(n({},s),g(e)),o(12,m=$(s,f)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"disabled"in e&&o(13,_=e.disabled),"$$scope"in e&&o(19,w=e.$$scope)},t.$$.update=()=>{65536&t.$$.dirty&&o(14,i=null!==p.activeItemIndex&&p.items[p.activeItemIndex].id===A),65536&t.$$.dirty&&(o(5,r=p.buttonStore),b(),b=a(r,(e=>o(21,h=e)))),4&t.$$.dirty&&o(15,l=S?.textContent?.toLowerCase().trim()||""),8192&t.$$.dirty&&(L.disabled=_),32768&t.$$.dirty&&(L.textValue=l),8192&t.$$.dirty&&o(4,c={id:A,role:"menuitem",tabIndex:!0===_?void 0:-1,"aria-disabled":!0===_||void 0}),24576&t.$$.dirty&&o(3,d={active:i,disabled:_})},[v,x,S,d,c,r,E,k,async function(e){if(_)return e.preventDefault();p.closeMenu(),h?.focus({preventScroll:!0})},function(){if(_)return p.goToItem(Of.Nothing);p.goToItem(Of.Specific,A)},function(){_||i||p.goToItem(Of.Specific,A)},function(){_||i&&p.goToItem(Of.Nothing)},m,_,i,l,p,y,function(e){S=e,o(2,S)},w]}class Cp extends Ge{constructor(e){super(),We(this,e,Np,Op,l,{as:0,use:1,disabled:13})}}var Dp;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Dp||(Dp={}));const Pp=e=>({}),Rp=e=>({...e[3]}),Up=e=>({}),Bp=e=>({...e[3]});function Mp(e){let t,s;const o=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[6]]},{name:"Switch"}];let i={$$slots:{default:[Qp]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Yd({props:i}),t.$on("click",e[10]),t.$on("keyup",e[11]),t.$on("keypress",qp),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,n){const s=4187&n?Me(o,[4112&n&&{...e[12],...e[4]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},66&n&&{use:[...e[1],e[6]]},o[4]]):{};524296&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function Fp(e){let t,s,o;const i=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[6]]},{name:"Switch"}];function r(t){e[18](t)}let l={$$slots:{default:[jp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[2]))),t.$on("click",e[10]),t.$on("keyup",e[11]),t.$on("keypress",qp),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,n){const o=4187&n?Me(i,[4112&n&&{...e[12],...e[4]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},66&n&&{use:[...e[1],e[6]]},i[4]]):{};524296&n&&(o.$$scope={dirty:n,ctx:e}),!s&&4&n&&(s=!0,o.el=e[2],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function Qp(e){let t;const n=e[17].default,s=d(n,e,e[19],Rp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&h(s,n,e,e[19],(e=>8&e)(o)||!t?m(e[19]):p(n,e[19],o,Pp),Rp)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function jp(e){let t;const n=e[17].default,s=d(n,e,e[19],Bp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&h(s,n,e,e[19],(e=>8&e)(o)||!t?m(e[19]):p(n,e[19],o,Up),Bp)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Hp(e){let t,n,s,o;const i=[Fp,Mp],r=[];function l(e,t){return e[5]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=U()},m(e,n){r[t].m(e,n),T(e,s,n),o=!0},p(e,[o]){let a=t;t=l(e),t===a?r[t].p(e,o):(Ie(),Ne(r[a],1,1,(()=>{r[a]=null})),Te(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),Oe(n,1),n.m(s.parentNode,s))},i(e){o||(Oe(n),o=!0)},o(e){Ne(n),o=!1},d(e){r[t].d(e),e&&O(s)}}}function qp(e){e.preventDefault()}function Wp(t,s,o){let i,r,l;const c=["as","use","checked"];let d,f,p,h,m=$(s,c),b=e;t.$$.on_destroy.push((()=>b()));let{$$slots:y={},$$scope:w}=s,{as:v="button"}=s,{use:x=[]}=s,{checked:_=!1}=s;const E=od(ne(),["change"]),k=re();let A=ae("headlessui-switch-context");u(t,A,(e=>o(16,h=e)));let S=ae("headlessui-label-context");u(t,S,(e=>o(15,f=e)));let L=ae(ju);u(t,L,(e=>o(14,d=e)));let I=`headlessui-switch-${gu()}`;function T(){k("change",!_)}return t.$$set=e=>{o(23,s=n(n({},s),g(e))),o(12,m=$(s,c)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"checked"in e&&o(13,_=e.checked),"$$scope"in e&&o(19,w=e.$$scope)},t.$$.update=()=>{65536&t.$$.dirty&&(o(5,i=h?.switchStore),b(),b=a(i,(e=>o(2,p=e)))),o(4,r={id:I,role:"switch",type:Nf({type:s.type,as:v},p),tabIndex:0,"aria-checked":_,"aria-labelledby":f?.labelIds,"aria-describedby":d?.descriptionIds}),8192&t.$$.dirty&&o(3,l={checked:_})},s=g(s),[v,x,p,l,r,i,E,A,S,L,function(e){e.preventDefault(),T()},function(e){let t=e;t.key!==xu.Tab&&t.preventDefault(),t.key===xu.Space&&T()},m,_,d,f,h,y,function(e){p=e,i.set(p)},w]}class Gp extends Ge{constructor(e){super(),We(this,e,Wp,Hp,l,{as:0,use:1,checked:13})}}const Kp=e=>({}),Vp=e=>({...e[2]});function zp(e){let t;const n=e[12].default,s=d(n,e,e[13],Vp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||8196&o)&&h(s,n,e,e[13],(e=>4&e)(o)||!t?m(e[13]):p(n,e[13],o,Kp),Vp)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Xp(e){let t,s;const o=[e[5],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"TabGroup"}];let i={$$slots:{default:[zp]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Yd({props:i}),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,[n]){const s=47&n?Me(o,[32&n&&Fe(e[5]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},o[4]]):{};8196&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}const Jp="headlessui-tabs-context";function Zp(e){let t=ae(Jp);if(void 0===t)throw new Error(`<${e} /> is missing a parent <TabGroup /> component.`);return t}function Yp(e,t,s){let o;const i=["as","use","defaultIndex","vertical","manual"];let r,l=$(t,i),{$$slots:a={},$$scope:c}=t,{as:d="div"}=t,{use:f=[]}=t,{defaultIndex:p=0}=t,{vertical:h=!1}=t,{manual:m=!1}=t;const b=od(ne(),["change"]),y=re();let w=null,v=[],x=[],_=Ve(null);u(e,_,(e=>s(14,r=e)));let E=Ve({selectedIndex:w,orientation:h?"vertical":"horizontal",activation:m?"manual":"auto",tabs:v,panels:x,listRef:_,setSelectedIndex(e){w!==e&&(s(9,w=e),y("change",e))},registerTab(e){if(v.includes(e))return;if(!r)return void s(10,v=[...v,e]);let t=null!==w?v[w]:null,n=Array.from(r.querySelectorAll('[id^="headlessui-tabs-tab-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),o=[...v,e];o.sort(((e,t)=>n[e.id]-n[t.id])),s(10,v=o),s(9,w=null===t?null:v.indexOf(t))},unregisterTab(e){s(10,v=v.filter((t=>t!==e)))},registerPanel(e){x.includes(e)||s(11,x=[...x,e])},unregisterPanel(e){s(11,x=x.filter((t=>t!==e)))}});return le(Jp,E),se((()=>{if(v.length<=0)return;if(null!==w)return;let e=v.filter(Boolean),t=e.filter((e=>!e.hasAttribute("disabled")));if(!(t.length<=0))if(p<0)s(9,w=e.indexOf(t[0]));else if(p>e.length)s(9,w=e.indexOf(t[t.length-1]));else{let n=e.slice(0,p),o=[...e.slice(p),...n].find((e=>t.includes(e)));if(!o)return;s(9,w=e.indexOf(o))}})),e.$$set=e=>{t=n(n({},t),g(e)),s(5,l=$(t,i)),"as"in e&&s(0,d=e.as),"use"in e&&s(1,f=e.use),"defaultIndex"in e&&s(6,p=e.defaultIndex),"vertical"in e&&s(7,h=e.vertical),"manual"in e&&s(8,m=e.manual),"$$scope"in e&&s(13,c=e.$$scope)},e.$$.update=()=>{3968&e.$$.dirty&&E.update((e=>({...e,selectedIndex:w,orientation:h?"vertical":"horizontal",activation:m?"manual":"auto",tabs:v,panels:x}))),512&e.$$.dirty&&s(2,o={selectedIndex:w})},[d,f,o,b,_,l,p,h,m,w,v,x,a,c]}class eh extends Ge{constructor(e){super(),We(this,e,Yp,Xp,l,{as:0,use:1,defaultIndex:6,vertical:7,manual:8})}}const th=e=>({}),nh=e=>({...e[5]});function sh(e){let t;const n=e[17].default,s=d(n,e,e[19],nh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524320&o)&&h(s,n,e,e[19],(e=>32&e)(o)||!t?m(e[19]):p(n,e[19],o,th),nh)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function oh(e){let t,s,o;const i=[{...e[12],...e[3]},{as:e[0]},{slotProps:e[5]},{use:[...e[1],e[7]]},{name:"Tab"}];function l(t){e[18](t)}let a={$$slots:{default:[sh]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)a=n(a,i[e]);return void 0!==e[2]&&(a.el=e[2]),t=new Yd({props:a}),de.push((()=>Qe(t,"el",l,e[2]))),t.$on("keydown",e[9]),t.$on("click",e[11]),t.$on("focus",(function(){r("manual"===e[4].activation?e[10]:e[11])&&("manual"===e[4].activation?e[10]:e[11]).apply(this,arguments)})),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(n,[o]){e=n;const r=4267&o?Me(i,[4104&o&&{...e[12],...e[3]},1&o&&{as:e[0]},32&o&&{slotProps:e[5]},130&o&&{use:[...e[1],e[7]]},i[4]]):{};524320&o&&(r.$$scope={dirty:o,ctx:e}),!s&&4&o&&(s=!0,r.el=e[2],ye((()=>s=!1))),t.$set(r)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function ih(t,s,o){let i,r,l,c,d;const f=["as","use","disabled"];let p,h,m=$(s,f),b=e;t.$$.on_destroy.push((()=>b()));let{$$slots:y={},$$scope:w}=s,{as:v="button"}=s,{use:x=[]}=s,{disabled:_=!1}=s;const E=od(ne());let k=Zp("Tab");u(t,k,(e=>o(4,p=e)));let A=`headlessui-tabs-tab-${gu()}`,S=null;return se((()=>(p.registerTab(S),()=>p.unregisterTab(S)))),t.$$set=e=>{o(21,s=n(n({},s),g(e))),o(12,m=$(s,f)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"disabled"in e&&o(13,_=e.disabled),"$$scope"in e&&o(19,w=e.$$scope)},t.$$.update=()=>{20&t.$$.dirty&&o(15,i=S?p.tabs.indexOf(S):-1),32784&t.$$.dirty&&o(14,r=i===p.selectedIndex),32784&t.$$.dirty&&(o(6,l=p.panels[i]?.ref),b(),b=a(l,(e=>o(16,h=e)))),o(3,c={id:A,role:"tab",type:Nf({type:s.type,as:v},S),"aria-controls":h?p.panels[i]?.id:void 0,"aria-selected":r,tabIndex:r?0:-1,disabled:!!_||void 0}),t.$$.dirty,16384&t.$$.dirty&&o(5,d={selected:r})},s=g(s),[v,x,S,c,p,d,l,E,k,function(e){let t=e,n=p.tabs.filter(Boolean);if(t.key===xu.Space||t.key===xu.Enter)return t.preventDefault(),t.stopPropagation(),void p.setSelectedIndex(i);switch(t.key){case xu.Home:case xu.PageUp:return t.preventDefault(),t.stopPropagation(),Iu(n,Eu.First);case xu.End:case xu.PageDown:return t.preventDefault(),t.stopPropagation(),Iu(n,Eu.Last)}return hu(p.orientation,{vertical:()=>t.key===xu.ArrowUp?Iu(n,Eu.Previous|Eu.WrapAround):t.key===xu.ArrowDown?Iu(n,Eu.Next|Eu.WrapAround):void 0,horizontal:()=>t.key===xu.ArrowLeft?Iu(n,Eu.Previous|Eu.WrapAround):t.key===xu.ArrowRight?Iu(n,Eu.Next|Eu.WrapAround):void 0})},function(){S?.focus()},function(){_||(S?.focus(),p.setSelectedIndex(i))},m,_,r,i,h,y,function(e){S=e,o(2,S)},w]}class rh extends Ge{constructor(e){super(),We(this,e,ih,oh,l,{as:0,use:1,disabled:13})}}const lh=e=>({}),ah=e=>({...e[2]});function ch(e){let t;const n=e[10].default,s=d(n,e,e[12],ah);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4100&o)&&h(s,n,e,e[12],(e=>4&e)(o)||!t?m(e[12]):p(n,e[12],o,lh),ah)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function uh(e){let t,s,o;const i=[{...e[8],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[5]]},{name:"TabList"}];function r(t){e[11](t)}let l={$$slots:{default:[ch]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[4]&&(l.el=e[4]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[4]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=303&n?Me(i,[264&n&&{...e[8],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},34&n&&{use:[...e[1],e[5]]},i[4]]):{};4100&n&&(o.$$scope={dirty:n,ctx:e}),!s&&16&n&&(s=!0,o.el=e[4],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function dh(e,t,s){let o,i;const r=["as","use"];let l,a,c=$(t,r),{$$slots:d={},$$scope:f}=t,{as:p="div"}=t,{use:h=[]}=t;const m=od(ne());let b=Zp("TabList");u(e,b,(e=>s(9,l=e)));let y=l.listRef;return u(e,y,(e=>s(4,a=e))),e.$$set=e=>{t=n(n({},t),g(e)),s(8,c=$(t,r)),"as"in e&&s(0,p=e.as),"use"in e&&s(1,h=e.use),"$$scope"in e&&s(12,f=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&s(3,o={role:"tablist","aria-orientation":l.orientation}),512&e.$$.dirty&&s(2,i={selectedIndex:l.selectedIndex})},[p,h,i,o,a,m,b,y,c,l,d,function(e){a=e,y.set(a)},f]}class fh extends Ge{constructor(e){super(),We(this,e,dh,uh,l,{as:0,use:1})}}const ph=e=>({}),hh=e=>({...e[2]});function mh(e){let t;const n=e[7].default,s=d(n,e,e[8],hh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||260&o)&&h(s,n,e,e[8],(e=>4&e)(o)||!t?m(e[8]):p(n,e[8],o,ph),hh)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function gh(e){let t,s;const o=[e[5],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"TabPanels"}];let i={$$slots:{default:[mh]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=n(i,o[e]);return t=new Yd({props:i}),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,[n]){const s=47&n?Me(o,[32&n&&Fe(e[5]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},o[4]]):{};260&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function $h(e,t,s){let o;const i=["as","use"];let r,l=$(t,i),{$$slots:a={},$$scope:c}=t,{as:d="div"}=t,{use:f=[]}=t;const p=od(ne());let h=Zp("TabPanels");return u(e,h,(e=>s(6,r=e))),e.$$set=e=>{t=n(n({},t),g(e)),s(5,l=$(t,i)),"as"in e&&s(0,d=e.as),"use"in e&&s(1,f=e.use),"$$scope"in e&&s(8,c=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&s(2,o={selectedIndex:r.selectedIndex})},[d,f,o,p,h,l,r,a,c]}class bh extends Ge{constructor(e){super(),We(this,e,$h,gh,l,{as:0,use:1})}}const yh=e=>({}),wh=e=>({...e[4]});function vh(e){let t;const n=e[13].default,s=d(n,e,e[15],wh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||32784&o)&&h(s,n,e,e[15],(e=>16&e)(o)||!t?m(e[15]):p(n,e[15],o,yh),wh)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function xh(e){let t,s,o;const i=[{...e[9],...e[3]},{as:e[0]},{use:[...e[1],e[6]]},{name:"TabPanel"},{slotProps:e[4]},{visible:e[2]},{features:ld.RenderStrategy|ld.Static}];function r(t){e[14](t)}let l={$$slots:{default:[vh]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=n(l,i[e]);return void 0!==e[5]&&(l.el=e[5]),t=new Yd({props:l}),de.push((()=>Qe(t,"el",r,e[5]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[n]){const o=607&n?Me(i,[520&n&&{...e[9],...e[3]},1&n&&{as:e[0]},66&n&&{use:[...e[1],e[6]]},i[3],16&n&&{slotProps:e[4]},4&n&&{visible:e[2]},0&n&&{features:ld.RenderStrategy|ld.Static}]):{};32784&n&&(o.$$scope={dirty:n,ctx:e}),!s&&32&n&&(s=!0,o.el=e[5],ye((()=>s=!1))),t.$set(o)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function _h(e,t,s){let o,i,r,l,a;const c=["as","use"];let d,f,p=$(t,c),{$$slots:h={},$$scope:m}=t,{as:b="div"}=t,{use:y=[]}=t;const w=od(ne());let v=Ve(null);u(e,v,(e=>s(5,f=e)));let x=Zp("TabPanel");u(e,x,(e=>s(12,d=e)));let _=`headlessui-tabs-panel-${gu()}`;return se((()=>(d.registerPanel(o),()=>d.unregisterPanel(o)))),e.$$set=e=>{t=n(n({},t),g(e)),s(9,p=$(t,c)),"as"in e&&s(0,b=e.as),"use"in e&&s(1,y=e.use),"$$scope"in e&&s(15,m=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&s(10,i=d.panels.indexOf(o)),5120&e.$$.dirty&&s(2,r=i===d.selectedIndex),5124&e.$$.dirty&&s(3,l={id:_,role:"tabpanel","aria-labelledby":d.tabs[i]?.id,tabIndex:r?0:-1}),e.$$.dirty,4&e.$$.dirty&&s(4,a={selected:r})},s(11,o={id:_,ref:v}),[b,y,r,l,a,f,w,v,x,p,i,o,d,h,function(e){f=e,v.set(f)},m]}class Eh extends Ge{constructor(e){super(),We(this,e,_h,xh,l,{as:0,use:1})}}var kh,Ah;function Sh(t){let n,s,o,i,r,l,a,c;return{c(){n=C("div"),s=D("svg"),o=D("path"),r=R(),l=C("p"),a=P(t[0]),M(o,"d",i=t[3][t[2]]),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 48 48"),M(s,"class","fill-neutral-800 w-9 h-9 drop-shadow-component svelte-1adgtxp"),M(l,"class","font-semibold text-xs leading-3 "),M(n,"class",c="flex flex-col items-center justify-center cursor-pointer "+t[4].class+" svelte-1adgtxp"),M(n,"title",t[1])},m(e,t){T(e,n,t),S(n,s),S(s,o),S(n,r),S(n,l),S(l,a)},p(e,[t]){4&t&&i!==(i=e[3][e[2]])&&M(o,"d",i),1&t&&j(a,e[0]),16&t&&c!==(c="flex flex-col items-center justify-center cursor-pointer "+e[4].class+" svelte-1adgtxp")&&M(n,"class",c),2&t&&M(n,"title",e[1])},i:e,o:e,d(e){e&&O(n)}}}function Lh(e,t,s){const o=["text","title","icon"];let i=$(t,o),{text:r}=t,{title:l}=t,{icon:a}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(4,i=$(t,o)),"text"in e&&s(0,r=e.text),"title"in e&&s(1,l=e.title),"icon"in e&&s(2,a=e.icon)},[r,l,a,{settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",manual:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z",examples:"M15.95 35.5h16.1v-3h-16.1Zm0-8.5h16.1v-3h-16.1ZM11 44q-1.2 0-2.1-.9Q8 42.2 8 41V7q0-1.2.9-2.1Q9.8 4 11 4h18.05L40 14.95V41q0 1.2-.9 2.1-.9.9-2.1.9Zm16.55-27.7H37L27.55 7Z",copyright:"M19.35 32.55h9.05q.9 0 1.5-.65t.6-1.5v-2.8q0-.5-.375-.875t-.825-.375h-1.7q-.55 0-.9.35t-.35.9v.85H21.6v-8.9h4.75v.9q0 .5.375.875t.875.375h1.7q.5 0 .85-.35t.35-.9V17.6q0-.9-.6-1.525-.6-.625-1.5-.625h-9.05q-.85 0-1.375.65t-.525 1.6v12.65q0 .9.525 1.55t1.375.65Zm4.7 12.7q-4.55 0-8.45-1.625Q11.7 42 8.85 39.15 6 36.3 4.375 32.4 2.75 28.5 2.75 23.95q0-4.45 1.625-8.325Q6 11.75 8.85 8.875 11.7 6 15.6 4.35q3.9-1.65 8.45-1.65 4.45 0 8.325 1.65Q36.25 6 39.125 8.875 42 11.75 43.65 15.625 45.3 19.5 45.3 24t-1.65 8.4q-1.65 3.9-4.525 6.75-2.875 2.85-6.75 4.475Q28.5 45.25 24.05 45.25ZM24 24Zm0 16.55q7.05 0 11.8-4.725Q40.55 31.1 40.55 24T35.8 12.175Q31.05 7.45 24 7.45q-7.05 0-11.8 4.725Q7.45 16.9 7.45 24t4.75 11.825Q16.95 40.55 24 40.55Z"},i]}!function(e){e.Finished="finished",e.Cancelled="cancelled"}(kh||(kh={})),function(e){e.Visible="visible",e.Hidden="hidden"}(Ah||(Ah={}));class Ih extends Ge{constructor(e){super(),We(this,e,Lh,Sh,l,{text:0,title:1,icon:2})}}function Th(e){let t,n,s,o,r;const l=e[3].default,a=d(l,e,e[2],null);return{c(){t=C("button"),a&&a.c(),M(t,"class",n="text-black border-2 border-blue-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-blue-700 focus:bg-blue-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,i){T(n,t,i),a&&a.m(t,null),s=!0,o||(r=[B(t,"click",e[4]),B(t,"focus",e[5]),B(t,"focusout",e[6]),B(t,"mouseenter",e[7]),B(t,"mouseleave",e[8]),B(t,"mouseover",e[9])],o=!0)},p(e,[o]){a&&a.p&&(!s||4&o)&&h(a,l,e,e[2],s?p(l,e[2],o,null):m(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-blue-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-blue-700 focus:bg-blue-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&M(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Oe(a,e),s=!0)},o(e){Ne(a,e),s=!1},d(e){e&&O(t),a&&a.d(e),o=!1,i(r)}}}function Oh(e,t,s){const o=["disabled"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(1,i=$(t,o)),"disabled"in e&&s(0,a=e.disabled),"$$scope"in e&&s(2,l=e.$$scope)},[a,i,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class Nh extends Ge{constructor(e){super(),We(this,e,Oh,Th,l,{disabled:0})}}function Ch(e){let t,n,s,o,r;const l=e[3].default,a=d(l,e,e[2],null);return{c(){t=C("button"),a&&a.c(),M(t,"class",n="text-black border-2 border-gray-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-gray-700 focus:bg-gray-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,i){T(n,t,i),a&&a.m(t,null),s=!0,o||(r=[B(t,"click",e[4]),B(t,"focus",e[5]),B(t,"focusout",e[6]),B(t,"mouseenter",e[7]),B(t,"mouseleave",e[8]),B(t,"mouseover",e[9])],o=!0)},p(e,[o]){a&&a.p&&(!s||4&o)&&h(a,l,e,e[2],s?p(l,e[2],o,null):m(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-gray-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-gray-700 focus:bg-gray-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&M(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Oe(a,e),s=!0)},o(e){Ne(a,e),s=!1},d(e){e&&O(t),a&&a.d(e),o=!1,i(r)}}}function Dh(e,t,s){const o=["disabled"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(1,i=$(t,o)),"disabled"in e&&s(0,a=e.disabled),"$$scope"in e&&s(2,l=e.$$scope)},[a,i,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class Ph extends Ge{constructor(e){super(),We(this,e,Dh,Ch,l,{disabled:0})}}function Rh(e){let t,n=e[2].menu.overlays.save_to_file.title+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.title+"")&&j(t,n)},d(e){e&&O(t)}}}function Uh(e){let t,n=e[2].menu.overlays.save_to_file.buttons.save.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.buttons.save.text+"")&&j(t,n)},d(e){e&&O(t)}}}function Bh(e){let t,n=e[2].menu.overlays.save_to_file.buttons.cancel.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.buttons.cancel.text+"")&&j(t,n)},d(e){e&&O(t)}}}function Mh(e){let t,n,s,o,i,r,l,a,c,u,d,f,p,h,m,g,$,b;return t=new If({props:{class:"fixed top-0 left-0 bg-black/40 w-screen h-screen"}}),o=new _f({props:{$$slots:{default:[Rh]},$$scope:{ctx:e}}}),p=new Nh({props:{title:e[2].menu.overlays.save_to_file.buttons.save.title,$$slots:{default:[Uh]},$$scope:{ctx:e}}}),p.$on("click",e[3]),m=new Ph({props:{title:e[2].menu.overlays.save_to_file.buttons.cancel.title,$$slots:{default:[Bh]},$$scope:{ctx:e}}}),m.$on("click",e[4]),{c(){je(t.$$.fragment),n=R(),s=C("div"),je(o.$$.fragment),i=R(),r=C("div"),l=C("input"),c=R(),u=C("span"),u.textContent=".cpuvs",d=R(),f=C("div"),je(p.$$.fragment),h=R(),je(m.$$.fragment),M(l,"type","text"),M(l,"placeholder",a=e[2].menu.overlays.save_to_file.inputs.filename.placeholder),M(l,"class","border-2 border-black rounded-md"),M(u,"class","ml-1"),M(r,"class","flex items-center justify-center"),M(f,"class","flex items-center justify-center gap-2"),M(s,"class","fixed top-[50vh] left-[50vw] -translate-x-2/4 -translate-y-2/4 bg-white flex flex-col items-center justify-center gap-4 p-6 rounded-lg shadow-lg ")},m(a,y){He(t,a,y),T(a,n,y),T(a,s,y),He(o,s,null),S(s,i),S(s,r),S(r,l),H(l,e[1]),S(r,c),S(r,u),S(s,d),S(s,f),He(p,f,null),S(f,h),He(m,f,null),g=!0,$||(b=B(l,"input",e[6]),$=!0)},p(e,t){const n={};1028&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n),(!g||4&t&&a!==(a=e[2].menu.overlays.save_to_file.inputs.filename.placeholder))&&M(l,"placeholder",a),2&t&&l.value!==e[1]&&H(l,e[1]);const s={};4&t&&(s.title=e[2].menu.overlays.save_to_file.buttons.save.title),1028&t&&(s.$$scope={dirty:t,ctx:e}),p.$set(s);const i={};4&t&&(i.title=e[2].menu.overlays.save_to_file.buttons.cancel.title),1028&t&&(i.$$scope={dirty:t,ctx:e}),m.$set(i)},i(e){g||(Oe(t.$$.fragment,e),Oe(o.$$.fragment,e),Oe(p.$$.fragment,e),Oe(m.$$.fragment,e),g=!0)},o(e){Ne(t.$$.fragment,e),Ne(o.$$.fragment,e),Ne(p.$$.fragment,e),Ne(m.$$.fragment,e),g=!1},d(e){qe(t,e),e&&O(n),e&&O(s),qe(o),qe(p),qe(m),$=!1,b()}}}function Fh(e){let t,n;return t=new $f({props:{open:e[0],$$slots:{default:[Mh]},$$scope:{ctx:e}}}),t.$on("close",e[5]),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.open=e[0]),1030&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Qh(e,t,n){let s,o,i;u(e,fr,(e=>n(7,s=e))),u(e,dr,(e=>n(8,o=e))),u(e,Di,(e=>n(2,i=e)));const r=re();let{open:l}=t,a="";return e.$$set=e=>{"open"in e&&n(0,l=e.open)},[l,a,i,function(){""!==a&&($a(ea(o,s),`${a}.cpuvs`),n(1,a=""),r("close"))},function(){n(1,a=""),r("close")},function(){n(1,a=""),r("close")},function(){a=this.value,n(1,a)}]}class jh extends Ge{constructor(e){super(),We(this,e,Qh,Fh,l,{open:0})}}function Hh(t){let n,s,o,r,l,a,c,u;return{c(){n=C("button"),s=D("svg"),o=D("path"),r=D("path"),M(o,"d","M0 0h24v24H0V0z"),M(o,"fill","none"),M(r,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),M(s,"xmlns","http://www.w3.org/2000/svg"),M(s,"viewBox","0 0 24 24"),M(s,"fill","#FFFFFF"),M(s,"class",l=(t[0]?"":"hover:scale-105")+" fill-black"),q(s,"width",t[1]),q(s,"height",t[1]),M(n,"class",a="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+t[2].class),n.disabled=t[0]},m(e,i){T(e,n,i),S(n,s),S(s,o),S(s,r),c||(u=[B(n,"click",t[3]),B(n,"focus",t[4]),B(n,"focusout",t[5]),B(n,"mouseenter",t[6]),B(n,"mouseleave",t[7]),B(n,"mouseover",t[8])],c=!0)},p(e,[t]){1&t&&l!==(l=(e[0]?"":"hover:scale-105")+" fill-black")&&M(s,"class",l),2&t&&q(s,"width",e[1]),2&t&&q(s,"height",e[1]),4&t&&a!==(a="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[2].class)&&M(n,"class",a),1&t&&(n.disabled=e[0])},i:e,o:e,d(e){e&&O(n),c=!1,i(u)}}}function qh(e,t,s){const o=["disabled","size"];let i=$(t,o),{disabled:r=!1}=t,{size:l=40}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(2,i=$(t,o)),"disabled"in e&&s(0,r=e.disabled),"size"in e&&s(1,l=e.size)},[r,l,i,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class Wh extends Ge{constructor(e){super(),We(this,e,qh,Hh,l,{disabled:0,size:1})}}function Gh(e,t,n){const s=e.slice();return s[4]=t[n],s}function Kh(e,t,n){const s=e.slice();return s[4]=t[n],s}function Vh(e){let t,n,s=e[4]+"";return{c(){t=C("p"),n=P(s)},m(e,s){T(e,t,s),S(t,n)},p(e,t){2&t&&s!==(s=e[4]+"")&&j(n,s)},d(e){e&&O(t)}}}function zh(e){let t,n,s=e[4]+"";return{c(){t=C("p"),n=P(s),M(t,"class","mb-4")},m(e,s){T(e,t,s),S(t,n)},p(e,t){2&t&&s!==(s=e[4]+"")&&j(n,s)},d(e){e&&O(t)}}}function Xh(e){let t,n,s,o,i,r,l,a,c,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E,k=e[1].menu.overlays.copyright.subsections.copyright_notice.title+"",A=e[1].menu.overlays.copyright.subsections.copyright_notice.disclaimer+"",L=e[1].menu.overlays.copyright.subsections.credits.title+"";t=new If({props:{class:"fixed top-0 left-0 bg-black/40 w-screen h-screen"}}),o=new Wh({props:{class:"absolute top-3 right-3",size:30}}),o.$on("click",e[2]);let I=e[1].menu.overlays.copyright.subsections.copyright_notice.paragraphs,D=[];for(let t=0;t<I.length;t+=1)D[t]=Vh(Kh(e,I,t));let U=e[1].menu.overlays.copyright.subsections.credits.paragraphs,B=[];for(let t=0;t<U.length;t+=1)B[t]=zh(Gh(e,U,t));return{c(){je(t.$$.fragment),n=R(),s=C("div"),je(o.$$.fragment),i=R(),r=C("div"),l=C("h2"),a=P(k),c=R();for(let e=0;e<D.length;e+=1)D[e].c();u=R(),d=C("p"),f=P(A),p=R(),h=C("a"),h.textContent="LinkedIn",m=R(),g=C("div"),$=C("h2"),b=P(L),y=R();for(let e=0;e<B.length;e+=1)B[e].c();w=R(),v=C("p"),v.innerHTML='[1]\n\t\t\t\t<a href="https://www.ppig.org/files/2021-PPIG-32nd-DC-cortinovis.pdf" target="_blank" class="text-blue-700 hover:underline">Cortinovis, R., and Rajan, R. (2022) Evaluating and improving the Educational CPU Visual Simulator:\n\t\t\t\t\ta sustainable Open Pedagogy approach. Proceedings of the 33rd Annual Workshop of the Psychology of\n\t\t\t\t\tProgramming Interest Group (PPIG), Milton Keynes, United Kingdom.</a>',x=R(),_=C("p"),_.innerHTML='[2]\n\t\t\t\t<a href="resources/papers/evaluating_and_improving_the_educational_cpu_visual_simulator_a_sustainable_open_pedagogy_approach.pdf" target="_blank" class="text-blue-700 hover:underline">Cortinovis, R. (2021) An Educational CPU Visual Simulator. Proceedings of the 32nd Annual Workshop\n\t\t\t\t\tof the Psychology of Programming Interest Group (PPIG), York, United Kingdom.</a>',M(l,"class","text-lg font-semibold mb-2"),M(h,"href","https://www.linkedin.com/in/jonathan-cancelli-4b46b3209"),M(h,"target","_blank"),M(h,"class","text-blue-700 hover:underline"),M(d,"class","mt-2"),M(r,"class","text-center"),M($,"class","text-lg font-semibold mb-2"),M(v,"class","mb-2"),M(g,"class","text-center"),M(s,"class","fixed top-[50vh] left-[50vw] max-h-screen max-w-screen overflow-auto -translate-x-2/4 -translate-y-2/4 bg-white flex flex-col items-center justify-center gap-6 p-10 rounded-2xl shadow-lg ")},m(e,k){He(t,e,k),T(e,n,k),T(e,s,k),He(o,s,null),S(s,i),S(s,r),S(r,l),S(l,a),S(r,c);for(let e=0;e<D.length;e+=1)D[e].m(r,null);S(r,u),S(r,d),S(d,f),S(d,p),S(d,h),S(s,m),S(s,g),S(g,$),S($,b),S(g,y);for(let e=0;e<B.length;e+=1)B[e].m(g,null);S(g,w),S(g,v),S(g,x),S(g,_),E=!0},p(e,t){if((!E||2&t)&&k!==(k=e[1].menu.overlays.copyright.subsections.copyright_notice.title+"")&&j(a,k),2&t){let n;for(I=e[1].menu.overlays.copyright.subsections.copyright_notice.paragraphs,n=0;n<I.length;n+=1){const s=Kh(e,I,n);D[n]?D[n].p(s,t):(D[n]=Vh(s),D[n].c(),D[n].m(r,u))}for(;n<D.length;n+=1)D[n].d(1);D.length=I.length}if((!E||2&t)&&A!==(A=e[1].menu.overlays.copyright.subsections.copyright_notice.disclaimer+"")&&j(f,A),(!E||2&t)&&L!==(L=e[1].menu.overlays.copyright.subsections.credits.title+"")&&j(b,L),2&t){let n;for(U=e[1].menu.overlays.copyright.subsections.credits.paragraphs,n=0;n<U.length;n+=1){const s=Gh(e,U,n);B[n]?B[n].p(s,t):(B[n]=zh(s),B[n].c(),B[n].m(g,w))}for(;n<B.length;n+=1)B[n].d(1);B.length=U.length}},i(e){E||(Oe(t.$$.fragment,e),Oe(o.$$.fragment,e),E=!0)},o(e){Ne(t.$$.fragment,e),Ne(o.$$.fragment,e),E=!1},d(e){qe(t,e),e&&O(n),e&&O(s),qe(o),N(D,e),N(B,e)}}}function Jh(e){let t,n;return t=new $f({props:{open:e[0],$$slots:{default:[Xh]},$$scope:{ctx:e}}}),t.$on("close",e[2]),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.open=e[0]),514&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Zh(e,t,n){let s;u(e,Di,(e=>n(1,s=e)));const o=re();let{open:i}=t;return e.$$set=e=>{"open"in e&&n(0,i=e.open)},[i,s,function(){o("close")}]}class Yh extends Ge{constructor(e){super(),We(this,e,Zh,Jh,l,{open:0})}}function em(e,t,n){const s=e.slice();return s[15]=t[n],s}function tm(e){let t,n;return t=new Ih({props:{text:e[2].menu.buttons.examples.text,title:e[2].menu.buttons.examples.title,icon:"examples"}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.text=e[2].menu.buttons.examples.text),4&n&&(s.title=e[2].menu.buttons.examples.title),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function nm(e){let t,n,s,o,i,r=e[2].menu.buttons.examples.examples[e[15].id].text+"";function l(){return e[9](e[15])}return{c(){t=C("button"),n=P(r),s=R(),M(t,"class","text-base leading-none")},m(e,r){T(e,t,r),S(t,n),T(e,s,r),o||(i=B(t,"click",l),o=!0)},p(t,s){e=t,4&s&&r!==(r=e[2].menu.buttons.examples.examples[e[15].id].text+"")&&j(n,r)},d(e){e&&O(t),e&&O(s),o=!1,i()}}}function sm(e){let t,n;return t=new Cp({props:{class:"\n\t\t\t\t\t\tbg-neutral-500\n\t\t\t\t\t\ttext-gray-200\n\t\t\t\t\t\ttext-sm\n\t\t\t\t\t\tpy-1\n\t\t\t\t\t\tpx-2\n\t\t\t\t\t\tborder-b-2\n\t\t\t\t\t\tborder-neutral-700\n\t\t\t\t\t\tfirst:rounded-t-md\n\t\t\t\t\t\tlast:border-0\n\t\t\t\t\t\tlast:rounded-b-md\n\t\t\t\t\t\thover:brightness-[.93]\n\t\t\t\t\t\tactive:brightness-[.80]\n\t\t\t\t\t",title:e[2].menu.buttons.examples.examples[e[15].id].title,$$slots:{default:[nm]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.title=e[2].menu.buttons.examples.examples[e[15].id].title),262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function om(e){let t,n,s=e[3],o=[];for(let t=0;t<s.length;t+=1)o[t]=sm(em(e,s,t));const i=e=>Ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=U()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);T(e,t,s),n=!0},p(e,n){if(76&n){let r;for(s=e[3],r=0;r<s.length;r+=1){const i=em(e,s,r);o[r]?(o[r].p(i,n),Oe(o[r],1)):(o[r]=sm(i),o[r].c(),Oe(o[r],1),o[r].m(t.parentNode,t))}for(Ie(),r=s.length;r<o.length;r+=1)i(r);Te()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Oe(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ne(o[e]);n=!1},d(e){N(o,e),e&&O(t)}}}function im(e){let t,n,s,o;return t=new vp({props:{$$slots:{default:[tm]},$$scope:{ctx:e}}}),s=new Sp({props:{class:"absolute flex flex-col mt-1 bg-neutral-500 border-2 border-neutral-800 shadow-lg rounded-md",$$slots:{default:[om]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment)},m(e,i){He(t,e,i),T(e,n,i),He(s,e,i),o=!0},p(e,n){const o={};262148&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};262148&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!1},d(e){qe(t,e),e&&O(n),qe(s,e)}}}function rm(e){let t,n,s,o,r,l,a,c,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E,k;return s=new Ih({props:{text:e[2].menu.buttons.copyright.text,title:e[2].menu.buttons.copyright.title,icon:"copyright"}}),l=new Ih({props:{text:e[2].menu.buttons.settings.text,title:e[2].menu.buttons.settings.title,icon:"settings"}}),u=new Ih({props:{text:e[2].menu.buttons.save.text,title:e[2].menu.buttons.save.title,icon:"save"}}),p=new Ih({props:{text:e[2].menu.buttons.load.text,title:e[2].menu.buttons.load.title,icon:"open"}}),m=new mp({props:{$$slots:{default:[im]},$$scope:{ctx:e}}}),b=new Ih({props:{text:e[2].menu.buttons.manual.text,title:e[2].menu.buttons.manual.title,icon:"manual"}}),w=new jh({props:{open:e[0]}}),w.$on("close",e[10]),x=new Yh({props:{open:e[1]}}),x.$on("close",e[11]),{c(){t=C("div"),n=C("button"),je(s.$$.fragment),o=R(),r=C("button"),je(l.$$.fragment),a=R(),c=C("button"),je(u.$$.fragment),d=R(),f=C("button"),je(p.$$.fragment),h=R(),je(m.$$.fragment),g=R(),$=C("button"),je(b.$$.fragment),y=R(),je(w.$$.fragment),v=R(),je(x.$$.fragment),M(t,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-2 z-[4]")},m(i,A){T(i,t,A),S(t,n),He(s,n,null),S(t,o),S(t,r),He(l,r,null),S(t,a),S(t,c),He(u,c,null),S(t,d),S(t,f),He(p,f,null),S(t,h),He(m,t,null),S(t,g),S(t,$),He(b,$,null),T(i,y,A),He(w,i,A),T(i,v,A),He(x,i,A),_=!0,E||(k=[B(n,"click",e[8]),B(r,"click",e[4]),B(c,"click",e[7]),B(f,"click",e[5]),B($,"click",lm)],E=!0)},p(e,[t]){const n={};4&t&&(n.text=e[2].menu.buttons.copyright.text),4&t&&(n.title=e[2].menu.buttons.copyright.title),s.$set(n);const o={};4&t&&(o.text=e[2].menu.buttons.settings.text),4&t&&(o.title=e[2].menu.buttons.settings.title),l.$set(o);const i={};4&t&&(i.text=e[2].menu.buttons.save.text),4&t&&(i.title=e[2].menu.buttons.save.title),u.$set(i);const r={};4&t&&(r.text=e[2].menu.buttons.load.text),4&t&&(r.title=e[2].menu.buttons.load.title),p.$set(r);const a={};262148&t&&(a.$$scope={dirty:t,ctx:e}),m.$set(a);const c={};4&t&&(c.text=e[2].menu.buttons.manual.text),4&t&&(c.title=e[2].menu.buttons.manual.title),b.$set(c);const d={};1&t&&(d.open=e[0]),w.$set(d);const f={};2&t&&(f.open=e[1]),x.$set(f)},i(e){_||(Oe(s.$$.fragment,e),Oe(l.$$.fragment,e),Oe(u.$$.fragment,e),Oe(p.$$.fragment,e),Oe(m.$$.fragment,e),Oe(b.$$.fragment,e),Oe(w.$$.fragment,e),Oe(x.$$.fragment,e),_=!0)},o(e){Ne(s.$$.fragment,e),Ne(l.$$.fragment,e),Ne(u.$$.fragment,e),Ne(p.$$.fragment,e),Ne(m.$$.fragment,e),Ne(b.$$.fragment,e),Ne(w.$$.fragment,e),Ne(x.$$.fragment,e),_=!1},d(e){e&&O(t),qe(s),qe(l),qe(u),qe(p),qe(m),qe(b),e&&O(y),qe(w,e),e&&O(v),qe(x,e),E=!1,i(k)}}}function lm(){window.open("manual","_blank").focus()}function am(e,t,n){let s,o,i;u(e,gr,(e=>n(12,s=e))),u(e,_t,(e=>n(13,o=e))),u(e,Di,(e=>n(2,i=e)));var r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{a(s.next(e))}catch(e){i(e)}}function l(e){try{a(s.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};let l=!1,a=!1;function c(e){return r(this,void 0,void 0,(function*(){try{const t=Yl(yield fetch(e).then((e=>e.text())));fr.get().import(t.symbolTable),dr.get().import(t.ram)}catch(e){xt.error(e,"USER_INPUT",e.isChecked),s.error(e.message)}xt.info(`Example ${e} loaded`,"USER_INPUT")}))}return[l,a,i,[{id:"if_then_else",url:"resources/examples/if_then_else.cpuvs"},{id:"while_do",url:"resources/examples/while_do.cpuvs"},{id:"array_sum",url:"resources/examples/array_sum.cpuvs"}],function(){y(_t,o=!0,o),xt.info("Settings opened","USER_INPUT")},function(){return r(this,void 0,void 0,(function*(){try{const e=(yield ba(".cpuvs"))[0],t=Yl(yield e.text());fr.get().import(t.symbolTable),dr.get().import(t.ram)}catch(e){xt.error(e,"USER_INPUT",e.isChecked),s.error(e.message)}xt.info("Program loaded from file","USER_INPUT")}))},c,function(){n(0,l=!0),xt.info("Program saved to file","USER_INPUT")},function(){n(1,a=!0),xt.info("Program saved to file","USER_INPUT")},e=>c(e.url),()=>n(0,l=!1),()=>n(1,a=!1)]}class cm extends Ge{constructor(e){super(),We(this,e,am,rm,l,{})}}function um(e){let t;const n=e[1].default,s=d(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&h(s,n,e,e[2],t?p(n,e[2],o,null):m(e[2]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function dm(e){let t,n;return t=new eh({props:{class:"grid grid-cols-tabgroup gap-x-4 "+e[0].class,vertical:!0,$$slots:{default:[um]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class="grid grid-cols-tabgroup gap-x-4 "+e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function fm(e,t,s){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{s(0,t=n(n({},t),g(e))),"$$scope"in e&&s(2,i=e.$$scope)},[t=g(t),o,i]}class pm extends Ge{constructor(e){super(),We(this,e,fm,dm,l,{})}}function hm(e){let t,n,s;const o=e[1].default,i=d(o,e,e[2],null);return{c(){t=C("div"),i&&i.c(),M(t,"class",n="pl-4 py-2 border-l-4 border-b border-b-gray-500 text-left hover:text-blue-500 "+(e[3]?"border-l-blue-500 text-blue-500 font-bold":"border-l-transparent")+" "+e[0].class)},m(e,n){T(e,t,n),i&&i.m(t,null),s=!0},p(e,r){i&&i.p&&(!s||4&r)&&h(i,o,e,e[2],s?p(o,e[2],r,null):m(e[2]),null),(!s||9&r&&n!==(n="pl-4 py-2 border-l-4 border-b border-b-gray-500 text-left hover:text-blue-500 "+(e[3]?"border-l-blue-500 text-blue-500 font-bold":"border-l-transparent")+" "+e[0].class))&&M(t,"class",n)},i(e){s||(Oe(i,e),s=!0)},o(e){Ne(i,e),s=!1},d(e){e&&O(t),i&&i.d(e)}}}function mm(e){let t,n;return t=new rh({props:{$$slots:{default:[hm,({selected:e})=>({3:e}),({selected:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};13&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function gm(e,t,s){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{s(0,t=n(n({},t),g(e))),"$$scope"in e&&s(2,i=e.$$scope)},[t=g(t),o,i]}class $m extends Ge{constructor(e){super(),We(this,e,gm,mm,l,{})}}function bm(e){let t;const n=e[1].default,s=d(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&h(s,n,e,e[2],t?p(n,e[2],o,null):m(e[2]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function ym(e){let t,n;return t=new fh({props:{class:"flex flex-col "+e[0].class,$$slots:{default:[bm]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class="flex flex-col "+e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function wm(e,t,s){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{s(0,t=n(n({},t),g(e))),"$$scope"in e&&s(2,i=e.$$scope)},[t=g(t),o,i]}class vm extends Ge{constructor(e){super(),We(this,e,wm,ym,l,{})}}function xm(e){let t;const n=e[1].default,s=d(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&h(s,n,e,e[2],t?p(n,e[2],o,null):m(e[2]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function _m(e){let t,n;return t=new bh({props:{class:e[0].class,$$slots:{default:[xm]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class=e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Em(e,t,s){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{s(0,t=n(n({},t),g(e))),"$$scope"in e&&s(2,i=e.$$scope)},[t=g(t),o,i]}class km extends Ge{constructor(e){super(),We(this,e,Em,_m,l,{})}}function Am(e){let t;const n=e[1].default,s=d(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&h(s,n,e,e[2],t?p(n,e[2],o,null):m(e[2]),null)},i(e){t||(Oe(s,e),t=!0)},o(e){Ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Sm(e){let t,n;return t=new Eh({props:{class:e[0].class,$$slots:{default:[Am]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class=e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Lm(e,t,s){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{s(0,t=n(n({},t),g(e))),"$$scope"in e&&s(2,i=e.$$scope)},[t=g(t),o,i]}class Im extends Ge{constructor(e){super(),We(this,e,Lm,Sm,l,{})}}function Tm(e){let t,n,s,o,i,r,l,a,c;const u=e[3].default,f=d(u,e,e[2],null);return{c(){t=C("div"),n=C("div"),s=C("h2"),o=P(e[0]),i=R(),r=C("p"),l=P(e[1]),a=R(),f&&f.c(),M(s,"class","text-2xl font-bold"),M(r,"class","text-sm text-neutral-500"),M(n,"class","flex flex-col"),M(t,"class","w-full flex flex-row items-center justify-between border-b border-neutral-500 p-3 pl-11 pr-24")},m(e,u){T(e,t,u),S(t,n),S(n,s),S(s,o),S(n,i),S(n,r),S(r,l),S(t,a),f&&f.m(t,null),c=!0},p(e,[t]){(!c||1&t)&&j(o,e[0]),(!c||2&t)&&j(l,e[1]),f&&f.p&&(!c||4&t)&&h(f,u,e,e[2],c?p(u,e[2],t,null):m(e[2]),null)},i(e){c||(Oe(f,e),c=!0)},o(e){Ne(f,e),c=!1},d(e){e&&O(t),f&&f.d(e)}}}function Om(e,t,n){let{$$slots:s={},$$scope:o}=t,{title:i=""}=t,{description:r=""}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"description"in e&&n(1,r=e.description),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}class Nm extends Ge{constructor(e){super(),We(this,e,Om,Tm,l,{title:0,description:1})}}function Cm(t){let n,s,o,i,r,l;return{c(){n=D("svg"),s=D("g"),o=D("path"),i=D("path"),r=D("path"),M(o,"fill","#fff"),M(o,"d","M0 0h640v480H0z"),M(i,"fill","#009246"),M(i,"d","M0 0h213.3v480H0z"),M(r,"fill","#ce2b37"),M(r,"d","M426.7 0H640v480H426.7z"),M(s,"fill-rule","evenodd"),M(s,"stroke-width","1pt"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"viewBox","0 0 640 480"),M(n,"class",l=t[0].class)},m(e,t){T(e,n,t),S(n,s),S(s,o),S(s,i),S(s,r)},p(e,[t]){1&t&&l!==(l=e[0].class)&&M(n,"class",l)},i:e,o:e,d(e){e&&O(n)}}}function Dm(e,t,s){return e.$$set=e=>{s(0,t=n(n({},t),g(e)))},[t=g(t)]}class Pm extends Ge{constructor(e){super(),We(this,e,Dm,Cm,l,{})}}function Rm(t){let n,s,o,i,r,l,a;return{c(){n=D("svg"),s=D("path"),o=D("path"),i=D("path"),r=D("path"),l=D("path"),M(s,"fill","#012169"),M(s,"d","M0 0h640v480H0z"),M(o,"fill","#FFF"),M(o,"d","m75 0 244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"),M(i,"fill","#C8102E"),M(i,"d","m424 281 216 159v40L369 281h55zm-184 20 6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"),M(r,"fill","#FFF"),M(r,"d","M241 0v480h160V0H241zM0 160v160h640V160H0z"),M(l,"fill","#C8102E"),M(l,"d","M0 193v96h640v-96H0zM273 0v480h96V0h-96z"),M(n,"xmlns","http://www.w3.org/2000/svg"),M(n,"viewBox","0 0 640 480"),M(n,"class",a=t[0].class)},m(e,t){T(e,n,t),S(n,s),S(n,o),S(n,i),S(n,r),S(n,l)},p(e,[t]){1&t&&a!==(a=e[0].class)&&M(n,"class",a)},i:e,o:e,d(e){e&&O(n)}}}function Um(e,t,s){return e.$$set=e=>{s(0,t=n(n({},t),g(e)))},[t=g(t)]}class Bm extends Ge{constructor(e){super(),We(this,e,Um,Rm,l,{})}}const{Map:Mm}=Re;function Fm(e,t,n){const s=e.slice();return s[4]=t[n],s}function Qm(e){let t,n,s;var o=e[1].get(e[0]);return o&&(t=z(o,{props:{class:"w-12 h-7"}})),{c(){t&&je(t.$$.fragment),n=U()},m(e,o){t&&He(t,e,o),T(e,n,o),s=!0},p(e,s){if(o!==(o=e[1].get(e[0]))){if(t){Ie();const e=t;Ne(e.$$.fragment,1,0,(()=>{qe(e,1)})),Te()}o?(t=z(o,{props:{class:"w-12 h-7"}}),je(t.$$.fragment),Oe(t.$$.fragment,1),He(t,n.parentNode,n)):t=null}},i(e){s||(t&&Oe(t.$$.fragment,e),s=!0)},o(e){t&&Ne(t.$$.fragment,e),s=!1},d(e){e&&O(n),t&&qe(t,e)}}}function jm(e){let t,n,s;var o=e[1].get(e[4]);return o&&(t=z(o,{props:{class:"w-12 h-7 cursor-pointer shadow-md"}})),{c(){t&&je(t.$$.fragment),n=R()},m(e,o){t&&He(t,e,o),T(e,n,o),s=!0},p(e,s){if(o!==(o=e[1].get(e[4]))){if(t){Ie();const e=t;Ne(e.$$.fragment,1,0,(()=>{qe(e,1)})),Te()}o?(t=z(o,{props:{class:"w-12 h-7 cursor-pointer shadow-md"}}),je(t.$$.fragment),Oe(t.$$.fragment,1),He(t,n.parentNode,n)):t=null}},i(e){s||(t&&Oe(t.$$.fragment,e),s=!0)},o(e){t&&Ne(t.$$.fragment,e),s=!1},d(e){t&&qe(t,e),e&&O(n)}}}function Hm(e,t){let n,s,o;return s=new rp({props:{value:t[4],$$slots:{default:[jm]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=U(),je(s.$$.fragment),this.first=n},m(e,t){T(e,n,t),He(s,e,t),o=!0},p(e,n){t=e;const o={};128&n&&(o.$$scope={dirty:n,ctx:t}),s.$set(o)},i(e){o||(Oe(s.$$.fragment,e),o=!0)},o(e){Ne(s.$$.fragment,e),o=!1},d(e){e&&O(n),qe(s,e)}}}function qm(e){let t,n,s=[],o=new Mm,i=ct;const r=e=>e[4];for(let t=0;t<i.length;t+=1){let n=Fm(e,i,t),l=r(n);o.set(l,s[t]=Hm(l,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=U()},m(e,o){for(let t=0;t<s.length;t+=1)s[t].m(e,o);T(e,t,o),n=!0},p(e,n){2&n&&(i=ct,Ie(),s=Be(s,n,r,1,e,i,o,t.parentNode,Ue,Hm,t,Fm),Te())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Oe(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)Ne(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&O(t)}}}function Wm(e){let t,n,s,o;return t=new Vf({props:{$$slots:{default:[Qm]},$$scope:{ctx:e}}}),s=new ep({props:{class:"absolute flex flex-col gap-1 py-2 px-1 overflow-y-auto overflow-x-hidden max-h-28 z-10 bg-gray-100 rounded-md shadow-md",$$slots:{default:[qm]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment)},m(e,i){He(t,e,i),T(e,n,i),He(s,e,i),o=!0},p(e,n){const o={};129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};128&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!1},d(e){qe(t,e),e&&O(n),qe(s,e)}}}function Gm(e){let t,n,s;function o(t){e[2](t)}let i={$$slots:{default:[Wm]},$$scope:{ctx:e}};return void 0!==e[0]&&(i.value=e[0]),t=new jf({props:i}),de.push((()=>Qe(t,"value",o,e[0]))),t.$on("change",e[3]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,[s]){const o={};129&s&&(o.$$scope={dirty:s,ctx:e}),!n&&1&s&&(n=!0,o.value=e[0],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function Km(e,t,n){let{value:s}=t;const o=new Map([["en",Bm],["it",Pm]]);return e.$$set=e=>{"value"in e&&n(0,s=e.value)},[s,o,function(e){s=e,n(0,s)},e=>n(0,s=e.detail)]}class Vm extends Ge{constructor(e){super(),We(this,e,Km,Gm,l,{value:0})}}function zm(e){let t,n;return{c(){t=C("span"),M(t,"class",n="h-7 w-7 bg-neutral-100 rounded-[50%] transition-transform shadow-lg "+(e[0]?"translate-x-8":""))},m(e,n){T(e,t,n)},p(e,s){1&s&&n!==(n="h-7 w-7 bg-neutral-100 rounded-[50%] transition-transform shadow-lg "+(e[0]?"translate-x-8":""))&&M(t,"class",n)},d(e){e&&O(t)}}}function Xm(e){let t,n,s,o;function i(t){e[3](t)}function r(t){e[4](t)}let l={class:"\n        w-14\n        h-6\n        flex\n        items-center\n        flex-shrink-0\n        rounded-2xl\n        "+(e[1]?"cursor-default":"cursor-pointer")+"\n        "+(e[0]?"bg-green-500":"bg-neutral-500")+"\n        "+(e[1]?"brightness-[.6]":"")+"\n        "+e[2].class+"\n    ",$$slots:{default:[zm]},$$scope:{ctx:e}};return void 0!==e[0]&&(l.checked=e[0]),void 0!==e[1]&&(l.disabled=e[1]),t=new Gp({props:l}),de.push((()=>Qe(t,"checked",i,e[0]))),de.push((()=>Qe(t,"disabled",r,e[1]))),t.$on("change",e[5]),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),o=!0},p(e,[o]){const i={};7&o&&(i.class="\n        w-14\n        h-6\n        flex\n        items-center\n        flex-shrink-0\n        rounded-2xl\n        "+(e[1]?"cursor-default":"cursor-pointer")+"\n        "+(e[0]?"bg-green-500":"bg-neutral-500")+"\n        "+(e[1]?"brightness-[.6]":"")+"\n        "+e[2].class+"\n    "),65&o&&(i.$$scope={dirty:o,ctx:e}),!n&&1&o&&(n=!0,i.checked=e[0],ye((()=>n=!1))),!s&&2&o&&(s=!0,i.disabled=e[1],ye((()=>s=!1))),t.$set(i)},i(e){o||(Oe(t.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),o=!1},d(e){qe(t,e)}}}function Jm(e,t,s){const o=["checked","disabled"];let i=$(t,o),{checked:r=!1}=t,{disabled:l=!1}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(2,i=$(t,o)),"checked"in e&&s(0,r=e.checked),"disabled"in e&&s(1,l=e.disabled)},[r,l,i,function(e){r=e,s(0,r)},function(e){l=e,s(1,l)},e=>s(0,r=!r)]}class Zm extends Ge{constructor(e){super(),We(this,e,Jm,Xm,l,{checked:0,disabled:1})}}function Ym(e){let t,n,s,o,r;const l=e[3].default,a=d(l,e,e[2],null);return{c(){t=C("button"),a&&a.c(),M(t,"class",n="text-black border-2 border-red-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-red-700 focus:bg-red-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,i){T(n,t,i),a&&a.m(t,null),s=!0,o||(r=[B(t,"click",e[4]),B(t,"focus",e[5]),B(t,"focusout",e[6]),B(t,"mouseenter",e[7]),B(t,"mouseleave",e[8]),B(t,"mouseover",e[9])],o=!0)},p(e,[o]){a&&a.p&&(!s||4&o)&&h(a,l,e,e[2],s?p(l,e[2],o,null):m(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-red-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-red-700 focus:bg-red-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&M(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Oe(a,e),s=!0)},o(e){Ne(a,e),s=!1},d(e){e&&O(t),a&&a.d(e),o=!1,i(r)}}}function eg(e,t,s){const o=["disabled"];let i=$(t,o),{$$slots:r={},$$scope:l}=t,{disabled:a=!1}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(1,i=$(t,o)),"disabled"in e&&s(0,a=e.disabled),"$$scope"in e&&s(2,l=e.$$scope)},[a,i,l,r,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)}]}class tg extends Ge{constructor(e){super(),We(this,e,eg,Ym,l,{disabled:0})}}function ng(e){let t,n,s;function o(t){e[5](t)}let i={};return void 0!==e[1]&&(i.value=e[1]),t=new Vm({props:i}),de.push((()=>Qe(t,"value",o,e[1]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};!n&&2&s&&(n=!0,o.value=e[1],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function sg(e){let t,n,s;function o(t){e[6](t)}let i={};return void 0!==e[2]&&(i.checked=e[2]),t=new Zm({props:i}),de.push((()=>Qe(t,"checked",o,e[2]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};!n&&4&s&&(n=!0,o.checked=e[2],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function og(e){let t,n,s;function o(t){e[7](t)}let i={};return void 0!==e[3]&&(i.checked=e[3]),t=new Zm({props:i}),de.push((()=>Qe(t,"checked",o,e[3]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};!n&&8&s&&(n=!0,o.checked=e[3],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function ig(e){let t,n,s;function o(t){e[8](t)}let i={};return void 0!==e[4]&&(i.checked=e[4]),t=new Zm({props:i}),de.push((()=>Qe(t,"checked",o,e[4]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};!n&&16&s&&(n=!0,o.checked=e[4],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function rg(e){let t,n=e[0].settings.reset_all.button.text+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){1&s&&n!==(n=e[0].settings.reset_all.button.text+"")&&j(t,n)},d(e){e&&O(t)}}}function lg(e){let t,n;return t=new tg({props:{$$slots:{default:[rg]},$$scope:{ctx:e}}}),t.$on("click",Vt),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},p(e,n){const s={};513&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function ag(e){let t,n,s,o,i,r,l,a,c,u;return t=new Nm({props:{title:e[0].settings.language.title,description:e[0].settings.language.description,$$slots:{default:[ng]},$$scope:{ctx:e}}}),s=new Nm({props:{title:e[0].settings.dispaly_components_labels.title,description:e[0].settings.dispaly_components_labels.description,$$slots:{default:[sg]},$$scope:{ctx:e}}}),i=new Nm({props:{title:e[0].settings.dispaly_busses_labels.title,description:e[0].settings.dispaly_busses_labels.description,$$slots:{default:[og]},$$scope:{ctx:e}}}),l=new Nm({props:{title:e[0].settings.display_step_text.title,description:e[0].settings.display_step_text.description,$$slots:{default:[ig]},$$scope:{ctx:e}}}),c=new Nm({props:{title:e[0].settings.reset_all.title,description:e[0].settings.reset_all.description,$$slots:{default:[lg]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment),o=R(),je(i.$$.fragment),r=R(),je(l.$$.fragment),a=R(),je(c.$$.fragment)},m(e,d){He(t,e,d),T(e,n,d),He(s,e,d),T(e,o,d),He(i,e,d),T(e,r,d),He(l,e,d),T(e,a,d),He(c,e,d),u=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.language.title),1&n&&(o.description=e[0].settings.language.description),514&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.dispaly_components_labels.title),1&n&&(r.description=e[0].settings.dispaly_components_labels.description),516&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const a={};1&n&&(a.title=e[0].settings.dispaly_busses_labels.title),1&n&&(a.description=e[0].settings.dispaly_busses_labels.description),520&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a);const u={};1&n&&(u.title=e[0].settings.display_step_text.title),1&n&&(u.description=e[0].settings.display_step_text.description),528&n&&(u.$$scope={dirty:n,ctx:e}),l.$set(u);const d={};1&n&&(d.title=e[0].settings.reset_all.title),1&n&&(d.description=e[0].settings.reset_all.description),513&n&&(d.$$scope={dirty:n,ctx:e}),c.$set(d)},i(e){u||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),Oe(l.$$.fragment,e),Oe(c.$$.fragment,e),u=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),Ne(c.$$.fragment,e),u=!1},d(e){qe(t,e),e&&O(n),qe(s,e),e&&O(o),qe(i,e),e&&O(r),qe(l,e),e&&O(a),qe(c,e)}}}function cg(e,t,n){let s,o,i,r,l;return u(e,Di,(e=>n(0,s=e))),u(e,Ot,(e=>n(1,o=e))),u(e,kt,(e=>n(2,i=e))),u(e,At,(e=>n(3,r=e))),u(e,St,(e=>n(4,l=e))),[s,o,i,r,l,function(e){o=e,Ot.set(o)},function(e){i=e,kt.set(i)},function(e){r=e,At.set(r)},function(e){l=e,St.set(l)}]}class ug extends Ge{constructor(e){super(),We(this,e,cg,ag,l,{})}}function dg(t){let n,s,o,r;return{c(){n=C("input"),M(n,"type","range"),M(n,"class",s=b(t[6].class)+" svelte-10k18fr"),M(n,"min",t[1]),M(n,"max",t[2]),M(n,"step",t[3]),n.disabled=t[4],M(n,"title",t[5])},m(e,s){T(e,n,s),H(n,t[0]),o||(r=[B(n,"change",t[14]),B(n,"input",t[14]),B(n,"input",t[7]),B(n,"change",t[8]),B(n,"focus",t[9]),B(n,"focusout",t[10]),B(n,"mouseenter",t[11]),B(n,"mouseleave",t[12]),B(n,"mouseover",t[13])],o=!0)},p(e,[t]){64&t&&s!==(s=b(e[6].class)+" svelte-10k18fr")&&M(n,"class",s),2&t&&M(n,"min",e[1]),4&t&&M(n,"max",e[2]),8&t&&M(n,"step",e[3]),16&t&&(n.disabled=e[4]),32&t&&M(n,"title",e[5]),1&t&&H(n,e[0])},i:e,o:e,d(e){e&&O(n),o=!1,i(r)}}}function fg(e,t,s){const o=["min","max","value","step","disabled","title"];let i=$(t,o),{min:r=0}=t,{max:l=1}=t,{value:a=l/2+r}=t,{step:c=.1}=t,{disabled:u=!1}=t,{title:d=""}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(6,i=$(t,o)),"min"in e&&s(1,r=e.min),"max"in e&&s(2,l=e.max),"value"in e&&s(0,a=e.value),"step"in e&&s(3,c=e.step),"disabled"in e&&s(4,u=e.disabled),"title"in e&&s(5,d=e.title)},[a,r,l,c,u,d,i,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(){a=Q(this.value),s(0,a)}]}class pg extends Ge{constructor(e){super(),We(this,e,fg,dg,l,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function hg(e,t,n){const s=e.slice();return s[13]=t[n],s}function mg(e){let t,n;return{c(){t=C("option"),n=P(e[1]),M(t,"class","text-black bg-white"),t.__value="",t.value=t.__value,t.selected=!0,t.disabled=!0},m(e,s){T(e,t,s),S(t,n)},p(e,t){2&t&&j(n,e[1])},d(e){e&&O(t)}}}function gg(e){let t,n,s,o=e[13]+"";return{c(){t=C("option"),n=P(o),M(t,"class","text-black bg-white"),t.__value=s=e[13],t.value=t.__value},m(e,s){T(e,t,s),S(t,n)},p(e,i){8&i&&o!==(o=e[13]+"")&&j(n,o),8&i&&s!==(s=e[13])&&(t.__value=s,t.value=t.__value)},d(e){e&&O(t)}}}function $g(t){let n,s,o,r,l,a=""!==t[1]&&mg(t),c=t[3],u=[];for(let e=0;e<c.length;e+=1)u[e]=gg(hg(t,c,e));return{c(){n=C("select"),a&&a.c(),s=U();for(let e=0;e<u.length;e+=1)u[e].c();M(n,"class",o="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+t[4].class),n.disabled=t[2],void 0===t[0]&&be((()=>t[12].call(n)))},m(e,o){T(e,n,o),a&&a.m(n,null),S(n,s);for(let e=0;e<u.length;e+=1)u[e].m(n,null);W(n,t[0]),r||(l=[B(n,"input",t[5]),B(n,"change",t[6]),B(n,"focus",t[7]),B(n,"focusout",t[8]),B(n,"mouseenter",t[9]),B(n,"mouseleave",t[10]),B(n,"mouseover",t[11]),B(n,"change",t[12])],r=!0)},p(e,[t]){if(""!==e[1]?a?a.p(e,t):(a=mg(e),a.c(),a.m(n,s)):a&&(a.d(1),a=null),8&t){let s;for(c=e[3],s=0;s<c.length;s+=1){const o=hg(e,c,s);u[s]?u[s].p(o,t):(u[s]=gg(o),u[s].c(),u[s].m(n,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=c.length}16&t&&o!==(o="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class)&&M(n,"class",o),4&t&&(n.disabled=e[2]),9&t&&W(n,e[0])},i:e,o:e,d(e){e&&O(n),a&&a.d(),N(u,e),r=!1,i(l)}}}function bg(e,t,s){const o=["value","placeholder","disabled","options"];let i=$(t,o),{value:r=""}=t,{placeholder:l=""}=t,{disabled:a=!1}=t,{options:c=[]}=t;return e.$$set=e=>{t=n(n({},t),g(e)),s(4,i=$(t,o)),"value"in e&&s(0,r=e.value),"placeholder"in e&&s(1,l=e.placeholder),"disabled"in e&&s(2,a=e.disabled),"options"in e&&s(3,c=e.options)},[r,l,a,c,i,function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(t){ce.call(this,e,t)},function(){r=G(this),s(0,r),s(3,c)}]}class yg extends Ge{constructor(e){super(),We(this,e,bg,$g,l,{value:0,placeholder:1,disabled:2,options:3})}}function wg(e){let t,n,s;function o(t){e[5](t)}let i={};return void 0!==e[1]&&(i.checked=e[1]),t=new Zm({props:i}),de.push((()=>Qe(t,"checked",o,e[1]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};!n&&2&s&&(n=!0,o.checked=e[1],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function vg(e){let t,n,s,o,i,r,l;function a(t){e[6](t)}let c={min:.5,max:1.5};return void 0!==e[2]&&(c.value=e[2]),i=new pg({props:c}),de.push((()=>Qe(i,"value",a,e[2]))),{c(){t=C("div"),n=C("p"),s=P(e[2]),o=R(),je(i.$$.fragment),M(t,"class","w-36 flex flex-col items-center justify-center")},m(e,r){T(e,t,r),S(t,n),S(n,s),S(t,o),He(i,t,null),l=!0},p(e,t){(!l||4&t)&&j(s,e[2]);const n={};!r&&4&t&&(r=!0,n.value=e[2],ye((()=>r=!1))),i.$set(n)},i(e){l||(Oe(i.$$.fragment,e),l=!0)},o(e){Ne(i.$$.fragment,e),l=!1},d(e){e&&O(t),qe(i)}}}function xg(e){let t,n,s;function o(t){e[7](t)}let i={options:ft.getAvailableVoices(e[3]).map(Eg)};return void 0!==e[4]&&(i.value=e[4]),t=new yg({props:i}),de.push((()=>Qe(t,"value",o,e[4]))),{c(){je(t.$$.fragment)},m(e,n){He(t,e,n),s=!0},p(e,s){const o={};8&s&&(o.options=ft.getAvailableVoices(e[3]).map(Eg)),!n&&16&s&&(n=!0,o.value=e[4],ye((()=>n=!1))),t.$set(o)},i(e){s||(Oe(t.$$.fragment,e),s=!0)},o(e){Ne(t.$$.fragment,e),s=!1},d(e){qe(t,e)}}}function _g(e){let t,n,s,o,i,r;return t=new Nm({props:{title:e[0].settings.tts_enabled.title,description:e[0].settings.tts_enabled.description,$$slots:{default:[wg]},$$scope:{ctx:e}}}),s=new Nm({props:{title:e[0].settings.tts_speed.title,description:e[0].settings.tts_speed.description,$$slots:{default:[vg]},$$scope:{ctx:e}}}),i=new Nm({props:{title:e[0].settings.tts_voice.title,description:e[0].settings.tts_voice.description,$$slots:{default:[xg]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment),o=R(),je(i.$$.fragment)},m(e,l){He(t,e,l),T(e,n,l),He(s,e,l),T(e,o,l),He(i,e,l),r=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.tts_enabled.title),1&n&&(o.description=e[0].settings.tts_enabled.description),258&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.tts_speed.title),1&n&&(r.description=e[0].settings.tts_speed.description),260&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};1&n&&(l.title=e[0].settings.tts_voice.title),1&n&&(l.description=e[0].settings.tts_voice.description),280&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),r=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),r=!1},d(e){qe(t,e),e&&O(n),qe(s,e),e&&O(o),qe(i,e)}}}const Eg=e=>e.name;function kg(e,t,n){let s,o,i,r,l;return u(e,Di,(e=>n(0,s=e))),u(e,Nt,(e=>n(1,o=e))),u(e,Ct,(e=>n(2,i=e))),u(e,Ot,(e=>n(3,r=e))),u(e,Dt,(e=>n(4,l=e))),[s,o,i,r,l,function(e){o=e,Nt.set(o)},function(e){i=e,Ct.set(i)},function(e){l=e,Dt.set(l)}]}class Ag extends Ge{constructor(e){super(),We(this,e,kg,_g,l,{})}}function Sg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[1]),n||(s=B(t,"input",e[13]),n=!0)},p(e,n){2&n&&H(t,e[1])},d(e){e&&O(t),n=!1,s()}}}function Lg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[2]),n||(s=B(t,"input",e[14]),n=!0)},p(e,n){4&n&&H(t,e[2])},d(e){e&&O(t),n=!1,s()}}}function Ig(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[3]),n||(s=B(t,"input",e[15]),n=!0)},p(e,n){8&n&&H(t,e[3])},d(e){e&&O(t),n=!1,s()}}}function Tg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[4]),n||(s=B(t,"input",e[16]),n=!0)},p(e,n){16&n&&H(t,e[4])},d(e){e&&O(t),n=!1,s()}}}function Og(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[5]),n||(s=B(t,"input",e[17]),n=!0)},p(e,n){32&n&&H(t,e[5])},d(e){e&&O(t),n=!1,s()}}}function Ng(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[6]),n||(s=B(t,"input",e[18]),n=!0)},p(e,n){64&n&&H(t,e[6])},d(e){e&&O(t),n=!1,s()}}}function Cg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[7]),n||(s=B(t,"input",e[19]),n=!0)},p(e,n){128&n&&H(t,e[7])},d(e){e&&O(t),n=!1,s()}}}function Dg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[8]),n||(s=B(t,"input",e[20]),n=!0)},p(e,n){256&n&&H(t,e[8])},d(e){e&&O(t),n=!1,s()}}}function Pg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[9]),n||(s=B(t,"input",e[21]),n=!0)},p(e,n){512&n&&H(t,e[9])},d(e){e&&O(t),n=!1,s()}}}function Rg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[10]),n||(s=B(t,"input",e[22]),n=!0)},p(e,n){1024&n&&H(t,e[10])},d(e){e&&O(t),n=!1,s()}}}function Ug(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[11]),n||(s=B(t,"input",e[23]),n=!0)},p(e,n){2048&n&&H(t,e[11])},d(e){e&&O(t),n=!1,s()}}}function Bg(e){let t,n,s;return{c(){t=C("input"),M(t,"type","color")},m(o,i){T(o,t,i),H(t,e[12]),n||(s=B(t,"input",e[24]),n=!0)},p(e,n){4096&n&&H(t,e[12])},d(e){e&&O(t),n=!1,s()}}}function Mg(e){let t,n,s,o,i,r,l,a,c,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E;return t=new Nm({props:{title:e[0].settings.databus_ext_color.title,description:e[0].settings.databus_ext_color.description,$$slots:{default:[Sg]},$$scope:{ctx:e}}}),s=new Nm({props:{title:e[0].settings.databus_int_color.title,description:e[0].settings.databus_int_color.description,$$slots:{default:[Lg]},$$scope:{ctx:e}}}),i=new Nm({props:{title:e[0].settings.databus_ext_anim_color.title,description:e[0].settings.databus_ext_anim_color.description,$$slots:{default:[Ig]},$$scope:{ctx:e}}}),l=new Nm({props:{title:e[0].settings.databus_int_anim_color.title,description:e[0].settings.databus_int_anim_color.description,$$slots:{default:[Tg]},$$scope:{ctx:e}}}),c=new Nm({props:{title:e[0].settings.addressbus_ext_color.title,description:e[0].settings.addressbus_ext_color.description,$$slots:{default:[Og]},$$scope:{ctx:e}}}),d=new Nm({props:{title:e[0].settings.addressbus_int_color.title,description:e[0].settings.addressbus_int_color.description,$$slots:{default:[Ng]},$$scope:{ctx:e}}}),p=new Nm({props:{title:e[0].settings.addressbus_ext_anim_color.title,description:e[0].settings.addressbus_ext_anim_color.description,$$slots:{default:[Cg]},$$scope:{ctx:e}}}),m=new Nm({props:{title:e[0].settings.addressbus_int_anim_color.title,description:e[0].settings.addressbus_int_anim_color.description,$$slots:{default:[Dg]},$$scope:{ctx:e}}}),$=new Nm({props:{title:e[0].settings.controlbus_ext_color.title,description:e[0].settings.controlbus_ext_color.description,$$slots:{default:[Pg]},$$scope:{ctx:e}}}),y=new Nm({props:{title:e[0].settings.controlbus_int_color.title,description:e[0].settings.controlbus_int_color.description,$$slots:{default:[Rg]},$$scope:{ctx:e}}}),v=new Nm({props:{title:e[0].settings.controlbus_ext_anim_color.title,description:e[0].settings.controlbus_ext_anim_color.description,$$slots:{default:[Ug]},$$scope:{ctx:e}}}),_=new Nm({props:{title:e[0].settings.controlbus_int_anim_color.title,description:e[0].settings.controlbus_int_anim_color.description,$$slots:{default:[Bg]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment),o=R(),je(i.$$.fragment),r=R(),je(l.$$.fragment),a=R(),je(c.$$.fragment),u=R(),je(d.$$.fragment),f=R(),je(p.$$.fragment),h=R(),je(m.$$.fragment),g=R(),je($.$$.fragment),b=R(),je(y.$$.fragment),w=R(),je(v.$$.fragment),x=R(),je(_.$$.fragment)},m(e,k){He(t,e,k),T(e,n,k),He(s,e,k),T(e,o,k),He(i,e,k),T(e,r,k),He(l,e,k),T(e,a,k),He(c,e,k),T(e,u,k),He(d,e,k),T(e,f,k),He(p,e,k),T(e,h,k),He(m,e,k),T(e,g,k),He($,e,k),T(e,b,k),He(y,e,k),T(e,w,k),He(v,e,k),T(e,x,k),He(_,e,k),E=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.databus_ext_color.title),1&n&&(o.description=e[0].settings.databus_ext_color.description),33554434&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.databus_int_color.title),1&n&&(r.description=e[0].settings.databus_int_color.description),33554436&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const a={};1&n&&(a.title=e[0].settings.databus_ext_anim_color.title),1&n&&(a.description=e[0].settings.databus_ext_anim_color.description),33554440&n&&(a.$$scope={dirty:n,ctx:e}),i.$set(a);const u={};1&n&&(u.title=e[0].settings.databus_int_anim_color.title),1&n&&(u.description=e[0].settings.databus_int_anim_color.description),33554448&n&&(u.$$scope={dirty:n,ctx:e}),l.$set(u);const f={};1&n&&(f.title=e[0].settings.addressbus_ext_color.title),1&n&&(f.description=e[0].settings.addressbus_ext_color.description),33554464&n&&(f.$$scope={dirty:n,ctx:e}),c.$set(f);const h={};1&n&&(h.title=e[0].settings.addressbus_int_color.title),1&n&&(h.description=e[0].settings.addressbus_int_color.description),33554496&n&&(h.$$scope={dirty:n,ctx:e}),d.$set(h);const g={};1&n&&(g.title=e[0].settings.addressbus_ext_anim_color.title),1&n&&(g.description=e[0].settings.addressbus_ext_anim_color.description),33554560&n&&(g.$$scope={dirty:n,ctx:e}),p.$set(g);const b={};1&n&&(b.title=e[0].settings.addressbus_int_anim_color.title),1&n&&(b.description=e[0].settings.addressbus_int_anim_color.description),33554688&n&&(b.$$scope={dirty:n,ctx:e}),m.$set(b);const w={};1&n&&(w.title=e[0].settings.controlbus_ext_color.title),1&n&&(w.description=e[0].settings.controlbus_ext_color.description),33554944&n&&(w.$$scope={dirty:n,ctx:e}),$.$set(w);const x={};1&n&&(x.title=e[0].settings.controlbus_int_color.title),1&n&&(x.description=e[0].settings.controlbus_int_color.description),33555456&n&&(x.$$scope={dirty:n,ctx:e}),y.$set(x);const E={};1&n&&(E.title=e[0].settings.controlbus_ext_anim_color.title),1&n&&(E.description=e[0].settings.controlbus_ext_anim_color.description),33556480&n&&(E.$$scope={dirty:n,ctx:e}),v.$set(E);const k={};1&n&&(k.title=e[0].settings.controlbus_int_anim_color.title),1&n&&(k.description=e[0].settings.controlbus_int_anim_color.description),33558528&n&&(k.$$scope={dirty:n,ctx:e}),_.$set(k)},i(e){E||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),Oe(l.$$.fragment,e),Oe(c.$$.fragment,e),Oe(d.$$.fragment,e),Oe(p.$$.fragment,e),Oe(m.$$.fragment,e),Oe($.$$.fragment,e),Oe(y.$$.fragment,e),Oe(v.$$.fragment,e),Oe(_.$$.fragment,e),E=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),Ne(c.$$.fragment,e),Ne(d.$$.fragment,e),Ne(p.$$.fragment,e),Ne(m.$$.fragment,e),Ne($.$$.fragment,e),Ne(y.$$.fragment,e),Ne(v.$$.fragment,e),Ne(_.$$.fragment,e),E=!1},d(e){qe(t,e),e&&O(n),qe(s,e),e&&O(o),qe(i,e),e&&O(r),qe(l,e),e&&O(a),qe(c,e),e&&O(u),qe(d,e),e&&O(f),qe(p,e),e&&O(h),qe(m,e),e&&O(g),qe($,e),e&&O(b),qe(y,e),e&&O(w),qe(v,e),e&&O(x),qe(_,e)}}}function Fg(e,t,n){let s,o,i,r,l,a,c,d,f,p,h,m,g;return u(e,Di,(e=>n(0,s=e))),u(e,Pt,(e=>n(1,o=e))),u(e,Rt,(e=>n(2,i=e))),u(e,Ut,(e=>n(3,r=e))),u(e,Bt,(e=>n(4,l=e))),u(e,Mt,(e=>n(5,a=e))),u(e,Ft,(e=>n(6,c=e))),u(e,Qt,(e=>n(7,d=e))),u(e,jt,(e=>n(8,f=e))),u(e,Ht,(e=>n(9,p=e))),u(e,qt,(e=>n(10,h=e))),u(e,Wt,(e=>n(11,m=e))),u(e,Gt,(e=>n(12,g=e))),[s,o,i,r,l,a,c,d,f,p,h,m,g,function(){o=this.value,Pt.set(o)},function(){i=this.value,Rt.set(i)},function(){r=this.value,Ut.set(r)},function(){l=this.value,Bt.set(l)},function(){a=this.value,Mt.set(a)},function(){c=this.value,Ft.set(c)},function(){d=this.value,Qt.set(d)},function(){f=this.value,jt.set(f)},function(){p=this.value,Ht.set(p)},function(){h=this.value,qt.set(h)},function(){m=this.value,Wt.set(m)},function(){g=this.value,Gt.set(g)}]}class Qg extends Ge{constructor(e){super(),We(this,e,Fg,Mg,l,{})}}function jg(e){let t,n,s,o,i,r,l,a,c,u,d=e[1].settings.title+"";return r=new Wh({}),r.$on("click",e[2]),a=new pm({props:{class:"p-5",$$slots:{default:[Jg]},$$scope:{ctx:e}}}),{c(){t=C("div"),n=C("div"),s=C("h1"),o=P(d),i=R(),je(r.$$.fragment),l=R(),je(a.$$.fragment),M(s,"class","text-[2.8rem] font-bold"),M(n,"class","w-full flex flex-row items-center justify-between pt-3 pb-5 px-9 border-b border-neutral-500"),M(t,"class","fixed w-screen h-screen top-0 left-0 bg-gray-100 overflow-y-auto")},m(e,c){T(e,t,c),S(t,n),S(n,s),S(s,o),S(n,i),He(r,n,null),S(t,l),He(a,t,null),u=!0},p(e,t){(!u||2&t)&&d!==(d=e[1].settings.title+"")&&j(o,d);const n={};10&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n)},i(e){u||(Oe(r.$$.fragment,e),Oe(a.$$.fragment,e),be((()=>{c||(c=Pe(t,dl,{duration:75},!0)),c.run(1)})),u=!0)},o(e){Ne(r.$$.fragment,e),Ne(a.$$.fragment,e),c||(c=Pe(t,dl,{duration:75},!1)),c.run(0),u=!1},d(e){e&&O(t),qe(r),qe(a),e&&c&&c.end()}}}function Hg(e){let t,n=e[1].settings.sections_titles.general+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.general+"")&&j(t,n)},d(e){e&&O(t)}}}function qg(e){let t,n=e[1].settings.sections_titles.tts+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.tts+"")&&j(t,n)},d(e){e&&O(t)}}}function Wg(e){let t,n=e[1].settings.sections_titles.busses+"";return{c(){t=P(n)},m(e,n){T(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.busses+"")&&j(t,n)},d(e){e&&O(t)}}}function Gg(e){let t,n,s,o,i,r;return t=new $m({props:{class:"border-t border-t-gray-500",$$slots:{default:[Hg]},$$scope:{ctx:e}}}),s=new $m({props:{$$slots:{default:[qg]},$$scope:{ctx:e}}}),i=new $m({props:{$$slots:{default:[Wg]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment),o=R(),je(i.$$.fragment)},m(e,l){He(t,e,l),T(e,n,l),He(s,e,l),T(e,o,l),He(i,e,l),r=!0},p(e,n){const o={};10&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};10&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};10&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),r=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),r=!1},d(e){qe(t,e),e&&O(n),qe(s,e),e&&O(o),qe(i,e)}}}function Kg(e){let t,n;return t=new ug({}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Vg(e){let t,n;return t=new Ag({}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function zg(e){let t,n;return t=new Qg({}),{c(){je(t.$$.fragment)},m(e,s){He(t,e,s),n=!0},i(e){n||(Oe(t.$$.fragment,e),n=!0)},o(e){Ne(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Xg(e){let t,n,s,o,i,r;return t=new Im({props:{$$slots:{default:[Kg]},$$scope:{ctx:e}}}),s=new Im({props:{$$slots:{default:[Vg]},$$scope:{ctx:e}}}),i=new Im({props:{$$slots:{default:[zg]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment),o=R(),je(i.$$.fragment)},m(e,l){He(t,e,l),T(e,n,l),He(s,e,l),T(e,o,l),He(i,e,l),r=!0},p(e,n){const o={};8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};8&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),Oe(i.$$.fragment,e),r=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),r=!1},d(e){qe(t,e),e&&O(n),qe(s,e),e&&O(o),qe(i,e)}}}function Jg(e){let t,n,s,o;return t=new vm({props:{class:"mt-4",$$slots:{default:[Gg]},$$scope:{ctx:e}}}),s=new km({props:{$$slots:{default:[Xg]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment),n=R(),je(s.$$.fragment)},m(e,i){He(t,e,i),T(e,n,i),He(s,e,i),o=!0},p(e,n){const o={};10&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};8&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Oe(t.$$.fragment,e),Oe(s.$$.fragment,e),o=!0)},o(e){Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!1},d(e){qe(t,e),e&&O(n),qe(s,e)}}}function Zg(e){let t,n,s=e[0]&&jg(e);return{c(){s&&s.c(),t=U()},m(e,o){s&&s.m(e,o),T(e,t,o),n=!0},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&Oe(s,1)):(s=jg(e),s.c(),Oe(s,1),s.m(t.parentNode,t)):s&&(Ie(),Ne(s,1,1,(()=>{s=null})),Te())},i(e){n||(Oe(s),n=!0)},o(e){Ne(s),n=!1},d(e){s&&s.d(e),e&&O(t)}}}function Yg(e,t,n){let s,o;return u(e,_t,(e=>n(0,s=e))),u(e,Di,(e=>n(1,o=e))),[s,o,function(){y(_t,s=!1,s),xt.info("Settings closed","USER_INPUT")}]}class e$ extends Ge{constructor(e){super(),We(this,e,Yg,Zg,l,{})}}const{window:t$}=Re;function n$(e){let t,n,s,o,r,l,a,c,u,d,f,p,h,m,g;n=new ga({props:{cpu:e[0],ram:e[1],symbolTable:e[2],animationsEnabled:e[5]}});let $={cpu:e[0],programExecution:e[3]};o=new uu({props:$}),e[14](o);l=new cm({props:{}}),e[15](l);c=new Va({props:{}}),e[17](c);d=new Ua({props:{}}),e[18](d);return p=new e$({props:{}}),e[19](p),{c(){t=C("div"),je(n.$$.fragment),s=R(),je(o.$$.fragment),r=R(),je(l.$$.fragment),a=R(),je(c.$$.fragment),u=R(),je(d.$$.fragment),f=R(),je(p.$$.fragment),M(t,"class","relative w-app h-app origin-top-left")},m(i,$){T(i,t,$),He(n,t,null),S(t,s),He(o,t,null),S(t,r),He(l,t,null),e[16](t),T(i,a,$),He(c,i,$),T(i,u,$),He(d,i,$),T(i,f,$),He(p,i,$),h=!0,m||(g=[B(t$,"resize",e[11]),B(t$,"error",e[12])],m=!0)},p(e,[t]){const s={};1&t&&(s.cpu=e[0]),2&t&&(s.ram=e[1]),4&t&&(s.symbolTable=e[2]),32&t&&(s.animationsEnabled=e[5]),n.$set(s);const i={};1&t&&(i.cpu=e[0]),8&t&&(i.programExecution=e[3]),o.$set(i);l.$set({});c.$set({});d.$set({});p.$set({})},i(e){h||(Oe(n.$$.fragment,e),Oe(o.$$.fragment,e),Oe(l.$$.fragment,e),Oe(c.$$.fragment,e),Oe(d.$$.fragment,e),Oe(p.$$.fragment,e),h=!0)},o(e){Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(l.$$.fragment,e),Ne(c.$$.fragment,e),Ne(d.$$.fragment,e),Ne(p.$$.fragment,e),h=!1},d(s){s&&O(t),qe(n),e[14](null),qe(o),e[15](null),qe(l),e[16](null),s&&O(a),e[17](null),qe(c,s),s&&O(u),e[18](null),qe(d,s),s&&O(f),e[19](null),qe(p,s),m=!1,i(g)}}}function s$(e,t,n){let s,o,i,r,l,a,c;u(e,Di,(e=>n(20,s=e))),u(e,It,(e=>n(5,o=e))),u(e,tt,(e=>n(6,i=e))),u(e,ot,(e=>n(7,r=e))),u(e,st,(e=>n(8,l=e))),u(e,nt,(e=>n(9,a=e))),u(e,rt,(e=>n(10,c=e)));let d,{cpu:f}=t,{ram:p}=t,{symbolTable:h}=t,{programExecution:m}=t,{onMountCallback:g}=t;function $(){let e=window.innerWidth/1400,t=window.innerHeight/800,s=e<t?e:t;n(4,d.style.transform=`scale(${s})`,d)}return se((()=>{$(),g()})),e.$$set=e=>{"cpu"in e&&n(0,f=e.cpu),"ram"in e&&n(1,p=e.ram),"symbolTable"in e&&n(2,h=e.symbolTable),"programExecution"in e&&n(3,m=e.programExecution),"onMountCallback"in e&&n(13,g=e.onMountCallback)},[f,p,h,m,d,o,i,r,l,a,c,$,function(e){e.preventDefault(),xt.error(new Error(s.errors.unchecked),"UNCAUGHT")},g,function(e){de[e?"unshift":"push"]((()=>{i=e,tt.set(i)}))},function(e){de[e?"unshift":"push"]((()=>{r=e,ot.set(r)}))},function(e){de[e?"unshift":"push"]((()=>{d=e,n(4,d)}))},function(e){de[e?"unshift":"push"]((()=>{l=e,st.set(l)}))},function(e){de[e?"unshift":"push"]((()=>{a=e,nt.set(a)}))},function(e){de[e?"unshift":"push"]((()=>{c=e,rt.set(c)}))}]}class o${constructor(e,t=o$.DEFAULT_INTERVAL_MS){if(!e)throw new Error("Null or undefined cyclable");if(t<1)throw new Error("intervalMs must be greater than 0");this.intervalId=null,this.cyclable=e,this.intervalMs=t,this.isLocked=!1}start(){null===this.intervalId&&(this.intervalId=setInterval((()=>en(this,void 0,void 0,(function*(){this.isLocked||(this.isLocked=!0,yield this.cyclable.cycle(),this.isLocked=!1)}))),this.intervalMs))}stop(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}o$.DEFAULT_INTERVAL_MS=200,xt.info("Instantiating models","DEBUG");const i$=new sl,r$=new class{constructor(){this.instructionRegister=Xe(Zi.NOP),this.programCounter=Xe(new Gi(8,0)),this.increment=Xe(new Gi(8,2)),this.alu1=Xe(new Gi(16,0)),this.alu2=Xe(new Gi(16,0)),this.aluOperation=Xe(""),this.aluResult=Xe(new Gi(16,0)),this.accumulator=Xe(new Gi(16,0)),this.zeroFlag=Xe(!0),this.negativeFlag=Xe(!1),this.isJumping=Xe(!1),this.isHalting=Xe(!1)}reset(){this.instructionRegister.set(Zi.NOP),this.programCounter.set(new Gi(8,0)),this.increment.set(new Gi(8,2)),this.alu1.set(new Gi(16,0)),this.alu2.set(new Gi(16,0)),this.aluOperation.set(""),this.aluResult.set(new Gi(16,0)),this.accumulator.set(new Gi(16,0)),this.zeroFlag.set(!0),this.negativeFlag.set(!1),this.isJumping.set(!1),this.isHalting.set(!1)}set(e,t){switch(e){case tr.IR:this.instructionRegister.set(t);break;case tr.PC:this.programCounter.set(t);break;case tr.INC:this.increment.set(t);break;case tr.ALU1:this.alu1.set(t);break;case tr.ALU2:this.alu2.set(t);break;case tr.ALU_OP:this.aluOperation.set(t);break;case tr.ALU_RESULT:this.aluResult.set(t);break;case tr.ACC:this.accumulator.set(t);break;case tr.SW_Z:this.zeroFlag.set(t);break;case tr.SW_N:this.negativeFlag.set(t);break;case tr.HALTING:this.isHalting.set(t);break;case tr.JUMPING:this.isJumping.set(t)}}},l$=new cl,a$=new class{constructor(){this.data_main=Xe(new Gi(16,0)),this.data_ir_cu=Xe(new Gi(16,0)),this.data_alu_acc=Xe(new Gi(16,0)),this.data_alu_sw=Xe(new Gi(16,0)),this.data_mux_alu=Xe(new Gi(16,0)),this.ctrl_cu_mux=Xe(new Gi(16,0)),this.ctrl_cu_ram=Xe(new Gi(16,0)),this.ctrl_cu_alu=Xe(new Gi(16,0)),this.addr_main=Xe(new Gi(16,0)),this.addr_inc_pc=Xe(new Gi(16,0))}set(e,t){this[e].set(t)}},c$=new Aa;xt.info("Models instantiated","DEBUG"),xt.info("Setting model's stores","DEBUG"),dr.set(i$),ur.set(r$),fr.set(l$),pr.set(a$),gr.set(c$),xt.info("Model's stores setted","DEBUG"),xt.info("Subscribing symbol table change synchers","DEBUG"),l$.addLabelEditedListener((e=>i$.updateLabel(e.oldLabel,e.newLabel))),l$.addLabelEditedListener((e=>{xt.info(`Label edited - oldValue: "${e.oldLabel}" newValue: "${e.newLabel}"`,"DEBUG")})),l$.addLabelMovedListener((e=>i$.updateLabelAddress(e.label,e.newAddress))),l$.addLabelMovedListener((e=>{xt.info(`Label moved - label: "${e.label}" oldAddress: "${e.oldAddress}" newAddress: "${e.newAddress}"`,"DEBUG")})),l$.addLabelRemovedListener((e=>i$.removeLabel(e.removedLabel))),l$.addLabelRemovedListener((e=>{xt.info(`Label removed - label: "${e.removedLabel}" address: "${e.address}"`,"DEBUG")})),xt.info("Symbol table change synchers subscribed","DEBUG"),xt.info("Checking url params for base64 encoded program","DEBUG");const u$=new URLSearchParams(window.location.search);if(u$.has("program")){xt.info("Base64 encoded program found in page url","DEBUG");try{const e=u$.get("program");xt.info(`Loading program from url: ${e}`,"USER_INPUT");const t=Yl(window.atob(e));i$.import(t.ram),l$.import(t.symbolTable)}catch(wt){c$.error(wt.message),xt.error(wt,"USER_INPUT",wt.isChecked)}xt.info("Base64 encoded program loaded","DEBUG")}else{xt.info("No base64 encoded program found in the page url","DEBUG"),xt.info("Loading program from local storage","DEBUG");const e=Yl(ut.getOrElse("program","NOP"));i$.import(e.ram),l$.import(e.symbolTable),xt.info("Program from local storage loaded","DEBUG")}xt.info("Subscribing local storage program synchers","DEBUG"),i$.instructions.subscribe((e=>ut.set("program",ea(i$,l$)))),l$.labels.subscribe((e=>ut.set("program",ea(i$,l$)))),xt.info("Local storage program synchers subscribed","DEBUG"),function(){xt.info("Initializing settings","DEBUG"),xt.info("Initializing settings values","DEBUG"),_t.set(Kt.showSettings),Et.set(Kt.displayAsBinary),kt.set("true"===ut.getOrElse("displayComponentsLabels",Kt.displayComponentsLabels)),At.set("true"===ut.getOrElse("displayBussesLabels",Kt.displayBussesLabels)),St.set("true"===ut.getOrElse("displayStepText",Kt.displayStepText)),Lt.set(Kt.minimalAnimations),It.set(Kt.animationsEnabled),Tt.set(parseFloat(ut.getOrElse("animationSpeed",Kt.animationSpeed))),Ot.set(ut.getOrElse("language",Kt.language)),Nt.set("true"===ut.getOrElse("ttsEnabled",Kt.ttsEnabled)),Ct.set(parseFloat(ut.getOrElse("ttsSpeed",Kt.ttsSpeed))),Pt.set(ut.getOrElse("extDataBusColor",Kt.extDataBusColor)),Rt.set(ut.getOrElse("intDataBusColor",Kt.intDataBusColor)),Ut.set(ut.getOrElse("extDataBusAnimationColor",Kt.extDataBusAnimationColor)),Bt.set(ut.getOrElse("intDataBusAnimationColor",Kt.intDataBusAnimationColor)),Mt.set(ut.getOrElse("extAddressBusColor",Kt.extAddressBusColor)),Ft.set(ut.getOrElse("intAddressBusColor",Kt.intAddressBusColor)),Qt.set(ut.getOrElse("extAddressBusAnimationColor",Kt.extAddressBusAnimationColor)),jt.set(ut.getOrElse("intAddressBusAnimationColor",Kt.intAddressBusAnimationColor)),Ht.set(ut.getOrElse("extControlBusColor",Kt.extControlBusColor)),qt.set(ut.getOrElse("intControlBusColor",Kt.intControlBusColor)),Wt.set(ut.getOrElse("extControlBusAnimationColor",Kt.extControlBusAnimationColor)),Gt.set(ut.getOrElse("intControlBusAnimationColor",Kt.intControlBusAnimationColor)),xt.info("Settings values initialized","DEBUG");const e=()=>{xt.info("Initializing ttsVoice setting (onvoicechanged event)","DEBUG"),Dt.set(ut.getOrElse("ttsVoice",ft.getAvailableVoices(Ot.get())[0].name));const t=Dt.get();Ot.subscribe((e=>Dt.set(ft.getAvailableVoices(e)[0].name))),Dt.subscribe((e=>ut.set("ttsVoice",e))),Dt.set(t),window.speechSynthesis.removeEventListener("voiceschanged",e),xt.info("ttsVoice setting initialized","DEBUG")};window.speechSynthesis.addEventListener("voiceschanged",e),xt.info("Subscribing local storage settings synchers","DEBUG"),kt.subscribe((e=>ut.set("displayComponentsLabels",e))),At.subscribe((e=>ut.set("displayBussesLabels",e))),St.subscribe((e=>ut.set("displayStepText",e))),Tt.subscribe((e=>ut.set("animationSpeed",e))),Ot.subscribe((e=>ut.set("language",e))),Nt.subscribe((e=>ut.set("ttsEnabled",e))),Ct.subscribe((e=>ut.set("ttsSpeed",e))),Pt.subscribe((e=>ut.set("extDataBusColor",e))),Rt.subscribe((e=>ut.set("intDataBusColor",e))),Ut.subscribe((e=>ut.set("extDataBusAnimationColor",e))),Bt.subscribe((e=>ut.set("intDataBusAnimationColor",e))),Mt.subscribe((e=>ut.set("extAddressBusColor",e))),Ft.subscribe((e=>ut.set("intAddressBusColor",e))),Qt.subscribe((e=>ut.set("extAddressBusAnimationColor",e))),jt.subscribe((e=>ut.set("intAddressBusAnimationColor",e))),Ht.subscribe((e=>ut.set("extControlBusColor",e))),qt.subscribe((e=>ut.set("intControlBusColor",e))),Wt.subscribe((e=>ut.set("extControlBusAnimationColor",e))),Gt.subscribe((e=>ut.set("intControlBusAnimationColor",e))),xt.info("Local storage settings synchers subscribed","DEBUG"),xt.info("Settings initialized","DEBUG")}(),function(){en(this,void 0,void 0,(function*(){xt.info("Initializing text","DEBUG"),yield Pi(c(Ot)),Ot.subscribe(Pi),xt.info("Text initialized","DEBUG")}))}(),xt.info("Fetching messages","DEBUG");const d$=`resources/messages/${Ot.get()}.json`;fetch(d$).then((e=>e.json())).then((e=>{xt.info(`Messages fetched - ${e.length} messages found`,"DEBUG"),e.forEach((e=>{gr.get().addMessage({message:e.message,type:e.type,expiresInSec:e.expiresInSec})}))})).catch((e=>{xt.info("Error while fetching messages","DEBUG"),xt.error(e,"DEBUG"),gr.get().error(ol(Di.get().errors.generic.fetch_error,d$))})),xt.info("Instantiating program execution and program execution loop","DEBUG");const f$=new class{constructor(e,t,n,s){if(!e)throw new Error("Null or undefined cpu");if(!t)throw new Error("Null or undefined ram");if(!n)throw new Error("Null or undefined symbolTable");if(!s)throw new Error("Null or undefined wires");this._isExecuting=Xe(!1),this.isExecuting=Je(this._isExecuting,(e=>e)),this.isPlayingProgram=!1,this.isPlayingMicrostep=!1,this.isPlayingInstruction=!1,this.cyclePhase="ENQUEUING_FETCH",this.queue=[],this.executionContext={cpu:{model:e,component:null},ram:{model:t,component:null},wires:{model:s,component:null},symbolTable:n,stepTextComponent:null},this.executionEndedCallbacks=[]}cycle(){return en(this,void 0,void 0,(function*(){if(this.shouldExecute())try{switch(this.cyclePhase){case"ENQUEUING_FETCH":this.queue.push(...Ic),this.cyclePhase="EXECUTING_FETCH";break;case"EXECUTING_FETCH":yield this.execute(),this.queueIsEmpty()&&(this.cyclePhase="ENQUEUING_INSTRUCTION");break;case"ENQUEUING_INSTRUCTION":const e=this.executionContext.cpu.model.instructionRegister.get();this.queue.push(...function(e){if(!e.opcode)throw new Ri(Di.get().errors.execution.invalid_instruction);const t=[];switch(e.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":t.push(...Tc,...Oc,...Nc,...Cc(e.immediateFlag()),new Qc,new bc(new Sc("ALU:RES"),new _c("ALU:4","ACC:2"),new mc("execute"),new Ec("execute")),(new Hc).thenWaitFor(gc).endstep(),new bc(new _c("ALU:3","SW:1"),new mc("alu_to_sw"),new Ec("alu_to_sw")),(new jc).thenWaitFor(gc).endstep());break;case"NOT":t.push(...Tc,...Oc,...Cc(e.immediateFlag()),new Qc,new bc(new Sc("ALU:RES"),new _c("ALU:4","ACC:2"),new mc("execute"),new Ec("execute")),(new Hc).thenWaitFor(gc).endstep(),new bc(new _c("ALU:3","SW:1"),new mc("alu_to_sw"),new Ec("alu_to_sw")),(new jc).thenWaitFor(gc).endstep());break;case"CMP":t.push(...Tc,...Oc,...Nc,...Cc(e.immediateFlag()),new bc(new _c("ALU:3","SW:1"),new mc("alu_to_sw"),new Ec("alu_to_sw")),(new Wc).thenWaitFor(gc).endstep());break;case"LOD":t.push(...Tc,...Oc,...Cc(e.immediateFlag()),new Qc,new bc(new Sc("ALU:RES"),new _c("ALU:4","ACC:2"),new mc("execute"),new Ec("execute")),(new Hc).thenWaitFor(gc).endstep());break;case"STO":t.push(new bc(new Sc("IR:OPR"),new _c("IR:2","RAM:ADD"),new mc("ir_to_ram"),new Ec("ir_to_ram")),new xc("ADDRESS").thenWaitFor(gc).endstep(),new bc(new Yr("ACC"),new mc("acc_to_ram"),new Ec("acc_to_ram")),new bc(new Sc("ACC"),new _c("ACC:1","RAM:DATA")).thenWaitFor(gc).endstep(),new bc(new _c("CU:3","RAM:CTRL"),new mc("memory_write"),new Ec("memory_write")).thenWaitFor(gc).endstep(),new bc(new Kc,new mc("acc_stored_to_ram"),new Ec("acc_stored_to_ram")).thenWaitFor(gc).endstep());break;case"JMP":t.push(...Rc);break;case"JZ":t.push(new Yr("SW:Z"),...Uc);break;case"JNZ":t.push(new Yr("SW:Z"),...Bc);break;case"JN":t.push(new Yr("SW:N"),...Mc);break;case"JNN":t.push(new Yr("SW:N"),...Fc);break;case"NOP":t.push();break;case"HLT":t.push(new qc);break;default:throw new Error(`Unrecognized opcode: "${e.opcode.symbolic}"`)}return t}(e)),xt.info(`Executing instruction "${e.symbolic()}"`,"EXECUTION"),this.cyclePhase="EXECUTING_INSTRUCTION";break;case"EXECUTING_INSTRUCTION":yield this.execute(),this.queueIsEmpty()&&(this.executionContext.cpu.model.programCounter.get().unsigned()!==Yi||this.executionContext.cpu.model.isJumping.get()||this.executionContext.cpu.model.isHalting.set(!0),this.executionContext.cpu.model.isJumping.get()?(this.executionContext.cpu.model.isJumping.set(!1),this.cyclePhase="ENQUEUING_FETCH",this.isPlayingInstruction&&this.setIsPlayingInstruction(!1)):this.cyclePhase="ENQUEUEING_PC_INCREMENT");break;case"ENQUEUEING_PC_INCREMENT":this.queue.push(...Lc),this.cyclePhase="EXECUTING_PC_INCREMENT";break;case"EXECUTING_PC_INCREMENT":yield this.execute(),this.isPlayingInstruction&&(this.setIsPlayingInstruction(!1),this.executionContext.cpu.model.isHalting.set(!0)),this.queueIsEmpty()&&(this.cyclePhase="ENQUEUING_FETCH")}}catch(e){this.executionContext.cpu.model.isHalting.set(!0),gr.get().error(e.message),xt.error(e,"EXECUTION",e.isChecked)}finally{this.executionContext.cpu.model.isHalting.get()&&this.reset()}}))}execute(){return en(this,void 0,void 0,(function*(){for(;!this.queueIsEmpty()&&this.shouldExecute();){const e=this.queue.shift();yield e.execute(this.executionContext),this.isPlayingMicrostep&&e.doesEndStep()&&this.setIsPlayingMicrostep(!1)}}))}start(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!0),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!1),xt.info("Execution - START","EXECUTION")}pause(){this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!1),this.executeExecutionEndedCallbacks(),xt.info("Execution - PAUSE","EXECUTION")}toggle(...e){this.isExecuting.get()?this.pause():this.start(...e)}step(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!0),this.setIsPlayingInstruction(!1),xt.info("Execution - STEP","EXECUTION")}instruction(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!0),xt.info("Execution - INSTRUCTION","EXECUTION")}reset(){this.pause(),this.executionContext.cpu.model.isHalting.set(!1),this.executionContext.cpu.model.isJumping.set(!1),this.cyclePhase="ENQUEUING_FETCH",this.emptyExecutionQueue(),xt.info("Execution - RESET","EXECUTION")}shouldExecute(){return this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction}emptyExecutionQueue(){this.queue=[]}queueIsEmpty(){return 0===this.queue.length}setIsPlayingProgram(e){this.isPlayingProgram=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}setIsPlayingMicrostep(e){this.isPlayingMicrostep=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}setIsPlayingInstruction(e){this.isPlayingInstruction=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}executeExecutionEndedCallbacks(){this.executionEndedCallbacks.forEach((e=>e(this.executionContext))),this.executionEndedCallbacks=[]}}(r$,i$,l$,a$),p$=new o$(f$,20);xt.info("Program execution and program execution loop instantiated","DEBUG"),xt.info("Setting program execution and program execution loop stores","DEBUG"),hr.set(f$),mr.set(p$),xt.info("Program execution and program execution loop stores setted","DEBUG"),xt.info("Instantiating App","DEBUG");const h$=new class extends Ge{constructor(e){super(),We(this,e,s$,n$,l,{cpu:0,ram:1,symbolTable:2,programExecution:3,onMountCallback:13})}}({target:document.body,props:{cpu:r$,ram:i$,symbolTable:l$,programExecution:f$,onMountCallback:function(){xt.info("Initializing execution context","DEBUG");const e=Ye.get(),t=Ze.get(),n=et.get(),s=it.get();if(!e)throw new Error("cpu component not yet initialized");if(!t)throw new Error("ram component not yet initialized");if(!n)throw new Error("wires component not yet initialized");if(!s)throw new Error("step text component not yet initialized");f$.executionContext.cpu.component=e,f$.executionContext.ram.component=t,f$.executionContext.wires.component=n,f$.executionContext.stepTextComponent=s,xt.info("Starting execution loop","DEBUG"),p$.start(),xt.info("Execution loop started","DEBUG"),xt.info("Execution context initialized","DEBUG")}}});return xt.info("App instantiated","DEBUG"),h$}();
//# sourceMappingURL=app.bundle.js.map
