var app=function(){"use strict";function e(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))}function t(){}const n=e=>e;function s(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function i(){return Object.create(null)}function r(e){e.forEach(o)}function l(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function u(e){let t;return a(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(a(t,n))}function f(e,t,n,s){if(e){const o=p(e,t,n,s);return e[0](o)}}function p(e,t,n,o){return e[1]&&o?s(n.ctx.slice(),e[1](o(t))):n.ctx}function h(e,t,n,s){if(e[2]&&s){const o=e[2](s(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|o[s];return e}return t.dirty|o}return t.dirty}function m(e,t,n,s,o,i){if(o){const r=p(t,n,s,i);e.p(r,o)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function $(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function b(e,t){const n={};t=new Set(t);for(const s in e)t.has(s)||"$"===s[0]||(n[s]=e[s]);return n}function y(e){return null==e?"":e}function w(e,t,n){return e.set(n),t}function v(e){return e&&l(e.destroy)?e.destroy:t}const x="undefined"!=typeof window;let _=x?()=>window.performance.now():()=>Date.now(),E=x?e=>requestAnimationFrame(e):t;const k=new Set;function A(e){k.forEach((t=>{t.c(e)||(k.delete(t),t.f())})),0!==k.size&&E(A)}function S(e){let t;return 0===k.size&&E(A),{promise:new Promise((n=>{k.add(t={c:e,f:n})})),abort(){k.delete(t)}}}function L(e,t){e.appendChild(t)}function I(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function T(e){const t=D("style");return function(e,t){L(e.head||e,t),t.sheet}(I(e),t),t.sheet}function O(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function C(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function D(e){return document.createElement(e)}function P(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R(e){return document.createTextNode(e)}function U(){return R(" ")}function B(){return R("")}function M(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Q(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)null==t[s]?e.removeAttribute(s):"style"===s?e.style.cssText=t[s]:"__value"===s?e.value=e[s]=t[s]:n[s]&&n[s].set?e[s]=t[s]:F(e,s,t[s])}function j(e){return""===e?null:+e}function H(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function G(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function W(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function K(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function V(e,t,n){e.classList[n?"add":"remove"](t)}function z(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,s,t),o}function X(e,t){return new e(t)}const J=new Map;let Z,Y=0;function ee(e,t,n,s,o,i,r,l=0){const c=16.666/s;let a="{\n";for(let e=0;e<=1;e+=c){const s=t+(n-t)*i(e);a+=100*e+`%{${r(s,1-s)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,f=I(e),{stylesheet:p,rules:h}=J.get(f)||function(e,t){const n={stylesheet:T(t),rules:{}};return J.set(e,n),n}(f,e);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${o}ms 1 both`,Y+=1,d}function te(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-s.length;o&&(e.style.animation=s.join(", "),Y-=o,Y||E((()=>{Y||(J.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)})),J.clear())})))}function ne(e){Z=e}function se(){if(!Z)throw new Error("Function called outside component initialization");return Z}function oe(e){se().$$.on_mount.push(e)}function ie(e){se().$$.after_update.push(e)}function re(e){se().$$.on_destroy.push(e)}function le(){const e=se();return(t,n,{cancelable:s=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=z(t,n,{cancelable:s});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function ce(e,t){return se().$$.context.set(e,t),t}function ae(e){return se().$$.context.get(e)}function ue(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const de=[],fe=[],pe=[],he=[],me=Promise.resolve();let ge=!1;function $e(){ge||(ge=!0,me.then(Ee))}function be(){return $e(),me}function ye(e){pe.push(e)}function we(e){he.push(e)}const ve=new Set;let xe,_e=0;function Ee(){const e=Z;do{for(;_e<de.length;){const e=de[_e];_e++,ne(e),ke(e.$$)}for(ne(null),de.length=0,_e=0;fe.length;)fe.pop()();for(let e=0;e<pe.length;e+=1){const t=pe[e];ve.has(t)||(ve.add(t),t())}pe.length=0}while(de.length);for(;he.length;)he.pop()();ge=!1,ve.clear(),ne(e)}function ke(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ye)}}function Ae(){return xe||(xe=Promise.resolve(),xe.then((()=>{xe=null}))),xe}function Se(e,t,n){e.dispatchEvent(z(`${t?"intro":"outro"}${n}`))}const Le=new Set;let Ie;function Te(){Ie={r:0,c:[],p:Ie}}function Oe(){Ie.r||r(Ie.c),Ie=Ie.p}function Ne(e,t){e&&e.i&&(Le.delete(e),e.i(t))}function Ce(e,t,n,s){if(e&&e.o){if(Le.has(e))return;Le.add(e),Ie.c.push((()=>{Le.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const De={duration:0};function Pe(e,s,o){const i={direction:"in"};let r,c,a=s(e,o,i),u=!1,d=0;function f(){r&&te(e,r)}function p(){const{delay:s=0,duration:o=300,easing:i=n,tick:l=t,css:p}=a||De;p&&(r=ee(e,0,1,o,s,i,p,d++)),l(0,1);const h=_()+s,m=h+o;c&&c.abort(),u=!0,ye((()=>Se(e,!0,"start"))),c=S((t=>{if(u){if(t>=m)return l(1,0),Se(e,!0,"end"),f(),u=!1;if(t>=h){const e=i((t-h)/o);l(e,1-e)}}return u}))}let h=!1;return{start(){h||(h=!0,te(e),l(a)?(a=a(i),Ae().then(p)):p())},invalidate(){h=!1},end(){u&&(f(),u=!1)}}}function Re(e,s,o,i){const c={direction:"both"};let a=s(e,o,c),u=i?0:1,d=null,f=null,p=null;function h(){p&&te(e,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(s){const{delay:o=0,duration:i=300,easing:l=n,tick:c=t,css:g}=a||De,$={start:_()+o,b:s};s||($.group=Ie,Ie.r+=1),d||f?f=$:(g&&(h(),p=ee(e,u,s,i,o,l,g)),s&&c(0,1),d=m($,i),ye((()=>Se(e,s,"start"))),S((t=>{if(f&&t>f.start&&(d=m(f,i),f=null,Se(e,d.b,"start"),g&&(h(),p=ee(e,u,d.b,d.duration,0,l,a.css))),d)if(t>=d.end)c(u=d.b,1-u),Se(e,d.b,"end"),f||(d.b?h():--d.group.r||r(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*l(e/d.duration),c(u,1-u)}return!(!d&&!f)})))}return{run(e){l(a)?Ae().then((()=>{a=a(c),g(e)})):g(e)},end(){h(),d=f=null}}}const Ue="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Be(e,t){Ce(e,1,1,(()=>{t.delete(e.key)}))}function Me(e,t,n,s,o,i,r,l,c,a,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],$=new Map,b=new Map;for(h=p;h--;){const e=d(o,i,h),l=n(e);let c=r.get(l);c?s&&c.p(e,t):(c=a(l,e),c.c()),$.set(l,g[h]=c),l in m&&b.set(l,Math.abs(h-m[l]))}const y=new Set,w=new Set;function v(e){Ne(e,1),e.m(l,u),r.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],s=t.key,o=n.key;t===n?(u=t.first,f--,p--):$.has(o)?!r.has(s)||y.has(s)?v(t):w.has(o)?f--:b.get(s)>b.get(o)?(w.add(s),v(t)):(y.add(o),f--):(c(n,r),f--)}for(;f--;){const t=e[f];$.has(t.key)||c(t,r)}for(;p;)v(g[p-1]);return g}function Fe(e,t){const n={},s={},o={$$scope:1};let i=e.length;for(;i--;){const r=e[i],l=t[i];if(l){for(const e in r)e in l||(s[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in r)o[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function Qe(e){return"object"==typeof e&&null!==e?e:{}}function je(e,t,n,s){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,void 0===s&&n(e.$$.ctx[o]))}function He(e){e&&e.c()}function qe(e,t,n,s){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),s||ye((()=>{const t=e.$$.on_mount.map(o).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):r(t),e.$$.on_mount=[]})),c.forEach(ye)}function Ge(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function We(e,n,s,o,l,c,a,u=[-1]){const d=Z;ne(e);const f=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&function(e,t){-1===e.$$.dirty[0]&&(de.push(e),$e(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(N)}else f.fragment&&f.fragment.c();n.intro&&Ne(e.$$.fragment),qe(e,n.target,n.anchor,n.customElement),Ee()}ne(d)}class Ke{$destroy(){Ge(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ve=[];function ze(e,n=t){let s;const o=new Set;function i(t){if(c(e,t)&&(e=t,s)){const t=!Ve.length;for(const t of o)t[1](),Ve.push(t,e);if(t){for(let e=0;e<Ve.length;e+=2)Ve[e][0](Ve[e+1]);Ve.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,l=t){const c=[r,l];return o.add(c),1===o.size&&(s=n(i)||t),r(e),()=>{o.delete(c),0===o.size&&(s(),s=null)}}}}function Xe(e,n,s){const o=!Array.isArray(e),i=o?[e]:e,c=n.length<2;return u=e=>{let s=!1;const u=[];let d=0,f=t;const p=()=>{if(d)return;f();const s=n(o?u[0]:u,e);c?e(s):f=l(s)?s:t},h=i.map(((e,t)=>a(e,(e=>{u[t]=e,d&=~(1<<t),s&&p()}),(()=>{d|=1<<t}))));return s=!0,p(),function(){r(h),f()}},{subscribe:ze(s,u).subscribe};var u}function Je(e,t){const n=ze(e,t);return n.get=()=>u(n),n}function Ze(e,t){const n=Xe(e,t);return n.get=()=>u(n),n}const Ye=Je(),et=Je(),tt=Je(),nt=Je(),st=Je(),ot=Je(),it=Je(),rt=Je(),lt=Je();class ct{constructor(e,t,n){this.a=e,this.b=t,this.type=n,this.a.connectTo(t,this)}isConnecting(e,t){return this.a===e&&this.b===t||this.a===t&&this.b===e}}ct.WIDTH=5;class at{constructor(e,t,n,s=null){this.x=t,this.y=n,this.name=e,this.neighbours=[],this.intersectionType=s}isAlignedTo(e){return this.x===e.x||this.y===e.y}isConnectedTo(e){return this.neighbours.some((t=>t===e))}connectTo(e,t){if(!this.isAlignedTo(e))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+e.name+")");if(this.isConnectedTo(e))throw new Error("This node is already connected to "+e.name);this.neighbours.push(e),e.neighbours.push(this)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static direction(e,t){return e.x>t.x?{x:-1,y:0}:e.x<t.x?{x:1,y:0}:e.y>t.y?{x:0,y:-1}:{x:0,y:1}}}const ut=["en","it"];const dt=new class{constructor(e){this.namespace=e}set(e,t){localStorage.setItem(`${this.namespace}.${e.toString()}`,t.toString())}get(e){return localStorage.getItem(`${this.namespace}.${e.toString()}`)}getOrElse(e,t){return this.isSet(e)?this.get(e):t.toString()}isSet(e){return null!==localStorage.getItem(`${this.namespace}.${e.toString()}`)}}("app");let ft=null;var pt={read:function(e,t,n,...s){ft=new SpeechSynthesisUtterance(e),ft.rate=t,ft.voice=n,ft.onend=ft.onerror=()=>{ft=null,s.forEach((e=>null==e?void 0:e()))},speechSynthesis.speak(ft)},isUtteranceEnded:function(){return null===ft},getAvailableVoices:function(e){return window.speechSynthesis.getVoices().filter((t=>t.lang.startsWith(e)))}};const ht=ze([]),mt={subscribe:ht.subscribe,push(e){ht.update((t=>[...t,e]))}},gt=ze({showLogger:!1}),$t={subscribe:gt.subscribe,updateShowLogger(e){gt.update((t=>Object.assign(Object.assign({},t),{showLogger:e(t.showLogger)})))}},bt=Date.now(),yt=["EXECUTION","USER_INPUT","DEBUG","UNCAUGHT"],wt=["UNCHECKED_ERROR","CHECKED_ERROR","INFO"];function vt(){return Date.now()-bt}var xt={error:function(e,t,n=!1){mt.push({logType:n?"CHECKED_ERROR":"UNCHECKED_ERROR",logGroup:t,timestamp:vt(),message:n?e.message:e.stack})},info:function(e,t){mt.push({logType:"INFO",logGroup:t,timestamp:vt(),message:e})}};const _t=Je(),Et=Je(),kt=Je(),At=Je(),St=Je(),Lt=Je(),It=Je(),Tt=Je(),Ot=Je(),Nt=Je(),Ct=Je(),Dt=Je(),Pt=Je(),Rt=Je(),Ut=Je(),Bt=Je(),Mt=Je(),Ft=Je(),Qt=Je(),jt=Je(),Ht=Je(),qt=Je(),Gt=Je(),Wt=Je(),Kt={showSettings:!1,displayAsBinary:!1,displayComponentsLabels:!0,displayBussesLabels:!0,displayStepText:!1,minimalAnimations:!1,animationsEnabled:!0,animationSpeed:1.5,language:function(){let e=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return e=e.split("-")[0],ut.includes(e)?e:"en"}(),ttsEnabled:!1,ttsSpeed:1,extDataBusColor:"#0000ff",intDataBusColor:"#00ffff",extDataBusAnimationColor:"#00ff00",intDataBusAnimationColor:"#006400",extAddressBusColor:"#ff8c00",intAddressBusColor:"#ffff00",extAddressBusAnimationColor:"#00ff00",intAddressBusAnimationColor:"#006400",extControlBusColor:"#ff0000",intControlBusColor:"#ff7a90",extControlBusAnimationColor:"#00ff00",intControlBusAnimationColor:"#00ff00"};function Vt(){kt.set(Kt.displayComponentsLabels),At.set(Kt.displayBussesLabels),St.set(Kt.displayStepText),Tt.set(Kt.animationSpeed),Ot.set(Kt.language),Nt.set(Kt.ttsEnabled),Ct.set(Kt.ttsSpeed),Pt.set(Kt.extDataBusColor),Rt.set(Kt.intDataBusColor),Ut.set(Kt.extDataBusAnimationColor),Bt.set(Kt.intDataBusAnimationColor),Mt.set(Kt.extAddressBusColor),Ft.set(Kt.intAddressBusColor),Qt.set(Kt.extAddressBusAnimationColor),jt.set(Kt.intAddressBusAnimationColor),Ht.set(Kt.extControlBusColor),qt.set(Kt.intControlBusColor),Gt.set(Kt.extControlBusAnimationColor),Wt.set(Kt.intControlBusAnimationColor)}const zt={DATA_INT:{name:"DATA_INT",color:()=>u(Rt),animationColor:()=>u(Bt)},DATA_EXT:{name:"DATA_EXT",color:()=>u(Pt),animationColor:()=>u(Ut)},CONTROL_INT:{name:"CONTROL_INT",color:()=>u(qt),animationColor:()=>u(Wt)},CONTROL_EXT:{name:"CONTROL_EXT",color:()=>u(Ht),animationColor:()=>u(Gt)},ADDRESS_INT:{name:"ADDRESS_INT",color:()=>u(Ft),animationColor:()=>u(jt)},ADDRESS_EXT:{name:"ADDRESS_EXT",color:()=>u(Mt),animationColor:()=>u(Qt)},INVISIBLE:{name:"INVISIBLE",color:()=>"transparent",animationColor:()=>"transparent"}},Xt=[...[new at("RAM:DATA",1250,115),new at("DATA:1",1250,85,zt.DATA_EXT),new at("DATA:2",749,85),new at("DATA:3",527,85),new at("DATA:4",262,85),new at("DATA:5",95,85,zt.DATA_INT),new at("DATA:6",95,390),new at("DATA:7",95,617,zt.DATA_INT),new at("DATA:8",320,390,zt.DATA_INT),new at("DATA:9",312,250,zt.DATA_INT),new at("DATA:10",477,250),new at("DATA:11",652,490,zt.DATA_INT),new at("IR:1",262,151),new at("IR:2",312,180),new at("IR:3",212,180),new at("MUX:1",477,292),new at("MUX:2",527,292),new at("MUX:3",502,332),new at("ACC:1",327,617),new at("ACC:2",412,601),new at("ALU:1",320,432),new at("ALU:2",502,432),new at("ALU:3",526,490),new at("ALU:4",412,538),new at("SW:1",652,601)],...[new at("RAM:ADD",1061,250),new at("ADD:1",749,250),new at("ADD:2",670,250),new at("ADD:3",590,250),new at("ADD:4",590,137,zt.ADDRESS_INT),new at("ADD:5",532,250),new at("ADD:6",522,250),new at("INC:1",670,210),new at("INC:2",670,182),new at("PC:1",670,150),new at("PC:2",622,137)],...[new at("RAM:CTRL",1061,370),new at("CTRL:1",749,370),new at("CTRL:2",507,370),new at("CTRL:3",497,370),new at("CTRL:4",240,370,zt.CONTROL_INT),new at("CTRL:5",185,385),new at("CTRL:6",185,395),new at("CTRL:7",185,490,zt.CONTROL_INT),new at("CU:1",212,281),new at("CU:2",270,313),new at("CU:3",240,340),new at("CU:4",185,340),new at("MUX:4",464,313),new at("ALU:5",297,490)]];function Jt(e){return Xt.find((t=>t.name===e))}const Zt=[...[new ct(Jt("RAM:DATA"),Jt("DATA:1"),zt.DATA_EXT),new ct(Jt("DATA:1"),Jt("DATA:2"),zt.DATA_EXT),new ct(Jt("DATA:2"),Jt("DATA:3"),zt.DATA_INT),new ct(Jt("DATA:3"),Jt("DATA:4"),zt.DATA_INT),new ct(Jt("DATA:4"),Jt("DATA:5"),zt.DATA_INT),new ct(Jt("DATA:5"),Jt("DATA:6"),zt.DATA_INT),new ct(Jt("DATA:6"),Jt("DATA:7"),zt.DATA_INT),new ct(Jt("DATA:6"),Jt("DATA:8"),zt.DATA_INT),new ct(Jt("DATA:8"),Jt("ALU:1"),zt.DATA_INT),new ct(Jt("DATA:7"),Jt("ACC:1"),zt.DATA_INT),new ct(Jt("MUX:3"),Jt("ALU:2"),zt.DATA_INT),new ct(Jt("ALU:4"),Jt("ACC:2"),zt.DATA_INT),new ct(Jt("ALU:3"),Jt("DATA:11"),zt.DATA_INT),new ct(Jt("DATA:11"),Jt("SW:1"),zt.DATA_INT),new ct(Jt("DATA:4"),Jt("IR:1"),zt.DATA_INT),new ct(Jt("IR:3"),Jt("CU:1"),zt.DATA_INT),new ct(Jt("IR:2"),Jt("DATA:9"),zt.DATA_INT),new ct(Jt("DATA:9"),Jt("DATA:10"),zt.DATA_INT),new ct(Jt("DATA:10"),Jt("MUX:1"),zt.DATA_INT),new ct(Jt("DATA:3"),Jt("MUX:2"),zt.DATA_INT)],...[new ct(Jt("RAM:ADD"),Jt("ADD:1"),zt.ADDRESS_EXT),new ct(Jt("ADD:1"),Jt("ADD:2"),zt.ADDRESS_INT),new ct(Jt("ADD:2"),Jt("INC:1"),zt.ADDRESS_INT),new ct(Jt("INC:2"),Jt("PC:1"),zt.ADDRESS_INT),new ct(Jt("PC:2"),Jt("ADD:4"),zt.ADDRESS_INT),new ct(Jt("ADD:2"),Jt("ADD:3"),zt.ADDRESS_INT),new ct(Jt("ADD:3"),Jt("ADD:4"),zt.ADDRESS_INT),new ct(Jt("ADD:3"),Jt("ADD:5"),zt.ADDRESS_INT),new ct(Jt("ADD:5"),Jt("ADD:6"),zt.INVISIBLE),new ct(Jt("ADD:6"),Jt("DATA:10"),zt.ADDRESS_INT)],...[new ct(Jt("CU:2"),Jt("MUX:4"),zt.CONTROL_INT),new ct(Jt("RAM:CTRL"),Jt("CTRL:1"),zt.CONTROL_EXT),new ct(Jt("CTRL:1"),Jt("CTRL:2"),zt.CONTROL_INT),new ct(Jt("CTRL:2"),Jt("CTRL:3"),zt.INVISIBLE),new ct(Jt("CTRL:3"),Jt("CTRL:4"),zt.CONTROL_INT),new ct(Jt("CTRL:4"),Jt("CU:3"),zt.CONTROL_INT),new ct(Jt("CU:4"),Jt("CTRL:5"),zt.CONTROL_INT),new ct(Jt("CTRL:5"),Jt("CTRL:6"),zt.INVISIBLE),new ct(Jt("CTRL:6"),Jt("CTRL:7"),zt.CONTROL_INT),new ct(Jt("CTRL:7"),Jt("ALU:5"),zt.CONTROL_INT)]];function Yt(e){return Zt.find((t=>t.a.name+"-"+t.b.name===e||t.b.name+"-"+t.a.name===e))}let en,tn;class nn{constructor(e,t){this.pos={x:0,y:0},this.path=[...e],this.wires=[...t],this.reset()}play(){return e(this,void 0,void 0,(function*(){return new Promise(this._play.bind(this))}))}_play(e,t){this.resolve=e,requestAnimationFrame(this.startAnimation.bind(this))}startAnimation(e){this.previousTimestamp=e,this.animate(e)}animate(e){this.deltatime=(e-this.previousTimestamp)/1e3;const t=Math.floor(400*this.deltatime*u(Tt));if(this.draw(t),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return on(0),this.reset(),void this.resolve();this.previousTimestamp=e,requestAnimationFrame(this.animate.bind(this))}draw(e){for(tn.beginPath(),tn.moveTo(this.pos.x,this.pos.y);e>0;){for(this.nextNode=rn(this.pos,this.path[this.nextNodeIndex],e),tn.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor();(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&e>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,tn.lineTo(this.incrementedX,this.incrementedY),tn.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,e--;sn(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(e=0))}tn.closePath()}reset(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1}}function sn(e){tn.save(),tn.globalAlpha=e,tn.globalCompositeOperation="destination-out",tn.fillStyle="#FFF",tn.fillRect(0,0,en.width,en.height),tn.restore()}function on(e){sn(.1),40!==++e?requestAnimationFrame((()=>on(e))):tn.clearRect(0,0,en.width,en.height)}function rn(e,t,n){let s=at.direction(e,t),o=at.distance(e,t),i=t;return o>n&&(o=n,i=function(e,t,n){return{x:e.x+t*n.x,y:e.y+t*n.y}}(e,n,s)),{distance:o,direction:s,node:i}}function ln(e){let n,s,o=(e[7]?e[8][e[0]].text:"")+"";return{c(){n=D("div"),s=R(o),F(n,"class","absolute w-fit font-bold cursor-default text-sm leading-tight"),G(n,"top",e[1]),G(n,"bottom",e[4]),G(n,"left",e[2]),G(n,"right",e[3]),G(n,"color",e[6])},m(e,t){O(e,n,t),L(n,s)},p(e,[t]){129&t&&o!==(o=(e[7]?e[8][e[0]].text:"")+"")&&H(s,o),2&t&&G(n,"top",e[1]),16&t&&G(n,"bottom",e[4]),4&t&&G(n,"left",e[2]),8&t&&G(n,"right",e[3]),64&t&&G(n,"color",e[6])},i:t,o:t,d(e){e&&N(n)}}}function cn(e,n,s){let o,i,r,l=t;d(e,At,(e=>s(7,r=e))),e.$$.on_destroy.push((()=>l()));let{bus:c}=n,{top:u="auto"}=n,{left:f="auto"}=n,{right:p="auto"}=n,{bottom:h="auto"}=n;const m={DATA:{text:"DATA BUS",colorStore:Pt},ADDRESS:{text:"ADDRESS BUS",colorStore:Mt},CONTROL:{text:"CONTROL BUS",colorStore:Ht}};return e.$$set=e=>{"bus"in e&&s(0,c=e.bus),"top"in e&&s(1,u=e.top),"left"in e&&s(2,f=e.left),"right"in e&&s(3,p=e.right),"bottom"in e&&s(4,h=e.bottom)},e.$$.update=()=>{1&e.$$.dirty&&(s(5,o=m[c].colorStore),l(),l=a(o,(e=>s(6,i=e))))},[c,u,f,p,h,o,i,r,m]}class an extends Ke{constructor(e){super(),We(this,e,cn,ln,c,{bus:0,top:1,left:2,right:3,bottom:4})}}const un=ze(!1),dn=ze(!1),fn=ze(!1);function pn(e){let t,n,s=e[0].name+"";return{c(){t=D("span"),n=R(s),F(t,"class","text-fuchsia-500")},m(e,s){O(e,t,s),L(t,n)},p(e,t){1&t&&s!==(s=e[0].name+"")&&H(n,s)},d(e){e&&N(t)}}}function hn(e){let t,n,s,o,i,r,l,c=e[0].x+"",a=e[0].y+"";return{c(){t=D("span"),n=R("x: "),s=R(c),o=U(),i=D("span"),r=R("y: "),l=R(a),F(t,"class","text-blue-700"),F(i,"class","text-red-700")},m(e,c){O(e,t,c),L(t,n),L(t,s),O(e,o,c),O(e,i,c),L(i,r),L(i,l)},p(e,t){1&t&&c!==(c=e[0].x+"")&&H(s,c),1&t&&a!==(a=e[0].y+"")&&H(l,a)},d(e){e&&N(t),e&&N(o),e&&N(i)}}}function mn(e){let n,s,o,i,r,l,c=e[1]&&pn(e),a=e[2]&&hn(e);return{c(){n=D("div"),s=D("div"),i=U(),r=D("div"),c&&c.c(),l=U(),a&&a.c(),F(s,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),F(s,"title",o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`),F(r,"class","relative left-[7px] top-[-10px] bg-white font-bold"),F(n,"class","absolute z-10"),G(n,"top",e[0].y+"px"),G(n,"left",e[0].x+"px")},m(e,t){O(e,n,t),L(n,s),L(n,i),L(n,r),c&&c.m(r,null),L(r,l),a&&a.m(r,null)},p(e,[t]){1&t&&o!==(o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`)&&F(s,"title",o),e[1]?c?c.p(e,t):(c=pn(e),c.c(),c.m(r,l)):c&&(c.d(1),c=null),e[2]?a?a.p(e,t):(a=hn(e),a.c(),a.m(r,null)):a&&(a.d(1),a=null),1&t&&G(n,"top",e[0].y+"px"),1&t&&G(n,"left",e[0].x+"px")},i:t,o:t,d(e){e&&N(n),c&&c.d(),a&&a.d()}}}function gn(e,t,n){let s,o;d(e,dn,(e=>n(1,s=e))),d(e,fn,(e=>n(2,o=e)));let{node:i}=t;return e.$$set=e=>{"node"in e&&n(0,i=e.node)},[i,s,o]}class $n extends Ke{constructor(e){super(),We(this,e,gn,mn,c,{node:0})}}function bn(e,t,n){const s=e.slice();return s[10]=t[n],s}function yn(e){let t,n,s=Xt,o=[];for(let t=0;t<s.length;t+=1)o[t]=wn(bn(e,s,t));const i=e=>Ce(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=B()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);O(e,t,s),n=!0},p(e,n){if(0&n){let r;for(s=Xt,r=0;r<s.length;r+=1){const i=bn(e,s,r);o[r]?(o[r].p(i,n),Ne(o[r],1)):(o[r]=wn(i),o[r].c(),Ne(o[r],1),o[r].m(t.parentNode,t))}for(Te(),r=s.length;r<o.length;r+=1)i(r);Oe()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Ne(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ce(o[e]);n=!1},d(e){C(o,e),e&&N(t)}}}function wn(e){let n,s;return n=new $n({props:{node:e[10]}}),{c(){He(n.$$.fragment)},m(e,t){qe(n,e,t),s=!0},p:t,i(e){s||(Ne(n.$$.fragment,e),s=!0)},o(e){Ce(n.$$.fragment,e),s=!1},d(e){Ge(n,e)}}}function vn(e){let t,n,s,o,i,r,l,c,a,u,d,f;i=new an({props:{bus:"DATA",top:"62px",left:"850px"}}),l=new an({props:{bus:"ADDRESS",top:"226px",left:"837px"}}),a=new an({props:{bus:"CONTROL",top:"346px",left:"838px"}});let p=e[2]&&yn(e);return{c(){t=D("canvas"),n=U(),s=D("canvas"),o=U(),He(i.$$.fragment),r=U(),He(l.$$.fragment),c=U(),He(a.$$.fragment),u=U(),p&&p.c(),d=B(),F(t,"class","absolute z-[2] top-0 left-0 w-app h-app"),F(s,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(h,m){O(h,t,m),e[6](t),O(h,n,m),O(h,s,m),e[7](s),O(h,o,m),qe(i,h,m),O(h,r,m),qe(l,h,m),O(h,c,m),qe(a,h,m),O(h,u,m),p&&p.m(h,m),O(h,d,m),f=!0},p(e,[t]){e[2]?p?(p.p(e,t),4&t&&Ne(p,1)):(p=yn(e),p.c(),Ne(p,1),p.m(d.parentNode,d)):p&&(Te(),Ce(p,1,1,(()=>{p=null})),Oe())},i(e){f||(Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),Ne(a.$$.fragment,e),Ne(p),f=!0)},o(e){Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),Ce(p),f=!1},d(f){f&&N(t),e[6](null),f&&N(n),f&&N(s),e[7](null),f&&N(o),Ge(i,f),f&&N(r),Ge(l,f),f&&N(c),Ge(a,f),f&&N(u),p&&p.d(f),f&&N(d)}}}function xn(e,t,n){let s;d(e,un,(e=>n(2,s=e)));var o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let{animationsEnabled:i}=t;const r=new Map;let l,c;function a(){const e=l.getContext("2d");e.lineWidth=ct.WIDTH,e.clearRect(0,0,c.width,c.height);for(const t of Zt)e.strokeStyle=t.type.color(),e.beginPath(),e.moveTo(t.a.x,t.a.y),e.lineTo(t.b.x,t.b.y),e.stroke();for(const t of Xt.filter((e=>null!==e.intersectionType))){const n=ct.WIDTH/2-.5;e.beginPath(),e.fillStyle=t.intersectionType.color(),e.arc(t.x,t.y,n,0,2*Math.PI),e.fill()}}return oe((()=>o(void 0,void 0,void 0,(function*(){n(0,l.width=n(1,c.width=1400,c),l),n(0,l.height=n(1,c.height=800,c),l),a(),en=c,tn=en.getContext("2d"),tn.lineCap="round",tn.lineWidth=ct.WIDTH,Pt.subscribe((e=>a())),Rt.subscribe((e=>a())),Mt.subscribe((e=>a())),Ft.subscribe((e=>a())),Ht.subscribe((e=>a())),qt.subscribe((e=>a()))})))),e.$$set=e=>{"animationsEnabled"in e&&n(3,i=e.animationsEnabled)},[l,c,s,i,function(e,t){return o(this,void 0,void 0,(function*(){if(!i)return;const n=Jt(e),s=Jt(t);if(!n)throw new Error("Node "+e+" is undefined");if(!s)throw new Error("Node "+t+" is undefined");let o;if(o=r.get(e+t))o.reset();else{const i=function(e,t){const n=[e],s=new Set,o={};let i=0;for(;i<n.length;){let r=n[i++];for(const i of r.neighbours)if(!s.has(i)){if(s.add(i),i===t){const t=[i];for(;r!==e;)t.push(r),r=o[r.name];return t.push(r),t.reverse(),t}o[i.name]=r,n.push(i)}}throw new Error("No path connecting "+e.name+" to "+t.name)}(n,s),l=function(e){let t=[];for(let n=0;n<e.length-1;n++)t.push(Yt(`${e[n].name}-${e[n+1].name}`));return t}(i);o=new nn(i,l),r.set(e+t,o)}yield o.play()}))},a,function(e){fe[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(e){fe[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}class _n extends Ke{constructor(e){super(),We(this,e,xn,vn,c,{animationsEnabled:3,flashWire:4,drawStaticWires:5})}get flashWire(){return this.$$.ctx[4]}get drawStaticWires(){return this.$$.ctx[5]}}function En(e){let n,s,o,i=(e[6]?e[0]:"")+"";return{c(){n=D("div"),s=R(i),F(n,"class",o="absolute w-fit font-bold font-sans cursor-default "+e[7][e[5]]+" leading-tight"),G(n,"top",e[1]),G(n,"bottom",e[4]),G(n,"left",e[2]),G(n,"right",e[3])},m(e,t){O(e,n,t),L(n,s)},p(e,[t]){65&t&&i!==(i=(e[6]?e[0]:"")+"")&&H(s,i),32&t&&o!==(o="absolute w-fit font-bold font-sans cursor-default "+e[7][e[5]]+" leading-tight")&&F(n,"class",o),2&t&&G(n,"top",e[1]),16&t&&G(n,"bottom",e[4]),4&t&&G(n,"left",e[2]),8&t&&G(n,"right",e[3])},i:t,o:t,d(e){e&&N(n)}}}function kn(e,t,n){let s;d(e,kt,(e=>n(6,s=e)));let{text:o=""}=t,{top:i="auto"}=t,{left:r="auto"}=t,{right:l="auto"}=t,{bottom:c="auto"}=t,{fontSize:a="MEDIUM"}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"top"in e&&n(1,i=e.top),"left"in e&&n(2,r=e.left),"right"in e&&n(3,l=e.right),"bottom"in e&&n(4,c=e.bottom),"fontSize"in e&&n(5,a=e.fontSize)},[o,i,r,l,c,a,s,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class An extends Ke{constructor(e){super(),We(this,e,kn,En,c,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}function Sn(e,t,n){return(1-n)*e+n*t}function Ln(t,n,s,o){return e(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{let r,l=0;const c=i=>{if(r||(r=i),l>=1)return e(),void t.style.setProperty(n,`rgb(${o.r}, ${o.g}, ${o.b})`);const a=Math.round(Sn(s.r,o.r,l)),d=Math.round(Sn(s.g,o.g,l)),f=Math.round(Sn(s.b,o.b,l));t.style.setProperty(n,`rgb(${a}, ${d}, ${f})`);l=(i-r)/(300/u(Tt)),requestAnimationFrame(c)};requestAnimationFrame(c)}))}))}function In(t,n,s,o){return e(this,void 0,void 0,(function*(){return Ln(t,n,s,o).then((()=>Ln(t,n,o,s)))}))}const Tn=Symbol.for("yaml.alias"),On=Symbol.for("yaml.document"),Nn=Symbol.for("yaml.map"),Cn=Symbol.for("yaml.pair"),Dn=Symbol.for("yaml.scalar"),Pn=Symbol.for("yaml.seq"),Rn=Symbol.for("yaml.node.type"),Un=e=>!!e&&"object"==typeof e&&e[Rn]===Tn,Bn=e=>!!e&&"object"==typeof e&&e[Rn]===On,Mn=e=>!!e&&"object"==typeof e&&e[Rn]===Nn,Fn=e=>!!e&&"object"==typeof e&&e[Rn]===Cn,Qn=e=>!!e&&"object"==typeof e&&e[Rn]===Dn,jn=e=>!!e&&"object"==typeof e&&e[Rn]===Pn;function Hn(e){if(e&&"object"==typeof e)switch(e[Rn]){case Nn:case Pn:return!0}return!1}function qn(e){if(e&&"object"==typeof e)switch(e[Rn]){case Tn:case Nn:case Dn:case Pn:return!0}return!1}class Gn{constructor(e){Object.defineProperty(this,Rn,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const Wn=Symbol("break visit"),Kn=Symbol("skip children"),Vn=Symbol("remove node");function zn(e,t){const n=function(e){if("object"==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);if(Bn(e)){Xn(null,e.contents,n,Object.freeze([e]))===Vn&&(e.contents=null)}else Xn(null,e,n,Object.freeze([]))}function Xn(e,t,n,s){const o=function(e,t,n,s){return"function"==typeof n?n(e,t,s):Mn(t)?n.Map?.(e,t,s):jn(t)?n.Seq?.(e,t,s):Fn(t)?n.Pair?.(e,t,s):Qn(t)?n.Scalar?.(e,t,s):Un(t)?n.Alias?.(e,t,s):void 0}(e,t,n,s);if(qn(o)||Fn(o))return function(e,t,n){const s=t[t.length-1];if(Hn(s))s.items[e]=n;else if(Fn(s))"key"===e?s.key=n:s.value=n;else{if(!Bn(s)){const e=Un(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}s.contents=n}}(e,s,o),Xn(e,o,n,s);if("symbol"!=typeof o)if(Hn(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=Xn(e,t.items[e],n,s);if("number"==typeof o)e=o-1;else{if(o===Wn)return Wn;o===Vn&&(t.items.splice(e,1),e-=1)}}}else if(Fn(t)){s=Object.freeze(s.concat(t));const e=Xn("key",t.key,n,s);if(e===Wn)return Wn;e===Vn&&(t.key=null);const o=Xn("value",t.value,n,s);if(o===Wn)return Wn;o===Vn&&(t.value=null)}return o}zn.BREAK=Wn,zn.SKIP=Kn,zn.REMOVE=Vn;const Jn={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Zn{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Zn.defaultYaml,e),this.tags=Object.assign({},Zn.defaultTags,t)}clone(){const e=new Zn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Zn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Zn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Zn.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Zn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Zn.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/);s||t(`The ${e} tag has no suffix`);const o=this.tags[n];return o?o+decodeURIComponent(s):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>Jn[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&qn(e.contents)){const t={};zn(e.contents,((e,n)=>{qn(n)&&n.tag&&(t[n.tag]=!0)})),s=Object.keys(t)}else s=[];for(const[o,i]of n)"!!"===o&&"tag:yaml.org,2002:"===i||e&&!s.some((e=>e.startsWith(i)))||t.push(`%TAG ${o} ${i}`);return t.join("\n")}}function Yn(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function es(e){const t=new Set;return zn(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function ts(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}Zn.defaultYaml={explicit:!1,version:"1.2"},Zn.defaultTags={"!!":"tag:yaml.org,2002:"};class ns extends Gn{constructor(e){super(Tn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return zn(e,{Node:(e,n)=>{if(n===this)return zn.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:o}=t,i=this.resolve(s);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const r=n.get(i);if(!r||void 0===r.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(o>=0&&(r.count+=1,0===r.aliasCount&&(r.aliasCount=ss(s,i,n)),r.count*r.aliasCount>o)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return r.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(Yn(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${s} `}return s}}function ss(e,t,n){if(Un(t)){const s=t.resolve(e),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}if(Hn(t)){let s=0;for(const o of t.items){const t=ss(e,o,n);t>s&&(s=t)}return s}if(Fn(t)){const s=ss(e,t.key,n),o=ss(e,t.value,n);return Math.max(s,o)}return 1}function os(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>os(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||!(e=>(Qn(e)||Hn(e))&&!!e.anchor)(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!=typeof e||n?.keep?e:Number(e)}const is=e=>!e||"function"!=typeof e&&"object"!=typeof e;class rs extends Gn{constructor(e){super(Dn),this.value=e}toJSON(e,t){return t?.keep?this.value:os(this.value,e,t)}toString(){return String(this.value)}}rs.BLOCK_FOLDED="BLOCK_FOLDED",rs.BLOCK_LITERAL="BLOCK_LITERAL",rs.PLAIN="PLAIN",rs.QUOTE_DOUBLE="QUOTE_DOUBLE",rs.QUOTE_SINGLE="QUOTE_SINGLE";function ls(e,t,n){if(Bn(e)&&(e=e.contents),qn(e))return e;if(Fn(e)){const t=n.schema[Nn].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:r,sourceObjects:l}=n;let c;if(s&&e&&"object"==typeof e){if(c=l.get(e),c)return c.anchor||(c.anchor=o(e)),new ns(c.anchor);c={anchor:null,node:null},l.set(e,c)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let a=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),s=e.find((e=>!e.format))??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,r.tags);if(!a){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new rs(e);return c&&(c.node=t),t}a=e instanceof Map?r[Nn]:Symbol.iterator in Object(e)?r[Pn]:r[Nn]}i&&(i(a),delete n.onTagObj);const u=a?.createNode?a.createNode(n.schema,e,n):new rs(e);return t&&(u.tag=t),c&&(c.node=u),u}function cs(e,t,n){let s=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=s,s=e}else s=new Map([[n,s]])}return ls(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const as=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class us extends Gn{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>qn(t)||Fn(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(as(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(Hn(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,cs(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(Hn(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,o=this.get(n,!0);return 0===s.length?!t&&Qn(o)?o.value:o:Hn(o)?o.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!Fn(t))return!1;const n=t.value;return null==n||e&&Qn(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!Hn(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(Hn(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,cs(this.schema,s,t))}}}}us.maxFlowStringSingleLineLength=60;const ds=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function fs(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const ps=(e,t,n)=>e.endsWith("\n")?fs(n,t):n.includes("\n")?"\n"+fs(n,t):(e.endsWith(" ")?"":" ")+n,hs="flow",ms="block",gs="quoted";function $s(e,t,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:l}={}){if(!o||o<0)return e;const c=Math.max(1+i,1+o-t.length);if(e.length<=c)return e;const a=[],u={};let d,f,p=o-t.length;"number"==typeof s&&(s>o-Math.max(2,i)?a.push(0):p=o-s);let h,m=!1,g=-1,$=-1,b=-1;for(n===ms&&(g=bs(e,g),-1!==g&&(p=g+c));h=e[g+=1];){if(n===gs&&"\\"===h){switch($=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if("\n"===h)n===ms&&(g=bs(e,g)),p=g+c,d=void 0;else{if(" "===h&&f&&" "!==f&&"\n"!==f&&"\t"!==f){const t=e[g+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(d=g)}if(g>=p)if(d)a.push(d),p=d+c,d=void 0;else if(n===gs){for(;" "===f||"\t"===f;)f=h,h=e[g+=1],m=!0;const t=g>b+1?g-2:$-1;if(u[t])return e;a.push(t),u[t]=!0,p=t+c,d=void 0}else m=!0}f=h}if(m&&l&&l(),0===a.length)return e;r&&r();let y=e.slice(0,a[0]);for(let s=0;s<a.length;++s){const o=a[s],i=a[s+1]||e.length;0===o?y=`\n${t}${e.slice(0,i)}`:(n===gs&&u[o]&&(y+=`${e[o]}\\`),y+=`\n${t}${e.slice(o+1,i)}`)}return y}function bs(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}const ys=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),ws=e=>/^(%|---|\.\.\.)/m.test(e);function vs(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,o=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(ws(e)?"  ":"");let r="",l=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(r+=n.slice(l,e)+"\\ ",e+=1,l=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{r+=n.slice(l,e);const t=n.substr(e+2,4);switch(t){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:"00"===t.substr(0,2)?r+="\\x"+t.substr(2):r+=n.substr(e,6)}e+=5,l=e+1}break;case"n":if(s||'"'===n[e+2]||n.length<o)e+=1;else{for(r+=n.slice(l,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)r+="\n",e+=2;r+=i," "===n[e+2]&&(r+="\\"),e+=1,l=e+1}break;default:e+=1}return r=l?r+n.slice(l):n,s?r:$s(r,i,gs,ys(t))}function xs(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return vs(e,t);const n=t.indent||(ws(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?s:$s(s,n,hs,ys(t))}function _s(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=vs;else{const t=e.includes('"'),o=e.includes("'");s=t&&!o?xs:o&&!t?vs:n?xs:vs}return s(e,t)}function Es({comment:e,type:t,value:n},s,o,i){const{blockQuote:r,commentString:l,lineWidth:c}=s.options;if(!r||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return _s(n,s);const a=s.indent||(s.forceBlockIndent||ws(n)?"  ":""),u="literal"===r||"folded"!==r&&t!==rs.BLOCK_FOLDED&&(t===rs.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,o=e.length;if(o<=s)return!1;for(let t=0,n=0;t<o;++t)if("\n"===e[t]){if(t-n>s)return!0;if(n=t+1,o-n<=s)return!1}return!0}(n,c,a.length));if(!n)return u?"|\n":">\n";let d,f;for(f=n.length;f>0;--f){const e=n[f-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(f);const h=p.indexOf("\n");-1===h?d="-":n===p||h!==p.length-1?(d="+",i&&i()):d="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${a}`));let m,g=!1,$=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;$=m}}let b=n.substring(0,$<m?$+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${a}`));let y=(u?"|":">")+(g?a?"2":"1":"")+d;if(e&&(y+=" "+l(e.replace(/ ?[\r\n]+/g," ")),o&&o()),u)return`${y}\n${a}${b}${n=n.replace(/\n+/g,`$&${a}`)}${p}`;return`${y}\n${a}${$s(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`)}${p}`,a,ms,ys(s))}`}function ks(e,t,n,s){const{implicitKey:o,inFlow:i}=t,r="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==rs.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(l=rs.QUOTE_DOUBLE);const c=e=>{switch(e){case rs.BLOCK_FOLDED:case rs.BLOCK_LITERAL:return o||i?_s(r.value,t):Es(r,t,n,s);case rs.QUOTE_DOUBLE:return vs(r.value,t);case rs.QUOTE_SINGLE:return xs(r.value,t);case rs.PLAIN:return function(e,t,n,s){const{type:o,value:i}=e,{actualString:r,implicitKey:l,indent:c,inFlow:a}=t;if(l&&/[\n[\]{},]/.test(i)||a&&/[[\]{},]/.test(i))return _s(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||a||!i.includes("\n")?_s(i,t):Es(e,t,n,s);if(!l&&!a&&o!==rs.PLAIN&&i.includes("\n"))return Es(e,t,n,s);if(""===c&&ws(i))return t.forceBlockIndent=!0,Es(e,t,n,s);const u=i.replace(/\n+/g,`$&\n${c}`);if(r){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(u),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return _s(i,t)}return l?u:$s(u,c,hs,ys(t))}(r,t,n,s);default:return null}};let a=c(l);if(null===a){const{defaultKeyType:e,defaultStringType:n}=t.options,s=o&&e||n;if(a=c(s),null===a)throw new Error(`Unsupported default string type ${s}`)}return a}function As(e,t){const n=Object.assign({blockQuote:!0,commentString:ds,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Ss(e,t,n,s){if(Fn(e))return e.toString(t,n,s);if(Un(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o;const i=qn(e)?e:t.doc.createNode(e,{onTagObj:e=>o=e});o||(o=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,s;if(Qn(t)){s=t.value;const o=e.filter((e=>e.identify?.(s)));n=o.find((e=>e.format===t.format))??o.find((e=>!e.format))}else s=t,n=e.find((e=>e.nodeClass&&s instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??typeof s} value`);return n}(t.doc.schema.tags,i));const r=function(e,t,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],i=(Qn(e)||Hn(e))&&e.anchor;i&&Yn(i)&&(n.add(i),o.push(`&${i}`));const r=e.tag?e.tag:t.default?null:t.tag;return r&&o.push(s.directives.tagString(r)),o.join(" ")}(i,o,t);r.length>0&&(t.indentAtStart=(t.indentAtStart??0)+r.length+1);const l="function"==typeof o.stringify?o.stringify(i,t,n,s):Qn(i)?ks(i,t,n,s):i.toString(t,n,s);return r?Qn(i)||"{"===l[0]||"["===l[0]?`${r} ${l}`:`${r}\n${t.indent}${l}`:l}function Ls(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}function Is(e,t,{key:n,value:s}){if(e?.doc.schema.merge&&Ts(n))if(s=Un(s)?s.resolve(e.doc):s,jn(s))for(const n of s.items)Os(e,t,n);else if(Array.isArray(s))for(const n of s)Os(e,t,n);else Os(e,t,s);else{const o=os(n,"",e);if(t instanceof Map)t.set(o,os(s,o,e));else if(t instanceof Set)t.add(o);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(qn(e)&&n&&n.doc){const t=As(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),Ls(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(n,o,e),r=os(s,i,e);i in t?Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):t[i]=r}}return t}const Ts=e=>"<<"===e||Qn(e)&&"<<"===e.value&&(!e.type||e.type===rs.PLAIN);function Os(e,t,n){const s=e&&Un(n)?n.resolve(e.doc):n;if(!Mn(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,e,Map);for(const[e,n]of o)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function Ns(e,t,n){const s=ls(e,void 0,n),o=ls(t,void 0,n);return new Cs(s,o)}class Cs{constructor(e,t=null){Object.defineProperty(this,Rn,{value:Cn}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return qn(t)&&(t=t.clone(e)),qn(n)&&(n=n.clone(e)),new Cs(t,n)}toJSON(e,t){return Is(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,s,o){const{allNullValues:i,doc:r,indent:l,indentStep:c,options:{commentString:a,indentSeq:u,simpleKeys:d}}=n;let f=qn(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Hn(e))throw new Error("With simple keys, collection cannot be used as a key value")}let p=!d&&(!e||f&&null==t&&!n.inFlow||Hn(e)||(Qn(e)?e.type===rs.BLOCK_FOLDED||e.type===rs.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(d||!i),indent:l+c});let h=!1,m=!1,g=Ss(e,n,(()=>h=!0),(()=>m=!0));if(!p&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||null==t)return h&&s&&s(),""===g?"?":p?`? ${g}`:g}else if(i&&!d||null==t&&p)return g=`? ${g}`,f&&!h?g+=ps(g,n.indent,a(f)):m&&o&&o(),g;h&&(f=null),p?(f&&(g+=ps(g,n.indent,a(f))),g=`? ${g}\n${l}:`):(g=`${g}:`,f&&(g+=ps(g,n.indent,a(f))));let $="",b=null;qn(t)?(t.spaceBefore&&($="\n"),t.commentBefore&&($+=`\n${fs(a(t.commentBefore),n.indent)}`),b=t.comment):t&&"object"==typeof t&&(t=r.createNode(t));n.implicitKey=!1,p||f||!Qn(t)||(n.indentAtStart=g.length+1),m=!1,u||!(c.length>=2)||n.inFlow||p||!jn(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let y=!1;const w=Ss(t,n,(()=>y=!0),(()=>m=!0));let v=" ";$||f?v=""!==w||n.inFlow?`${$}\n${n.indent}`:"\n"===$?"\n\n":$:!p&&Hn(t)?("["===w[0]||"{"===w[0])&&!w.includes("\n")||(v=`\n${n.indent}`):""!==w&&"\n"!==w[0]||(v="");return g+=v+w,n.inFlow?y&&s&&s():b&&!y?g+=ps(g,n.indent,a(b)):m&&o&&o(),g}(this,e,t,n):JSON.stringify(this)}}function Ds(e,t,n){return(t.inFlow??e.flow?Rs:Ps)(e,t,n)}function Ps({comment:e,items:t},n,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:r,onComment:l}){const{indent:c,options:{commentString:a}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const f=[];for(let e=0;e<t.length;++e){const o=t[e];let r=null;if(qn(o))!d&&o.spaceBefore&&f.push(""),Us(n,f,o.commentBefore,d),o.comment&&(r=o.comment);else if(Fn(o)){const e=qn(o.key)?o.key:null;e&&(!d&&e.spaceBefore&&f.push(""),Us(n,f,e.commentBefore,d))}d=!1;let l=Ss(o,u,(()=>r=null),(()=>d=!0));r&&(l+=ps(l,i,a(r))),d&&r&&(d=!1),f.push(s+l)}let p;if(0===f.length)p=o.start+o.end;else{p=f[0];for(let e=1;e<f.length;++e){const t=f[e];p+=t?`\n${c}${t}`:"\n"}}return e?(p+="\n"+fs(a(e),c),l&&l()):d&&r&&r(),p}function Rs({comment:e,items:t},n,{flowChars:s,itemIndent:o,onComment:i}){const{indent:r,indentStep:l,options:{commentString:c}}=n;o+=l;const a=Object.assign({},n,{indent:o,inFlow:!0,type:null});let u=!1,d=0;const f=[];for(let e=0;e<t.length;++e){const s=t[e];let i=null;if(qn(s))s.spaceBefore&&f.push(""),Us(n,f,s.commentBefore,!1),s.comment&&(i=s.comment);else if(Fn(s)){const e=qn(s.key)?s.key:null;e&&(e.spaceBefore&&f.push(""),Us(n,f,e.commentBefore,!1),e.comment&&(u=!0));const t=qn(s.value)?s.value:null;t?(t.comment&&(i=t.comment),t.commentBefore&&(u=!0)):null==s.value&&e&&e.comment&&(i=e.comment)}i&&(u=!0);let r=Ss(s,a,(()=>i=null));e<t.length-1&&(r+=","),i&&(r+=ps(r,o,c(i))),!u&&(f.length>d||r.includes("\n"))&&(u=!0),f.push(r),d=f.length}let p;const{start:h,end:m}=s;if(0===f.length)p=h+m;else{if(!u){u=f.reduce(((e,t)=>e+t.length+2),2)>us.maxFlowStringSingleLineLength}if(u){p=h;for(const e of f)p+=e?`\n${l}${r}${e}`:"\n";p+=`\n${r}${m}`}else p=`${h} ${f.join(" ")} ${m}`}return e&&(p+=ps(p,c(e),r),i&&i()),p}function Us({indent:e,options:{commentString:t}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const o=fs(t(s),e);n.push(o.trimStart())}}function Bs(e,t){const n=Qn(t)?t.value:t;for(const s of e)if(Fn(s)){if(s.key===t||s.key===n)return s;if(Qn(s.key)&&s.key.value===n)return s}}class Ms extends us{constructor(e){super(Nn,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=Fn(e)?e:e&&"object"==typeof e&&"key"in e?new Cs(e.key,e.value):new Cs(e,e?.value);const s=Bs(this.items,n.key),o=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);Qn(s.value)&&is(n.value)?s.value.value=n.value:s.value=n.value}else if(o){const e=this.items.findIndex((e=>o(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=Bs(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Bs(this.items,e)?.value;return(!t&&Qn(n)?n.value:n)??void 0}has(e){return!!Bs(this.items,e)}set(e,t){this.add(new Cs(e,t),!0)}toJSON(e,t,n){const s=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const e of this.items)Is(t,s,e);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!Fn(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Ds(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Fs={collection:"map",createNode:function(e,t,n){const{keepUndefined:s,replacer:o}=n,i=new Ms(e),r=(e,r)=>{if("function"==typeof o)r=o.call(t,e,r);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==r||s)&&i.items.push(Ns(e,r,n))};if(t instanceof Map)for(const[e,n]of t)r(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))r(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i},default:!0,nodeClass:Ms,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(Mn(e)||t("Expected a mapping for this tag"),e)};class Qs extends us{constructor(e){super(Pn,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=js(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=js(e);if("number"!=typeof n)return;const s=this.items[n];return!t&&Qn(s)?s.value:s}has(e){const t=js(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=js(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];Qn(s)&&is(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let s=0;for(const e of this.items)n.push(os(e,String(s++),t));return n}toString(e,t,n){return e?Ds(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function js(e){let t=Qn(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Hs={collection:"seq",createNode:function(e,t,n){const{replacer:s}=n,o=new Qs(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof s){const n=t instanceof Set?i:String(e++);i=s.call(t,n,i)}o.items.push(ls(i,void 0,n))}}return o},default:!0,nodeClass:Qs,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(jn(e)||t("Expected a sequence for this tag"),e)},qs={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,s)=>ks(e,t=Object.assign({actualString:!0},t),n,s)},Gs={identify:e=>null==e,createNode:()=>new rs(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new rs(null),stringify:({source:e},t)=>"string"==typeof e&&Gs.test.test(e)?e:t.options.nullStr},Ws={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new rs("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&Ws.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Ks({format:e,minFractionDigits:t,tag:n,value:s}){if("bigint"==typeof s)return String(s);const o="number"==typeof s?s:Number(s);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let i=JSON.stringify(s);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const Vs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ks},zs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ks(e)}},Xs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new rs(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Ks},Js=e=>"bigint"==typeof e||Number.isInteger(e),Zs=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function Ys(e,t,n){const{value:s}=e;return Js(s)&&s>=0?n+s.toString(t):Ks(e)}const eo={identify:e=>Js(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Zs(e,2,8,n),stringify:e=>Ys(e,8,"0o")},to={identify:Js,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Zs(e,0,10,n),stringify:Ks},no={identify:e=>Js(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Zs(e,2,16,n),stringify:e=>Ys(e,16,"0x")},so=[Fs,Hs,qs,Gs,Ws,eo,to,no,Vs,zs,Xs];function oo(e){return"bigint"==typeof e||Number.isInteger(e)}const io=({value:e})=>JSON.stringify(e),ro=[Fs,Hs].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:io},{identify:e=>null==e,createNode:()=>new rs(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:io},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:io},{identify:oo,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>oo(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:io}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),lo={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},s,o,i){const r=n;let l;if("function"==typeof Buffer)l=r instanceof Buffer?r.toString("base64"):Buffer.from(r.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<r.length;++t)e+=String.fromCharCode(r[t]);l=btoa(e)}}if(t||(t=rs.BLOCK_LITERAL),t!==rs.QUOTE_DOUBLE){const e=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),n=Math.ceil(l.length/e),o=new Array(n);for(let t=0,s=0;t<n;++t,s+=e)o[t]=l.substr(s,e);l=o.join(t===rs.BLOCK_LITERAL?"\n":" ")}return ks({comment:e,type:t,value:l},s,o,i)}};function co(e,t){if(jn(e))for(let n=0;n<e.items.length;++n){let s=e.items[n];if(!Fn(s)){if(Mn(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");const e=s.items[0]||new Cs(new rs(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}\n${e.key.commentBefore}`:s.commentBefore),s.comment){const t=e.value??e.key;t.comment=t.comment?`${s.comment}\n${t.comment}`:s.comment}s=e}e.items[n]=Fn(s)?s:new Cs(s)}}else t("Expected a sequence for this tag");return e}function ao(e,t,n){const{replacer:s}=n,o=new Qs(e);o.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let r,l;if("function"==typeof s&&(e=s.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);r=e[0],l=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);r=t[0],l=e[r]}else r=e;o.items.push(Ns(r,l,n))}return o}const uo={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:co,createNode:ao};class fo extends Qs{constructor(){super(),this.add=Ms.prototype.add.bind(this),this.delete=Ms.prototype.delete.bind(this),this.get=Ms.prototype.get.bind(this),this.has=Ms.prototype.has.bind(this),this.set=Ms.prototype.set.bind(this),this.tag=fo.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let s,o;if(Fn(e)?(s=os(e.key,"",t),o=os(e.value,s,t)):s=os(e,"",t),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}}fo.tag="tag:yaml.org,2002:omap";const po={collection:"seq",identify:e=>e instanceof Map,nodeClass:fo,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=co(e,t),s=[];for(const{key:e}of n.items)Qn(e)&&(s.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):s.push(e.value));return Object.assign(new fo,n)},createNode(e,t,n){const s=ao(e,t,n),o=new fo;return o.items=s.items,o}};function ho({value:e,source:t},n){return t&&(e?mo:go).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const mo={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new rs(!0),stringify:ho},go={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new rs(!1),stringify:ho},$o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ks},bo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ks(e)}},yo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new rs(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:Ks},wo=e=>"bigint"==typeof e||Number.isInteger(e);function vo(e,t,n,{intAsBigInt:s}){const o=e[0];if("-"!==o&&"+"!==o||(t+=1),e=e.substring(t).replace(/_/g,""),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===o?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===o?-1*i:i}function xo(e,t,n){const{value:s}=e;if(wo(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return Ks(e)}const _o={identify:wo,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>vo(e,2,2,n),stringify:e=>xo(e,2,"0b")},Eo={identify:wo,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>vo(e,1,8,n),stringify:e=>xo(e,8,"0")},ko={identify:wo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>vo(e,0,10,n),stringify:Ks},Ao={identify:wo,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>vo(e,2,16,n),stringify:e=>xo(e,16,"0x")};class So extends Ms{constructor(e){super(e),this.tag=So.tag}add(e){let t;t=Fn(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new Cs(e.key,null):new Cs(e,null);Bs(this.items,t.key)||this.items.push(t)}get(e,t){const n=Bs(this.items,e);return!t&&Fn(n)?Qn(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Bs(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Cs(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}So.tag="tag:yaml.org,2002:set";const Lo={collection:"map",identify:e=>e instanceof Set,nodeClass:So,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Mn(e)){if(e.hasAllNullValues(!0))return Object.assign(new So,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:s}=n,o=new So(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof s&&(e=s.call(t,e,e)),o.items.push(Ns(e,null,n));return o}};function Io(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=s.replace(/_/g,"").split(":").reduce(((e,t)=>e*o(60)+o(t)),o(0));return"-"===n?o(-1)*i:i}function To(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Ks(e);let s="";t<0&&(s="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),s+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const Oo={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Io(e,n),stringify:To},No={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Io(e,!1),stringify:To},Co={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Co.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,i,r,l]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let a=Date.UTC(n,s-1,o,i||0,r||0,l||0,c);const u=t[8];if(u&&"Z"!==u){let e=Io(u,!1);Math.abs(e)<30&&(e*=60),a-=6e4*e}return new Date(a)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Do=[Fs,Hs,qs,Gs,mo,go,_o,Eo,ko,Ao,$o,bo,yo,lo,po,uo,Lo,Oo,No,Co],Po=new Map([["core",so],["failsafe",[Fs,Hs,qs]],["json",ro],["yaml11",Do],["yaml-1.1",Do]]),Ro={binary:lo,bool:Ws,float:Xs,floatExp:zs,floatNaN:Vs,floatTime:No,int:to,intHex:no,intOct:eo,intTime:Oo,map:Fs,null:Gs,omap:po,pairs:uo,seq:Hs,set:Lo,timestamp:Co},Uo={"tag:yaml.org,2002:binary":lo,"tag:yaml.org,2002:omap":po,"tag:yaml.org,2002:pairs":uo,"tag:yaml.org,2002:set":Lo,"tag:yaml.org,2002:timestamp":Co};function Bo(e,t){let n=Po.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(Po.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=Ro[e];if(t)return t;const n=Object.keys(Ro).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const Mo=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Fo{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:o,sortMapEntries:i,toStringDefaults:r}){this.compat=Array.isArray(e)?Bo(e,"compat"):e?Bo(null,e):null,this.merge=!!n,this.name="string"==typeof o&&o||"core",this.knownTags=s?Uo:{},this.tags=Bo(t,this.name),this.toStringOptions=r??null,Object.defineProperty(this,Nn,{value:Fs}),Object.defineProperty(this,Dn,{value:qs}),Object.defineProperty(this,Pn,{value:Hs}),this.sortMapEntries="function"==typeof i?i:!0===i?Mo:null}clone(){const e=Object.create(Fo.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Qo(e,t,n,s){if(s&&"object"==typeof s)if(Array.isArray(s))for(let t=0,n=s.length;t<n;++t){const n=s[t],o=Qo(e,s,String(t),n);void 0===o?delete s[t]:o!==n&&(s[t]=o)}else if(s instanceof Map)for(const t of Array.from(s.keys())){const n=s.get(t),o=Qo(e,s,t,n);void 0===o?s.delete(t):o!==n&&s.set(t,o)}else if(s instanceof Set)for(const t of Array.from(s)){const n=Qo(e,s,t,t);void 0===n?s.delete(t):n!==t&&(s.delete(t),s.add(n))}else for(const[t,n]of Object.entries(s)){const o=Qo(e,s,t,n);void 0===o?delete s[t]:o!==n&&(s[t]=o)}return e.call(t,n,s)}class jo{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Rn,{value:On});let s=null;"function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:i}=o;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new Zn({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(jo.prototype,{[Rn]:{value:On}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=qn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Ho(this.contents)&&this.contents.add(e)}addIn(e,t){Ho(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=es(this);e.anchor=!t||n.has(t)?ts(t||"a",n):t}return new ns(e.anchor)}createNode(e,t,n){let s;if("function"==typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:r,keepUndefined:l,onTagObj:c,tag:a}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:f}=function(e,t){const n=[],s=new Map;let o=null;return{onAnchor:s=>{n.push(s),o||(o=es(e));const i=ts(t,o);return o.add(i),i},setAnchors:()=>{for(const e of n){const t=s.get(e);if("object"!=typeof t||!t.anchor||!Qn(t.node)&&!Hn(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,i||"a"),p=ls(e,a,{aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:f});return r&&Hn(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const s=this.createNode(e,null,n),o=this.createNode(t,null,n);return new Cs(s,o)}delete(e){return!!Ho(this.contents)&&this.contents.delete(e)}deleteIn(e){return as(e)?null!=this.contents&&(this.contents=null,!0):!!Ho(this.contents)&&this.contents.deleteIn(e)}get(e,t){return Hn(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return as(e)?!t&&Qn(this.contents)?this.contents.value:this.contents:Hn(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!Hn(this.contents)&&this.contents.has(e)}hasIn(e){return as(e)?void 0!==this.contents:!!Hn(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=cs(this.schema,[e],t):Ho(this.contents)&&this.contents.set(e,t)}setIn(e,t){as(e)?this.contents=t:null==this.contents?this.contents=cs(this.schema,Array.from(e),t):Ho(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Zn({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Zn({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Fo(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}={}){const r={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100,stringify:Ss},l=os(this.contents,t??"",r);if("function"==typeof o)for(const{count:e,res:t}of r.anchors.values())o(t,e);return"function"==typeof i?Qo(i,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let s=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&n.push("---");const o=As(e,t),{commentString:i}=o.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=i(e.commentBefore);n.unshift(fs(t,""))}let r=!1,l=null;if(e.contents){if(qn(e.contents)){if(e.contents.spaceBefore&&s&&n.push(""),e.contents.commentBefore){const t=i(e.contents.commentBefore);n.push(fs(t,""))}o.forceBlockIndent=!!e.comment,l=e.contents.comment}const t=l?void 0:()=>r=!0;let c=Ss(e.contents,o,(()=>l=null),t);l&&(c+=ps(c,"",i(l))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(Ss(e.contents,o));if(e.directives?.docEnd)if(e.comment){const t=i(e.comment);t.includes("\n")?(n.push("..."),n.push(fs(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&r&&(t=t.replace(/^\n+/,"")),t&&(r&&!l||""===n[n.length-1]||n.push(""),n.push(fs(i(t),"")))}return n.join("\n")+"\n"}(this,e)}}function Ho(e){if(Hn(e))return!0;throw new Error("Expected a YAML collection as document contents")}class qo extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class Go extends qo{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class Wo extends qo{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Ko=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:s,col:o}=n.linePos[0];n.message+=` at line ${s}, column ${o}`;let i=o-1,r=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&r.length>80){const e=Math.min(i-39,r.length-79);r=""+r.substring(e),i-=e-1}if(r.length>80&&(r=r.substring(0,79)+""),s>1&&/^ *$/.test(r.substring(0,i))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\n"),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>o&&(e=Math.min(t.col-o,80-i));const l=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${r}\n${l}\n`}};function Vo(e,{flow:t,indicator:n,next:s,offset:o,onError:i,startOnNewline:r}){let l=!1,c=r,a=r,u="",d="",f=!1,p=!1,h=!1,m=null,g=null,$=null,b=null,y=null;for(const s of e)switch(h&&("space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),s.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===s.source[0]&&i(s,"TAB_AS_INDENT","Tabs are not allowed as indentation"),a=!0;break;case"comment":{a||i(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=s.source.substring(1)||" ";u?u+=d+e:u=e,d="",c=!1;break}case"newline":c?u?u+=s.source:l=!0:d+=s.source,c=!0,f=!0,(m||g)&&(p=!0),a=!0;break;case"anchor":m&&i(s,"MULTIPLE_ANCHORS","A node can have at most one anchor"),s.source.endsWith(":")&&i(s.offset+s.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=s,null===y&&(y=s.offset),c=!1,a=!1,h=!0;break;case"tag":g&&i(s,"MULTIPLE_TAGS","A node can have at most one tag"),g=s,null===y&&(y=s.offset),c=!1,a=!1,h=!0;break;case n:(m||g)&&i(s,"BAD_PROP_ORDER",`Anchors and tags must be after the ${s.source} indicator`),b&&i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.source} in ${t??"collection"}`),b=s,c=!1,a=!1;break;case"comma":if(t){$&&i(s,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),$=s,c=!1,a=!1;break}default:i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.type} token`),c=!1,a=!1}const w=e[e.length-1],v=w?w.offset+w.source.length:o;return h&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:$,found:b,spaceBefore:l,comment:u,hasNewline:f,hasNewlineAfterProp:p,anchor:m,tag:g,end:v,start:y??v}}function zo(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(zo(t.key)||zo(t.value))return!0}return!1;default:return!0}}function Xo(e,t,n){if("flow-collection"===t?.type){const s=t.end[0];if(s.indent===e&&("]"===s.source||"}"===s.source)&&zo(t)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Jo(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const o="function"==typeof s?s:(t,n)=>t===n||Qn(t)&&Qn(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>o(e.key,n)))}const Zo="All mapping items must start at the same column";function Yo(e,t,n,s){let o="";if(e){let i=!1,r="";for(const l of e){const{source:e,type:c}=l;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&s(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=r+t:o=t,r="";break}case"newline":o&&(r+=e),i=!0;break;default:s(l,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:o,offset:t}}const ei="Block collections are not allowed within flow collections",ti=e=>e&&("block-map"===e.type||"block-seq"===e.type);function ni(e,t,n,s,o){let i;switch(n.type){case"block-map":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i=new Ms(n.schema);n.atRoot&&(n.atRoot=!1);let r=s.offset,l=null;for(const c of s.items){const{start:a,key:u,sep:d,value:f}=c,p=Vo(a,{indicator:"explicit-key-ind",next:u??d?.[0],offset:r,onError:o,startOnNewline:!0}),h=!p.found;if(h){if(u&&("block-seq"===u.type?o(r,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&o(r,"BAD_INDENT",Zo)),!p.anchor&&!p.tag&&!d){l=p.end,p.comment&&(i.comment?i.comment+="\n"+p.comment:i.comment=p.comment);continue}(p.hasNewlineAfterProp||zo(u))&&o(u??a[a.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==s.indent&&o(r,"BAD_INDENT",Zo);const m=p.end,g=u?e(n,u,p,o):t(n,m,a,null,p,o);n.schema.compat&&Xo(s.indent,u,o),Jo(n,i.items,g)&&o(m,"DUPLICATE_KEY","Map keys must be unique");const $=Vo(d??[],{indicator:"map-value-ind",next:f,offset:g.range[2],onError:o,startOnNewline:!u||"block-scalar"===u.type});if(r=$.end,$.found){h&&("block-map"!==f?.type||$.hasNewline||o(r,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<$.found.offset-1024&&o(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const l=f?e(n,f,$,o):t(n,r,d,null,$,o);n.schema.compat&&Xo(s.indent,f,o),r=l.range[2];const a=new Cs(g,l);n.options.keepSourceTokens&&(a.srcToken=c),i.items.push(a)}else{h&&o(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),$.comment&&(g.comment?g.comment+="\n"+$.comment:g.comment=$.comment);const e=new Cs(g);n.options.keepSourceTokens&&(e.srcToken=c),i.items.push(e)}}return l&&l<r&&o(l,"IMPOSSIBLE","Map comment with trailing content"),i.range=[s.offset,r,l??r],i}(e,t,n,o);break;case"block-seq":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i=new Qs(n.schema);n.atRoot&&(n.atRoot=!1);let r=s.offset,l=null;for(const{start:c,value:a}of s.items){const u=Vo(c,{indicator:"seq-item-ind",next:a,offset:r,onError:o,startOnNewline:!0});if(!u.found){if(!(u.anchor||u.tag||a)){l=u.end,u.comment&&(i.comment=u.comment);continue}a&&"block-seq"===a.type?o(u.end,"BAD_INDENT","All sequence items must start at the same column"):o(r,"MISSING_CHAR","Sequence item without - indicator")}const d=a?e(n,a,u,o):t(n,u.end,c,null,u,o);n.schema.compat&&Xo(s.indent,a,o),r=d.range[2],i.items.push(d)}return i.range=[s.offset,r,l??r],i}(e,t,n,o);break;case"flow-collection":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i="{"===s.start.source,r=i?"flow map":"flow sequence",l=i?new Ms(n.schema):new Qs(n.schema);l.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let a=s.offset+s.start.source.length;for(let c=0;c<s.items.length;++c){const u=s.items[c],{start:d,key:f,sep:p,value:h}=u,m=Vo(d,{flow:r,indicator:"explicit-key-ind",next:f??p?.[0],offset:a,onError:o,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||p||h)){0===c&&m.comma?o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`):c<s.items.length-1&&o(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${r}`),m.comment&&(l.comment?l.comment+="\n"+m.comment:l.comment=m.comment),a=m.end;continue}!i&&n.options.strict&&zo(f)&&o(f,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===c)m.comma&&o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`);else if(m.comma||o(m.start,"MISSING_CHAR",`Missing , between ${r} items`),m.comment){let e="";e:for(const t of d)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];Fn(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(i||p||m.found){const s=m.end,c=f?e(n,f,m,o):t(n,s,d,null,m,o);ti(f)&&o(c.range,"BLOCK_IN_FLOW",ei);const g=Vo(p??[],{flow:r,indicator:"map-value-ind",next:h,offset:c.range[2],onError:o,startOnNewline:!1});if(g.found){if(!i&&!m.found&&n.options.strict){if(p)for(const e of p){if(e===g.found)break;if("newline"===e.type){o(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<g.found.offset-1024&&o(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else h&&("source"in h&&h.source&&":"===h.source[0]?o(h,"MISSING_CHAR",`Missing space after : in ${r}`):o(g.start,"MISSING_CHAR",`Missing , or : between ${r} items`));const $=h?e(n,h,g,o):g.found?t(n,g.end,p,null,g,o):null;$?ti(h)&&o($.range,"BLOCK_IN_FLOW",ei):g.comment&&(c.comment?c.comment+="\n"+g.comment:c.comment=g.comment);const b=new Cs(c,$);if(n.options.keepSourceTokens&&(b.srcToken=u),i){const e=l;Jo(n,e.items,c)&&o(s,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Ms(n.schema);e.flow=!0,e.items.push(b),l.items.push(e)}a=$?$.range[2]:g.end}else{const s=h?e(n,h,m,o):t(n,m.end,p,null,m,o);l.items.push(s),a=s.range[2],ti(h)&&o(s.range,"BLOCK_IN_FLOW",ei)}}const u=i?"}":"]",[d,...f]=s.end;let p=a;if(d&&d.source===u)p=d.offset+d.source.length;else{const e=r[0].toUpperCase()+r.substring(1);o(a,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),d&&1!==d.source.length&&f.unshift(d)}if(f.length>0){const e=Yo(f,p,n.options.strict,o);e.comment&&(l.comment?l.comment+="\n"+e.comment:l.comment=e.comment),l.range=[s.offset,p,e.offset]}else l.range=[s.offset,p,p];return l}(e,t,n,o)}if(!s)return i;const r=t.directives.tagName(s.source,(e=>o(s,"TAG_RESOLVE_FAILED",e)));if(!r)return i;const l=i.constructor;if("!"===r||r===l.tagName)return i.tag=l.tagName,i;const c=Mn(i)?"map":"seq";let a=t.schema.tags.find((e=>e.collection===c&&e.tag===r));if(!a){const e=t.schema.knownTags[r];if(!e||e.collection!==c)return o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,!0),i.tag=r,i;t.schema.tags.push(Object.assign({},e,{default:!1})),a=e}const u=a.resolve(i,(e=>o(s,"TAG_RESOLVE_FAILED",e)),t.options),d=qn(u)?u:new rs(u);return d.range=i.range,d.tag=r,a?.format&&(d.format=a.format),d}function si(e,t,n){const s=e.offset,o=function({offset:e,props:t},n,s){if("block-scalar-header"!==t[0].type)return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=t[0],i=o[0];let r=0,l="",c=-1;for(let t=1;t<o.length;++t){const n=o[t];if(l||"-"!==n&&"+"!==n){const s=Number(n);!r&&s?r=s:-1===c&&(c=e+t)}else l=n}-1!==c&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let a=!1,u="",d=o.length;for(let e=1;e<t.length;++e){const o=t[e];switch(o.type){case"space":a=!0;case"newline":d+=o.source.length;break;case"comment":if(n&&!a){s(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}d+=o.source.length,u=o.source.substring(1);break;case"error":s(o,"UNEXPECTED_TOKEN",o.message),d+=o.source.length;break;default:{s(o,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${o.type}`);const e=o.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:i,indent:r,chomp:l,comment:u,length:d}}(e,t,n);if(!o)return{value:"",type:null,comment:"",range:[s,s,s]};const i=">"===o.mode?rs.BLOCK_FOLDED:rs.BLOCK_LITERAL,r=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),o=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)o.push([t[e],t[e+1]]);return o}(e.source):[];let l=r.length;for(let e=r.length-1;e>=0;--e){const t=r[e][1];if(""!==t&&"\r"!==t)break;l=e}if(0===l){const t="+"===o.chomp&&r.length>0?"\n".repeat(Math.max(1,r.length-1)):"";let n=s+o.length;return e.source&&(n+=e.source.length),{value:t,type:i,comment:o.comment,range:[s,n,n]}}let c=e.indent+o.indent,a=e.offset+o.length,u=0;for(let e=0;e<l;++e){const[t,s]=r[e];if(""!==s&&"\r"!==s){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(a+t.length,"MISSING_CHAR",e)}0===o.indent&&(c=t.length),u=e;break}0===o.indent&&t.length>c&&(c=t.length),a+=t.length+s.length+1}for(let e=r.length-1;e>=l;--e)r[e][0].length>c&&(l=e+1);let d="",f="",p=!1;for(let e=0;e<u;++e)d+=r[e][0].slice(c)+"\n";for(let e=u;e<l;++e){let[t,s]=r[e];a+=t.length+s.length+1;const l="\r"===s[s.length-1];if(l&&(s=s.slice(0,-1)),s&&t.length<c){const e=`Block scalar lines must not be less indented than their ${o.indent?"explicit indentation indicator":"first line"}`;n(a-s.length-(l?2:1),"BAD_INDENT",e),t=""}i===rs.BLOCK_LITERAL?(d+=f+t.slice(c)+s,f="\n"):t.length>c||"\t"===s[0]?(" "===f?f="\n":p||"\n"!==f||(f="\n\n"),d+=f+t.slice(c)+s,f="\n",p=!0):""===s?"\n"===f?d+="\n":f="\n":(d+=f+s,f=" ",p=!1)}switch(o.chomp){case"-":break;case"+":for(let e=l;e<r.length;++e)d+="\n"+r[e][0].slice(c);"\n"!==d[d.length-1]&&(d+="\n");break;default:d+="\n"}const h=s+o.length+e.source.length;return{value:d,type:i,comment:o.comment,range:[s,h,h]}}function oi(e,t,n){const{offset:s,type:o,source:i,end:r}=e;let l,c;const a=(e,t,o)=>n(s+e,t,o);switch(o){case"scalar":l=rs.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return ii(e)}(i,a);break;case"single-quoted-scalar":l=rs.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return ii(e.slice(1,-1)).replace(/''/g,"'")}(i,a);break;case"double-quoted-scalar":l=rs.QUOTE_DOUBLE,c=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const o=e[s];if("\r"!==o||"\n"!==e[s+1])if("\n"===o){const{fold:t,offset:o}=ri(e,s);n+=t,s=o}else if("\\"===o){let o=e[++s];const i=li[o];if(i)n+=i;else if("\n"===o)for(o=e[s+1];" "===o||"\t"===o;)o=e[1+ ++s];else if("\r"===o&&"\n"===e[s+1])for(o=e[1+ ++s];" "===o||"\t"===o;)o=e[1+ ++s];else if("x"===o||"u"===o||"U"===o){const i={x:2,u:4,U:8}[o];n+=ci(e,s+1,i,t),s+=i}else{const o=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(" "===o||"\t"===o){const t=s;let i=e[s+1];for(;" "===i||"\t"===i;)i=e[1+ ++s];"\n"===i||"\r"===i&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):o)}else n+=o}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(i,a);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,d=Yo(r,u,t,n);return{value:c,type:l,comment:d.comment,range:[s,u,d.offset]}}function ii(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let o=s[1],i=" ",r=t.lastIndex;for(n.lastIndex=r;s=n.exec(e);)""===s[1]?"\n"===i?o+=i:i="\n":(o+=i+s[1],i=" "),r=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=r,s=l.exec(e),o+i+(s?.[1]??"")}function ri(e,t){let n="",s=e[t+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const li={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function ci(e,t,n,s){const o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}function ai(e,t,n,s){const{value:o,type:i,comment:r,range:l}="block-scalar"===t.type?si(t,e.options.strict,s):oi(t,e.options.strict,s),c=n?e.directives.tagName(n.source,(e=>s(n,"TAG_RESOLVE_FAILED",e))):null,a=n&&c?function(e,t,n,s,o){if("!"===n)return e[Dn];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const r=e.knownTags[n];if(r&&!r.collection)return e.tags.push(Object.assign({},r,{default:!1,test:void 0})),r;return o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[Dn]}(e.schema,o,c,n,s):"scalar"===t.type?function({directives:e,schema:t},n,s,o){const i=t.tags.find((e=>e.default&&e.test?.test(n)))||t[Dn];if(t.compat){const r=t.compat.find((e=>e.default&&e.test?.test(n)))??t[Dn];if(i.tag!==r.tag){o(s,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(i.tag)} or ${e.tagString(r.tag)}`,!0)}}return i}(e,o,t,s):e.schema[Dn];let u;try{const i=a.resolve(o,(e=>s(n??t,"TAG_RESOLVE_FAILED",e)),e.options);u=Qn(i)?i:new rs(i)}catch(e){const i=e instanceof Error?e.message:String(e);s(n??t,"TAG_RESOLVE_FAILED",i),u=new rs(o)}return u.range=l,u.source=o,i&&(u.type=i),c&&(u.tag=c),a.format&&(u.format=a.format),r&&(u.comment=r),u}function ui(e,t,n){if(t){null===n&&(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++s];"space"===n?.type;)e+=n.source.length,n=t[++s];break}}return e}const di={composeNode:fi,composeEmptyNode:pi};function fi(e,t,n,s){const{spaceBefore:o,comment:i,anchor:r,tag:l}=n;let c,a=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:s},o){const i=new ns(n.substring(1));""===i.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string");i.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const r=t+n.length,l=Yo(s,r,e.strict,o);i.range=[t,r,l.offset],l.comment&&(i.comment=l.comment);return i}(e,t,s),(r||l)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=ai(e,t,l,s),r&&(c.anchor=r.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=ni(di,e,t,l,s),r&&(c.anchor=r.source.substring(1));break;default:s(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=pi(e,t.offset,void 0,null,n,s),a=!1}return r&&""===c.anchor&&s(r,"BAD_ALIAS","Anchor cannot be an empty string"),o&&(c.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?c.comment=i:c.commentBefore=i),e.options.keepSourceTokens&&a&&(c.srcToken=t),c}function pi(e,t,n,s,{spaceBefore:o,comment:i,anchor:r,tag:l,end:c},a){const u=ai(e,{type:"scalar",offset:ui(t,n,s),indent:-1,source:""},l,a);return r&&(u.anchor=r.source.substring(1),""===u.anchor&&a(r,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(u.spaceBefore=!0),i&&(u.comment=i,u.range[2]=c),u}function hi(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function mi(e){let t="",n=!1,s=!1;for(let o=0;o<e.length;++o){const i=e[o];switch(i[0]){case"#":t+=(""===t?"":s?"\n\n":"\n")+(i.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==e[o+1]?.[0]&&(o+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}class gi{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const o=hi(e);s?this.warnings.push(new Wo(o,t,n)):this.errors.push(new Go(o,t,n))},this.directives=new Zn({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=mi(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!o)e.commentBefore=n;else if(Hn(o)&&!o.flow&&o.items.length>0){let e=o.items[0];Fn(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=o.commentBefore;o.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:mi(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,s)=>{const o=hi(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,s)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:s,value:o,end:i},r){const l=Object.assign({_directives:t},e),c=new jo(void 0,l),a={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Vo(s,{indicator:"doc-start",next:o??i?.[0],offset:n,onError:r,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!o||"block-map"!==o.type&&"block-seq"!==o.type||u.hasNewline||r(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=o?fi(a,o,u,r):pi(a,u.end,s,null,u,r);const d=c.contents.range[2],f=Yo(i,d,!1,r);return f.comment&&(c.comment=f.comment),c.range=[n,d,f.offset],c}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Go(hi(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Go(hi(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Yo(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Go(hi(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new jo(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function $i(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const bi="0123456789ABCDEFabcdef".split(""),yi="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),wi=",[]{}".split(""),vi=" ,[]{}\n\r\t".split(""),xi=e=>!e||vi.includes(e);class _i{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&$i(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if("\ufeff"===e[0]&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const s=e[n-1];" "!==s&&"\t"!==s||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield"",yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&$i(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&$i(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!$i(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&$i(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(xi),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&$i(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart()}let o=0;for(;","===s[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(xi),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||$i(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>$i(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let s=this.pos;e=this.buffer[s];++s)switch(e){case" ":n+=1;break;case"\n":t=s,n=0;break;case"\r":{const e=this.buffer[s+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const o=e;for(;" "===s||"\t"===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>o))break;t=e}return yield"",yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(":"===t){const t=this.buffer[s+1];if($i(t)||e&&","===t)break;n=s}else if($i(t)){let o=this.buffer[s+1];if("\r"===t&&("\n"===o?(s+=1,t="\n",o=this.buffer[s+1]):n=s),"#"===o||e&&wi.includes(o))break;if("\n"===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&wi.includes(t))break;n=s}return t||this.atEnd?(yield"",yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(xi))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if($i(t)||e&&wi.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!$i(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if(yi.includes(t))t=this.buffer[++e];else{if("%"!==t||!bi.includes(this.buffer[e+1])||!bi.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class Ei{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function ki(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function Ai(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Si(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Li(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ii(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function Ti(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||ki(t.start,"explicit-key-ind")||ki(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,Si(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Oi{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new _i,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Ti(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!ki(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===Ai(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==Ai(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Ii(Li(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let s=[];if(n&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const o=t.sep[s];switch(o.type){case"newline":n.push(s);break;case"space":break;case"comment":o.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(s=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||ki(t.start,"explicit-key-ind")?n||t.value?(s.push(this.sourceToken),e.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(ki(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ki(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Si(t.key)&&!ki(t.sep,"newline")){const e=Ii(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if(ki(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Ii(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:s,key:null,sep:[this.sourceToken]}):ki(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0))}default:{const o=this.startBlockValue(e);if(o)return n&&"block-seq"!==o.type&&ki(t.start,"explicit-key-ind")&&e.items.push({start:s}),void this.stack.push(o)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||ki(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Ii(Li(t));Ti(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Ii(Li(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Ii(Li(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Ni(e,t={}){const{lineCounter:n,prettyErrors:s}=function(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new Ei||null,prettyErrors:t}}(t),o=new Oi(n?.addNewLine),i=new gi(t);let r=null;for(const t of i.compose(o.parse(e),!0,e.length))if(r){if("silent"!==r.options.logLevel){r.errors.push(new Go(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else r=t;return s&&n&&(r.errors.forEach(Ko(e,n)),r.warnings.forEach(Ko(e,n))),r}function Ci(e,t,n){let s;"function"==typeof t?s=t:void 0===n&&t&&"object"==typeof t&&(n=t);const o=Ni(e,n);if(!o)return null;if(o.warnings.forEach((e=>Ls(o.options.logLevel,e))),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:s},n))}const Di=Je({displayName:"",steps:{pc_to_ram:{tts:"",text:""},ram_to_ir:{tts:"",text:""},ir_to_cu:{tts:"",text:""},cu_to_mux:{tts:"",text:""},cu_to_alu:{tts:"",text:""},acc_to_alu1:{tts:"",text:""},pc_increment:{tts:"",text:""},ir_to_alu2:{tts:"",text:""},ir_to_ram:{tts:"",text:""},memory_read:{tts:"",text:""},memory_fetch:{tts:"",text:""},memory_write:{tts:"",text:""},ram_to_alu2:{tts:"",text:""},ir_to_pc:{tts:"",text:""},execute:{tts:"",text:""},alu_to_sw:{tts:"",text:""},acc_to_ram:{tts:"",text:""},acc_stored_to_ram:{tts:"",text:""}},cpu:{ir:{invalid_instruction:""}},ram:{buttons:{clear:{text:"",title:""},undo:{title:""},redo:{title:""}}},menu:{buttons:{settings:{text:"",title:""},save:{text:"",title:""},load:{text:"",title:""},examples:{text:"",title:"",examples:{if_then_else:{text:"",title:""},while_do:{text:"",title:""},array_sum:{text:"",title:""}}},manual:{text:"",title:""},copyright:{text:"",title:""}},overlays:{save_to_file:{title:"",buttons:{save:{text:"",title:""},cancel:{text:"",title:""}},inputs:{filename:{placeholder:""}}},copyright:{subsections:{copyright_notice:{title:"",paragraphs:[],disclaimer:""},credits:{title:"",paragraphs:[]}}}}},controls:{labels:{execution:"",step:"",instruction:"",speed:""},buttons:{reset:{title:""},play_program:{title:""},pause_program:{title:""},fast_program:{title:""},play_step:{title:""},fast_step:{title:""},play_instruction:{title:""},fast_instruction:{title:""}},sliders:{speed:{title:""}},checkboxes:{binary:{text:""},animations:{text:""}}},message_feed:{buttons:{export_logs:{text:""},close_message:{title:""}}},settings:{title:"",sections_titles:{general:"",tts:"",busses:""},language:{title:"",description:""},dispaly_components_labels:{title:"",description:""},dispaly_busses_labels:{title:"",description:""},display_step_text:{title:"",description:""},reset_all:{title:"",description:"",button:{text:""}},tts_enabled:{title:"",description:""},tts_speed:{title:"",description:""},tts_voice:{title:"",description:""},databus_ext_color:{title:"",description:""},databus_int_color:{title:"",description:""},databus_ext_anim_color:{title:"",description:""},databus_int_anim_color:{title:"",description:""},addressbus_ext_color:{title:"",description:""},addressbus_int_color:{title:"",description:""},addressbus_ext_anim_color:{title:"",description:""},addressbus_int_anim_color:{title:"",description:""},controlbus_ext_color:{title:"",description:""},controlbus_int_color:{title:"",description:""},controlbus_ext_anim_color:{title:"",description:""},controlbus_int_anim_color:{title:"",description:""}},errors:{unchecked:"",program_parsing:{invalid_instruction:"",invalid_label:"",duplicated_label:""},instruction_parsing:{invalid_binary_input:"",invalid_opcode:"",operand_not_allowed:"",operand_required:"",unknown_label:"",immediate_operand_not_allowed:"",invalid_immediate_operand:"",invalid_direct_operand:"",invalid_data:""},label_parsing:{invalid_character:"",label_too_short:"",label_too_long:""},symbol_table:{label_already_exists:"",invalid_label:""},user_input:{invalid_file_name:"",invalid_pc_value:"",invalid_acc_value:""},execution:{invalid_instruction:"",division_by_zero:""},generic:{fetch_error:""}}});function Pi(t){return e(this,void 0,void 0,(function*(){xt.info(`Fetching text - Lang: ${t}`,"DEBUG"),yield fetch(`resources/i18n/app/${t}.yaml`).then((e=>e.text())).then((e=>Ci(e))).then((e=>Di.set(e))).catch((e=>xt.error(e,"DEBUG"))),xt.info("Text fetched","DEBUG")}))}class Ri extends Error{constructor(e){super(e),this.isChecked=!0}}class Ui extends Ri{constructor(e,t){super(`Value ${e} out of ${t}-bit valid range`)}}function Bi(e,t){if(Math.abs(e)>t)throw new Error(`Position ${e} out of range +/-${t}`);if(0===e)throw new Error("Positions start from 1");return e<0?this.value.length+e:e-1}function Mi(e,t){return e.length>t?e.substring(0,t).concat("..."):e}function Fi(e){if(e<1||e>32)throw new Error("Binary numbers must be between 1 and 32 bits")}function Qi(e,t){return e<=function(e){return Fi(e),Math.pow(2,e)}(t)&&e>=Hi(t)}function ji(e,t){return e<=function(e){return Fi(e),Math.pow(2,e-1)-1}(t)&&e>=Hi(t)}function Hi(e){return Fi(e),-Math.pow(2,e-1)}function qi(e,t){return Fi(t),Gi((e>>>0).toString(2),t)}function Gi(e,t){return("00000000000000000000000000000000"+e).slice(-t)}class Wi{constructor(e,t){if("string"==typeof t){if(!function(e,t){return Fi(t),new RegExp(`^[01]{1,${t}}$`).test(e)}(t,e))throw new Ui(t,e);this.value=Gi(t,e)}else if("number"==typeof t){if(!Qi(t,e))throw new Ui(t,e);this.value=qi(t,e)}else this.value=qi(t.signed(),e)}signed(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)}unsigned(){return parseInt(this.value,2)}toBinaryString(){return this.value}bits(){return this.value.length}bytes(){return this.bits()/8}getByte(e){const t=8*Bi(e,this.bytes());return new Wi(8,this.value.substring(t,t+8))}getBytes(){const e=[];for(let t=1;t<=this.bytes();t++)e.push(this.getByte(t));return e}isBitSet(e){return"1"===this.value.charAt(Bi(e,this.bits()))}setBit(e,t){return new Wi(this.bits(),function(e,t,n){if(!/^[10]*$/.test(e))throw new Error("Invalid binary string");let s=e.split("");return s[Bi(t,e.length)]=n?"1":"0",s.join("")}(this.value,e,t))}static fromBytes(e){return Fi(8*e.length),"number"==typeof e[0]?Wi.fromBytes(e.map((e=>new Wi(8,e)))):"string"==typeof e[0]?new Wi(8*e.length,e.join("")):new Wi(8*e.length,e.map((e=>e.toBinaryString())).join(""))}}function Ki(e){return e.isBitSet(1)}function Vi(e,t){return e.setBit(1,t)}function zi(e){return Vi(e,!1)}const Xi=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"=",category:"DATA_FLOW"},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:"",category:"DATA_FLOW"},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+",category:"ARITHMETIC_LOGIC"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-",category:"ARITHMETIC_LOGIC"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*",category:"ARITHMETIC_LOGIC"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/",category:"ARITHMETIC_LOGIC"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&",category:"ARITHMETIC_LOGIC"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":",category:"ARITHMETIC_LOGIC"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!",category:"ARITHMETIC_LOGIC"}];function Ji(e){return"string"==typeof e?Xi.find((t=>t.symbolic===e)):Xi.find((t=>t.numeric===e.getByte(1).unsigned()))}class Zi extends Wi{constructor(e,t,n,s=!1){super(16,n),this.opcode=Ji(zi(n)),this.symbolicOpcode=e,this.symbolicOperand=t,s&&(this.opcode=void 0)}immediateFlag(){return Ki(this)}opcodeValue(){return this.getByte(1)}operandValue(){return this.getByte(2)}numericOpcode(){return this.getByte(1).signed()}numericOperand(){return this.immediateFlag()?this.getByte(2).signed():this.getByte(2).unsigned()}binaryOpcode(){return this.getByte(1).toBinaryString()}binaryOperand(){return this.getByte(2).toBinaryString()}symbolic(){return this.symbolicOpcode+(""!==this.symbolicOperand?` ${this.symbolicOperand}`:"")}}Zi.NOP=new Zi("NOP","",new Wi(16,Ji("NOP").numeric));const Yi=254;function er(e){return e%2==0&&e>=0&&e<=Yi}class tr{constructor(){this.instructionRegister=Je(Zi.NOP),this.programCounter=Je(new Wi(8,0)),this.increment=Je(new Wi(8,2)),this.alu1=Je(new Wi(16,0)),this.alu2=Je(new Wi(16,0)),this.aluOperation=Je(""),this.aluResult=Je(new Wi(16,0)),this.accumulator=Je(new Wi(16,0)),this.zeroFlag=Je(!0),this.negativeFlag=Je(!1),this.isJumping=Je(!1),this.isHalting=Je(!1)}reset(){this.instructionRegister.set(Zi.NOP),this.programCounter.set(new Wi(8,0)),this.increment.set(new Wi(8,2)),this.alu1.set(new Wi(16,0)),this.alu2.set(new Wi(16,0)),this.aluOperation.set(""),this.aluResult.set(new Wi(16,0)),this.accumulator.set(new Wi(16,0)),this.zeroFlag.set(!0),this.negativeFlag.set(!1),this.isJumping.set(!1),this.isHalting.set(!1)}set(e,t){switch(e){case nr.IR:this.instructionRegister.set(t);break;case nr.PC:this.programCounter.set(t);break;case nr.INC:this.increment.set(t);break;case nr.ALU1:this.alu1.set(t);break;case nr.ALU2:this.alu2.set(t);break;case nr.ALU_OP:this.aluOperation.set(t);break;case nr.ALU_RESULT:this.aluResult.set(t);break;case nr.ACC:this.accumulator.set(t);break;case nr.SW_Z:this.zeroFlag.set(t);break;case nr.SW_N:this.negativeFlag.set(t);break;case nr.HALTING:this.isHalting.set(t);break;case nr.JUMPING:this.isJumping.set(t)}}}var nr;function sr(e){let t,n,s,o,i;return{c(){t=D("div"),n=R(e[4]),s=U(),o=D("div"),i=R(e[5]),F(t,"class","w-full h-[28px] leading-[30px] text-center rounded-l-md"),F(o,"class","w-full h-[28px] leading-[30px] text-center rounded-r-md")},m(r,l){O(r,t,l),L(t,n),e[12](t),O(r,s,l),O(r,o,l),L(o,i),e[13](o)},p(e,t){16&t&&H(n,e[4]),32&t&&H(i,e[5])},d(n){n&&N(t),e[12](null),n&&N(s),n&&N(o),e[13](null)}}}function or(e){let t,n,s=e[6].cpu.ir.invalid_instruction+"";return{c(){t=D("div"),n=R(s),F(t,"class","w-[200px] h-[30px] leading-[30px] col-span-2 text-center rounded-md")},m(e,s){O(e,t,s),L(t,n)},p(e,t){64&t&&s!==(s=e[6].cpu.ir.invalid_instruction+"")&&H(n,s)},d(e){e&&N(t)}}}function ir(e){let t,n,s,o;function i(e,t){return e[0].opcode||e[1]?sr:or}n=new An({props:{text:"IR",top:"-25px",left:"10px"}});let r=i(e),l=r(e);return{c(){t=D("div"),He(n.$$.fragment),s=U(),l.c(),F(t,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 font-mono ")},m(e,i){O(e,t,i),qe(n,t,null),L(t,s),l.m(t,null),o=!0},p(e,[n]){r===(r=i(e))&&l?l.p(e,n):(l.d(1),l=r(e),l&&(l.c(),l.m(t,null)))},i(e){o||(Ne(n.$$.fragment,e),o=!0)},o(e){Ce(n.$$.fragment,e),o=!1},d(e){e&&N(t),Ge(n),l.d()}}}function rr(e,t,n){let s,o,i;d(e,Et,(e=>n(1,o=e))),d(e,Di,(e=>n(6,i=e)));var r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let l,c,a,u,{cpu:f}=t,{animationsEnabled:p}=t;const h=f.instructionRegister;return d(e,h,(e=>n(0,s=e))),e.$$set=e=>{"cpu"in e&&n(8,f=e.cpu),"animationsEnabled"in e&&n(9,p=e.animationsEnabled)},e.$$.update=()=>{3&e.$$.dirty&&(o?(n(4,a=s.binaryOpcode()),n(5,u=s.binaryOperand())):s.opcode&&(n(4,a=s.opcode.symbolic),s.opcode.takesOperand?s.immediateFlag()?n(5,u=`#${s.numericOperand()}`):n(5,u=`${s.numericOperand()}`):n(5,u="")))},[s,o,l,c,a,u,i,h,f,p,function(){return r(this,void 0,void 0,(function*(){if(p&&l)return In(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return r(this,void 0,void 0,(function*(){if(p&&c)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){fe[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},function(e){fe[e?"unshift":"push"]((()=>{c=e,n(3,c)}))}]}!function(e){e.IR="IR",e.PC="PC",e.INC="INC",e.ALU1="ALU1",e.ALU2="ALU2",e.ALU_OP="ALU_OP",e.ALU_RESULT="ALU_RESULT",e.ACC="ACC",e.SW_Z="SW_Z",e.SW_N="SW_N",e.HALTING="HALTING",e.JUMPING="JUMPING"}(nr||(nr={}));class lr extends Ke{constructor(e){super(),We(this,e,rr,ir,c,{cpu:8,animationsEnabled:9,flashOpcode:10,flashOperand:11})}get flashOpcode(){return this.$$.ctx[10]}get flashOperand(){return this.$$.ctx[11]}}function cr(e){let n,s,o;return s=new An({props:{text:"Control Unit / Decoder"}}),{c(){n=D("div"),He(s.$$.fragment),F(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(t,i){O(t,n,i),qe(s,n,null),e[3](n),o=!0},p:t,i(e){o||(Ne(s.$$.fragment,e),o=!0)},o(e){Ce(s.$$.fragment,e),o=!1},d(t){t&&N(n),Ge(s),e[3](null)}}}function ar(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let o,{animationsEnabled:i}=t;return e.$$set=e=>{"animationsEnabled"in e&&n(1,i=e.animationsEnabled)},[o,i,function(){return s(this,void 0,void 0,(function*(){if(i)return In(o,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){fe[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class ur extends Ke{constructor(e){super(),We(this,e,ar,cr,c,{animationsEnabled:1,flash:2})}get flash(){return this.$$.ctx[2]}}const dr=Je(),fr=Je(),pr=Je(),hr=Je(),mr=Je(),gr=Je(),$r=Je();function br(e){let t,n=(e[0]?e[1].toBinaryString():e[1].signed())+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){3&s&&n!==(n=(e[0]?e[1].toBinaryString():e[1].signed())+"")&&H(t,n)},d(e){e&&N(t)}}}function yr(e){let t,n,s;return{c(){t=D("input"),F(t,"type","text"),F(t,"class","w-[170px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(o,i){O(o,t,i),q(t,e[4]),n||(s=[v(vr.call(null,t)),v(xr.call(null,t)),M(t,"input",e[11]),M(t,"input",e[7]),M(t,"focusout",e[6])],n=!0)},p(e,n){16&n&&t.value!==e[4]&&q(t,e[4])},d(e){e&&N(t),n=!1,r(s)}}}function wr(e){let t,n,s,o,i,r;function l(e,t){return e[3]?yr:br}n=new An({props:{text:"ACC",top:"-25px",left:"0"}});let c=l(e),a=c(e);return{c(){t=D("div"),He(n.$$.fragment),s=U(),a.c(),F(t,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center cursor-text font-mono ")},m(l,c){O(l,t,c),qe(n,t,null),L(t,s),a.m(t,null),e[12](t),o=!0,i||(r=M(t,"click",e[13]),i=!0)},p(e,[n]){c===(c=l(e))&&a?a.p(e,n):(a.d(1),a=c(e),a&&(a.c(),a.m(t,null)))},i(e){o||(Ne(n.$$.fragment,e),o=!0)},o(e){Ce(n.$$.fragment,e),o=!1},d(s){s&&N(t),Ge(n),a.d(),e[12](null),i=!1,r()}}}function vr(e){e.focus()}function xr(e){e.select()}function _r(e,t,n){let s,o,i,r;d(e,Et,(e=>n(0,s=e))),d(e,$r,(e=>n(14,i=e))),d(e,Di,(e=>n(15,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let c,a,{cpu:u}=t,{animationsEnabled:f}=t,p=!1;const h=u.accumulator;function m(){n(4,a=s?o.toBinaryString():o.signed().toString())}d(e,h,(e=>n(1,o=e))),m();return e.$$set=e=>{"cpu"in e&&n(8,u=e.cpu),"animationsEnabled"in e&&n(9,f=e.animationsEnabled)},e.$$.update=()=>{2&e.$$.dirty&&m(),1&e.$$.dirty&&m()},[s,o,c,p,a,h,function(){try{if(xt.info(`Accumulator input: "${a}"`,"USER_INPUT"),""===a)return m(),void n(3,p=!1);let e;try{e=new Wi(16,s?a:parseInt(a)),h.set(e)}catch(e){throw new Ri(r.errors.user_input.invalid_acc_value)}}catch(e){null==i||i.error(e.message),xt.error(e,"USER_INPUT",e.isChecked),m()}finally{n(3,p=!1)}},function(){n(4,a=s?a.replace(/[^10]/g,"").slice(0,16):a.replace(/[^\d\-]/g,"").slice(0,6))},u,f,function(){return l(this,void 0,void 0,(function*(){if(f)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){a=this.value,n(4,a)},function(e){fe[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},()=>n(3,p=!0)]}class Er extends Ke{constructor(e){super(),We(this,e,_r,wr,c,{cpu:8,animationsEnabled:9,flash:10})}get flash(){return this.$$.ctx[10]}}function kr(e){let n,s,o,i=(e[1]?e[2].toBinaryString():e[2].unsigned())+"";return{c(){n=D("div"),s=R("+"),o=R(i),F(n,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] leading-[30px] text-center border border-black rounded-md bg-gray-100 shadow-component font-mono ")},m(t,i){O(t,n,i),L(n,s),L(n,o),e[7](n)},p(e,[t]){6&t&&i!==(i=(e[1]?e[2].toBinaryString():e[2].unsigned())+"")&&H(o,i)},i:t,o:t,d(t){t&&N(n),e[7](null)}}}function Ar(e,t,n){let s,o;d(e,Et,(e=>n(1,s=e)));var i=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let r,{cpu:l}=t,{animationsEnabled:c}=t;const a=l.increment;return d(e,a,(e=>n(2,o=e))),e.$$set=e=>{"cpu"in e&&n(4,l=e.cpu),"animationsEnabled"in e&&n(5,c=e.animationsEnabled)},[r,s,o,a,l,c,function(){return i(this,void 0,void 0,(function*(){if(c)return In(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){fe[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Sr extends Ke{constructor(e){super(),We(this,e,Ar,kr,c,{cpu:4,animationsEnabled:5,flash:6})}get flash(){return this.$$.ctx[6]}}function Lr(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v=e[3]?"1":"0",x=e[2]?"1":"0";return n=new An({props:{text:"SW",top:"-25px",left:"0"}}),i=new An({props:{text:"Z",bottom:"-21px",left:"25%"}}),d=new An({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){t=D("div"),He(n.$$.fragment),s=U(),o=D("div"),He(i.$$.fragment),l=U(),c=R(v),a=U(),u=D("div"),He(d.$$.fragment),f=U(),p=R(x),h=U(),m=D("div"),m.textContent="------",g=U(),$=D("div"),F(o,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md cursor-pointer select-none"),F(u,"class","relative h-full flex items-center justify-center w-[19%] cursor-pointer select-none"),F(m,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md select-none"),F(t,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center font-mono "),F($,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black pointer-events-none")},m(r,v){O(r,t,v),qe(n,t,null),L(t,s),L(t,o),qe(i,o,null),L(o,l),L(o,c),e[12](o),L(t,a),L(t,u),qe(d,u,null),L(u,f),L(u,p),e[13](u),L(t,h),L(t,m),O(r,g,v),O(r,$,v),b=!0,y||(w=[M(o,"click",e[6]),M(u,"click",e[7])],y=!0)},p(e,[t]){(!b||8&t)&&v!==(v=e[3]?"1":"0")&&H(c,v),(!b||4&t)&&x!==(x=e[2]?"1":"0")&&H(p,x)},i(e){b||(Ne(n.$$.fragment,e),Ne(i.$$.fragment,e),Ne(d.$$.fragment,e),b=!0)},o(e){Ce(n.$$.fragment,e),Ce(i.$$.fragment,e),Ce(d.$$.fragment,e),b=!1},d(s){s&&N(t),Ge(n),Ge(i),e[12](null),Ge(d),e[13](null),s&&N(g),s&&N($),y=!1,r(w)}}}function Ir(e,t,n){let s,o;var i=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let r,l,{cpu:c}=t,{animationsEnabled:a}=t;const u=c.negativeFlag;d(e,u,(e=>n(2,s=e)));const f=c.zeroFlag;function p(){return i(this,void 0,void 0,(function*(){if(a)return In(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}function h(){return i(this,void 0,void 0,(function*(){if(a)return In(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}return d(e,f,(e=>n(3,o=e))),e.$$set=e=>{"cpu"in e&&n(8,c=e.cpu),"animationsEnabled"in e&&n(9,a=e.animationsEnabled)},[r,l,s,o,u,f,function(){xt.info(`Toggled zero flag: "${!o}"`,"USER_INPUT"),w(f,o=!o,o),p()},function(){xt.info(`Toggled negative flag: "${!s}"`,"USER_INPUT"),w(u,s=!s,s),h()},c,a,p,h,function(e){fe[e?"unshift":"push"]((()=>{r=e,n(0,r)}))},function(e){fe[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class Tr extends Ke{constructor(e){super(),We(this,e,Ir,Lr,c,{cpu:8,animationsEnabled:9,flashZeroFlag:10,flashNegativeFlag:11})}get flashZeroFlag(){return this.$$.ctx[10]}get flashNegativeFlag(){return this.$$.ctx[11]}}function Or(e){let t,n=(e[0]?e[1].toBinaryString():e[1].unsigned())+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){3&s&&n!==(n=(e[0]?e[1].toBinaryString():e[1].unsigned())+"")&&H(t,n)},d(e){e&&N(t)}}}function Nr(e){let t,n,s;return{c(){t=D("input"),F(t,"type","text"),F(t,"class","w-[100px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(o,i){O(o,t,i),q(t,e[4]),n||(s=[v(Dr.call(null,t)),v(Pr.call(null,t)),M(t,"input",e[11]),M(t,"input",e[7]),M(t,"focusout",e[6])],n=!0)},p(e,n){16&n&&t.value!==e[4]&&q(t,e[4])},d(e){e&&N(t),n=!1,r(s)}}}function Cr(e){let t,n,s,o,i,r;function l(e,t){return e[3]?Nr:Or}n=new An({props:{text:"PC",top:"-25px",left:"0"}});let c=l(e),a=c(e);return{c(){t=D("div"),He(n.$$.fragment),s=U(),a.c(),F(t,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] leading-[30px] text-center border border-black rounded-md bg-gray-100 shadow-component cursor-text font-mono ")},m(l,c){O(l,t,c),qe(n,t,null),L(t,s),a.m(t,null),e[12](t),o=!0,i||(r=M(t,"click",e[13]),i=!0)},p(e,[n]){c===(c=l(e))&&a?a.p(e,n):(a.d(1),a=c(e),a&&(a.c(),a.m(t,null)))},i(e){o||(Ne(n.$$.fragment,e),o=!0)},o(e){Ce(n.$$.fragment,e),o=!1},d(s){s&&N(t),Ge(n),a.d(),e[12](null),i=!1,r()}}}function Dr(e){e.focus()}function Pr(e){e.select()}function Rr(e,t,n){let s,o,i,r;d(e,Et,(e=>n(0,s=e))),d(e,$r,(e=>n(14,i=e))),d(e,Di,(e=>n(15,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let c,a,{cpu:u}=t,{animationsEnabled:f}=t,p=!1;const h=u.programCounter;function m(){n(4,a=s?o.toBinaryString():o.unsigned().toString())}d(e,h,(e=>n(1,o=e))),m();return e.$$set=e=>{"cpu"in e&&n(8,u=e.cpu),"animationsEnabled"in e&&n(9,f=e.animationsEnabled)},e.$$.update=()=>{2&e.$$.dirty&&m(),1&e.$$.dirty&&m()},[s,o,c,p,a,h,function(){try{if(xt.info(`ProgramCounter input: "${a}"`,"USER_INPUT"),""===a)return m(),void n(3,p=!1);let e;try{e=new Wi(8,s?a:parseInt(a))}catch(e){throw new Ri(r.errors.user_input.invalid_pc_value)}if(!er(e.unsigned()))throw new Ri(r.errors.user_input.invalid_pc_value);h.set(e)}catch(e){null==i||i.error(e.message),xt.error(e,"USER_INPUT",e.isChecked),m()}finally{n(3,p=!1)}},function(){n(4,a=s?a.replace(/[^10]/g,"").slice(0,8):a.replace(/\D/g,"").slice(0,3))},u,f,function(){return l(this,void 0,void 0,(function*(){if(f)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){a=this.value,n(4,a)},function(e){fe[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},()=>n(3,p=!0)]}class Ur extends Ke{constructor(e){super(),We(this,e,Rr,Cr,c,{cpu:8,animationsEnabled:9,flash:10})}get flash(){return this.$$.ctx[10]}}function Br(e){let n,s,o,i,r,l;return r=new An({props:{text:"MUX"}}),{c(){n=D("div"),s=P("svg"),o=P("path"),i=U(),He(r.$$.fragment),F(o,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),F(s,"viewBox","-1 -1 102 42"),F(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(t,c){O(t,n,c),L(n,s),L(s,o),e[3](s),L(n,i),qe(r,n,null),l=!0},p:t,i(e){l||(Ne(r.$$.fragment,e),l=!0)},o(e){Ce(r.$$.fragment,e),l=!1},d(t){t&&N(n),e[3](null),Ge(r)}}}function Mr(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let o,{animationsEnabled:i}=t;return e.$$set=e=>{"animationsEnabled"in e&&n(1,i=e.animationsEnabled)},[o,i,function(){return s(this,void 0,void 0,(function*(){if(i)return In(o,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){fe[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class Fr extends Ke{constructor(e){super(),We(this,e,Mr,Br,c,{animationsEnabled:1,flash:2})}get flash(){return this.$$.ctx[2]}}function Qr(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b=(e[3]?jr(e[4].toBinaryString()):e[4].signed())+"",y=(e[3]?jr(e[6].toBinaryString()):e[6].signed())+"";return i=new An({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){t=D("div"),n=P("svg"),s=P("path"),o=U(),He(i.$$.fragment),r=U(),l=D("div"),c=R(b),u=U(),d=D("div"),f=R(e[5]),p=U(),h=D("div"),m=R(y),F(s,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),F(n,"viewBox","-1 -1 450 162"),F(l,"class",a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"),F(d,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),F(h,"class",g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"),F(t,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(a,g){O(a,t,g),L(t,n),L(n,s),L(t,o),qe(i,t,null),L(t,r),L(t,l),L(l,c),e[15](l),L(t,u),L(t,d),L(d,f),e[16](d),L(t,p),L(t,h),L(h,m),e[17](h),$=!0},p(e,[t]){(!$||24&t)&&b!==(b=(e[3]?jr(e[4].toBinaryString()):e[4].signed())+"")&&H(c,b),(!$||8&t&&a!==(a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"))&&F(l,"class",a),(!$||32&t)&&H(f,e[5]),(!$||72&t)&&y!==(y=(e[3]?jr(e[6].toBinaryString()):e[6].signed())+"")&&H(m,y),(!$||8&t&&g!==(g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"))&&F(h,"class",g)},i(e){$||(Ne(i.$$.fragment,e),$=!0)},o(e){Ce(i.$$.fragment,e),$=!1},d(n){n&&N(t),Ge(i),e[15](null),e[16](null),e[17](null)}}}function jr(e){return[e.slice(0,8),e.slice(8)].join(" ")}function Hr(e,t,n){let s,o,i,r;d(e,Et,(e=>n(3,s=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let c,a,u,{cpu:f}=t,{animationsEnabled:p}=t;const h=f.alu1;d(e,h,(e=>n(4,o=e)));const m=f.alu2;d(e,m,(e=>n(6,r=e)));const g=f.aluOperation;return d(e,g,(e=>n(5,i=e))),e.$$set=e=>{"cpu"in e&&n(10,f=e.cpu),"animationsEnabled"in e&&n(11,p=e.animationsEnabled)},[c,a,u,s,o,i,r,h,m,g,f,p,function(){return l(this,void 0,void 0,(function*(){if(p)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return l(this,void 0,void 0,(function*(){if(p)return In(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return l(this,void 0,void 0,(function*(){if(p)return In(u,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){fe[e?"unshift":"push"]((()=>{c=e,n(0,c)}))},function(e){fe[e?"unshift":"push"]((()=>{u=e,n(2,u)}))},function(e){fe[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class qr extends Ke{constructor(e){super(),We(this,e,Hr,Qr,c,{cpu:10,animationsEnabled:11,flashFirstOperand:12,flashSecondOperand:13,flashOperator:14})}get flashFirstOperand(){return this.$$.ctx[12]}get flashSecondOperand(){return this.$$.ctx[13]}get flashOperator(){return this.$$.ctx[14]}}class Gr{constructor(){this._conditions=[],this._name="Action",this._endsStep=!1,this._endsInstruction=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}condition(...e){return this._conditions.push(...e),this}endstep(){return this._endsStep=!0,this}endinstruction(){return this._endsInstruction=!0,this}sideffects(...e){return this._sideffects.push(...e),this}waitFor(...e){return this._waits_before.push(...e),this}thenWaitFor(...e){return this._waits_after.push(...e),this}execute(t){return e(this,void 0,void 0,(function*(){if(this._conditions.reduceRight(((e,n)=>e&&n(t)),!0))return xt.info(`Executing: ${this.toString()}`,"EXECUTION"),yield Promise.all(this._waits_before.map((e=>e(t)))),yield Promise.all([...this._sideffects.map((e=>e.execute(t))),this.action(t)]),Promise.all(this._waits_after.map((e=>e(t))));xt.info(`Skipping: ${this.toString()}`,"EXECUTION")}))}doesEndStep(){return this._endsStep}doesEndInstruction(){return this._endsInstruction}toString(){return`${this._name}`}}function Wr(e){return e.cpu.model.zeroFlag.get()}function Kr(e){return e.cpu.model.negativeFlag.get()}function Vr(e){return It.get()}function zr(e){return Lt.get()}function Xr(e){return Nt.get()}function Jr(e){return St.get()}function Zr(e){return t=>!e(t)}class Yr extends Gr{constructor(){var e,t;super(),this._name="Animation",this.condition((e=Zr(zr),t=Vr,n=>e(n)&&t(n)))}}class el extends Yr{constructor(e){super(),this._name="FlashCpu",this.component=e}action(t){return e(this,void 0,void 0,(function*(){return t.cpu.component.flash(this.component)}))}toString(){return`${super.toString()}, component: ${this.component}`}}function tl(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v;o=new An({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});let x={cpu:e[0],animationsEnabled:e[1]};r=new lr({props:x}),e[11](r);let _={animationsEnabled:e[1]};c=new ur({props:_}),e[12](c);let E={cpu:e[0],animationsEnabled:e[1]};u=new Ur({props:E}),e[13](u);let k={cpu:e[0],animationsEnabled:e[1]};f=new Sr({props:k}),e[14](f);let A={animationsEnabled:e[1]};h=new Fr({props:A}),e[15](h);let S={cpu:e[0],animationsEnabled:e[1]};g=new qr({props:S}),e[16](g);let I={cpu:e[0],animationsEnabled:e[1]};b=new Tr({props:I}),e[17](b);let T={cpu:e[0],animationsEnabled:e[1]};return w=new Er({props:T}),e[18](w),{c(){t=D("div"),n=U(),s=D("div"),He(o.$$.fragment),i=U(),He(r.$$.fragment),l=U(),He(c.$$.fragment),a=U(),He(u.$$.fragment),d=U(),He(f.$$.fragment),p=U(),He(h.$$.fragment),m=U(),He(g.$$.fragment),$=U(),He(b.$$.fragment),y=U(),He(w.$$.fragment),F(t,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),F(s,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(e,x){O(e,t,x),O(e,n,x),O(e,s,x),qe(o,s,null),L(s,i),qe(r,s,null),L(s,l),qe(c,s,null),L(s,a),qe(u,s,null),L(s,d),qe(f,s,null),L(s,p),qe(h,s,null),L(s,m),qe(g,s,null),L(s,$),qe(b,s,null),L(s,y),qe(w,s,null),v=!0},p(e,[t]){const n={};1&t&&(n.cpu=e[0]),2&t&&(n.animationsEnabled=e[1]),r.$set(n);const s={};2&t&&(s.animationsEnabled=e[1]),c.$set(s);const o={};1&t&&(o.cpu=e[0]),2&t&&(o.animationsEnabled=e[1]),u.$set(o);const i={};1&t&&(i.cpu=e[0]),2&t&&(i.animationsEnabled=e[1]),f.$set(i);const l={};2&t&&(l.animationsEnabled=e[1]),h.$set(l);const a={};1&t&&(a.cpu=e[0]),2&t&&(a.animationsEnabled=e[1]),g.$set(a);const d={};1&t&&(d.cpu=e[0]),2&t&&(d.animationsEnabled=e[1]),b.$set(d);const p={};1&t&&(p.cpu=e[0]),2&t&&(p.animationsEnabled=e[1]),w.$set(p)},i(e){v||(Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),Ne(c.$$.fragment,e),Ne(u.$$.fragment,e),Ne(f.$$.fragment,e),Ne(h.$$.fragment,e),Ne(g.$$.fragment,e),Ne(b.$$.fragment,e),Ne(w.$$.fragment,e),v=!0)},o(e){Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),Ce(c.$$.fragment,e),Ce(u.$$.fragment,e),Ce(f.$$.fragment,e),Ce(h.$$.fragment,e),Ce(g.$$.fragment,e),Ce(b.$$.fragment,e),Ce(w.$$.fragment,e),v=!1},d(i){i&&N(t),i&&N(n),i&&N(s),Ge(o),e[11](null),Ge(r),e[12](null),Ge(c),e[13](null),Ge(u),e[14](null),Ge(f),e[15](null),Ge(h),e[16](null),Ge(g),e[17](null),Ge(b),e[18](null),Ge(w)}}}function nl(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let o,i,r,l,c,a,u,d,{cpu:f}=t,{animationsEnabled:p}=t;return e.$$set=e=>{"cpu"in e&&n(0,f=e.cpu),"animationsEnabled"in e&&n(1,p=e.animationsEnabled)},[f,p,o,i,r,l,c,a,u,d,function(e){return s(this,void 0,void 0,(function*(){if(p)switch(e){case"IR":return Promise.all([o.flashOpcode(),o.flashOperand()]);case"IR:OPC":return o.flashOpcode();case"IR:OPR":return o.flashOperand();case"PC":return r.flash();case"INC":return l.flash();case"MUX":return c.flash();case"CU":return i.flash();case"ALU:1":return a.flashFirstOperand();case"ALU:2":return a.flashSecondOperand();case"ALU:OPR":return a.flashOperator();case"ACC":return d.flash();case"SW:Z":return u.flashZeroFlag();case"SW:N":return u.flashNegativeFlag()}}))},function(e){fe[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(e){fe[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},function(e){fe[e?"unshift":"push"]((()=>{r=e,n(4,r)}))},function(e){fe[e?"unshift":"push"]((()=>{l=e,n(5,l)}))},function(e){fe[e?"unshift":"push"]((()=>{c=e,n(6,c)}))},function(e){fe[e?"unshift":"push"]((()=>{a=e,n(7,a)}))},function(e){fe[e?"unshift":"push"]((()=>{u=e,n(8,u)}))},function(e){fe[e?"unshift":"push"]((()=>{d=e,n(9,d)}))}]}class sl extends Ke{constructor(e){super(),We(this,e,nl,tl,c,{cpu:0,animationsEnabled:1,flash:10})}get flash(){return this.$$.ctx[10]}}class ol{constructor(){this._instructions=Je([]),this.instructions=Ze(this._instructions,(e=>e)),this.clear()}write(e,t){if(!er(e))throw new Error("Invalid address: "+e);this._instructions.update((n=>{const s=[...n];return s[e]=t,s}))}read(e){if(!er(e))throw new Error("Invalid address: "+e);return this._instructions.get()[e]}clear(){const e=[];for(let t=0;t<=Yi;t+=2)e[t]=Zi.NOP;this._instructions.set(e)}updateLabel(e,t){this._instructions.update((n=>{const s=[...n];for(let n=0;n<=Yi;n+=2){const o=s[n];o.symbolicOperand===e?s[n]=new Zi(o.symbolicOpcode,t,o):o.symbolicOperand===`#${e}`&&(s[n]=new Zi(o.symbolicOpcode,`#${t}`,o))}return s}))}updateLabelAddress(e,t){this._instructions.update((n=>{const s=[...n];for(let n=0;n<=Yi;n+=2){const o=s[n];o.symbolicOperand!==e&&o.symbolicOperand!==`#${e}`||(s[n]=new Zi(o.symbolicOpcode,o.symbolicOperand,Wi.fromBytes([o.numericOpcode(),t]),void 0===o.opcode))}return s}))}removeLabel(e){this._instructions.update((t=>{const n=[...t];for(let t=0;t<=Yi;t+=2){const s=n[t];s.symbolicOperand===e?n[t]=new Zi(s.symbolicOpcode,s.numericOperand().toString(),s):s.symbolicOperand===`#${e}`&&(n[t]=new Zi(s.symbolicOpcode,`#${s.numericOperand()}`,s))}return n}))}import(e){this._instructions.set([...e.instructions.get()])}moveFirstHalfUpFromAddress(e){const t=this._instructions.get(),n=[...t.slice(2,e+2),Zi.NOP,void 0,...t.slice(e+2)];this._instructions.set(n)}moveFirstHalfDownFromAddress(e){const t=this._instructions.get(),n=[Zi.NOP,void 0,...t.slice(0,e),...t.slice(e+2)];this._instructions.set(n)}moveSecondHalfUpFromAddress(e){const t=this._instructions.get(),n=[...t.slice(0,e),...t.slice(e+2),void 0,Zi.NOP];this._instructions.set(n)}moveSecondHalfDownFromAddress(e){const t=this._instructions.get(),n=[...t.slice(0,e),Zi.NOP,void 0,...t.slice(e,253)];this._instructions.set(n)}*[Symbol.iterator](){const e=this._instructions.get();for(let t=0;t<=Yi;t+=2)yield{address:t,instruction:e[t]}}}function il(e,...t){let n=e;return t.forEach(((e,t)=>{n=n.replace(`{${t}}`,e.toString())})),n}class rl extends Ri{constructor(e,t){super(e),this.badLabel=t}}const ll=10,cl=/[^A-Z_]/;function al(e){if(cl.test(e))throw new rl(il(Di.get().errors.label_parsing.invalid_character,e.match(cl)[0]),e);if(e.length>ll)throw new rl(il(Di.get().errors.label_parsing.label_too_long,ll),e);if(e.length<1)throw new rl(il(Di.get().errors.label_parsing.label_too_short,1),e);return e}class ul{constructor(){this._labels=Je([]),this.labels=Ze(this._labels,(e=>e)),this.labelEditedListeners=[],this.labelMovedListeners=[],this.labelRemovedListeners=[],this.clear()}setLabel(e,t){if(!er(e))throw new Error("Invalid address: "+e);const n=this.getLabel(e);if(n!==t&&(n!==ul.NO_LABEL||""!==t))if(""!==t){if(al(t),this.hasLabel(t))throw new Ri(Di.get().errors.symbol_table.label_already_exists);this._labels.update((n=>{const s=[...n];return s[e]=t,s})),n!==ul.NO_LABEL&&this.notifyLabelEditedListeners(e,n,t)}else this.unlabelAddress(e)}unlabelAddress(e){if(!er(e))throw new Error("Invalid address: "+e);const t=this.getLabel(e);this._labels.update((t=>{const n=[...t];return n[e]=ul.NO_LABEL,n})),this.notifyLabelRemovedListeners(e,t)}getLabel(e){if(!er(e))throw new Error("Invalid address: "+e);return this._labels.get()[e]}getAddress(e){return e===ul.NO_LABEL?-1:this._labels.get().findIndex((t=>t===e))}hasLabel(e){return this._labels.get().includes(e)&&e!==ul.NO_LABEL}addressIsLabeled(e){if(!er(e))throw new Error("Invalid address: "+e);return this._labels.get()[e]!==ul.NO_LABEL}clear(){const e=[];for(let t=0;t<=Yi;t+=2)e[t]=ul.NO_LABEL;this._labels.set(e)}import(e){this._labels.set([...e.labels.get()])}moveFirstHalfUpFromAddress(e){const t=this._labels.get(),n=[...t.slice(2,e+2),ul.NO_LABEL,void 0,...t.slice(e+2)];this._labels.set(n),t[0]!==ul.NO_LABEL&&this.notifyLabelRemovedListeners(0,t[0]);for(const{label:t,address:n}of this)n<e&&this.notifyLabelMovedListeners(t,n+2,n)}moveFirstHalfDownFromAddress(e){const t=this._labels.get(),n=[ul.NO_LABEL,void 0,...t.slice(0,e),...t.slice(e+2)];this._labels.set(n),t[e]!==ul.NO_LABEL&&this.notifyLabelRemovedListeners(e,t[e]);for(const{label:t,address:n}of this)n<=e&&this.notifyLabelMovedListeners(t,n-2,n)}moveSecondHalfUpFromAddress(e){const t=this._labels.get(),n=[...t.slice(0,e),...t.slice(e+2),void 0,ul.NO_LABEL];this._labels.set(n),t[e]!==ul.NO_LABEL&&this.notifyLabelRemovedListeners(e,t[e]);for(const{label:t,address:n}of this)n>=e&&this.notifyLabelMovedListeners(t,n+2,n)}moveSecondHalfDownFromAddress(e){const t=this._labels.get(),n=[...t.slice(0,e),ul.NO_LABEL,void 0,...t.slice(e,253)];this._labels.set(n),t[254]!==ul.NO_LABEL&&this.notifyLabelRemovedListeners(Yi,t[254]);for(const{label:t,address:n}of this)n>e&&this.notifyLabelMovedListeners(t,n-2,n)}addLabelEditedListener(e){return this.labelEditedListeners.push(e),()=>this.labelEditedListeners=this.labelEditedListeners.filter((t=>t!==e))}addLabelMovedListener(e){return this.labelMovedListeners.push(e),()=>this.labelMovedListeners=this.labelMovedListeners.filter((t=>t!==e))}addLabelRemovedListener(e){return this.labelRemovedListeners.push(e),()=>this.labelRemovedListeners=this.labelRemovedListeners.filter((t=>t!==e))}notifyLabelEditedListeners(e,t,n){this.labelEditedListeners.forEach((s=>s({address:e,oldLabel:t,newLabel:n})))}notifyLabelMovedListeners(e,t,n){this.labelMovedListeners.forEach((s=>s({label:e,oldAddress:t,newAddress:n})))}notifyLabelRemovedListeners(e,t){this.labelRemovedListeners.forEach((n=>n({address:e,removedLabel:t})))}*[Symbol.iterator](){const e=this._labels.get();for(let t=0;t<=Yi;t+=2)e[t]!==ul.NO_LABEL&&(yield{address:t,label:e[t]})}}function dl(e){const t=e-1;return t*t*t+1}function fl(e,{delay:t=0,duration:s=400,easing:o=n}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:o,css:e=>"opacity: "+e*i}}function pl(e,{delay:t=0,duration:n=400,easing:s=dl}={}){const o=getComputedStyle(e),i=+o.opacity,r=parseFloat(o.height),l=parseFloat(o.paddingTop),c=parseFloat(o.paddingBottom),a=parseFloat(o.marginTop),u=parseFloat(o.marginBottom),d=parseFloat(o.borderTopWidth),f=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:s,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*i};height: ${e*r}px;padding-top: ${e*l}px;padding-bottom: ${e*c}px;margin-top: ${e*a}px;margin-bottom: ${e*u}px;border-top-width: ${e*d}px;border-bottom-width: ${e*f}px;`}}ul.NO_LABEL=null;let hl={address:null,column:"CELL"};const{subscribe:ml,set:gl,update:$l}=ze(hl);function bl(e){$l(e),hl=e(hl)}var yl={subscribe:ml,selectUp:function(){bl((e=>{let t=e.address-=2;return Object.assign(Object.assign({},e),{address:t<0?0:t})}))},selectDown:function(){bl((e=>{let t=e.address+=2;return Object.assign(Object.assign({},e),{address:t>Yi?Yi:t})}))},selectLeft:function(){bl((e=>Object.assign(Object.assign({},e),{column:"LABEL"})))},selectRight:function(){bl((e=>Object.assign(Object.assign({},e),{column:"CELL"})))},select:function(e,t="CELL"){if(!er(e))throw new Error("Invalid address");bl((n=>Object.assign(Object.assign({},n),{address:e,column:t})))},deselect:function(){bl((e=>Object.assign(Object.assign({},e),{address:null})))},noSelection:function(){return null===hl.address},isSelected:function(e,t){return hl.address===e&&hl.column===t}};function wl(e){let n,s,o,i;return{c(){n=D("button"),n.innerHTML='<svg class="fill-black/30 w-6 h-6 transition-colors hover:fill-black"><rect class="fill-transparent h-6 w-6"></rect><path d="M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"></path></svg>',F(n,"class","absolute right-0 cursor-pointer w-6 h-6")},m(t,s){O(t,n,s),o||(i=M(n,"click",e[9]),o=!0)},p(t,n){e=t},i(t){s||ye((()=>{s=Pe(n,e[11],{condition:e[15]}),s.start()}))},o:t,d(e){e&&N(n),o=!1,i()}}}function vl(e){let n,s,o,i,l;return{c(){n=D("div"),s=R(e[2]),o=R(" :"),F(n,"class","absolute right-0 h-[28px] w-[150px] flex items-center justify-start p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right cursor-text  svelte-1trus45"),V(n,"firstLabel",e[4]),V(n,"lastLabel",e[5])},m(t,r){O(t,n,r),L(n,s),L(n,o),i||(l=[M(n,"input",e[10]),M(n,"click",e[9])],i=!0)},p(e,t){4&t&&H(s,e[2]),16&t&&V(n,"firstLabel",e[4]),32&t&&V(n,"lastLabel",e[5])},i:t,o:t,d(e){e&&N(n),i=!1,r(l)}}}function xl(e){let s,o,i,c,a,u;return{c(){s=D("input"),F(s,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right  svelte-1trus45"),V(s,"firstLabel",e[4]),V(s,"lastLabel",e[5])},m(t,n){O(t,s,n),q(s,e[6]),c=!0,a||(u=[M(s,"input",e[12]),M(s,"input",e[10]),M(s,"focusout",e[8]),v(El.call(null,s))],a=!0)},p(t,n){e=t,64&n&&s.value!==e[6]&&q(s,e[6]),(!c||16&n)&&V(s,"firstLabel",e[4]),(!c||32&n)&&V(s,"lastLabel",e[5])},i(t){c||(ye((()=>{i&&i.end(1),o=Pe(s,kl,{condition:e[13]}),o.start()})),c=!0)},o(a){o&&o.invalidate(),i=function(e,s,o){const i={direction:"out"};let c,a=s(e,o,i),u=!0;const d=Ie;function f(){const{delay:s=0,duration:o=300,easing:i=n,tick:l=t,css:f}=a||De;f&&(c=ee(e,1,0,o,s,i,f));const p=_()+s,h=p+o;ye((()=>Se(e,!1,"start"))),S((t=>{if(u){if(t>=h)return l(0,1),Se(e,!1,"end"),--d.r||r(d.c),!1;if(t>=p){const e=i((t-p)/o);l(1-e,e)}}return u}))}return d.r+=1,l(a)?Ae().then((()=>{a=a(i),f()})):f(),{end(t){t&&a.tick&&a.tick(1,0),u&&(c&&te(e,c),u=!1)}}}(s,kl,{condition:e[14]}),c=!1},d(e){e&&N(s),e&&i&&i.end(),a=!1,r(u)}}}function _l(e){let t,n,s,o;const i=[xl,vl,wl],r=[];function l(e,t){return e[3]?0:e[2]?1:2}return n=l(e),s=r[n]=i[n](e),{c(){t=D("div"),s.c(),F(t,"class","relative h-[30px] flex items-center font-mono")},m(e,s){O(e,t,s),r[n].m(t,null),o=!0},p(e,[o]){let c=n;n=l(e),n===c?r[n].p(e,o):(Te(),Ce(r[c],1,1,(()=>{r[c]=null})),Oe(),s=r[n],s?s.p(e,o):(s=r[n]=i[n](e),s.c()),Ne(s,1),s.m(t,null))},i(e){o||(Ne(s),o=!0)},o(e){Ce(s),o=!1},d(e){e&&N(t),r[n].d()}}}function El(e){e.focus()}function kl(e,{condition:t=(()=>!0)}){return{delay:0,duration:t()?200:0,css:e=>`transform: scaleX(${e})`}}function Al(e,t,n){let s;d(e,$r,(e=>n(16,s=e)));let o,i,{symbolTable:r}=t,{address:l}=t,{label:c}=t,{isSelected:a}=t,{isFirstLabel:u=!1}=t,{isLastLabel:f=!1}=t;oe((()=>{n(7,i=!0)}));return e.$$set=e=>{"symbolTable"in e&&n(0,r=e.symbolTable),"address"in e&&n(1,l=e.address),"label"in e&&n(2,c=e.label),"isSelected"in e&&n(3,a=e.isSelected),"isFirstLabel"in e&&n(4,u=e.isFirstLabel),"isLastLabel"in e&&n(5,f=e.isLastLabel)},e.$$.update=()=>{4&e.$$.dirty&&n(6,o=c===ul.NO_LABEL?"":c),2&e.$$.dirty&&(n(7,i=!1),n(6,o=c===ul.NO_LABEL?"":c)),8&e.$$.dirty&&a&&n(6,o=c===ul.NO_LABEL?"":c)},[r,l,c,a,u,f,o,i,function(){try{xt.info(`RamLabel input: "${o}"`,"USER_INPUT"),r.setLabel(l,o)}catch(e){null==s||s.error(e.message),xt.error(e,"USER_INPUT",e.isChecked),n(6,o=c===ul.NO_LABEL?"":c)}finally{yl.isSelected(l,"LABEL")&&yl.deselect()}},function(){yl.select(l,"LABEL")},function(){n(6,o=o.toUpperCase().replace(cl,"").slice(0,ll))},function(e,{condition:t=(()=>!0)}){return t()?fl(e,{delay:150}):null},function(){o=this.value,n(6,o)},()=>!r.addressIsLabeled(l),()=>!r.addressIsLabeled(l),()=>{const e=i;return n(7,i=!0),!a&&e}]}class Sl extends Ke{constructor(e){super(),We(this,e,Al,_l,c,{symbolTable:0,address:1,label:2,isSelected:3,isFirstLabel:4,isLastLabel:5})}}function Ll(e){let n,s,o,i=(e[3]?new Wi(8,e[0]).toBinaryString():e[0])+"";return{c(){n=D("div"),s=R(i),F(n,"class",o="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 font-mono "+e[4].class+" svelte-1v2acx4"),G(n,"background-color",e[2])},m(t,o){O(t,n,o),L(n,s),e[7](n)},p(e,[t]){9&t&&i!==(i=(e[3]?new Wi(8,e[0]).toBinaryString():e[0])+"")&&H(s,i),16&t&&o!==(o="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 font-mono "+e[4].class+" svelte-1v2acx4")&&F(n,"class",o),4&t&&G(n,"background-color",e[2])},i:t,o:t,d(t){t&&N(n),e[7](null)}}}function Il(e,t,n){const o=["address","getAddress","flash"];let i,r,l,c=b(t,o);d(e,It,(e=>n(8,i=e))),d(e,Mt,(e=>n(2,r=e))),d(e,Et,(e=>n(3,l=e)));var a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let u,{address:f}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,c=b(t,o)),"address"in e&&n(0,f=e.address)},[f,u,r,l,c,function(){return f},function(){return a(this,void 0,void 0,(function*(){if(i)return In(u,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(e){fe[e?"unshift":"push"]((()=>{u=e,n(1,u)}))}]}class Tl extends Ke{constructor(e){super(),We(this,e,Il,Ll,c,{address:0,getAddress:5,flash:6})}get getAddress(){return this.$$.ctx[5]}get flash(){return this.$$.ctx[6]}}class Ol extends Ri{constructor(e,t){super(e),this.inputString=t}}const Nl=/^[01]{0,8}\s?[01]{1,8}?$/,Cl=/^-?[0-9]+$/,Dl=/#-?[0-9]{1,3}/,Pl=/[A-Z_]{1,10}/,Rl=/#[A-Z_]{1,10}/,Ul=new ul;function Bl(e,t=Ul){return Cl.test(e)?function(e){const t=parseInt(e);if(!ji(t,16))throw new Ol(il(Di.get().errors.instruction_parsing.invalid_data,Mi(t.toString(),10)),e);const n=new Wi(16,t),s=n.getByte(1),o=n.getByte(2),i=Ji(zi(s)),r=Ki(s),l=!i||!i.takesOperand&&0!==o.signed()||!i.takesImmediate&&r||!i.takesOperand&&r;return new Zi(e,"",n,l)}(e):function(e,t){const[n,s]=e.split(" "),o=!!s,i=Ji(n);if(!i)throw new Ol(il(Di.get().errors.instruction_parsing.invalid_opcode,Mi(n,10)),e);if(o){if(!i.takesOperand)throw new Ol(il(Di.get().errors.instruction_parsing.operand_not_allowed,Mi(i.symbolic,10)),e);return Rl.test(s)?function(e,t,n){const[s,o]=e.split(" "),i=o.slice(1);if(!n.hasLabel(i))throw new Ol(il(Di.get().errors.instruction_parsing.unknown_label,Mi(o,ll)),e);const r=Vi(new Wi(8,t.numeric),!0).signed(),l=n.getAddress(i);if(!t.takesImmediate)throw new Ol(il(Di.get().errors.instruction_parsing.immediate_operand_not_allowed,Mi(t.symbolic,10)),e);if(!ji(l,8))throw new Ol(il(Di.get().errors.instruction_parsing.invalid_immediate_operand,Mi(l.toString(),10)),e);return new Zi(s,o,Wi.fromBytes([r,l]))}(e,i,t):Pl.test(s)?function(e,t,n){const[s,o]=e.split(" ");if(!n.hasLabel(o))throw new Ol(il(Di.get().errors.instruction_parsing.unknown_label,Mi(o,ll)),e);const i=n.getAddress(o);return new Zi(s,o,Wi.fromBytes([t.numeric,i]))}(e,i,t):Dl.test(s)?function(e,t){const[n,s]=e.split(" "),o=Vi(new Wi(8,t.numeric),!0).signed(),i=parseInt(s.slice(1));if(!t.takesImmediate)throw new Ol(il(Di.get().errors.instruction_parsing.immediate_operand_not_allowed,Mi(t.symbolic,10)),e);if(!ji(i,8))throw new Ol(il(Di.get().errors.instruction_parsing.invalid_immediate_operand,Mi(i.toString(),10)),e);return new Zi(n,s,Wi.fromBytes([o,i]))}(e,i):function(e,t){const[n,s]=e.split(" "),o=parseInt(s);if(!er(o))throw new Ol(il(Di.get().errors.instruction_parsing.invalid_direct_operand,Mi(o.toString(),10)),e);return new Zi(n,s,Wi.fromBytes([t.numeric,o]))}(e,i)}if(i.takesOperand)throw new Ol(il(Di.get().errors.instruction_parsing.operand_required,Mi(i.symbolic,10)),e);return new Zi(n,"",Wi.fromBytes([i.numeric,0]))}(e,t)}function Ml(e){if(Nl.test(e))return function(e){if(e.includes(" ")){const[t,n]=e.split(" ");e=t+Gi(n,8)}const t=new Wi(16,e),n=t.getByte(1),s=t.getByte(2),o=Ki(n),i=Ji(zi(n)),r=!i||!i.takesOperand&&0!==s.unsigned()||o&&!i.takesImmediate||!o&&!er(s.unsigned()),l=r?t.signed().toString():i.symbolic;let c=o?"#"+s.signed():s.unsigned().toString();!r&&i.takesOperand||(c="");return new Zi(l,c,t,r)}(e);throw new Ol(Di.get().errors.instruction_parsing.invalid_binary_input,e)}function Fl(e){let t,n,s,o,i=e[3]&&jl(e);return{c(){t=D("div"),n=R(e[4]),s=U(),i&&i.c(),o=B(),F(t,"class","h-[30px] w-[95px] leading-[30px] text-left pl-[10px]")},m(e,r){O(e,t,r),L(t,n),O(e,s,r),i&&i.m(e,r),O(e,o,r)},p(e,t){16&t&&H(n,e[4]),e[3]?i?i.p(e,t):(i=jl(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&N(t),e&&N(s),i&&i.d(e),e&&N(o)}}}function Ql(e){let t,n,s;return{c(){t=D("input"),F(t,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(o,i){O(o,t,i),q(t,e[2]),n||(s=[M(t,"input",e[15]),M(t,"focusout",e[5]),M(t,"input",e[7]),v(ql.call(null,t)),v(Gl.call(null,t))],n=!0)},p(e,n){4&n&&t.value!==e[2]&&q(t,e[2])},d(e){e&&N(t),n=!1,r(s)}}}function jl(e){let t,n;return{c(){t=D("div"),n=R(e[3]),F(t,"class","h-[30px] w-[95px] min-w-0 leading-[30px] text-left overflow-hidden text-ellipsis whitespace-nowrap")},m(e,s){O(e,t,s),L(t,n)},p(e,t){8&t&&H(n,e[3])},d(e){e&&N(t)}}}function Hl(e){let n,s,o,i;function r(e,t){return e[0]?Ql:Fl}let l=r(e),c=l(e);return{c(){n=D("div"),c.c(),F(n,"class",s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 font-mono "+e[8].class+" svelte-67wtpq")},m(t,s){O(t,n,s),c.m(n,null),e[16](n),o||(i=M(n,"click",e[6]),o=!0)},p(e,[t]){l===(l=r(e))&&c?c.p(e,t):(c.d(1),c=l(e),c&&(c.c(),c.m(n,null))),256&t&&s!==(s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 font-mono "+e[8].class+" svelte-67wtpq")&&F(n,"class",s)},i:t,o:t,d(t){t&&N(n),c.d(),e[16](null),o=!1,i()}}}function ql(e){e.focus()}function Gl(e){setTimeout((()=>e.select()))}function Wl(e,t,n){let o,i;const r=["symbolTable","address","instruction","isSelected","flash","getAddress"];let l,c,a,u,f=b(t,r);d(e,$r,(e=>n(17,l=e))),d(e,fr,(e=>n(18,c=e))),d(e,Et,(e=>n(14,a=e))),d(e,It,(e=>n(19,u=e)));var p=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let h,m,{symbolTable:g}=t,{address:y}=t,{instruction:w}=t,{isSelected:v}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(8,f=b(t,r)),"symbolTable"in e&&n(9,g=e.symbolTable),"address"in e&&n(10,y=e.address),"instruction"in e&&n(11,w=e.instruction),"isSelected"in e&&n(0,v=e.isSelected)},e.$$.update=()=>{18432&e.$$.dirty&&n(4,o=a?w.binaryOpcode():w.symbolicOpcode),18432&e.$$.dirty&&n(3,i=a?w.binaryOperand():w.symbolicOperand),1&e.$$.dirty&&v&&n(2,m=o+(i?` ${i}`:"")),2048&e.$$.dirty&&n(2,m=o+(i?` ${i}`:"")),1024&e.$$.dirty&&n(2,m=o+(i?` ${i}`:""))},[v,h,m,i,o,function(){try{""!==m&&(xt.info(`RamCell input: "${m}"`,"USER_INPUT"),a?c.write(y,Ml(m.trim())):c.write(y,Bl(m.trim(),g)))}catch(e){null==l||l.error(e.message),xt.error(e,"USER_INPUT",e.isChecked)}finally{yl.isSelected(y,"CELL")&&yl.deselect()}},function(){yl.select(y,"CELL")},function(){n(2,m=m.toUpperCase().replace(/[^A-Z0-9 _\-#\(\)]*/g,""))},f,g,y,w,function(){return p(this,void 0,void 0,(function*(){if(u)return In(h,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return y},a,function(){m=this.value,n(2,m)},function(e){fe[e?"unshift":"push"]((()=>{h=e,n(1,h)}))}]}class Kl extends Ke{constructor(e){super(),We(this,e,Wl,Hl,c,{symbolTable:9,address:10,instruction:11,isSelected:0,flash:12,getAddress:13})}get flash(){return this.$$.ctx[12]}get getAddress(){return this.$$.ctx[13]}}function Vl(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=D("button"),c&&c.c(),F(t,"class",n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){O(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ne(c,e),s=!0)},o(e){Ce(c,e),s=!1},d(e){e&&N(t),c&&c.d(e),o=!1,r(i)}}}function zl(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class Xl extends Ke{constructor(e){super(),We(this,e,zl,Vl,c,{disabled:0})}}class Jl extends Ri{constructor(e){super(e)}}const Zl=/;.*$/g,Yl=/^.*\s?:/;function ec(e){const t=new ol,n=new ul,s=e.toUpperCase().split(/\r\n|\r|\n/g),o=[];for(let e=0,t=1,i=0;e<s.length;e++,t++){const r=sc(nc(s[e]).trim());if(""!==r){if(oc(r)){const e=ic(r);try{if(al(e),n.hasLabel(e))throw new Jl(il(Di.get().errors.program_parsing.duplicated_label,t,e));n.setLabel(i,e)}catch(e){throw new Jl(il(Di.get().errors.program_parsing.invalid_label,t,e.message))}}o.push({text:rc(r),lineNumber:t,address:i}),i+=2}}for(let e of o)try{t.write(e.address,Bl(e.text,n))}catch(t){throw new Jl(il(Di.get().errors.program_parsing.invalid_instruction,e.lineNumber,t.message))}return{ram:t,symbolTable:n}}function tc(e,t){let n="",s="",o="";let i="";for(let r=0;r<=Yi;r+=2)s=e.read(r).symbolic(),o=t.addressIsLabeled(r)?`${t.getLabel(r)}:`:"",i=" ".repeat(15-o.length),n+=`${o}${i}${s}\n`;return n.replace(/\n(\s*NOP\n)*$/g,"\n").replace(/\n$/g,"")}function nc(e){return e.replace(Zl,"")}function sc(e){return e.replace(/\s+/g," ")}function oc(e){return Yl.test(e)}function ic(e){return e.split(":")[0].trim()}function rc(e){return oc(e)?e.split(":")[1].trim():e}function lc(e,t,n){const s=e.slice();return s[35]=t[n],s[36]=t,s[37]=n,s}function cc(e,t,n){const s=e.slice();return s[35]=t[n],s[38]=t,s[37]=n,s}function ac(e,t){let n,s,o,i=t[37];const r=()=>t[24](s,i),l=()=>t[24](null,i);let c={symbolTable:t[0],address:t[35],label:t[8][t[35]],isSelected:t[7].address===t[35]&&"LABEL"===t[7].column,isFirstLabel:t[35]===t[1],isLastLabel:t[35]===t[2]};return s=new Sl({props:c}),r(),{key:e,first:null,c(){n=B(),He(s.$$.fragment),this.first=n},m(e,t){O(e,n,t),qe(s,e,t),o=!0},p(e,n){i!==(t=e)[37]&&(l(),i=t[37],r());const o={};1&n[0]&&(o.symbolTable=t[0]),8&n[0]&&(o.address=t[35]),264&n[0]&&(o.label=t[8][t[35]]),136&n[0]&&(o.isSelected=t[7].address===t[35]&&"LABEL"===t[7].column),10&n[0]&&(o.isFirstLabel=t[35]===t[1]),12&n[0]&&(o.isLastLabel=t[35]===t[2]),s.$set(o)},i(e){o||(Ne(s.$$.fragment,e),o=!0)},o(e){Ce(s.$$.fragment,e),o=!1},d(e){e&&N(n),l(),Ge(s,e)}}}function uc(e,t){let n,s,o,i,r,l,c=t[37];const a=()=>t[25](s,c),u=()=>t[25](null,c);let d={address:t[35],class:"\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-address":"")+"\n\t\t\t\t\t\t"};s=new Tl({props:d}),a();const f=()=>t[26](i,c),p=()=>t[26](null,c);let h={symbolTable:t[0],address:t[35],instruction:t[9][t[35]],isSelected:t[7].address===t[35]&&"CELL"===t[7].column,class:"\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-cell":"")+"\n\t\t\t\t\t\t"};return i=new Kl({props:h}),f(),{key:e,first:null,c(){n=D("div"),He(s.$$.fragment),o=U(),He(i.$$.fragment),r=U(),F(n,"class","flex flex-nowrap"),this.first=n},m(e,t){O(e,n,t),qe(s,n,null),L(n,o),qe(i,n,null),L(n,r),l=!0},p(e,n){c!==(t=e)[37]&&(u(),c=t[37],a());const o={};8&n[0]&&(o.address=t[35]),14&n[0]&&(o.class="\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-address":"")+"\n\t\t\t\t\t\t"),s.$set(o),c!==t[37]&&(p(),c=t[37],f());const r={};1&n[0]&&(r.symbolTable=t[0]),8&n[0]&&(r.address=t[35]),520&n[0]&&(r.instruction=t[9][t[35]]),136&n[0]&&(r.isSelected=t[7].address===t[35]&&"CELL"===t[7].column),14&n[0]&&(r.class="\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-cell":"")+"\n\t\t\t\t\t\t"),i.$set(r)},i(e){l||(Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),l=!0)},o(e){Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),l=!1},d(e){e&&N(n),u(),Ge(s),p(),Ge(i)}}}function dc(e){let t,n=e[10].ram.buttons.clear.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){1024&s[0]&&n!==(n=e[10].ram.buttons.clear.text+"")&&H(t,n)},d(e){e&&N(t)}}}function fc(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m=[],g=new Map,$=[],b=new Map;n=new An({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let y=e[3];const w=e=>e[35];for(let t=0;t<y.length;t+=1){let n=cc(e,y,t),s=w(n);g.set(s,m[t]=ac(s,n))}let x=e[3];const _=e=>e[35];for(let t=0;t<x.length;t+=1){let n=lc(e,x,t),s=_(n);b.set(s,$[t]=uc(s,n))}return d=new Xl({props:{title:e[10].ram.buttons.clear.title,$$slots:{default:[dc]},$$scope:{ctx:e}}}),d.$on("click",e[15]),{c(){t=D("div"),He(n.$$.fragment),s=U(),o=D("div"),i=D("div");for(let e=0;e<m.length;e+=1)m[e].c();l=U(),c=D("div");for(let e=0;e<$.length;e+=1)$[e].c();a=U(),u=D("div"),He(d.$$.fragment),F(i,"class","flex flex-col items-end justify-center"),F(c,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),F(o,"class","flex"),F(u,"class","flex"),F(t,"class","absolute top-[115px] right-[50px] z-[3] flex flex-col items-center justify-center")},m(r,g){O(r,t,g),qe(n,t,null),L(t,s),L(t,o),L(o,i);for(let e=0;e<m.length;e+=1)m[e].m(i,null);L(o,l),L(o,c);for(let e=0;e<$.length;e+=1)$[e].m(c,null);L(t,a),L(t,u),qe(d,u,null),f=!0,p||(h=[M(o,"wheel",e[13]),v(e[14].call(null,t))],p=!0)},p(e,t){415&t[0]&&(y=e[3],Te(),m=Me(m,t,w,1,e,y,g,i,Be,ac,null,cc),Oe()),751&t[0]&&(x=e[3],Te(),$=Me($,t,_,1,e,x,b,c,Be,uc,null,lc),Oe());const n={};1024&t[0]&&(n.title=e[10].ram.buttons.clear.title),1024&t[0]|256&t[1]&&(n.$$scope={dirty:t,ctx:e}),d.$set(n)},i(e){if(!f){Ne(n.$$.fragment,e);for(let e=0;e<y.length;e+=1)Ne(m[e]);for(let e=0;e<x.length;e+=1)Ne($[e]);Ne(d.$$.fragment,e),f=!0}},o(e){Ce(n.$$.fragment,e);for(let e=0;e<m.length;e+=1)Ce(m[e]);for(let e=0;e<$.length;e+=1)Ce($[e]);Ce(d.$$.fragment,e),f=!1},d(e){e&&N(t),Ge(n);for(let e=0;e<m.length;e+=1)m[e].d();for(let e=0;e<$.length;e+=1)$[e].d();Ge(d),p=!1,r(h)}}}function pc(e,t,n){let s,o,i,r;d(e,yl,(e=>n(7,s=e))),d(e,Di,(e=>n(10,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let{ram:c}=t,{symbolTable:a}=t,{animationsEnabled:u}=t;const f=c.instructions;d(e,f,(e=>n(9,i=e)));const p=a.labels;d(e,p,(e=>n(8,o=e)));let h,m,g=[],$=[],b=0,y=[],w=[],v=[];var x;function _(e){if(!er(e))throw new Error("Invalid address");return e>=b&&e<=h}function E(e){return l(this,void 0,void 0,(function*(){if(!er(e))throw new Error("Invalid address");if(_(e))return;let t=e,s=t+34;return s>Yi&&(t-=s-Yi),n(1,b=t),A(),new Promise(((e,t)=>{$.push(e)}))}))}function k(e,t){t&&g.push(yl.deselect);let s=b+(e>0?2:-2);s<0&&(s=0),s>220&&(s=220),n(1,b=s),A()}function A(){n(2,h=b+34),n(3,m=[]);for(let e=b,t=0;e<=h;e+=2,t++)n(3,m[t]=e,m)}return A(),x=()=>{g.forEach((e=>e())),g=[]},se().$$.before_update.push(x),ie((()=>{$.forEach((e=>e())),$=[]})),e.$$set=e=>{"ram"in e&&n(16,c=e.ram),"symbolTable"in e&&n(0,a=e.symbolTable),"animationsEnabled"in e&&n(17,u=e.animationsEnabled)},[a,b,h,m,y,w,v,s,o,i,r,f,p,function({deltaY:e}){k(e,!0)},function(e){const t=e=>{switch(e.key){case"ArrowUp":!function(e){if(!yl.noSelection()){if(e.ctrlKey)return c.moveSecondHalfUpFromAddress(s.address),void a.moveSecondHalfUpFromAddress(s.address);if(e.shiftKey)return c.moveFirstHalfUpFromAddress(s.address),void a.moveFirstHalfUpFromAddress(s.address);s.address===b&&k(-1,!1),yl.selectUp()}}(e);break;case"ArrowDown":!function(e){if(!yl.noSelection()){if(e.ctrlKey)return c.moveSecondHalfDownFromAddress(s.address),void a.moveSecondHalfDownFromAddress(s.address);if(e.shiftKey)return c.moveFirstHalfDownFromAddress(s.address),void a.moveFirstHalfDownFromAddress(s.address);s.address===h&&k(1,!1),yl.selectDown()}}(e);break;case"Enter":yl.noSelection()?yl.select(b):yl.deselect()}};return document.addEventListener("keydown",t),{destroy(){document.removeEventListener("keydown",t)}}},function(){c.clear(),a.clear()},c,u,function(){k(-1,!0)},function(){k(1,!0)},_,E,function(e){return l(this,void 0,void 0,(function*(){if(!er(e))throw new Error("Invalid address");if(u)return E(e).then((()=>l(this,void 0,void 0,(function*(){return yield be()})))).then((()=>{var t;return null===(t=w.find((t=>{var n;return(null===(n=null==t?void 0:t.getAddress)||void 0===n?void 0:n.call(t))===e})))||void 0===t?void 0:t.flash()}))}))},function(e){return l(this,void 0,void 0,(function*(){if(!er(e))throw new Error("Invalid address");if(u)return E(e).then((()=>l(this,void 0,void 0,(function*(){return yield be()})))).then((()=>{var t;return null===(t=v.find((t=>{var n;return(null===(n=null==t?void 0:t.getAddress)||void 0===n?void 0:n.call(t))===e})))||void 0===t?void 0:t.flash()}))}))},function(e,t){fe[e?"unshift":"push"]((()=>{y[t]=e,n(4,y)}))},function(e,t){fe[e?"unshift":"push"]((()=>{w[t]=e,n(5,w)}))},function(e,t){fe[e?"unshift":"push"]((()=>{v[t]=e,n(6,v)}))}]}class hc extends Ke{constructor(e){super(),We(this,e,pc,fc,c,{ram:16,symbolTable:0,animationsEnabled:17,scrollUp:18,scrollDown:19,addressIsVisible:20,showAddress:21,flashAddress:22,flashContent:23},null,[-1,-1])}get scrollUp(){return this.$$.ctx[18]}get scrollDown(){return this.$$.ctx[19]}get addressIsVisible(){return this.$$.ctx[20]}get showAddress(){return this.$$.ctx[21]}get flashAddress(){return this.$$.ctx[22]}get flashContent(){return this.$$.ctx[23]}}function mc(e){let t,n,s,o,i,r,l,c={animationsEnabled:e[3]};n=new _n({props:c}),e[7](n);let a={animationsEnabled:e[3],cpu:e[0]};o=new sl({props:a}),e[8](o);let u={animationsEnabled:e[3],ram:e[1],symbolTable:e[2]};return r=new hc({props:u}),e[9](r),{c(){t=D("div"),He(n.$$.fragment),s=U(),He(o.$$.fragment),i=U(),He(r.$$.fragment),F(t,"class","absolute top-0 left-0 w-app h-app")},m(e,c){O(e,t,c),qe(n,t,null),L(t,s),qe(o,t,null),L(t,i),qe(r,t,null),l=!0},p(e,[t]){const s={};8&t&&(s.animationsEnabled=e[3]),n.$set(s);const i={};8&t&&(i.animationsEnabled=e[3]),1&t&&(i.cpu=e[0]),o.$set(i);const l={};8&t&&(l.animationsEnabled=e[3]),2&t&&(l.ram=e[1]),4&t&&(l.symbolTable=e[2]),r.$set(l)},i(e){l||(Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),l=!0)},o(e){Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),l=!1},d(s){s&&N(t),e[7](null),Ge(n),e[8](null),Ge(o),e[9](null),Ge(r)}}}function gc(e,t,n){let s,o,i;d(e,tt,(e=>n(4,s=e))),d(e,et,(e=>n(5,o=e))),d(e,Ye,(e=>n(6,i=e)));let{cpu:r}=t,{ram:l}=t,{symbolTable:c}=t,{animationsEnabled:a}=t;return e.$$set=e=>{"cpu"in e&&n(0,r=e.cpu),"ram"in e&&n(1,l=e.ram),"symbolTable"in e&&n(2,c=e.symbolTable),"animationsEnabled"in e&&n(3,a=e.animationsEnabled)},[r,l,c,a,s,o,i,function(e){fe[e?"unshift":"push"]((()=>{s=e,tt.set(s)}))},function(e){fe[e?"unshift":"push"]((()=>{o=e,et.set(o)}))},function(e){fe[e?"unshift":"push"]((()=>{i=e,Ye.set(i)}))}]}class $c extends Ke{constructor(e){super(),We(this,e,gc,mc,c,{cpu:0,ram:1,symbolTable:2,animationsEnabled:3})}}function bc(e,t){const n=document.createElement("a"),s=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(s),n.download=t,n.click()}function yc(t){return e(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{const s=document.createElement("input");s.type="file",s.accept=t,s.click(),s.oninput=()=>e(s.files)}))}))}function wc(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=D("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-white px-2 rounded-md hover:text-black focus:text-black hover:bg-white focus:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){O(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-white px-2 rounded-md hover:text-black focus:text-black hover:bg-white focus:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ne(c,e),s=!0)},o(e){Ce(c,e),s=!1},d(e){e&&N(t),c&&c.d(e),o=!1,r(i)}}}function vc(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class xc extends Ke{constructor(e){super(),We(this,e,vc,wc,c,{disabled:0})}}function _c(e){let n,s,o;return{c(){n=D("div"),s=D("div"),F(s,"class","h-full bg-white/60 rounded-r-sm"),G(s,"width",e[0]+"%"),F(n,"class",o="w-full h-1 bg-transparent "+e[1].class)},m(e,t){O(e,n,t),L(n,s)},p(e,[t]){1&t&&G(s,"width",e[0]+"%"),2&t&&o!==(o="w-full h-1 bg-transparent "+e[1].class)&&F(n,"class",o)},i:t,o:t,d(e){e&&N(n)}}}function Ec(e,t,n){let o;const i=["value","max"];let r=b(t,i),{value:l}=t,{max:c}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,r=b(t,i)),"value"in e&&n(2,l=e.value),"max"in e&&n(3,c=e.max)},e.$$.update=()=>{12&e.$$.dirty&&n(0,o=100/c*l)},[o,r,l,c]}class kc extends Ke{constructor(e){super(),We(this,e,Ec,_c,c,{value:2,max:3})}}var Ac;!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.SUCCESS="SUCCESS",e.INFO="INFO",e.BUG="BUG"}(Ac||(Ac={}));class Sc{constructor(){this._messages=Je([]),this.messages=Ze(this._messages,(e=>e))}error(e,t=5){return this.addMessage({type:Ac.ERROR,message:e,expiresInSec:t})}warning(e,t=5){return this.addMessage({type:Ac.WARNING,message:e,expiresInSec:t})}success(e,t=5){return this.addMessage({type:Ac.SUCCESS,message:e,expiresInSec:t})}info(e,t=5){return this.addMessage({type:Ac.INFO,message:e,expiresInSec:t})}bug(e,t=Sc.NO_EXPIRE){return this.addMessage({type:Ac.BUG,message:e,expiresInSec:t})}addMessage(e){const t=Math.random();return this._messages.set([...this._messages.get(),Object.assign({id:t},e)]),t}deleteMessage(e){this._messages.update((t=>t.filter((t=>t.id!==e))))}fetchMessages(t){return e(this,void 0,void 0,(function*(){xt.info("Fetching messages","DEBUG"),yield fetch(t).then((e=>e.text())).then((e=>Ci(e))).then((e=>{xt.info(`Messages fetched - ${e.messages.length} messages found`,"DEBUG"),e.messages.forEach((e=>{this.addMessage({message:e.message[Ot.get()],type:e.type,expiresInSec:e.expiresInSec})}))})).catch((e=>{xt.info("Error while fetching messages","DEBUG"),xt.error(e,"DEBUG"),this.error(il(Di.get().errors.generic.fetch_error,t))}))}))}}function Lc(e){let t,n;return t=new xc({props:{$$slots:{default:[Ic]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};1028&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Ic(e){let t,n=e[2].message_feed.buttons.export_logs.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){4&s&&n!==(n=e[2].message_feed.buttons.export_logs.text+"")&&H(t,n)},d(e){e&&N(t)}}}function Tc(e){let t,n;return t=new kc({props:{class:"absolute left-0 bottom-0",value:e[1],max:e[0].expiresInSec}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.value=e[1]),1&n&&(s.max=e[0].expiresInSec),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Oc(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b=e[0].message+"",y=e[0].type===Ac.BUG&&Lc(e),w=-1!==e[0].expiresInSec&&Tc(e);return{c(){t=D("div"),n=D("button"),s=P("svg"),o=P("path"),i=P("path"),c=U(),a=D("p"),u=R(b),d=U(),y&&y.c(),f=U(),w&&w.c(),F(o,"d","M0 0h24v24H0V0z"),F(o,"fill","none"),F(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 24 24"),F(s,"fill","#FFFFFF"),F(s,"class","h-6 w-6 hover:scale-105"),F(n,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),F(n,"title",l=e[2].message_feed.buttons.close_message.title),F(a,"class","w-3/4 text-center text-xl"),F(t,"class",p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+e[0].type+" svelte-1j9b8ca")},m(r,l){O(r,t,l),L(t,n),L(n,s),L(s,o),L(s,i),L(t,c),L(t,a),L(a,u),L(t,d),y&&y.m(t,null),L(t,f),w&&w.m(t,null),m=!0,g||($=[M(n,"click",e[3]),M(t,"mouseenter",e[4]),M(t,"mouseleave",e[5])],g=!0)},p(e,[s]){(!m||4&s&&l!==(l=e[2].message_feed.buttons.close_message.title))&&F(n,"title",l),(!m||1&s)&&b!==(b=e[0].message+"")&&H(u,b),e[0].type===Ac.BUG?y?(y.p(e,s),1&s&&Ne(y,1)):(y=Lc(e),y.c(),Ne(y,1),y.m(t,f)):y&&(Te(),Ce(y,1,1,(()=>{y=null})),Oe()),-1!==e[0].expiresInSec?w?(w.p(e,s),1&s&&Ne(w,1)):(w=Tc(e),w.c(),Ne(w,1),w.m(t,null)):w&&(Te(),Ce(w,1,1,(()=>{w=null})),Oe()),(!m||1&s&&p!==(p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+e[0].type+" svelte-1j9b8ca"))&&F(t,"class",p)},i(e){m||(Ne(y),Ne(w),ye((()=>{h||(h=Re(t,pl,{},!0)),h.run(1)})),m=!0)},o(e){Ce(y),Ce(w),h||(h=Re(t,pl,{},!1)),h.run(0),m=!1},d(e){e&&N(t),y&&y.d(),w&&w.d(),e&&h&&h.end(),g=!1,r($)}}}function Nc(e,t,n){let s,o;d(e,mt,(e=>n(8,s=e))),d(e,Di,(e=>n(2,o=e)));const i=le();let r,{message:l}=t,c=!1;function a(){i("closemessage",{messageId:l.id})}return oe((()=>{if(-1===l.expiresInSec)return;n(1,r=l.expiresInSec);const e=setInterval((()=>{c||n(1,r--,r),0===r&&(clearInterval(e),a())}),1e3)})),e.$$set=e=>{"message"in e&&n(0,l=e.message)},[l,r,o,a,function(){n(1,r=l.expiresInSec),c=!0},function(){c=!1},function(){bc(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)}]}Sc.NO_EXPIRE=-1;class Cc extends Ke{constructor(e){super(),We(this,e,Nc,Oc,c,{message:0})}}function Dc(e,t,n){const s=e.slice();return s[4]=t[n],s}function Pc(e,t){let n,s,o;return s=new Cc({props:{message:t[4]}}),s.$on("closemessage",(function(){return t[3](t[4])})),{key:e,first:null,c(){n=B(),He(s.$$.fragment),this.first=n},m(e,t){O(e,n,t),qe(s,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.message=t[4]),s.$set(o)},i(e){o||(Ne(s.$$.fragment,e),o=!0)},o(e){Ce(s.$$.fragment,e),o=!1},d(e){e&&N(n),Ge(s,e)}}}function Rc(e){let t,n,s=[],o=new Map,i=e[2];const r=e=>e[4].id;for(let t=0;t<i.length;t+=1){let n=Dc(e,i,t),l=r(n);o.set(l,s[t]=Pc(l,n))}return{c(){t=D("div");for(let e=0;e<s.length;e+=1)s[e].c();F(t,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(e,o){O(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){5&n&&(i=e[2],Te(),s=Me(s,n,r,1,e,i,o,t,Be,Pc,null,Dc),Oe())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Ne(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)Ce(s[e]);n=!1},d(e){e&&N(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Uc(e,n,s){let o,i,r,l=t;d(e,$r,(e=>s(0,i=e))),e.$$.on_destroy.push((()=>l()));return e.$$.update=()=>{1&e.$$.dirty&&(s(1,o=i.messages),l(),l=a(o,(e=>s(2,r=e))))},[i,o,r,e=>i.deleteMessage(e.id)]}class Bc extends Ke{constructor(e){super(),We(this,e,Uc,Rc,c,{})}}function Mc(e,t,n){const s=e.slice();return s[17]=t[n],s}function Fc(e,t,n){const s=e.slice();return s[20]=t[n],s}function Qc(e,t,n){const s=e.slice();return s[23]=t[n],s}function jc(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E,k,A,S,I,T,P,B,Q,j,H,G,K,V,z=wt,X=[];for(let t=0;t<z.length;t+=1)X[t]=Hc(Qc(e,z,t));let J=yt,Z=[];for(let t=0;t<J.length;t+=1)Z[t]=qc(Fc(e,J,t));let Y=e[5],ee=[];for(let t=0;t<Y.length;t+=1)ee[t]=Wc(Mc(e,Y,t));return{c(){t=D("div"),n=D("div"),s=D("h2"),s.textContent="Logs",o=U(),i=D("div"),l=D("label"),c=R("Keyword:\n\t\t\t\t\t"),a=D("input"),u=U(),d=D("label"),f=R("Type:\n\t\t\t\t\t"),p=D("select"),h=D("option"),h.textContent="ALL";for(let e=0;e<X.length;e+=1)X[e].c();m=U(),g=D("label"),$=R("Group:\n\t\t\t\t\t"),b=D("select"),y=D("option"),y.textContent="ALL";for(let e=0;e<Z.length;e+=1)Z[e].c();w=U(),v=D("div"),x=D("label"),_=R("Lock scroll to bottom\n\t\t\t\t\t"),E=D("input"),k=U(),A=D("label"),S=R("Show timestamp\n\t\t\t\t\t"),I=D("input"),T=U(),P=D("div"),B=D("button"),B.textContent="Export",Q=U(),j=D("button"),j.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',H=U(),G=D("div");for(let e=0;e<ee.length;e+=1)ee[e].c();F(s,"class","text-2xl"),F(a,"type","text"),F(a,"class","text-black px-1 py-0.5"),F(l,"for","keyword"),h.__value="ALL",h.value=h.__value,F(p,"id","type"),F(p,"class","text-black px-1 py-0.5"),void 0===e[1]&&ye((()=>e[12].call(p))),F(d,"for","type"),y.__value="ALL",y.value=y.__value,F(b,"id","group"),F(b,"class","text-black px-1 py-0.5"),void 0===e[2]&&ye((()=>e[13].call(b))),F(g,"for","group"),F(i,"class","flex items-center flex-wrap gap-4 p-2"),F(E,"type","checkbox"),F(E,"id","lock-scroll-to-bottom"),F(x,"for","lock-scroll-to-bottom"),F(I,"type","checkbox"),F(I,"id","show-timestamp"),F(A,"for","show-timestamp"),F(v,"class","flex items-center flex-wrap gap-4 p-2"),F(B,"class","border px-1"),F(P,"class","flex items-center flex-wrap gap-4 p-2"),F(j,"title","Close logs"),F(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),F(G,"class","w-full h-[90%] overflow-y-auto"),F(t,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(r,N){O(r,t,N),L(t,n),L(n,s),L(n,o),L(n,i),L(i,l),L(l,c),L(l,a),q(a,e[3]),L(i,u),L(i,d),L(d,f),L(d,p),L(p,h);for(let e=0;e<X.length;e+=1)X[e].m(p,null);W(p,e[1]),L(i,m),L(i,g),L(g,$),L(g,b),L(b,y);for(let e=0;e<Z.length;e+=1)Z[e].m(b,null);W(b,e[2]),L(n,w),L(n,v),L(v,x),L(x,_),L(x,E),E.checked=e[4],L(v,k),L(v,A),L(A,S),L(A,I),I.checked=e[6],L(n,T),L(n,P),L(P,B),L(n,Q),L(n,j),L(t,H),L(t,G);for(let e=0;e<ee.length;e+=1)ee[e].m(G,null);e[16](G),K||(V=[M(a,"input",e[11]),M(p,"change",e[12]),M(b,"change",e[13]),M(E,"change",e[14]),M(I,"change",e[15]),M(B,"click",e[9]),M(j,"click",e[8])],K=!0)},p(e,t){if(8&t&&a.value!==e[3]&&q(a,e[3]),0&t){let n;for(z=wt,n=0;n<z.length;n+=1){const s=Qc(e,z,n);X[n]?X[n].p(s,t):(X[n]=Hc(s),X[n].c(),X[n].m(p,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=z.length}if(2&t&&W(p,e[1]),0&t){let n;for(J=yt,n=0;n<J.length;n+=1){const s=Fc(e,J,n);Z[n]?Z[n].p(s,t):(Z[n]=qc(s),Z[n].c(),Z[n].m(b,null))}for(;n<Z.length;n+=1)Z[n].d(1);Z.length=J.length}if(4&t&&W(b,e[2]),16&t&&(E.checked=e[4]),64&t&&(I.checked=e[6]),96&t){let n;for(Y=e[5],n=0;n<Y.length;n+=1){const s=Mc(e,Y,n);ee[n]?ee[n].p(s,t):(ee[n]=Wc(s),ee[n].c(),ee[n].m(G,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=Y.length}},d(n){n&&N(t),C(X,n),C(Z,n),C(ee,n),e[16](null),K=!1,r(V)}}}function Hc(e){let n,s,o=e[23]+"";return{c(){n=D("option"),s=R(o),n.__value=e[23],n.value=n.__value},m(e,t){O(e,n,t),L(n,s)},p:t,d(e){e&&N(n)}}}function qc(e){let n,s,o=e[20]+"";return{c(){n=D("option"),s=R(o),n.__value=e[20],n.value=n.__value},m(e,t){O(e,n,t),L(n,s)},p:t,d(e){e&&N(n)}}}function Gc(e){let t,n,s=e[17].timestamp+"";return{c(){t=R(s),n=R(" - ")},m(e,s){O(e,t,s),O(e,n,s)},p(e,n){32&n&&s!==(s=e[17].timestamp+"")&&H(t,s)},d(e){e&&N(t),e&&N(n)}}}function Wc(e){let t,n,s,o,i=e[17].message+"",r=e[6]&&Gc(e);return{c(){t=D("p"),r&&r.c(),n=R(i),s=U(),F(t,"class",o="m-2 whitespace-pre-line "+e[17].logType+" svelte-7zjq9j")},m(e,o){O(e,t,o),r&&r.m(t,null),L(t,n),L(t,s)},p(e,s){e[6]?r?r.p(e,s):(r=Gc(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),32&s&&i!==(i=e[17].message+"")&&H(n,i),32&s&&o!==(o="m-2 whitespace-pre-line "+e[17].logType+" svelte-7zjq9j")&&F(t,"class",o)},d(e){e&&N(t),r&&r.d()}}}function Kc(e){let n,s=e[7].showLogger&&jc(e);return{c(){s&&s.c(),n=B()},m(e,t){s&&s.m(e,t),O(e,n,t)},p(e,[t]){e[7].showLogger?s?s.p(e,t):(s=jc(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(e){s&&s.d(e),e&&N(n)}}}function Vc(e,t,n){let s,o,i;d(e,mt,(e=>n(10,s=e))),d(e,$t,(e=>n(7,o=e)));let r=[],l="ALL",c="ALL",a="",u=!1,f=!0;function p(){$t.updateShowLogger((e=>!e))}return oe((()=>{const e=e=>{e.altKey&&e.shiftKey&&"l"===e.key.toLowerCase()&&p()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)})),e.$$.update=()=>{1055&e.$$.dirty&&i&&(n(5,r=s.filter((e=>("ALL"===l||e.logType===l)&&("ALL"===c||e.logGroup===c)&&e.message.toLowerCase().includes(a)))),f&&n(0,i.scrollTop=i.scrollHeight,i))},[i,l,c,a,f,r,u,o,p,function(){bc(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},s,function(){a=this.value,n(3,a)},function(){l=K(this),n(1,l)},function(){c=K(this),n(2,c)},function(){f=this.checked,n(4,f)},function(){u=this.checked,n(6,u)},function(e){fe[e?"unshift":"push"]((()=>{i=e,n(0,i),n(10,s),n(1,l),n(2,c),n(3,a),n(4,f)}))}]}class zc extends Ke{constructor(e){super(),We(this,e,Vc,Kc,c,{})}}function Xc(e){let t,n,s;const o=e[2].default,i=f(o,e,e[1],null);return{c(){t=D("div"),i&&i.c(),F(t,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+e[0].class)},m(e,n){O(e,t,n),i&&i.m(t,null),s=!0},p(e,[r]){i&&i.p&&(!s||2&r)&&m(i,o,e,e[1],s?h(o,e[1],r,null):g(e[1]),null),(!s||1&r&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+e[0].class))&&F(t,"class",n)},i(e){s||(Ne(i,e),s=!0)},o(e){Ce(i,e),s=!1},d(e){e&&N(t),i&&i.d(e)}}}function Jc(e,t,n){const o=[];let i=b(t,o),{$$slots:r={},$$scope:l}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(0,i=b(t,o)),"$$scope"in e&&n(1,l=e.$$scope)},[i,l,r]}class Zc extends Ke{constructor(e){super(),We(this,e,Jc,Xc,c,{})}}function Yc(e){let n,s,o,i,l,c,a;return{c(){n=D("button"),s=P("svg"),o=P("path"),F(o,"d",i=e[3][e[2]]),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 24 24"),F(s,"class","fill-black w-6 h-6 scale-[1.4]"),F(n,"class",l="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],F(n,"title",e[1])},m(t,i){O(t,n,i),L(n,s),L(s,o),c||(a=[M(n,"click",e[5]),M(n,"focus",e[6]),M(n,"focusout",e[7]),M(n,"mouseenter",e[8]),M(n,"mouseleave",e[9]),M(n,"mouseover",e[10])],c=!0)},p(e,[t]){4&t&&i!==(i=e[3][e[2]])&&F(o,"d",i),16&t&&l!==(l="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class)&&F(n,"class",l),1&t&&(n.disabled=e[0]),2&t&&F(n,"title",e[1])},i:t,o:t,d(e){e&&N(n),c=!1,r(a)}}}function ea(e,t,n){const o=["disabled","title","icon"];let i=b(t,o),{disabled:r=!1}=t,{title:l=""}=t,{icon:c=""}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,i=b(t,o)),"disabled"in e&&n(0,r=e.disabled),"title"in e&&n(1,l=e.title),"icon"in e&&n(2,c=e.icon)},[r,l,c,{"":"",reset:"M9.825 20.7q-2.575-.725-4.2-2.837Q4 15.75 4 13q0-1.425.475-2.713Q4.95 9 5.825 7.925q.275-.3.675-.313.4-.012.725.313.275.275.288.675.012.4-.263.75-.6.775-.925 1.7Q6 11.975 6 13q0 2.025 1.188 3.613 1.187 1.587 3.062 2.162.325.1.538.375.212.275.212.6 0 .5-.35.788-.35.287-.825.162Zm4.35 0q-.475.125-.825-.175t-.35-.8q0-.3.213-.575.212-.275.537-.375 1.875-.6 3.062-2.175Q18 15.025 18 13q0-2.5-1.75-4.25T12 7h-.075l.4.4q.275.275.275.7 0 .425-.275.7-.275.275-.7.275-.425 0-.7-.275l-2.1-2.1q-.15-.15-.212-.325Q8.55 6.2 8.55 6t.063-.375q.062-.175.212-.325l2.1-2.1q.275-.275.7-.275.425 0 .7.275.275.275.275.7 0 .425-.275.7l-.4.4H12q3.35 0 5.675 2.325Q20 9.65 20 13q0 2.725-1.625 4.85-1.625 2.125-4.2 2.85Z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",fast:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},i,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class ta extends Ke{constructor(e){super(),We(this,e,ea,Yc,c,{disabled:0,title:1,icon:2})}}function na(e){let t,n,s,o,i,l,c,a,u;const d=e[5].default,p=f(d,e,e[4],null);return{c(){t=D("div"),n=D("div"),o=U(),i=D("div"),p&&p.c(),F(n,"class",s="w-4 h-4 border border-black rounded-md transition-colors "+(e[0]?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")),F(i,"class","font-medium pb-[3px]"),F(t,"class",l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class),F(t,"disabled",e[1])},m(s,r){O(s,t,r),L(t,n),L(t,o),L(t,i),p&&p.m(i,null),c=!0,a||(u=[M(t,"click",e[2]),M(t,"focus",e[6]),M(t,"focusout",e[7]),M(t,"mouseenter",e[8]),M(t,"mouseleave",e[9]),M(t,"mouseover",e[10])],a=!0)},p(e,[o]){(!c||3&o&&s!==(s="w-4 h-4 border border-black rounded-md transition-colors "+(e[0]?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")))&&F(n,"class",s),p&&p.p&&(!c||16&o)&&m(p,d,e,e[4],c?h(d,e[4],o,null):g(e[4]),null),(!c||10&o&&l!==(l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class))&&F(t,"class",l),(!c||2&o)&&F(t,"disabled",e[1])},i(e){c||(Ne(p,e),c=!0)},o(e){Ce(p,e),c=!1},d(e){e&&N(t),p&&p.d(e),a=!1,r(u)}}}function sa(e,t,n){const o=["disabled","checked"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t,{checked:a=!1}=t;const u=le();return e.$$set=e=>{t=s(s({},t),$(e)),n(3,i=b(t,o)),"disabled"in e&&n(1,c=e.disabled),"checked"in e&&n(0,a=e.checked),"$$scope"in e&&n(4,l=e.$$scope)},[a,c,function(e){n(0,a=!a),u("click",e)},i,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class oa extends Ke{constructor(e){super(),We(this,e,sa,na,c,{disabled:1,checked:0})}}function ia(e){let n,s,o,i;return{c(){n=D("input"),F(n,"type","range"),F(n,"class",s=y(e[6].class)+" svelte-dtr8pe"),F(n,"min",e[1]),F(n,"max",e[2]),F(n,"step",e[3]),n.disabled=e[4],F(n,"title",e[5])},m(t,s){O(t,n,s),q(n,e[0]),o||(i=[M(n,"change",e[14]),M(n,"input",e[14]),M(n,"input",e[7]),M(n,"change",e[8]),M(n,"focus",e[9]),M(n,"focusout",e[10]),M(n,"mouseenter",e[11]),M(n,"mouseleave",e[12]),M(n,"mouseover",e[13])],o=!0)},p(e,[t]){64&t&&s!==(s=y(e[6].class)+" svelte-dtr8pe")&&F(n,"class",s),2&t&&F(n,"min",e[1]),4&t&&F(n,"max",e[2]),8&t&&F(n,"step",e[3]),16&t&&(n.disabled=e[4]),32&t&&F(n,"title",e[5]),1&t&&q(n,e[0])},i:t,o:t,d(e){e&&N(n),o=!1,r(i)}}}function ra(e,t,n){const o=["min","max","value","step","disabled","title"];let i=b(t,o),{min:r=0}=t,{max:l=1}=t,{value:c=l/2+r}=t,{step:a=.1}=t,{disabled:u=!1}=t,{title:d=""}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(6,i=b(t,o)),"min"in e&&n(1,r=e.min),"max"in e&&n(2,l=e.max),"value"in e&&n(0,c=e.value),"step"in e&&n(3,a=e.step),"disabled"in e&&n(4,u=e.disabled),"title"in e&&n(5,d=e.title)},[c,r,l,a,u,d,i,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(){c=j(this.value),n(0,c)}]}class la extends Ke{constructor(e){super(),We(this,e,ra,ia,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function ca(e){let t,n,s,o,i;const r=e[2].default,l=f(r,e,e[1],null);return{c(){t=D("div"),n=D("span"),s=R(e[0]),o=U(),l&&l.c(),F(n,"class","text-gray-200"),F(t,"class","h-full py-2 flex flex-col items-center justify-between")},m(e,r){O(e,t,r),L(t,n),L(n,s),L(t,o),l&&l.m(t,null),i=!0},p(e,[t]){(!i||1&t)&&H(s,e[0]),l&&l.p&&(!i||2&t)&&m(l,r,e,e[1],i?h(r,e[1],t,null):g(e[1]),null)},i(e){i||(Ne(l,e),i=!0)},o(e){Ce(l,e),i=!1},d(e){e&&N(t),l&&l.d(e)}}}function aa(e,t,n){let{$$slots:s={},$$scope:o}=t,{label:i=""}=t;return e.$$set=e=>{"label"in e&&n(0,i=e.label),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,s]}class ua extends Ke{constructor(e){super(),We(this,e,aa,ca,c,{label:0})}}function da(e){let t,n;return t=new Zc({props:{class:"justify-center",$$slots:{default:[fa]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function fa(e){let t,n;return{c(){t=D("p"),n=R(e[0]),F(t,"class","w-[450px] text-gray-200 overflow-hidden text-center")},m(e,s){O(e,t,s),L(t,n)},p(e,t){1&t&&H(n,e[0])},d(e){e&&N(t)}}}function pa(e){let t,n,s=e[1]&&da(e);return{c(){s&&s.c(),t=B()},m(e,o){s&&s.m(e,o),O(e,t,o),n=!0},p(e,[n]){e[1]?s?(s.p(e,n),2&n&&Ne(s,1)):(s=da(e),s.c(),Ne(s,1),s.m(t.parentNode,t)):s&&(Te(),Ce(s,1,1,(()=>{s=null})),Oe())},i(e){n||(Ne(s),n=!0)},o(e){Ce(s),n=!1},d(e){s&&s.d(e),e&&N(t)}}}function ha(e,t,n){let s;d(e,St,(e=>n(1,s=e)));let o="";function i(e){n(0,o=e)}return Ot.subscribe((()=>i(""))),[o,s,i]}class ma extends Ke{constructor(e){super(),We(this,e,ha,pa,c,{setText:2})}get setText(){return this.$$.ctx[2]}}class ga extends Gr{constructor(e){super(),this._name="ReadStep",this.step=e,this.condition(Xr)}action(t){return e(this,void 0,void 0,(function*(){let e;ga.utteranceEndedPromise=new Promise((t=>e=t)),pt.read(Di.get().steps[this.step].tts,Ct.get(),pt.getAvailableVoices(Ot.get()).find((e=>e.name===Dt.get())),(()=>e()))}))}toString(){return`${super.toString()}, step: ${this.step}`}}function $a(t){return e(this,void 0,void 0,(function*(){return ga.utteranceEndedPromise}))}class ba extends Gr{constructor(...e){super(),this._name="Macro",this.subactions=[...e]}toString(){return`${super.toString()} [${this.subactions.length}]`}}class ya extends ba{constructor(...e){super(...e),this._name="Parallel"}action(t){return e(this,void 0,void 0,(function*(){return Promise.all(this.subactions.map((e=>e.execute(t))))}))}}class wa extends Gr{constructor(){super(),this._name="CpuAction"}}class va extends wa{constructor(){super(),this._name="SetPC"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.isJumping.set(!0),t.cpu.model.programCounter.set(t.wires.model.addr_main.get()),yield t.cpu.component.flash("PC")}))}}class xa extends wa{constructor(){super(),this._name="SetALU2"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.alu2.set(new Wi(16,t.wires.model.data_mux_alu.get().signed())),yield t.cpu.component.flash("ALU:2")}))}}class _a extends Yr{constructor(e){super(),this._name="FlashRam",this.component=e}action(t){return e(this,void 0,void 0,(function*(){switch(this.component){case"ADDRESS":return t.ram.component.flashAddress(t.wires.model.addr_main.get().unsigned());case"DATA":return t.ram.component.flashContent(t.wires.model.addr_main.get().unsigned())}}))}toString(){return`${super.toString()}, component: ${this.component}`}}class Ea extends Yr{constructor(e,t){super(),this._name="FlashWire",this.from=e,this.to=t}action(t){return e(this,void 0,void 0,(function*(){return t.wires.component.flashWire(this.from,this.to)}))}toString(){return`${super.toString()}, from: ${this.from}, to: ${this.to}`}}class ka extends Gr{constructor(e){super(),this._name="StepText",this.step=e,this.condition(Jr)}action(t){return e(this,void 0,void 0,(function*(){t.stepTextComponent.setText(Di.get().steps[this.step].text)}))}toString(){return`${super.toString()}, step: ${this.step}`}}class Aa extends Gr{constructor(){super(),this._name="BusAction"}}const Sa={RAM:"data_main","IR:OPC":"data_ir_cu","IR:OPR":"addr_main","ALU:RES":"data_alu_acc",ACC:"data_main",PC:"addr_main",INC:"addr_inc_pc"};class La extends Aa{constructor(e,t="default"){super(),this._name="LoadValueOnBus",this.valueSource=e,this.bus="default"===t?Sa[e]:t}action(t){return e(this,void 0,void 0,(function*(){t.wires.model[this.bus].set(this.getValueFromSource(t))}))}getValueFromSource(e){switch(this.valueSource){case"RAM":return e.ram.model.read(e.wires.model.addr_main.get().unsigned());case"IR:OPC":return e.cpu.model.instructionRegister.get().opcodeValue();case"IR:OPR":return e.cpu.model.instructionRegister.get().operandValue();case"ALU:RES":return e.cpu.model.aluResult.get();case"ACC":return e.cpu.model.accumulator.get();case"CU":throw new Error("CU value not implemented");case"PC":return e.cpu.model.programCounter.get();case"INC":return e.cpu.model.increment.get();default:throw new Error(this.valueSource+" value not implemented")}}toString(){return`${super.toString()} valueSource: ${this.valueSource} bus: ${this.bus}`}}const Ia=[new ya(new La("PC"),new Ea("PC:1","INC:2"),new ga("pc_increment"),new ka("pc_increment")),new La("INC"),new Ea("INC:1","PC:2"),(new class extends wa{constructor(){super(),this._name="IncrementPC"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.programCounter.get().unsigned()+t.wires.model.addr_inc_pc.get().unsigned();t.cpu.model.programCounter.set(new Wi(8,e)),yield t.cpu.component.flash("PC")}))}}).thenWaitFor($a).endstep()],Ta=[new ya(new el("PC"),new ga("pc_to_ram"),new ka("pc_to_ram")),new ya(new La("PC"),new Ea("PC:2","RAM:ADD")),new _a("ADDRESS").thenWaitFor($a).endstep(),new ya(new Ea("CU:3","RAM:CTRL"),new ga("memory_fetch"),new ka("memory_fetch")).thenWaitFor($a).endstep(),new ya(new _a("DATA"),new ga("ram_to_ir"),new ka("ram_to_ir")),new ya(new La("RAM"),new Ea("RAM:DATA","IR:1")),(new class extends wa{constructor(){super(),this._name="SetIR"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.instructionRegister.set(Ml(t.wires.model.data_main.get().toBinaryString())),yield t.cpu.component.flash("IR")}))}}).thenWaitFor($a).endstep(),new ya(new el("IR:OPC"),new ga("ir_to_cu"),new ka("ir_to_cu")),new ya(new La("IR:OPC"),new Ea("IR:3","CU:1")),new el("CU").thenWaitFor($a).endstep()],Oa=[new ya(new Ea("CU:2","MUX:4"),new ga("cu_to_mux"),new ka("cu_to_mux")),new el("MUX").thenWaitFor($a).endstep()],Na=[new ya(new Ea("CU:4","ALU:5"),new ga("cu_to_alu"),new ka("cu_to_alu")),(new class extends wa{constructor(){super(),this._name="SetALUOperation"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.instructionRegister.get().opcode.operator;t.cpu.model.aluOperation.set(e),yield t.cpu.component.flash("ALU:OPR")}))}}).thenWaitFor($a).endstep()],Ca=[new ya(new el("ACC"),new ga("acc_to_alu1"),new ka("acc_to_alu1")),new ya(new La("ACC"),new Ea("ACC:1","ALU:1")),(new class extends wa{constructor(){super(),this._name="SetALU1"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.alu1.set(t.wires.model.data_main.get()),yield t.cpu.component.flash("ALU:1")}))}}).thenWaitFor($a).endstep()];function Da(e){return e?Pa:Ra}const Pa=[new ya(new el("IR:OPR"),new ga("ir_to_alu2"),new ka("ir_to_alu2")),new ya(new La("IR:OPR"),new Ea("IR:2","MUX:1")),new ya(new La("IR:OPR","data_mux_alu"),new Ea("MUX:3","ALU:2")),(new xa).thenWaitFor($a).endstep()],Ra=[new ya(new el("IR:OPR"),new ga("ir_to_ram"),new ka("ir_to_ram")),new ya(new La("IR:OPR"),new Ea("IR:2","RAM:ADD")),new _a("ADDRESS").thenWaitFor($a).endstep(),new ya(new el("CU"),new ga("memory_read"),new ka("memory_read")),new ya(new Ea("CU:3","RAM:CTRL").thenWaitFor($a).endstep()),new ya(new _a("DATA"),new ga("ram_to_alu2"),new ka("ram_to_alu2")),new ya(new La("RAM"),new Ea("RAM:DATA","MUX:2")),new ya(new La("RAM","data_mux_alu"),new Ea("MUX:3","ALU:2")),(new xa).thenWaitFor($a).endstep()],Ua=[new ya(new el("IR:OPR"),new ga("ir_to_pc"),new ka("ir_to_pc")),new ya(new La("IR:OPR"),new Ea("IR:2","PC:2")),(new va).thenWaitFor($a).endstep()],Ba=[new ya(new el("IR:OPR"),new ga("ir_to_pc"),new ka("ir_to_pc")).condition(Wr),new ya(new La("IR:OPR"),new Ea("IR:2","PC:2")).condition(Wr),(new va).condition(Wr).thenWaitFor($a).endstep()],Ma=[new ya(new el("IR:OPR"),new ga("ir_to_pc"),new ka("ir_to_pc")).condition(Zr(Wr)),new ya(new La("IR:OPR"),new Ea("IR:2","PC:2")).condition(Zr(Wr)),(new va).condition(Zr(Wr)).thenWaitFor($a).endstep()],Fa=[new ya(new el("IR:OPR"),new ga("ir_to_pc"),new ka("ir_to_pc")).condition(Kr),new ya(new La("IR:OPR"),new Ea("IR:2","PC:2")).condition(Kr),(new va).condition(Kr).thenWaitFor($a).endstep()],Qa=[new ya(new el("IR:OPR"),new ga("ir_to_pc"),new ka("ir_to_pc")).condition(Zr(Kr)),new ya(new La("IR:OPR"),new Ea("IR:2","PC:2")).condition(Zr(Kr)),(new va).condition(Zr(Kr)).thenWaitFor($a).endstep()];class ja extends wa{constructor(){super(),this._name="ExecuteALUOperation"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model,n=e.aluOperation.get(),s=e.alu1.get().signed(),o=e.alu2.get().signed();let i;switch(n){case"!":i=~o;break;case"&":i=s&o;break;case"*":i=s*o;break;case"+":i=s+o;break;case"-":i=s-o;break;case"/":if(0===o)throw new Ri(Di.get().errors.execution.division_by_zero);i=s/o;break;case"=":i=o;break;default:throw new Error(`Unexpected ALU operation: "${n}"`)}e.aluResult.set(new Wi(16,i))}))}}class Ha extends wa{constructor(){super(),this._name="UpdateSW"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.accumulator.get().signed(),n=t.cpu.model.zeroFlag.get(),s=t.cpu.model.negativeFlag.get(),o=0===e,i=e<0;o!==n&&i!==s?(t.cpu.model.zeroFlag.set(o),t.cpu.model.negativeFlag.set(i),yield Promise.all([t.cpu.component.flash("SW:Z"),t.cpu.component.flash("SW:N")])):(o!==n&&(t.cpu.model.zeroFlag.set(o),yield t.cpu.component.flash("SW:Z")),i!==s&&(t.cpu.model.negativeFlag.set(i),yield t.cpu.component.flash("SW:N")))}))}}class qa extends wa{constructor(){super(),this._name="SetACC"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.accumulator.set(t.wires.model.data_alu_acc.get()),yield t.cpu.component.flash("ACC")}))}}class Ga extends wa{constructor(){super(),this._name="HaltExecution"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.isHalting.set(!0)}))}}class Wa extends wa{constructor(){super(),this._name="UpdateSWCompare"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.alu1.get().signed(),n=t.cpu.model.alu2.get().signed(),s=t.cpu.model.zeroFlag.get(),o=t.cpu.model.negativeFlag.get(),i=n===e,r=n>e;i!==s&&r!==o?(t.cpu.model.zeroFlag.set(i),t.cpu.model.negativeFlag.set(r),yield Promise.all([t.cpu.component.flash("SW:Z"),t.cpu.component.flash("SW:N")])):(i!==s&&(t.cpu.model.zeroFlag.set(i),yield t.cpu.component.flash("SW:Z")),r!==o&&(t.cpu.model.negativeFlag.set(r),yield t.cpu.component.flash("SW:N")))}))}}class Ka extends Gr{constructor(){super(),this._name="RamAction"}}class Va extends Ka{constructor(){super(),this._name="MemoryWrite"}action(t){return e(this,void 0,void 0,(function*(){const e=t.wires.model.addr_main.get().unsigned(),n=t.ram.model.read(e).symbolicOpcode;/^[A-Z]+$/.test(n)&&"NOP"!==n?t.ram.model.write(e,Ml(t.wires.model.data_main.get().toBinaryString())):t.ram.model.write(e,Bl(t.wires.model.data_main.get().signed().toString())),yield t.ram.component.flashContent(e)}))}}class za{constructor(e,t,n,s){if(!e)throw new Error("Null or undefined cpu");if(!t)throw new Error("Null or undefined ram");if(!n)throw new Error("Null or undefined symbolTable");if(!s)throw new Error("Null or undefined wires");this._isExecuting=Je(!1),this.isExecuting=Ze(this._isExecuting,(e=>e)),this.isPlayingProgram=!1,this.isPlayingMicrostep=!1,this.isPlayingInstruction=!1,this.cyclePhase="ENQUEUING_FETCH",this.queue=[],this.executionContext={cpu:{model:e,component:null},ram:{model:t,component:null},wires:{model:s,component:null},symbolTable:n,stepTextComponent:null},this.executionEndedCallbacks=[]}cycle(){return e(this,void 0,void 0,(function*(){if(this.shouldExecute())try{switch(this.cyclePhase){case"ENQUEUING_FETCH":this.queue.push(...Ta),this.cyclePhase="EXECUTING_FETCH";break;case"EXECUTING_FETCH":yield this.execute(),this.queueIsEmpty()&&(this.cyclePhase="ENQUEUING_INSTRUCTION");break;case"ENQUEUING_INSTRUCTION":const e=this.executionContext.cpu.model.instructionRegister.get();this.queue.push(...function(e){if(!e.opcode)throw new Ri(Di.get().errors.execution.invalid_instruction);const t=[];switch(e.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":t.push(...Oa,...Na,...Ca,...Da(e.immediateFlag()),new ja,new ya(new La("ALU:RES"),new Ea("ALU:4","ACC:2"),new ga("execute"),new ka("execute")),(new qa).thenWaitFor($a).endstep(),new ya(new Ea("ALU:3","SW:1"),new ga("alu_to_sw"),new ka("alu_to_sw")),(new Ha).thenWaitFor($a).endstep());break;case"NOT":t.push(...Oa,...Na,...Da(e.immediateFlag()),new ja,new ya(new La("ALU:RES"),new Ea("ALU:4","ACC:2"),new ga("execute"),new ka("execute")),(new qa).thenWaitFor($a).endstep(),new ya(new Ea("ALU:3","SW:1"),new ga("alu_to_sw"),new ka("alu_to_sw")),(new Ha).thenWaitFor($a).endstep());break;case"CMP":t.push(...Oa,...Na,...Ca,...Da(e.immediateFlag()),new ya(new Ea("ALU:3","SW:1"),new ga("alu_to_sw"),new ka("alu_to_sw")),(new Wa).thenWaitFor($a).endstep());break;case"LOD":t.push(...Oa,...Na,...Da(e.immediateFlag()),new ja,new ya(new La("ALU:RES"),new Ea("ALU:4","ACC:2"),new ga("execute"),new ka("execute")),(new qa).thenWaitFor($a).endstep());break;case"STO":t.push(new ya(new La("IR:OPR"),new Ea("IR:2","RAM:ADD"),new ga("ir_to_ram"),new ka("ir_to_ram")),new _a("ADDRESS").thenWaitFor($a).endstep(),new ya(new el("ACC"),new ga("acc_to_ram"),new ka("acc_to_ram")),new ya(new La("ACC"),new Ea("ACC:1","RAM:DATA")).thenWaitFor($a).endstep(),new ya(new Ea("CU:3","RAM:CTRL"),new ga("memory_write"),new ka("memory_write")).thenWaitFor($a).endstep(),new ya(new Va,new ga("acc_stored_to_ram"),new ka("acc_stored_to_ram")).thenWaitFor($a).endstep());break;case"JMP":t.push(...Ua);break;case"JZ":t.push(new el("SW:Z"),...Ba);break;case"JNZ":t.push(new el("SW:Z"),...Ma);break;case"JN":t.push(new el("SW:N"),...Fa);break;case"JNN":t.push(new el("SW:N"),...Qa);break;case"NOP":t.push();break;case"HLT":t.push(new Ga);break;default:throw new Error(`Unrecognized opcode: "${e.opcode.symbolic}"`)}return t}(e)),xt.info(`Executing instruction "${e.symbolic()}"`,"EXECUTION"),this.cyclePhase="EXECUTING_INSTRUCTION";break;case"EXECUTING_INSTRUCTION":yield this.execute(),this.queueIsEmpty()&&(this.executionContext.cpu.model.programCounter.get().unsigned()!==Yi||this.executionContext.cpu.model.isJumping.get()||this.executionContext.cpu.model.isHalting.set(!0),this.executionContext.cpu.model.isJumping.get()?(this.executionContext.cpu.model.isJumping.set(!1),this.cyclePhase="ENQUEUING_FETCH",this.isPlayingInstruction&&this.setIsPlayingInstruction(!1)):this.cyclePhase="ENQUEUEING_PC_INCREMENT");break;case"ENQUEUEING_PC_INCREMENT":this.queue.push(...Ia),this.cyclePhase="EXECUTING_PC_INCREMENT";break;case"EXECUTING_PC_INCREMENT":yield this.execute(),this.isPlayingInstruction&&(this.setIsPlayingInstruction(!1),this.executionContext.cpu.model.isHalting.set(!0)),this.queueIsEmpty()&&(this.cyclePhase="ENQUEUING_FETCH")}}catch(e){this.executionContext.cpu.model.isHalting.set(!0),$r.get().error(e.message),xt.error(e,"EXECUTION",e.isChecked)}finally{this.executionContext.cpu.model.isHalting.get()&&this.reset()}}))}execute(){return e(this,void 0,void 0,(function*(){for(;!this.queueIsEmpty()&&this.shouldExecute();){const e=this.queue.shift();yield e.execute(this.executionContext),this.isPlayingMicrostep&&e.doesEndStep()&&this.setIsPlayingMicrostep(!1)}}))}start(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!0),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!1),xt.info("Execution - START","EXECUTION")}pause(){this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!1),this.executeExecutionEndedCallbacks(),xt.info("Execution - PAUSE","EXECUTION")}toggle(...e){this.isExecuting.get()?this.pause():this.start(...e)}step(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!0),this.setIsPlayingInstruction(!1),xt.info("Execution - STEP","EXECUTION")}instruction(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!0),xt.info("Execution - INSTRUCTION","EXECUTION")}reset(){this.pause(),this.executionContext.cpu.model.isHalting.set(!1),this.executionContext.cpu.model.isJumping.set(!1),this.cyclePhase="ENQUEUING_FETCH",this.emptyExecutionQueue(),xt.info("Execution - RESET","EXECUTION")}shouldExecute(){return this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction}emptyExecutionQueue(){this.queue=[]}queueIsEmpty(){return 0===this.queue.length}setIsPlayingProgram(e){this.isPlayingProgram=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}setIsPlayingMicrostep(e){this.isPlayingMicrostep=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}setIsPlayingInstruction(e){this.isPlayingInstruction=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}executeExecutionEndedCallbacks(){this.executionEndedCallbacks.forEach((e=>e(this.executionContext))),this.executionEndedCallbacks=[]}}function Xa(e){let t,n;return{c(){t=D("div"),F(t,"class",n="w-[98%] h-[35%] rounded-md bg-lime-400 "+(e[1]?"brightness-[.6]":""))},m(e,n){O(e,t,n)},p(e,s){2&s&&n!==(n="w-[98%] h-[35%] rounded-md bg-lime-400 "+(e[1]?"brightness-[.6]":""))&&F(t,"class",n)},d(e){e&&N(t)}}}function Ja(e){let t,n,s,o,i,l,c,a,u,d=e[0]===Za.HALF&&Xa(e);const p=e[6].default,$=f(p,e,e[5],null);return{c(){t=D("div"),n=D("div"),d&&d.c(),o=U(),i=D("div"),$&&$.c(),F(n,"class",s="w-4 h-4 flex items-center justify-center border border-black rounded-md transition-colors "+(e[0]===Za.ON?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")),F(i,"class","font-medium pb-[3px]"),F(t,"class",l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class),F(t,"disabled",e[1])},m(s,r){O(s,t,r),L(t,n),d&&d.m(n,null),L(t,o),L(t,i),$&&$.m(i,null),c=!0,a||(u=[M(t,"click",e[2]),M(t,"focus",e[7]),M(t,"focusout",e[8]),M(t,"mouseenter",e[9]),M(t,"mouseleave",e[10]),M(t,"mouseover",e[11])],a=!0)},p(e,[o]){e[0]===Za.HALF?d?d.p(e,o):(d=Xa(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null),(!c||3&o&&s!==(s="w-4 h-4 flex items-center justify-center border border-black rounded-md transition-colors "+(e[0]===Za.ON?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")))&&F(n,"class",s),$&&$.p&&(!c||32&o)&&m($,p,e,e[5],c?h(p,e[5],o,null):g(e[5]),null),(!c||10&o&&l!==(l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class))&&F(t,"class",l),(!c||2&o)&&F(t,"disabled",e[1])},i(e){c||(Ne($,e),c=!0)},o(e){Ce($,e),c=!1},d(e){e&&N(t),d&&d.d(),$&&$.d(e),a=!1,r(u)}}}var Za,Ya;function eu(e,t,n){const o=["disabled","value","descending"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t,{value:a=Za.OFF}=t,{descending:u=!1}=t;const d=le();return e.$$set=e=>{t=s(s({},t),$(e)),n(3,i=b(t,o)),"disabled"in e&&n(1,c=e.disabled),"value"in e&&n(0,a=e.value),"descending"in e&&n(4,u=e.descending),"$$scope"in e&&n(5,l=e.$$scope)},[a,c,function(e){switch(a){case Za.OFF:n(0,a=u?Za.ON:Za.HALF);break;case Za.HALF:n(0,a=u?Za.OFF:Za.ON);break;case Za.ON:n(0,a=u?Za.HALF:Za.OFF)}d("click",e),d("change",{value:a})},i,u,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}!function(e){e.OFF="OFF",e.HALF="HALF",e.ON="ON"}(Za||(Za={}));class tu extends Ke{constructor(e){super(),We(this,e,eu,Ja,c,{disabled:1,value:0,descending:4})}}function nu(e){let t,n,s,o,i,r,l;return n=new ta({props:{icon:"reset",title:e[4].controls.buttons.reset.title}}),n.$on("click",e[8]),o=new ta({props:{icon:e[5]?"pause":"play",title:e[5]?e[4].controls.buttons.pause_program.title:e[4].controls.buttons.play_program.title}}),o.$on("click",e[9]),r=new ta({props:{icon:"fast",title:e[4].controls.buttons.fast_program.title}}),r.$on("click",e[10]),{c(){t=D("div"),He(n.$$.fragment),s=U(),He(o.$$.fragment),i=U(),He(r.$$.fragment),F(t,"class","flex items-center justify-center gap-1")},m(e,c){O(e,t,c),qe(n,t,null),L(t,s),qe(o,t,null),L(t,i),qe(r,t,null),l=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.reset.title),n.$set(s);const i={};32&t&&(i.icon=e[5]?"pause":"play"),48&t&&(i.title=e[5]?e[4].controls.buttons.pause_program.title:e[4].controls.buttons.play_program.title),o.$set(i);const l={};16&t&&(l.title=e[4].controls.buttons.fast_program.title),r.$set(l)},i(e){l||(Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),l=!0)},o(e){Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),l=!1},d(e){e&&N(t),Ge(n),Ge(o),Ge(r)}}}function su(e){let t,n,s,o,i;return n=new ta({props:{icon:"play",title:e[4].controls.buttons.play_instruction.title}}),n.$on("click",e[13]),o=new ta({props:{icon:"fast",title:e[4].controls.buttons.fast_instruction.title}}),o.$on("click",e[14]),{c(){t=D("div"),He(n.$$.fragment),s=U(),He(o.$$.fragment),F(t,"class","flex items-center justify-center gap-1")},m(e,r){O(e,t,r),qe(n,t,null),L(t,s),qe(o,t,null),i=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.play_instruction.title),n.$set(s);const i={};16&t&&(i.title=e[4].controls.buttons.fast_instruction.title),o.$set(i)},i(e){i||(Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),i=!0)},o(e){Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),i=!1},d(e){e&&N(t),Ge(n),Ge(o)}}}function ou(e){let t,n,s,o,i;return n=new ta({props:{icon:"play",title:e[4].controls.buttons.play_step.title}}),n.$on("click",e[11]),o=new ta({props:{icon:"fast",title:e[4].controls.buttons.fast_step.title}}),o.$on("click",e[12]),{c(){t=D("div"),He(n.$$.fragment),s=U(),He(o.$$.fragment),F(t,"class","flex items-center justify-center gap-1")},m(e,r){O(e,t,r),qe(n,t,null),L(t,s),qe(o,t,null),i=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.play_step.title),n.$set(s);const i={};16&t&&(i.title=e[4].controls.buttons.fast_step.title),o.$set(i)},i(e){i||(Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),i=!0)},o(e){Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),i=!1},d(e){e&&N(t),Ge(n),Ge(o)}}}function iu(e){let t,n,s;function o(t){e[20](t)}let i={min:.1,max:3,title:e[4].controls.sliders.speed.title};return void 0!==e[3]&&(i.value=e[3]),t=new la({props:i}),fe.push((()=>je(t,"value",o,e[3]))),t.$on("change",e[15]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};16&s&&(o.title=e[4].controls.sliders.speed.title),!n&&8&s&&(n=!0,o.value=e[3],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function ru(e){let t,n,s,o,i,r,l,c;return t=new ua({props:{label:e[4].controls.labels.execution,$$slots:{default:[nu]},$$scope:{ctx:e}}}),s=new ua({props:{label:e[4].controls.labels.instruction,$$slots:{default:[su]},$$scope:{ctx:e}}}),i=new ua({props:{label:e[4].controls.labels.step,$$slots:{default:[ou]},$$scope:{ctx:e}}}),l=new ua({props:{label:e[4].controls.labels.speed,$$slots:{default:[iu]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment),o=U(),He(i.$$.fragment),r=U(),He(l.$$.fragment)},m(e,a){qe(t,e,a),O(e,n,a),qe(s,e,a),O(e,o,a),qe(i,e,a),O(e,r,a),qe(l,e,a),c=!0},p(e,n){const o={};16&n&&(o.label=e[4].controls.labels.execution),16777264&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};16&n&&(r.label=e[4].controls.labels.instruction),16777232&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const c={};16&n&&(c.label=e[4].controls.labels.step),16777232&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const a={};16&n&&(a.label=e[4].controls.labels.speed),16777240&n&&(a.$$scope={dirty:n,ctx:e}),l.$set(a)},i(e){c||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),c=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),c=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),e&&N(o),Ge(i,e),e&&N(r),Ge(l,e)}}}function lu(e){let t,n=e[4].controls.checkboxes.binary.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){16&s&&n!==(n=e[4].controls.checkboxes.binary.text+"")&&H(t,n)},d(e){e&&N(t)}}}function cu(e){let t,n=e[4].controls.checkboxes.animations.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){16&s&&n!==(n=e[4].controls.checkboxes.animations.text+"")&&H(t,n)},d(e){e&&N(t)}}}function au(e){let t,n,s,o,i;function r(t){e[21](t)}let l={$$slots:{default:[lu]},$$scope:{ctx:e}};return void 0!==e[2]&&(l.checked=e[2]),t=new oa({props:l}),fe.push((()=>je(t,"checked",r,e[2]))),t.$on("click",e[16]),o=new tu({props:{value:e[0]?e[1]?Za.HALF:Za.ON:Za.OFF,descending:!0,$$slots:{default:[cu]},$$scope:{ctx:e}}}),o.$on("change",e[17]),{c(){He(t.$$.fragment),s=U(),He(o.$$.fragment)},m(e,n){qe(t,e,n),O(e,s,n),qe(o,e,n),i=!0},p(e,s){const i={};16777232&s&&(i.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,i.checked=e[2],we((()=>n=!1))),t.$set(i);const r={};3&s&&(r.value=e[0]?e[1]?Za.HALF:Za.ON:Za.OFF),16777232&s&&(r.$$scope={dirty:s,ctx:e}),o.$set(r)},i(e){i||(Ne(t.$$.fragment,e),Ne(o.$$.fragment,e),i=!0)},o(e){Ce(t.$$.fragment,e),Ce(o.$$.fragment,e),i=!1},d(e){Ge(t,e),e&&N(s),Ge(o,e)}}}function uu(e){let t,n,s,o,i,r,l;n=new Zc({props:{class:"gap-5",$$slots:{default:[ru]},$$scope:{ctx:e}}}),o=new Zc({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[au]},$$scope:{ctx:e}}});return r=new ma({props:{}}),e[22](r),{c(){t=D("div"),He(n.$$.fragment),s=U(),He(o.$$.fragment),i=U(),He(r.$$.fragment),F(t,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(e,c){O(e,t,c),qe(n,t,null),L(t,s),qe(o,t,null),L(t,i),qe(r,t,null),l=!0},p(e,[t]){const s={};16777272&t&&(s.$$scope={dirty:t,ctx:e}),n.$set(s);const i={};16777239&t&&(i.$$scope={dirty:t,ctx:e}),o.$set(i);r.$set({})},i(e){l||(Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(r.$$.fragment,e),l=!0)},o(e){Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),l=!1},d(s){s&&N(t),Ge(n),Ge(o),e[22](null),Ge(r)}}}function du(e,t,n){let s,o,i,r,l,c,a;d(e,It,(e=>n(0,s=e))),d(e,Lt,(e=>n(1,o=e))),d(e,Et,(e=>n(2,i=e))),d(e,Tt,(e=>n(3,r=e))),d(e,Di,(e=>n(4,l=e))),d(e,rt,(e=>n(6,a=e)));let{cpu:u}=t,{programExecution:f}=t;const p=f.isExecuting;function h(e){switch(e){case Za.OFF:w(Lt,o=!1,o),w(It,s=!1,s);break;case Za.HALF:w(Lt,o=!0,o),w(It,s=!0,s);break;case Za.ON:w(Lt,o=!1,o),w(It,s=!0,s)}}return d(e,p,(e=>n(5,c=e))),e.$$set=e=>{"cpu"in e&&n(18,u=e.cpu),"programExecution"in e&&n(19,f=e.programExecution)},[s,o,i,r,l,c,a,p,function(){xt.info("Reset pressed","USER_INPUT"),f.reset(),u.reset()},function(){xt.info("Toggle execution pressed","USER_INPUT"),f.toggle()},function(){let e;xt.info("Skip execution pressed","USER_INPUT"),e=o&&s?Za.HALF:o||s?Za.ON:Za.OFF,w(It,s=!1,s),w(Lt,o=!1,o),f.start((t=>{h(e)}))},function(){xt.info("Play step pressed","USER_INPUT"),f.step()},function(){let e;xt.info("Skip step pressed","USER_INPUT"),e=o&&s?Za.HALF:o||s?Za.ON:Za.OFF,w(It,s=!1,s),w(Lt,o=!1,o),f.step((t=>{h(e)}))},function(){xt.info("Play instruction pressed","USER_INPUT"),f.instruction()},function(){let e;xt.info("Skip instruction pressed","USER_INPUT"),e=o&&s?Za.HALF:o||s?Za.ON:Za.OFF,w(It,s=!1,s),w(Lt,o=!1,o),f.instruction((t=>{h(e)}))},function(){xt.info(`Speed slider moved - ${r}`,"USER_INPUT")},function(){xt.info(`Binary toggle pressed - ${i}`,"USER_INPUT")},function(e){h(e.detail.value),xt.info(`Animations toggle pressed - ${e.detail.value}`,"USER_INPUT")},u,f,function(e){r=e,Tt.set(r)},function(e){i=e,Et.set(i)},function(e){fe[e?"unshift":"push"]((()=>{a=e,rt.set(a)}))}]}class fu extends Ke{constructor(e){super(),We(this,e,du,uu,c,{cpu:18,programExecution:19})}}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Ya||(Ya={}));const pu="headlessui-open-closed-context";function hu(){return ae(pu)}function mu(e){ce(pu,e)}function gu(e,t,...n){if(e in t){let s=t[e];return"function"==typeof s?s(...n):s}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,gu),s}let $u=0;function bu(){return++$u}let yu=new Set,wu=new Map;function vu(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function xu(e){let t=wu.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function _u(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var Eu;!function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(Eu||(Eu={}));let ku=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Au,Su,Lu,Iu;function Tu(e){e?.focus({preventScroll:!0})}function Ou(e,t){let n,s=Array.isArray(e)?e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(ku))}(e),o=document.activeElement,i=(()=>{if(t&(Au.First|Au.Next))return Lu.Next;if(t&(Au.Previous|Au.Last))return Lu.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),r=(()=>{if(t&Au.First)return 0;if(t&Au.Previous)return Math.max(0,s.indexOf(o))-1;if(t&Au.Next)return Math.max(0,s.indexOf(o))+1;if(t&Au.Last)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=t&Au.NoScroll?{preventScroll:!0}:{},c=0,a=s.length;do{if(c>=a||c+a<=0)return Su.Error;let e=r+c;if(t&Au.WrapAround)e=(e+a)%a;else{if(e<0)return Su.Underflow;if(e>=a)return Su.Overflow}n=s[e],n?.focus(l),c+=i}while(n!==document.activeElement);return n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),Su.Success}!function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(Au||(Au={})),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(Su||(Su={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(Lu||(Lu={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(Iu||(Iu={}));const{window:Nu}=Ue;function Cu(e){let n,s;return{c:t,m(t,o){n||(s=[M(Nu,"keydown",e[0]),M(Nu,"focus",e[1],!0)],n=!0)},p:t,i:t,o:t,d(e){n=!1,r(s)}}}function Du(e,t,n){let{containers:s}=t,{enabled:o=!0}=t,{options:i={}}=t,r="undefined"!=typeof window?document.activeElement:null,l=null;async function c(){if(!o)return;if(1!==s.size)return;let{initialFocus:e}=i;await be();let t=document.activeElement;if(e){if(e===t)return}else if(_u(s,t))return;if(r=t,e)Tu(e);else{let e=!1;for(let t of s){if(Ou(t,Au.First)===Su.Success){e=!0;break}}e||console.warn("There are no focusable elements inside the <FocusTrap />")}l=document.activeElement}function a(){Tu(r),r=null,l=null}oe(c);let u=!1;return re((()=>{u=!0,a()})),e.$$set=e=>{"containers"in e&&n(2,s=e.containers),"enabled"in e&&n(3,o=e.enabled),"options"in e&&n(4,i=e.options)},e.$$.update=()=>{12&e.$$.dirty&&(o&&s?c():a())},[function(e){if(o&&e.key===Eu.Tab&&document.activeElement&&1===s.size){e.preventDefault();for(let t of s){if(Ou(t,(e.shiftKey?Au.Previous:Au.Next)|Au.WrapAround)===Su.Success){l=document.activeElement;break}}}},function(e){if(e.target===window.document.body)return;if(!o)return;if(1!==s.size)return;if(u)return;let t=l;if(!t)return;let n=e.target;n&&n instanceof HTMLElement?_u(s,n)?(l=n,Tu(n)):(e.preventDefault(),e.stopPropagation(),Tu(t)):Tu(l)},s,o,i]}class Pu extends Ke{constructor(e){super(),We(this,e,Du,Cu,c,{containers:2,enabled:3,options:4})}}function Ru(e){let t;const n=e[4].default,s=f(n,e,e[3],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||8&o)&&m(s,n,e,e[3],t?h(n,e[3],o,null):g(e[3]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}var Uu;!function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(Uu||(Uu={}));const Bu="headlessui-stack-context";function Mu(e,t,n){let s,{$$slots:o={},$$scope:i}=t,{onUpdate:r}=t,{element:l}=t;function c(...e){r?.(...e),a?.(...e)}let a=ae(Bu);return ce(Bu,c),re((()=>{s&&s()})),e.$$set=e=>{"onUpdate"in e&&n(0,r=e.onUpdate),"element"in e&&n(1,l=e.element),"$$scope"in e&&n(3,i=e.$$scope)},e.$$.update=()=>{6&e.$$.dirty&&n(2,s=(()=>{if(s&&s(),!l)return null;let e=l;return c(Uu.Add,e),()=>c(Uu.Remove,e)})())},[r,l,s,i,o]}class Fu extends Ke{constructor(e){super(),We(this,e,Mu,Ru,c,{onUpdate:0,element:1})}}const Qu=e=>({describedby:1&e}),ju=e=>({describedby:e[0].descriptionIds});function Hu(e){let t;const n=e[6].default,s=f(n,e,e[5],ju);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||33&o)&&m(s,n,e,e[5],t?h(n,e[5],o,Qu):g(e[5]),ju)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}const qu="headlessui-description-context";function Gu(e,t,n){const o=["name","slotProps"];let i,r=b(t,o),{$$slots:l={},$$scope:c}=t,{name:a}=t,{slotProps:u={}}=t,f=[],p=ze({name:a,slotProps:u,props:r,register:h});function h(e){return n(4,f=[...f,e]),()=>{n(4,f=f.filter((t=>t!==e)))}}return d(e,p,(e=>n(0,i=e))),ce(qu,p),e.$$set=e=>{t=s(s({},t),$(e)),n(8,r=b(t,o)),"name"in e&&n(2,a=e.name),"slotProps"in e&&n(3,u=e.slotProps),"$$scope"in e&&n(5,c=e.$$scope)},e.$$.update=()=>{p.set({name:a,slotProps:u,props:r,register:h,descriptionIds:f.length>0?f.join(" "):void 0})},[i,p,a,u,f,c,l]}class Wu extends Ke{constructor(e){super(),We(this,e,Gu,Hu,c,{name:2,slotProps:3})}}function Ku(e){let t;const n=e[2].default,s=f(n,e,e[1],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||2&o)&&m(s,n,e,e[1],t?h(n,e[1],o,null):g(e[1]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}const Vu="headlessui-force-portal-root-context";function zu(e,t,n){let{$$slots:s={},$$scope:o}=t,{force:i}=t;return ce(Vu,ze(i)),e.$$set=e=>{"force"in e&&n(0,i=e.force),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,s]}class Xu extends Ke{constructor(e){super(),We(this,e,zu,Ku,c,{force:0})}}function Ju(e){let t;const n=e[2].default,s=f(n,e,e[1],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||2&o)&&m(s,n,e,e[1],t?h(n,e[1],o,null):g(e[1]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}const Zu="headlessui-portal-group-context";function Yu(e,t,n){let{$$slots:s={},$$scope:o}=t,{target:i}=t,r=ze(i);return ce(Zu,r),e.$$set=e=>{"target"in e&&n(0,i=e.target),"$$scope"in e&&n(1,o=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&r.set(i)},[i,o,s]}class ed extends Ke{constructor(e){super(),We(this,e,Yu,Ju,c,{target:0})}}function td(e,t){return t&&t.append(e),{update(n){t=n,n.append(e)},destroy(){t?.contains(e)&&t.removeChild(e),t&&t.childNodes.length<=0&&t.parentElement?.removeChild(t)}}}function nd(e){let t,n,s,o,i;const r=e[6].default,c=f(r,e,e[5],null);return{c(){t=D("div"),c&&c.c()},m(r,l){O(r,t,l),c&&c.m(t,null),s=!0,o||(i=v(n=td.call(null,t,e[0])),o=!0)},p(e,[t]){c&&c.p&&(!s||32&t)&&m(c,r,e,e[5],s?h(r,e[5],t,null):g(e[5]),null),n&&l(n.update)&&1&t&&n.update.call(null,e[0])},i(e){s||(Ne(c,e),s=!0)},o(e){Ce(c,e),s=!1},d(e){e&&N(t),c&&c.d(e),o=!1,i()}}}function sd(e,t,n){let s,o,i,{$$slots:r={},$$scope:l}=t,c=ae(Vu);d(e,c,(e=>n(4,i=e)));let a=ae(Zu);return d(e,a,(e=>n(3,o=e))),e.$$set=e=>{"$$scope"in e&&n(5,l=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&n(0,s=(()=>{if(!(c&&i||void 0===a||null===o))return o;if("undefined"==typeof window)return null;let e=document.getElementById("headlessui-portal-root");if(e)return e;let t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),be().then((()=>{t!==document.body.lastChild&&document.body.appendChild(t)})),document.body.appendChild(t)})())},[s,c,a,o,i,l,r]}class od extends Ke{constructor(e){super(),We(this,e,sd,nd,c,{})}}const id=new RegExp("^[^!]+(?:!(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$");function rd(e,t=[]){let n,s=[];function o(t){ue(e,t)}return e.$on=(o,i)=>{let r=o,l=()=>{};for(let n of t){if("string"==typeof n&&n===r){const t=e.$$.callbacks[r]||(e.$$.callbacks[r]=[]);return t.push(i),()=>{const e=t.indexOf(i);-1!==e&&t.splice(e,1)}}if("object"==typeof n&&n.name===r){let e=i;i=(...t)=>{"object"==typeof n&&n.shouldExclude()||e(...t)}}}return n?l=n(r,i):s.push([r,i]),()=>{l()}},e=>{const t=[],i={};n=(n,s)=>{let r=n,l=s,c=!1;if(r.match(id)){const e=r.split("!");r=e[0];const t=Object.fromEntries(e.slice(1).map((e=>[e,!0])));t.passive&&(c=c||{},c.passive=!0),t.nonpassive&&(c=c||{},c.passive=!1),t.capture&&(c=c||{},c.capture=!0),t.once&&(c=c||{},c.once=!0),t.preventDefault&&(a=l,l=function(e){return e.preventDefault(),a.call(this,e)}),t.stopPropagation&&(l=function(e){return function(t){return t.stopPropagation(),e.call(this,t)}}(l))}var a;const u=M(e,r,l,c),d=()=>{u();const e=t.indexOf(d);e>-1&&t.splice(e,1)};return t.push(d),r in i||(i[r]=M(e,r,o)),d};for(let e=0;e<s.length;e++)n(s[e][0],s[e][1]);return{destroy:()=>{for(let e=0;e<t.length;e++)t[e]();for(let e of Object.entries(i))e[1]()}}}}const ld=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function cd(e,t){let n=[];if(t)for(let s=0;s<t.length;s++){const o=t[s],i=Array.isArray(o)?o[0]:o;Array.isArray(o)&&o.length>1?n.push(i(e,o[1])):n.push(i(e))}return{update(e){if((e&&e.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(e)for(let t=0;t<e.length;t++){const s=n[t];if(s&&s.update){const n=e[t];Array.isArray(n)&&n.length>1?s.update(n[1]):s.update()}}},destroy(){for(let e=0;e<n.length;e++){const t=n[e];t&&t.destroy&&t.destroy()}}}}var ad,ud;function dd(e){let t,n,s,o;const i=[Jd,Xd,zd,Vd,Kd,Wd,Gd,qd,Hd,jd,Qd,Fd,Md,Bd,Ud,Rd,Pd,Dd,Cd,Nd,Od,Td,Id,Ld,Sd,Ad,kd,Ed,_d,xd,vd,wd,yd,bd,$d,gd,md,hd,pd,fd],r=[];function l(e,t){return"a"===e[1]?0:"address"===e[1]?1:"article"===e[1]?2:"aside"===e[1]?3:"b"===e[1]?4:"bdi"===e[1]?5:"bdo"===e[1]?6:"blockquote"===e[1]?7:"button"===e[1]?8:"cite"===e[1]?9:"code"===e[1]?10:"data"===e[1]?11:"datalist"===e[1]?12:"dd"===e[1]?13:"dl"===e[1]?14:"dt"===e[1]?15:"div"===e[1]?16:"em"===e[1]?17:"footer"===e[1]?18:"form"===e[1]?19:"h1"===e[1]?20:"h2"===e[1]?21:"h3"===e[1]?22:"h4"===e[1]?23:"h5"===e[1]?24:"h6"===e[1]?25:"header"===e[1]?26:"i"===e[1]?27:"input"===e[1]?28:"label"===e[1]?29:"li"===e[1]?30:"main"===e[1]?31:"nav"===e[1]?32:"ol"===e[1]?33:"p"===e[1]?34:"section"===e[1]?35:"span"===e[1]?36:"strong"===e[1]?37:"ul"===e[1]?38:39}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=B()},m(e,n){r[t].m(e,n),O(e,s,n),o=!0},p(e,o){let c=t;t=l(e),t===c?r[t].p(e,o):(Te(),Ce(r[c],1,1,(()=>{r[c]=null})),Oe(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),Ne(n,1),n.m(s.parentNode,s))},i(e){o||(Ne(n),o=!0)},o(e){Ce(n),o=!1},d(e){r[t].d(e),e&&N(s)}}}function fd(e){let t,n,o,i;const r=[{use:[...e[2],e[6]]},e[7],e[3],{hidden:e[4]||void 0}];function l(t){e[58](t)}var c=e[1];function a(e){let t={$$slots:{default:[Zd]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)t=s(t,r[e]);return void 0!==e[0]&&(t.el=e[0]),{props:t}}return c&&(t=X(c,a(e)),fe.push((()=>je(t,"el",l,e[0])))),{c(){t&&He(t.$$.fragment),o=B()},m(e,n){t&&qe(t,e,n),O(e,o,n),i=!0},p(e,s){const i=220&s[0]?Fe(r,[68&s[0]&&{use:[...e[2],e[6]]},128&s[0]&&Qe(e[7]),8&s[0]&&Qe(e[3]),16&s[0]&&{hidden:e[4]||void 0}]):{};if(268435456&s[1]&&(i.$$scope={dirty:s,ctx:e}),!n&&1&s[0]&&(n=!0,i.el=e[0],we((()=>n=!1))),c!==(c=e[1])){if(t){Te();const e=t;Ce(e.$$.fragment,1,0,(()=>{Ge(e,1)})),Oe()}c?(t=X(c,a(e)),fe.push((()=>je(t,"el",l,e[0]))),He(t.$$.fragment),Ne(t.$$.fragment,1),qe(t,o.parentNode,o)):t=null}else c&&t.$set(i)},i(e){i||(t&&Ne(t.$$.fragment,e),i=!0)},o(e){t&&Ce(t.$$.fragment,e),i=!1},d(e){e&&N(o),t&&Ge(t,e)}}}function pd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("ul"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[57](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[57](null),c=!1,r(a)}}}function hd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("strong"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[56](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[56](null),c=!1,r(a)}}}function md(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("span"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[55](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[55](null),c=!1,r(a)}}}function gd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("section"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[54](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[54](null),c=!1,r(a)}}}function $d(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("p"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[53](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[53](null),c=!1,r(a)}}}function bd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("ol"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[52](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[52](null),c=!1,r(a)}}}function yd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("nav"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[51](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[51](null),c=!1,r(a)}}}function wd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("main"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[50](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[50](null),c=!1,r(a)}}}function vd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("li"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[49](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[49](null),c=!1,r(a)}}}function xd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("label"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[48](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[48](null),c=!1,r(a)}}}function _d(e){let n,o,i,c,a,u=[e[7],e[3],{hidden:o=e[4]||void 0}],d={};for(let e=0;e<u.length;e+=1)d=s(d,u[e]);return{c(){n=D("input"),Q(n,d)},m(t,s){O(t,n,s),n.autofocus&&n.focus(),e[47](n),c||(a=[v(i=cd.call(null,n,e[2])),v(e[6].call(null,n))],c=!0)},p(e,t){Q(n,d=Fe(u,[128&t[0]&&e[7],8&t[0]&&e[3],16&t[0]&&o!==(o=e[4]||void 0)&&{hidden:o}])),i&&l(i.update)&&4&t[0]&&i.update.call(null,e[2])},i:t,o:t,d(t){t&&N(n),e[47](null),c=!1,r(a)}}}function Ed(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("i"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[46](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[46](null),c=!1,r(a)}}}function kd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("header"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[45](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[45](null),c=!1,r(a)}}}function Ad(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("h6"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[44](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[44](null),c=!1,r(a)}}}function Sd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("h5"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[43](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[43](null),c=!1,r(a)}}}function Ld(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("h4"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[42](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[42](null),c=!1,r(a)}}}function Id(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("h3"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[41](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[41](null),c=!1,r(a)}}}function Td(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("h2"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[40](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[40](null),c=!1,r(a)}}}function Od(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("h1"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[39](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[39](null),c=!1,r(a)}}}function Nd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("form"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[38](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[38](null),c=!1,r(a)}}}function Cd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("footer"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[37](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[37](null),c=!1,r(a)}}}function Dd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("em"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[36](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[36](null),c=!1,r(a)}}}function Pd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("div"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[35](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[35](null),c=!1,r(a)}}}function Rd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("dt"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[34](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[34](null),c=!1,r(a)}}}function Ud(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("dl"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[33](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[33](null),c=!1,r(a)}}}function Bd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("dd"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[32](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[32](null),c=!1,r(a)}}}function Md(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("datalist"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[31](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[31](null),c=!1,r(a)}}}function Fd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("data"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[30](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[30](null),c=!1,r(a)}}}function Qd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("code"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[29](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[29](null),c=!1,r(a)}}}function jd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("cite"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[28](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[28](null),c=!1,r(a)}}}function Hd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("button"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),t.autofocus&&t.focus(),e[27](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[27](null),c=!1,r(a)}}}function qd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("blockquote"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[26](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[26](null),c=!1,r(a)}}}function Gd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("bdo"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[25](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[25](null),c=!1,r(a)}}}function Wd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("bdi"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[24](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[24](null),c=!1,r(a)}}}function Kd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("b"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[23](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[23](null),c=!1,r(a)}}}function Vd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("aside"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[22](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[22](null),c=!1,r(a)}}}function zd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("article"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[21](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[21](null),c=!1,r(a)}}}function Xd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("address"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[20](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[20](null),c=!1,r(a)}}}function Jd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=D("a"),d&&d.c(),Q(t,$)},m(n,s){O(n,t,s),d&&d.m(t,null),e[19](t),i=!0,c||(a=[v(o=cd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Fe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ne(d,e),i=!0)},o(e){Ce(d,e),i=!1},d(n){n&&N(t),d&&d.d(n),e[19](null),c=!1,r(a)}}}function Zd(e){let t;const n=e[18].default,s=f(n,e,e[59],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||268435456&o[1])&&m(s,n,e,e[59],t?h(n,e[59],o,null):g(e[59]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Yd(e){let t,n,s=e[5]&&dd(e);return{c(){s&&s.c(),t=B()},m(e,o){s&&s.m(e,o),O(e,t,o),n=!0},p(e,n){e[5]?s?(s.p(e,n),32&n[0]&&Ne(s,1)):(s=dd(e),s.c(),Ne(s,1),s.m(t.parentNode,t)):s&&(Te(),Ce(s,1,1,(()=>{s=null})),Oe())},i(e){n||(Ne(s),n=!0)},o(e){Ce(s),n=!1},d(e){s&&s.d(e),e&&N(t)}}}function ef(e,t,n){let o,i,r,l,c;const a=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let u=b(t,a),{$$slots:d={},$$scope:f}=t;const p=rd(se());let{name:h}=t,{as:m}=t,{slotProps:g}=t,{el:y=null}=t,{use:w=[]}=t,{visible:v=!0}=t,{features:x=ad.None}=t,{unmount:_=!0}=t,{static:E=!1}=t,{class:k}=t,{style:A}=t;if(!m)throw new Error(`<${h}> did not provide an \`as\` value to <Render>`);if(!function(e){return!("string"==typeof e&&!ld.includes(e))}(m))throw new Error(`<${h}> has an invalid or unsupported \`as\` prop: ${m}`);return e.$$set=e=>{t=s(s({},t),$(e)),n(7,u=b(t,a)),"name"in e&&n(8,h=e.name),"as"in e&&n(1,m=e.as),"slotProps"in e&&n(9,g=e.slotProps),"el"in e&&n(0,y=e.el),"use"in e&&n(2,w=e.use),"visible"in e&&n(10,v=e.visible),"features"in e&&n(11,x=e.features),"unmount"in e&&n(12,_=e.unmount),"static"in e&&n(13,E=e.static),"class"in e&&n(14,k=e.class),"style"in e&&n(15,A=e.style),"$$scope"in e&&n(59,f=e.$$scope)},e.$$.update=()=>{16896&e.$$.dirty[0]&&n(17,o="function"==typeof k?k(g):k),33280&e.$$.dirty[0]&&n(16,i="function"==typeof A?A(g):A),15360&e.$$.dirty[0]&&n(5,r=v||x&ad.Static&&E||!(x&ad.RenderStrategy&&_)),15360&e.$$.dirty[0]&&n(4,l=!v&&!(x&ad.Static&&E)&&x&ad.RenderStrategy&&!_),196624&e.$$.dirty[0]&&n(3,c={class:o,style:`${i??""}${l?" display: none":""}`||void 0}),8&e.$$.dirty[0]&&void 0===c.style&&delete c.style},[y,m,w,c,l,r,p,u,h,g,v,x,_,E,k,A,i,o,d,function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){fe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){y=e,n(0,y)},f]}!function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(ad||(ad={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(ud||(ud={}));class tf extends Ke{constructor(e){super(),We(this,e,ef,Yd,c,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:nf}=Ue,sf=e=>({}),of=e=>({...e[6]});function rf(e){let t;const n=e[24].default,s=f(n,e,e[27],of);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||134217792&o)&&m(s,n,e,e[27],(e=>64&e)(o)||!t?g(e[27]):h(n,e[27],o,sf),of)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function lf(e){let t,n,o;const i=[{...e[14],...e[7]},{as:e[0]},{slotProps:e[6]},{use:[...e[1],e[9]]},{name:"Dialog"},{"aria-describedby":e[30]},{visible:e[8]},{features:ad.RenderStrategy|ad.Static}];function r(t){e[25](t)}let l={$$slots:{default:[rf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[3]&&(l.el=e[3]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[3]))),t.$on("click",$f),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,s){const o=1073759171&s?Fe(i,[16512&s&&{...e[14],...e[7]},1&s&&{as:e[0]},64&s&&{slotProps:e[6]},514&s&&{use:[...e[1],e[9]]},i[4],1073741824&s&&{"aria-describedby":e[30]},256&s&&{visible:e[8]},0&s&&{features:ad.RenderStrategy|ad.Static}]):{};134217792&s&&(o.$$scope={dirty:s,ctx:e}),!n&&8&s&&(n=!0,o.el=e[3],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function cf(e){let t,n;return t=new Wu({props:{name:"DialogDescription",slotProps:e[6],$$slots:{default:[lf,({describedby:e})=>({30:e}),({describedby:e})=>e?1073741824:0]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};64&n&&(s.slotProps=e[6]),1207976395&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function af(e){let t,n;return t=new Xu({props:{force:!1,$$slots:{default:[cf]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function uf(e){let t,n;return t=new ed({props:{target:e[3],$$slots:{default:[af]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.target=e[3]),134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function df(e){let t,n;return t=new od({props:{$$slots:{default:[uf]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function ff(e){let t,n;return t=new Xu({props:{force:!0,$$slots:{default:[df]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function pf(e){let t,n,s,o,i,l;return t=new Pu({props:{containers:e[5],enabled:e[4],options:{initialFocus:e[2]}}}),s=new Fu({props:{element:e[3],onUpdate:e[26],$$slots:{default:[ff]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment)},m(r,c){qe(t,r,c),O(r,n,c),qe(s,r,c),o=!0,i||(l=[M(nf,"mousedown",e[12]),M(nf,"keydown",e[13])],i=!0)},p(e,[n]){const o={};32&n&&(o.containers=e[5]),16&n&&(o.enabled=e[4]),4&n&&(o.options={initialFocus:e[2]}),t.$set(o);const i={};8&n&&(i.element=e[3]),32&n&&(i.onUpdate=e[26]),134234571&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),i=!1,r(l)}}}var hf;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(hf||(hf={}));const mf="headlessui-dialog-context";function gf(e){let t=ae(mf);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Dialog /> component.`);return t}function $f(e){e.stopPropagation()}function bf(e,t,n){let o,i,r,l,c,a,u,f;const p=["as","use","open","initialFocus"];let h,m,g=b(t,p),{$$slots:y={},$$scope:w}=t,{as:v="div"}=t,{use:x=[]}=t,{open:_}=t,{initialFocus:E=null}=t;const k=rd(se(),["close"]),A=le();let S=new Set,L=hu();d(e,L,(e=>n(23,m=e)));let I=null;const T=`headlessui-dialog-${bu()}`;let O;re((()=>{l&&l()}));let N=ze({titleId:O,dialogState:o,setTitleId(e){O!==e&&n(16,O=e)},close(){A("close",!1)}});d(e,N,(e=>n(22,h=e))),ce(mf,N);let C=!1;oe((()=>n(17,C=!0))),re((()=>{c&&c()})),re((()=>{a&&a()}));return e.$$set=e=>{t=s(s({},t),$(e)),n(14,g=b(t,p)),"as"in e&&n(0,v=e.as),"use"in e&&n(1,x=e.use),"open"in e&&n(15,_=e.open),"initialFocus"in e&&n(2,E=e.initialFocus),"$$scope"in e&&n(27,w=e.$$scope)},e.$$.update=()=>{if(8421376&e.$$.dirty){if(n(15,_=void 0===_&&void 0!==L?gu(m,{[Ya.Open]:!0,[Ya.Closed]:!1}):_),!(void 0!==_||void 0!==L))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if("boolean"!=typeof _)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${_}`)}32768&e.$$.dirty&&n(18,o=_?hf.Open:hf.Closed),8650752&e.$$.dirty&&n(8,i=void 0!==L?m===Ya.Open:o===hf.Open),262144&e.$$.dirty&&n(4,r=o===hf.Open),2097176&e.$$.dirty&&n(21,(l&&l(),l=function(e,t=!0){if(!t)return;if(!e)return;let n=e;yu.add(n);for(let e of wu.keys())e.contains(n)&&(xu(e),wu.delete(e));return document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of yu)if(e.contains(t))return;1===yu.size&&(wu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),vu(e))}})),()=>{if(yu.delete(n),yu.size>0)document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!wu.has(e)){for(let t of yu)if(e.contains(t))return;wu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),vu(e)}}));else for(let e of wu.keys())xu(e),wu.delete(e)}}(I,r))),327680&e.$$.dirty&&N.update((e=>({...e,titleId:O,dialogState:o}))),1441792&e.$$.dirty&&n(20,c=(()=>{if(c&&c(),o!==hf.Open)return;if(!C)return;let e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}})()),4980744&e.$$.dirty&&n(19,a=(()=>{if(a&&a(),o!==hf.Open)return;let e=I;if(!e)return;let t=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&h.close()}));return t.observe(e),()=>t.disconnect()})()),327680&e.$$.dirty&&n(7,u={id:T,role:"dialog","aria-modal":o===hf.Open||void 0,"aria-labelledby":O}),32768&e.$$.dirty&&n(6,f={open:_})},[v,x,E,I,r,S,f,u,i,k,L,N,async function(e){let t=e.target;o===hf.Open&&1===S.size&&(_u(S,t)||(h.close(),await be(),t?.focus()))},function(e){e.key===Eu.Escape&&o===hf.Open&&(S.size>1||(e.preventDefault(),e.stopPropagation(),h.close()))},g,_,O,C,o,a,c,l,h,m,y,function(e){I=e,n(3,I)},(e,t)=>gu(e,{[Uu.Add](){n(5,S=new Set([...S,t]))},[Uu.Remove](){S.delete(t),n(5,S=new Set([...S]))}}),w]}class yf extends Ke{constructor(e){super(),We(this,e,bf,pf,c,{as:0,use:1,open:15,initialFocus:2})}}const wf=e=>({}),vf=e=>({...e[2]});function xf(e){let t;const n=e[8].default,s=f(n,e,e[9],vf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||516&o)&&m(s,n,e,e[9],(e=>4&e)(o)||!t?g(e[9]):h(n,e[9],o,wf),vf)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function _f(e){let t,n;const o=[{...e[6],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogTitle"}];let i={$$slots:{default:[xf]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new tf({props:i}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s=95&n?Fe(o,[72&n&&{...e[6],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[4]]):{};516&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Ef(e,t,n){let o,i;const r=["as","use"];let l,c=b(t,r),{$$slots:a={},$$scope:u}=t,{as:f="h2"}=t,{use:p=[]}=t;const h=rd(se());let m=gf("DialogTitle");d(e,m,(e=>n(7,l=e)));let g=`headlessui-dialog-title-${bu()}`;return oe((()=>(l.setTitleId(g),()=>l.setTitleId(void 0)))),e.$$set=e=>{t=s(s({},t),$(e)),n(6,c=b(t,r)),"as"in e&&n(0,f=e.as),"use"in e&&n(1,p=e.use),"$$scope"in e&&n(9,u=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(2,i={open:l.dialogState===hf.Open})},n(3,o={id:g}),[f,p,i,o,h,m,c,l,a,u]}class kf extends Ke{constructor(e){super(),We(this,e,Ef,_f,c,{as:0,use:1})}}const Af=e=>({}),Sf=e=>({...e[2]});function Lf(e){let t;const n=e[9].default,s=f(n,e,e[10],Sf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||1028&o)&&m(s,n,e,e[10],(e=>4&e)(o)||!t?g(e[10]):h(n,e[10],o,Af),Sf)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function If(e){let t,n;const o=[{...e[7],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogOverlay"}];let i={$$slots:{default:[Lf]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new tf({props:i}),t.$on("click",e[6]),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s=159&n?Fe(o,[136&n&&{...e[7],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[4]]):{};1028&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Tf(e,t,n){let o,i;const r=["as","use"];let l,c=b(t,r),{$$slots:a={},$$scope:u}=t,{as:f="div"}=t,{use:p=[]}=t;const h=rd(se());let m=gf("DialogOverlay");d(e,m,(e=>n(8,l=e)));let g=`headlessui-dialog-overlay-${bu()}`;return e.$$set=e=>{t=s(s({},t),$(e)),n(7,c=b(t,r)),"as"in e&&n(0,f=e.as),"use"in e&&n(1,p=e.use),"$$scope"in e&&n(10,u=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(2,i={open:l.dialogState===hf.Open})},n(3,o={id:g,"aria-hidden":!0}),[f,p,i,o,h,m,function(e){let t=e;t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),l.close())},c,l,a,u]}class Of extends Ke{constructor(e){super(),We(this,e,Tf,If,c,{as:0,use:1})}}var Nf,Cf;function Df(e,t){if(e.type)return e.type;let n=e.as??"button";return"string"==typeof n&&"button"===n.toLowerCase()||t&&t instanceof HTMLButtonElement?"button":void 0}function Pf(e,t){let n=t.resolveItems();if(n.length<=0)return null;let s=t.resolveActiveIndex(),o=s??-1,i=(()=>{switch(e.focus){case Cf.First:return n.findIndex((e=>!t.resolveDisabled(e)));case Cf.Previous:{let e=n.slice().reverse().findIndex(((e,n,s)=>!(-1!==o&&s.length-n-1>=o)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case Cf.Next:return n.findIndex(((e,n)=>!(n<=o)&&!t.resolveDisabled(e)));case Cf.Last:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case Cf.Specific:return n.findIndex((n=>t.resolveId(n)===e.id));case Cf.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===i?s:i}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Nf||(Nf={})),function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Cf||(Cf={}));const Rf=e=>({}),Uf=e=>({...e[2]});function Bf(e){let t;const n=e[17].default,s=f(n,e,e[18],Uf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262148&o)&&m(s,n,e,e[18],(e=>4&e)(o)||!t?g(e[18]):h(n,e[18],o,Rf),Uf)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Mf(e){let t,n,o,i;const r=[e[8],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"Listbox"}];let l={$$slots:{default:[Bf]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)l=s(l,r[e]);return t=new tf({props:l}),{c(){He(t.$$.fragment)},m(s,r){qe(t,s,r),n=!0,o||(i=M(window,"mousedown",e[7]),o=!0)},p(e,[n]){const s=271&n?Fe(r,[256&n&&Qe(e[8]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},r[4]]):{};262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e),o=!1,i()}}}var Ff;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Ff||(Ff={}));const Qf="headlessui-listbox-context";function jf(e){let t=ae(Qf);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Listbox /> component.`);return t}function Hf(e,t,n){let o,i;const r=["as","use","disabled","horizontal","value"];let l,c,a,u=b(t,r),{$$slots:f={},$$scope:p}=t,{as:h="div"}=t,{use:m=[]}=t,{disabled:g=!1}=t,{horizontal:y=!1}=t,{value:w}=t;const v=rd(se(),["change"]),x=le();let _=Ff.Closed,E=ze(null),k=ze(null);d(e,k,(e=>n(19,l=e)));let A=ze(null);d(e,A,(e=>n(21,a=e)));let S=[],L="",I=null,T=ze({listboxState:_,value:w,labelRef:E,buttonRef:k,optionsRef:A,options:S,searchQuery:L,activeOptionIndex:I,disabled:g,orientation:o,closeListbox(){g||_!==Ff.Closed&&(n(12,_=Ff.Closed),n(15,I=null))},openListbox(){g||_!==Ff.Open&&n(12,_=Ff.Open)},goToOption(e,t){if(g)return;if(_===Ff.Closed)return;let s=Pf(e===Cf.Specific?{focus:Cf.Specific,id:t}:{focus:e},{resolveItems:()=>S,resolveActiveIndex:()=>I,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});""===L&&I===s||(n(15,I=s),n(14,L=""))},search(e){if(g)return;if(_===Ff.Closed)return;n(14,L+=e.toLowerCase());let t=(null!==I?S.slice(I+1).concat(S.slice(0,I+1)):S).find((e=>!e.dataRef.disabled&&e.dataRef.textValue.startsWith(L))),s=t?S.indexOf(t):-1;-1!==s&&s!==I&&n(15,I=s)},clearSearch(){g||_!==Ff.Closed&&""!==L&&n(14,L="")},registerOption(e,t){if(!a)return void n(13,S=[...S,{id:e,dataRef:t}]);let s=null!==I?S[I]:null,o=Array.from(a.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[...S,{id:e,dataRef:t}];i.sort(((e,t)=>o[e.id]-o[t.id])),n(13,S=i),n(15,I=null===s?null:S.indexOf(s))},unregisterOption(e){let t=S.slice(),s=null!==I?t[I]:null,o=t.findIndex((t=>t.id===e));-1!==o&&t.splice(o,1),n(13,S=t),n(15,I=o===I||null===s?null:t.indexOf(s))},select(e){g||x("change",e)}});d(e,T,(e=>n(20,c=e))),ce(Qf,T);let O=ze(Ya.Closed);return mu(O),e.$$set=e=>{t=s(s({},t),$(e)),n(8,u=b(t,r)),"as"in e&&n(0,h=e.as),"use"in e&&n(1,m=e.use),"disabled"in e&&n(9,g=e.disabled),"horizontal"in e&&n(10,y=e.horizontal),"value"in e&&n(11,w=e.value),"$$scope"in e&&n(18,p=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(16,o=y?"horizontal":"vertical"),4096&e.$$.dirty&&O.set(gu(_,{[Ff.Open]:Ya.Open,[Ff.Closed]:Ya.Closed})),129536&e.$$.dirty&&T.update((e=>({...e,listboxState:_,value:w,options:S,searchQuery:L,activeOptionIndex:I,disabled:g,orientation:o}))),4096&e.$$.dirty&&n(2,i={open:_===Ff.Open})},[h,m,i,v,k,A,T,function(e){let t=e.target,n=document.activeElement;_===Ff.Open&&(l?.contains(t)||(a?.contains(t)||c.closeListbox(),n!==document.body&&n?.contains(t)||e.defaultPrevented||l?.focus({preventScroll:!0})))},u,g,y,w,_,S,L,I,o,f,p]}class qf extends Ke{constructor(e){super(),We(this,e,Hf,Mf,c,{as:0,use:1,disabled:9,horizontal:10,value:11})}}const Gf=e=>({}),Wf=e=>({...e[3]});function Kf(e){let t;const n=e[17].default,s=f(n,e,e[19],Wf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Gf),Wf)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Vf(e){let t,n,o;const i=[e[13],e[4],{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[5]]},{name:"ListboxButton"}];function r(t){e[18](t)}let l={$$slots:{default:[Kf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[2]))),t.$on("click",e[12]),t.$on("keydown",e[10]),t.$on("keyup",e[11]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=8251&s?Fe(i,[8192&s&&Qe(e[13]),16&s&&Qe(e[4]),1&s&&{as:e[0]},8&s&&{slotProps:e[3]},34&s&&{use:[...e[1],e[5]]},i[5]]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function zf(e,t,n){let o,i;const r=["as","use"];let l,c,a,u,f=b(t,r),{$$slots:p={},$$scope:h}=t,{as:m="button"}=t,{use:g=[]}=t;const y=rd(se());let w=jf("ListboxButton");d(e,w,(e=>n(14,l=e)));let v=`headlessui-listbox-button-${bu()}`,x=l.buttonRef;d(e,x,(e=>n(2,u=e)));let _=l.optionsRef;d(e,_,(e=>n(16,a=e)));let E=l.labelRef;return d(e,E,(e=>n(15,c=e))),e.$$set=e=>{n(21,t=s(s({},t),$(e))),n(13,f=b(t,r)),"as"in e&&n(0,m=e.as),"use"in e&&n(1,g=e.use),"$$scope"in e&&n(19,h=e.$$scope)},e.$$.update=()=>{n(4,o={id:v,type:Df({type:t.type,as:m},u),"aria-haspopup":!0,"aria-controls":a?.id,"aria-expanded":l.disabled?void 0:l.listboxState===Ff.Open,"aria-labelledby":c?[c?.id,v].join(" "):void 0,disabled:!0===l.disabled||void 0}),16384&e.$$.dirty&&n(3,i={open:l.listboxState===Ff.Open,disabled:l.disabled})},t=$(t),[m,g,u,i,o,y,w,x,_,E,async function(e){let t=e;switch(t.key){case Eu.Space:case Eu.Enter:case Eu.ArrowDown:t.preventDefault(),l.openListbox(),await be(),a?.focus({preventScroll:!0}),l.value||l.goToOption(Cf.First);break;case Eu.ArrowUp:t.preventDefault(),l.openListbox(),await be(),a?.focus({preventScroll:!0}),l.value||l.goToOption(Cf.Last)}},function(e){let t=e;if(t.key===Eu.Space)t.preventDefault()},async function(e){let t=e;l.disabled||(l.listboxState===Ff.Open?(l.closeListbox(),await be(),u?.focus({preventScroll:!0})):(t.preventDefault(),l.openListbox(),await be(),a?.focus({preventScroll:!0})))},f,l,c,a,p,function(e){u=e,x.set(u)},h]}class Xf extends Ke{constructor(e){super(),We(this,e,zf,Vf,c,{as:0,use:1})}}const Jf=e=>({}),Zf=e=>({...e[2]});function Yf(e){let t;const n=e[18].default,s=f(n,e,e[20],Zf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||1048580&o)&&m(s,n,e,e[20],(e=>4&e)(o)||!t?g(e[20]):h(n,e[20],o,Jf),Zf)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function ep(e){let t,n,o;const i=[e[13],e[4],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[6]]},{name:"ListboxOptions"},{visible:e[3]},{features:ad.RenderStrategy|ad.Static}];function r(t){e[19](t)}let l={$$slots:{default:[Yf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[5]&&(l.el=e[5]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[5]))),t.$on("keydown",e[11]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=8287&s?Fe(i,[8192&s&&Qe(e[13]),16&s&&Qe(e[4]),1&s&&{as:e[0]},4&s&&{slotProps:e[2]},66&s&&{use:[...e[1],e[6]]},i[5],8&s&&{visible:e[3]},0&s&&{features:ad.RenderStrategy|ad.Static}]):{};1048580&s&&(o.$$scope={dirty:s,ctx:e}),!n&&32&s&&(n=!0,o.el=e[5],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function tp(e,t,n){let o,i,r;const l=["as","use"];let c,a,u,f,p,h=b(t,l),{$$slots:m={},$$scope:g}=t,{as:y="ul"}=t,{use:w=[]}=t;const v=rd(se());let x=jf("ListboxOptions");d(e,x,(e=>n(14,c=e)));let _=`headlessui-listbox-options-${bu()}`,E=c.optionsRef;d(e,E,(e=>n(5,p=e)));let k=c.buttonRef;d(e,k,(e=>n(16,u=e)));let A=c.labelRef;d(e,A,(e=>n(17,f=e)));let S=null;let L=hu();return d(e,L,(e=>n(15,a=e))),e.$$set=e=>{t=s(s({},t),$(e)),n(13,h=b(t,l)),"as"in e&&n(0,y=e.as),"use"in e&&n(1,w=e.use),"$$scope"in e&&n(20,g=e.$$scope)},e.$$.update=()=>{212992&e.$$.dirty&&n(4,o={"aria-activedescendant":null===c.activeOptionIndex?void 0:c.options[c.activeOptionIndex]?.id,"aria-labelledby":f?.id??u?.id,"aria-orientation":c.orientation,id:_,role:"listbox",tabIndex:0}),49152&e.$$.dirty&&n(3,i=void 0!==L?a===Ya.Open:c.listboxState===Ff.Open),16384&e.$$.dirty&&n(2,r={open:c.listboxState===Ff.Open})},[y,w,r,i,o,p,v,x,E,k,A,async function(e){let t=e;switch(S&&clearTimeout(S),t.key){case Eu.Space:if(""!==c.searchQuery)return t.preventDefault(),t.stopPropagation(),c.search(t.key);case Eu.Enter:if(t.preventDefault(),t.stopPropagation(),null!==c.activeOptionIndex){let{dataRef:e}=c.options[c.activeOptionIndex];c.select(e.value)}c.closeListbox(),await be(),u?.focus({preventScroll:!0});break;case gu(c.orientation,{vertical:Eu.ArrowDown,horizontal:Eu.ArrowRight}):return t.preventDefault(),t.stopPropagation(),c.goToOption(Cf.Next);case gu(c.orientation,{vertical:Eu.ArrowUp,horizontal:Eu.ArrowLeft}):return t.preventDefault(),t.stopPropagation(),c.goToOption(Cf.Previous);case Eu.Home:case Eu.PageUp:return t.preventDefault(),t.stopPropagation(),c.goToOption(Cf.First);case Eu.End:case Eu.PageDown:return t.preventDefault(),t.stopPropagation(),c.goToOption(Cf.Last);case Eu.Escape:t.preventDefault(),t.stopPropagation(),c.closeListbox(),await be(),u?.focus({preventScroll:!0});break;case Eu.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(c.search(t.key),S=setTimeout((()=>c.clearSearch()),350))}},L,h,c,a,u,f,m,function(e){p=e,E.set(p)},g]}class np extends Ke{constructor(e){super(),We(this,e,tp,ep,c,{as:0,use:1})}}const sp=e=>({}),op=e=>({...e[2]});function ip(e){let t;const n=e[17].default,s=f(n,e,e[18],op);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262148&o)&&m(s,n,e,e[18],(e=>4&e)(o)||!t?g(e[18]):h(n,e[18],o,sp),op)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function rp(e){let t,n;const o=[e[11],e[3],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"ListboxOption"}];let i={$$slots:{default:[ip]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new tf({props:i}),t.$on("click",e[7]),t.$on("focus",e[8]),t.$on("pointermove",e[9]),t.$on("mousemove",e[9]),t.$on("pointerleave",e[10]),t.$on("mouseleave",e[10]),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s=2079&n?Fe(o,[2048&n&&Qe(e[11]),8&n&&Qe(e[3]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[5]]):{};262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function lp(e,t,n){let o,i,r,l,c;const a=["as","use","value","disabled"];let u,f,p=b(t,a),{$$slots:h={},$$scope:m}=t,{as:g="li"}=t,{use:y=[]}=t,{value:w}=t,{disabled:v=!1}=t;const x=rd(se());let _=jf("ListboxOption");d(e,_,(e=>n(16,u=e)));let E=`headlessui-listbox-option-${bu()}`,k=u.buttonRef;d(e,k,(e=>n(23,f=e))),oe((()=>{let e=document.getElementById(E)?.textContent?.toLowerCase().trim();void 0!==e&&(r.textValue=e)})),oe((()=>u.registerOption(E,r))),re((()=>u.unregisterOption(E)));let A=u.listboxState,S=i,L=o;return e.$$set=e=>{t=s(s({},t),$(e)),n(11,p=b(t,a)),"as"in e&&n(0,g=e.as),"use"in e&&n(1,y=e.use),"value"in e&&n(12,w=e.value),"disabled"in e&&n(13,v=e.disabled),"$$scope"in e&&n(18,m=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&n(15,o=null!==u.activeOptionIndex&&u.options[u.activeOptionIndex].id===E),69632&e.$$.dirty&&n(14,i=u.value===w),12288&e.$$.dirty&&(r={disabled:v,value:w,textValue:""}),114688&e.$$.dirty&&async function(e,t,n){await be(),e===A&&t===S||e===Ff.Open&&t&&u.goToOption(Cf.Specific,E),e===A&&n===L||e===Ff.Open&&n&&document.getElementById(E)?.scrollIntoView?.({block:"nearest"}),A=e,S=t,L=n}(u.listboxState,i,o),24576&e.$$.dirty&&n(3,l={id:E,role:"option",tabIndex:!0===v?void 0:-1,"aria-disabled":!0===v||void 0,"aria-selected":!0===i?i:void 0}),57344&e.$$.dirty&&n(2,c={active:o,selected:i,disabled:v})},[g,y,c,l,x,_,k,async function(e){if(v)return e.preventDefault();u.select(w),u.closeListbox(),await be(),f?.focus({preventScroll:!0})},function(){if(v)return u.goToOption(Cf.Nothing);u.goToOption(Cf.Specific,E)},function(){v||o||u.goToOption(Cf.Specific,E)},function(){v||o&&u.goToOption(Cf.Nothing)},p,w,v,i,o,u,h,m]}class cp extends Ke{constructor(e){super(),We(this,e,lp,rp,c,{as:0,use:1,value:12,disabled:13})}}const ap=e=>({}),up=e=>({...e[2]});function dp(e){let t;const n=e[14].default,s=f(n,e,e[15],up);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||32772&o)&&m(s,n,e,e[15],(e=>4&e)(o)||!t?g(e[15]):h(n,e[15],o,ap),up)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function fp(e){let t,n,o,i;const r=[e[9],{use:[...e[0],e[3]]},{as:e[1]},{slotProps:e[2]},{name:"Menu"}];let l={$$slots:{default:[dp]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)l=s(l,r[e]);return t=new tf({props:l}),{c(){He(t.$$.fragment)},m(s,r){qe(t,s,r),n=!0,o||(i=M(window,"mousedown",e[7]),o=!0)},p(e,[n]){const s=527&n?Fe(r,[512&n&&Qe(e[9]),9&n&&{use:[...e[0],e[3]]},2&n&&{as:e[1]},4&n&&{slotProps:e[2]},r[4]]):{};32772&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e),o=!1,i()}}}var pp;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(pp||(pp={}));const hp="headlessui-menu-context";function mp(e){let t=ae(hp);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Menu /> component.`);return t}function gp(e,t,n){let o;const i=["use","as"];let r,l,c,a,u=b(t,i),{$$slots:f={},$$scope:p}=t,{use:h=[]}=t,{as:m="div"}=t;const g=rd(se());let y=pp.Closed,v=ze(null);d(e,v,(e=>n(17,l=e)));let x=ze(null);d(e,x,(e=>n(19,a=e)));let _=[],E="",k=null,A=ze({menuState:y,buttonStore:v,itemsStore:x,items:_,searchQuery:E,activeItemIndex:k,closeMenu:()=>{n(10,y=pp.Closed),n(13,k=null)},openMenu:()=>n(10,y=pp.Open),goToItem(e,t){let s=Pf(e===Cf.Specific?{focus:Cf.Specific,id:t}:{focus:e},{resolveItems:()=>_,resolveActiveIndex:()=>k,resolveId:e=>e.id,resolveDisabled:e=>e.data.disabled});""===E&&k===s||(n(12,E=""),n(13,k=s))},search(e){n(12,E+=e.toLowerCase());let t=(null!==k?_.slice(k+1).concat(_.slice(0,k+1)):_).find((e=>e.data.textValue.startsWith(E)&&!e.data.disabled)),s=t?_.indexOf(t):-1;-1!==s&&s!==k&&n(13,k=s)},clearSearch(){n(12,E="")},registerItem(e,t){if(!a)return void n(11,_=[..._,{id:e,data:t}]);let s=null!==k?_[k]:null,o=Array.from(a.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[..._,{id:e,data:t}];i.sort(((e,t)=>o[e.id]-o[t.id])),n(11,_=i),n(13,k=null===s?null:_.indexOf(s))},unregisterItem(e){let t=_.slice(),s=null!==k?t[k]:null,o=t.findIndex((t=>t.id===e));-1!==o&&t.splice(o,1),n(11,_=t),n(13,k=o===k||null===s?null:t.indexOf(s))}});d(e,A,(e=>n(18,c=e))),ce(hp,A);let S=ze(Ya.Closed);return d(e,S,(e=>n(16,r=e))),mu(S),e.$$set=e=>{t=s(s({},t),$(e)),n(9,u=b(t,i)),"use"in e&&n(0,h=e.use),"as"in e&&n(1,m=e.as),"$$scope"in e&&n(15,p=e.$$scope)},e.$$.update=()=>{15360&e.$$.dirty&&A.update((e=>({...e,menuState:y,buttonStore:v,itemsStore:x,items:_,searchQuery:E,activeItemIndex:k}))),1024&e.$$.dirty&&w(S,r=gu(y,{[pp.Open]:Ya.Open,[pp.Closed]:Ya.Closed}),r),1024&e.$$.dirty&&n(2,o={open:y===pp.Open})},[h,m,o,g,v,x,A,function(e){let t=e.target,n=document.activeElement;y===pp.Open&&(l?.contains(t)||(a?.contains(t)||c.closeMenu(),n!==document.body&&n?.contains(t)||e.defaultPrevented||l?.focus({preventScroll:!0})))},S,u,y,_,E,k,f,p]}class $p extends Ke{constructor(e){super(),We(this,e,gp,fp,c,{use:0,as:1})}}const bp=e=>({}),yp=e=>({...e[3]});function wp(e){let t;const n=e[16].default,s=f(n,e,e[18],yp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262152&o)&&m(s,n,e,e[18],(e=>8&e)(o)||!t?g(e[18]):h(n,e[18],o,bp),yp)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function vp(e){let t,n,o;const i=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[7]]},{name:"MenuButton"}];function r(t){e[17](t)}let l={$$slots:{default:[wp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[2]))),t.$on("click",e[11]),t.$on("keydown",e[9]),t.$on("keyup",e[10]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=4251&s?Fe(i,[4112&s&&{...e[12],...e[4]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},130&s&&{use:[...e[1],e[7]]},i[4]]):{};262152&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function xp(e,n,o){let i,r,l,c;const u=["as","use","disabled"];let f,p,h,m=b(n,u),g=t,y=t;e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>y()));let{$$slots:w={},$$scope:v}=n,{as:x="button"}=n,{use:_=[]}=n,{disabled:E=!1}=n;const k=rd(se()),A=mp("MenuButton");d(e,A,(e=>o(14,f=e)));const S=`headlessui-menu-button-${bu()}`;return e.$$set=e=>{o(20,n=s(s({},n),$(e))),o(12,m=b(n,u)),"as"in e&&o(0,x=e.as),"use"in e&&o(1,_=e.use),"disabled"in e&&o(13,E=e.disabled),"$$scope"in e&&o(18,v=e.$$scope)},e.$$.update=()=>{16384&e.$$.dirty&&(o(6,i=f.buttonStore),y(),y=a(i,(e=>o(2,h=e)))),16384&e.$$.dirty&&(o(5,r=f.itemsStore),g(),g=a(r,(e=>o(15,p=e)))),o(4,l={id:S,type:Df({type:n.type,as:x},h),disabled:!!E||void 0,"aria-haspopup":!0,"aria-controls":p?.id,"aria-expanded":E?void 0:f.menuState===pp.Open}),16384&e.$$.dirty&&o(3,c={open:f.menuState===pp.Open})},n=$(n),[x,_,h,c,l,r,i,k,A,async function(e){let t=e;switch(t.key){case Eu.Space:case Eu.Enter:case Eu.ArrowDown:t.preventDefault(),t.stopPropagation(),f.openMenu(),await be(),p?.focus({preventScroll:!0}),f.goToItem(Cf.First);break;case Eu.ArrowUp:t.preventDefault(),t.stopPropagation(),f.openMenu(),await be(),p?.focus({preventScroll:!0}),f.goToItem(Cf.Last)}},function(e){let t=e;if(t.key===Eu.Space)t.preventDefault()},async function(e){let t=e;E||(f.menuState===pp.Open?(f.closeMenu(),await be(),h?.focus({preventScroll:!0})):(t.preventDefault(),t.stopPropagation(),f.openMenu(),await be(),p?.focus({preventScroll:!0})))},m,E,f,p,w,function(e){h=e,i.set(h)},v]}class _p extends Ke{constructor(e){super(),We(this,e,xp,vp,c,{as:0,use:1,disabled:13})}}const Ep=e=>({}),kp=e=>({...e[3]});function Ap(e){let t;const n=e[17].default,s=f(n,e,e[19],kp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Ep),kp)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Sp(e){let t,n,o;const i=[{...e[13],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[8]]},{name:"MenuItems"},{visible:e[5]},{features:ad.RenderStrategy|ad.Static}];function r(t){e[18](t)}let l={$$slots:{default:[Ap]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[2]))),t.$on("keydown",e[11]),t.$on("keyup",e[12]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=8507&s?Fe(i,[8208&s&&{...e[13],...e[4]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},258&s&&{use:[...e[1],e[8]]},i[4],32&s&&{visible:e[5]},0&s&&{features:ad.RenderStrategy|ad.Static}]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function Lp(e,n,o){let i,r,l,c,u;const f=["as","use"];let p,h,m,g,y=b(n,f),w=t,v=t;e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>v()));let{$$slots:x={},$$scope:_}=n,{as:E="div"}=n,{use:k=[]}=n;const A=rd(se()),S=mp("MenuItems");d(e,S,(e=>o(14,p=e)));const L=`headlessui-menu-items-${bu()}`;let I=null,T=hu();return d(e,T,(e=>o(16,g=e))),e.$$set=e=>{n=s(s({},n),$(e)),o(13,y=b(n,f)),"as"in e&&o(0,E=e.as),"use"in e&&o(1,k=e.use),"$$scope"in e&&o(19,_=e.$$scope)},e.$$.update=()=>{16384&e.$$.dirty&&(o(7,i=p.buttonStore),w(),w=a(i,(e=>o(15,h=e)))),16384&e.$$.dirty&&(o(6,r=p.itemsStore),v(),v=a(r,(e=>o(2,m=e)))),81920&e.$$.dirty&&o(5,l=void 0!==T?g===Ya.Open:p.menuState===pp.Open),16388&e.$$.dirty&&function({container:e,accept:t,walk:n,enabled:s}){let o=e;if(!o)return;if(void 0!==s&&!s)return;let i=Object.assign((e=>t(e)),{acceptNode:t}),r=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,i,!1);for(;r.nextNode();)n(r.currentNode)}({container:m,enabled:p.menuState===pp.Open,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}}),49152&e.$$.dirty&&o(4,c={"aria-activedescendant":null===p.activeItemIndex?void 0:p.items[p.activeItemIndex]?.id,"aria-labelledby":h?.id,id:L,role:"menu",tabIndex:0}),16384&e.$$.dirty&&o(3,u={open:p.menuState===pp.Open})},[E,k,m,u,c,l,r,i,A,S,T,async function(e){I&&clearTimeout(I);let t=e;switch(t.key){case Eu.Space:if(""!==p.searchQuery)return t.preventDefault(),t.stopPropagation(),p.search(t.key);case Eu.Enter:if(t.preventDefault(),t.stopPropagation(),null!==p.activeItemIndex){let{id:e}=p.items[p.activeItemIndex];document.getElementById(e)?.click()}p.closeMenu(),await be(),h?.focus({preventScroll:!0});break;case Eu.ArrowDown:return t.preventDefault(),t.stopPropagation(),p.goToItem(Cf.Next);case Eu.ArrowUp:return t.preventDefault(),t.stopPropagation(),p.goToItem(Cf.Previous);case Eu.Home:case Eu.PageUp:return t.preventDefault(),t.stopPropagation(),p.goToItem(Cf.First);case Eu.End:case Eu.PageDown:return t.preventDefault(),t.stopPropagation(),p.goToItem(Cf.Last);case Eu.Escape:t.preventDefault(),t.stopPropagation(),p.closeMenu(),await be(),h?.focus({preventScroll:!0});break;case Eu.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(p.search(t.key),I=setTimeout((()=>p.clearSearch()),350))}},function(e){let t=e;if(t.key===Eu.Space)t.preventDefault()},y,p,h,g,x,function(e){m=e,r.set(m)},_]}class Ip extends Ke{constructor(e){super(),We(this,e,Lp,Sp,c,{as:0,use:1})}}const Tp=e=>({}),Op=e=>({...e[3]});function Np(e){let t;const n=e[17].default,s=f(n,e,e[19],Op);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Tp),Op)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Cp(e){let t,n,o;const i=[{...e[12],...e[4]},{use:[...e[1],e[6]]},{as:e[0]},{slotProps:e[3]},{name:"MenuItem"}];function r(t){e[18](t)}let l={$$slots:{default:[Np]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[2]))),t.$on("click",e[8]),t.$on("focus",e[9]),t.$on("pointermove",e[10]),t.$on("mousemove",e[10]),t.$on("pointerleave",e[11]),t.$on("mouseleave",e[11]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=4187&s?Fe(i,[4112&s&&{...e[12],...e[4]},66&s&&{use:[...e[1],e[6]]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},i[4]]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function Dp(e,n,o){let i,r,l,c,u;const f=["as","use","disabled"];let p,h,m=b(n,f),g=t;e.$$.on_destroy.push((()=>g()));let{$$slots:y={},$$scope:w}=n,{as:v="a"}=n,{use:x=[]}=n,{disabled:_=!1}=n;const E=rd(se(),[{name:"click",shouldExclude:()=>_}]),k=mp("MenuItem");d(e,k,(e=>o(16,p=e)));const A=`headlessui-menu-item-${bu()}`;let S,L={disabled:_,textValue:l};return oe((async()=>{p.registerItem(A,L)})),re((()=>{p.unregisterItem(A)})),ie((async()=>{p.menuState===pp.Open&&i&&(await be(),S?.scrollIntoView?.({block:"nearest"}))})),e.$$set=e=>{n=s(s({},n),$(e)),o(12,m=b(n,f)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"disabled"in e&&o(13,_=e.disabled),"$$scope"in e&&o(19,w=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&o(14,i=null!==p.activeItemIndex&&p.items[p.activeItemIndex].id===A),65536&e.$$.dirty&&(o(5,r=p.buttonStore),g(),g=a(r,(e=>o(21,h=e)))),4&e.$$.dirty&&o(15,l=S?.textContent?.toLowerCase().trim()||""),8192&e.$$.dirty&&(L.disabled=_),32768&e.$$.dirty&&(L.textValue=l),8192&e.$$.dirty&&o(4,c={id:A,role:"menuitem",tabIndex:!0===_?void 0:-1,"aria-disabled":!0===_||void 0}),24576&e.$$.dirty&&o(3,u={active:i,disabled:_})},[v,x,S,u,c,r,E,k,async function(e){if(_)return e.preventDefault();p.closeMenu(),h?.focus({preventScroll:!0})},function(){if(_)return p.goToItem(Cf.Nothing);p.goToItem(Cf.Specific,A)},function(){_||i||p.goToItem(Cf.Specific,A)},function(){_||i&&p.goToItem(Cf.Nothing)},m,_,i,l,p,y,function(e){S=e,o(2,S)},w]}class Pp extends Ke{constructor(e){super(),We(this,e,Dp,Cp,c,{as:0,use:1,disabled:13})}}var Rp;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Rp||(Rp={}));const Up=e=>({}),Bp=e=>({...e[3]}),Mp=e=>({}),Fp=e=>({...e[3]});function Qp(e){let t,n;const o=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[6]]},{name:"Switch"}];let i={$$slots:{default:[Hp]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new tf({props:i}),t.$on("click",e[10]),t.$on("keyup",e[11]),t.$on("keypress",Wp),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s=4187&n?Fe(o,[4112&n&&{...e[12],...e[4]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},66&n&&{use:[...e[1],e[6]]},o[4]]):{};524296&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function jp(e){let t,n,o;const i=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[6]]},{name:"Switch"}];function r(t){e[18](t)}let l={$$slots:{default:[qp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[2]))),t.$on("click",e[10]),t.$on("keyup",e[11]),t.$on("keypress",Wp),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,s){const o=4187&s?Fe(i,[4112&s&&{...e[12],...e[4]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},66&s&&{use:[...e[1],e[6]]},i[4]]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function Hp(e){let t;const n=e[17].default,s=f(n,e,e[19],Bp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Up),Bp)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function qp(e){let t;const n=e[17].default,s=f(n,e,e[19],Fp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Mp),Fp)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Gp(e){let t,n,s,o;const i=[jp,Qp],r=[];function l(e,t){return e[5]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=B()},m(e,n){r[t].m(e,n),O(e,s,n),o=!0},p(e,[o]){let c=t;t=l(e),t===c?r[t].p(e,o):(Te(),Ce(r[c],1,1,(()=>{r[c]=null})),Oe(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),Ne(n,1),n.m(s.parentNode,s))},i(e){o||(Ne(n),o=!0)},o(e){Ce(n),o=!1},d(e){r[t].d(e),e&&N(s)}}}function Wp(e){e.preventDefault()}function Kp(e,n,o){let i,r,l;const c=["as","use","checked"];let u,f,p,h,m=b(n,c),g=t;e.$$.on_destroy.push((()=>g()));let{$$slots:y={},$$scope:w}=n,{as:v="button"}=n,{use:x=[]}=n,{checked:_=!1}=n;const E=rd(se(),["change"]),k=le();let A=ae("headlessui-switch-context");d(e,A,(e=>o(16,h=e)));let S=ae("headlessui-label-context");d(e,S,(e=>o(15,f=e)));let L=ae(qu);d(e,L,(e=>o(14,u=e)));let I=`headlessui-switch-${bu()}`;function T(){k("change",!_)}return e.$$set=e=>{o(23,n=s(s({},n),$(e))),o(12,m=b(n,c)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"checked"in e&&o(13,_=e.checked),"$$scope"in e&&o(19,w=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&(o(5,i=h?.switchStore),g(),g=a(i,(e=>o(2,p=e)))),o(4,r={id:I,role:"switch",type:Df({type:n.type,as:v},p),tabIndex:0,"aria-checked":_,"aria-labelledby":f?.labelIds,"aria-describedby":u?.descriptionIds}),8192&e.$$.dirty&&o(3,l={checked:_})},n=$(n),[v,x,p,l,r,i,E,A,S,L,function(e){e.preventDefault(),T()},function(e){let t=e;t.key!==Eu.Tab&&t.preventDefault(),t.key===Eu.Space&&T()},m,_,u,f,h,y,function(e){p=e,i.set(p)},w]}class Vp extends Ke{constructor(e){super(),We(this,e,Kp,Gp,c,{as:0,use:1,checked:13})}}const zp=e=>({}),Xp=e=>({...e[2]});function Jp(e){let t;const n=e[12].default,s=f(n,e,e[13],Xp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||8196&o)&&m(s,n,e,e[13],(e=>4&e)(o)||!t?g(e[13]):h(n,e[13],o,zp),Xp)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Zp(e){let t,n;const o=[e[5],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"TabGroup"}];let i={$$slots:{default:[Jp]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new tf({props:i}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s=47&n?Fe(o,[32&n&&Qe(e[5]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},o[4]]):{};8196&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}const Yp="headlessui-tabs-context";function eh(e){let t=ae(Yp);if(void 0===t)throw new Error(`<${e} /> is missing a parent <TabGroup /> component.`);return t}function th(e,t,n){let o;const i=["as","use","defaultIndex","vertical","manual"];let r,l=b(t,i),{$$slots:c={},$$scope:a}=t,{as:u="div"}=t,{use:f=[]}=t,{defaultIndex:p=0}=t,{vertical:h=!1}=t,{manual:m=!1}=t;const g=rd(se(),["change"]),y=le();let w=null,v=[],x=[],_=ze(null);d(e,_,(e=>n(14,r=e)));let E=ze({selectedIndex:w,orientation:h?"vertical":"horizontal",activation:m?"manual":"auto",tabs:v,panels:x,listRef:_,setSelectedIndex(e){w!==e&&(n(9,w=e),y("change",e))},registerTab(e){if(v.includes(e))return;if(!r)return void n(10,v=[...v,e]);let t=null!==w?v[w]:null,s=Array.from(r.querySelectorAll('[id^="headlessui-tabs-tab-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),o=[...v,e];o.sort(((e,t)=>s[e.id]-s[t.id])),n(10,v=o),n(9,w=null===t?null:v.indexOf(t))},unregisterTab(e){n(10,v=v.filter((t=>t!==e)))},registerPanel(e){x.includes(e)||n(11,x=[...x,e])},unregisterPanel(e){n(11,x=x.filter((t=>t!==e)))}});return ce(Yp,E),oe((()=>{if(v.length<=0)return;if(null!==w)return;let e=v.filter(Boolean),t=e.filter((e=>!e.hasAttribute("disabled")));if(!(t.length<=0))if(p<0)n(9,w=e.indexOf(t[0]));else if(p>e.length)n(9,w=e.indexOf(t[t.length-1]));else{let s=e.slice(0,p),o=[...e.slice(p),...s].find((e=>t.includes(e)));if(!o)return;n(9,w=e.indexOf(o))}})),e.$$set=e=>{t=s(s({},t),$(e)),n(5,l=b(t,i)),"as"in e&&n(0,u=e.as),"use"in e&&n(1,f=e.use),"defaultIndex"in e&&n(6,p=e.defaultIndex),"vertical"in e&&n(7,h=e.vertical),"manual"in e&&n(8,m=e.manual),"$$scope"in e&&n(13,a=e.$$scope)},e.$$.update=()=>{3968&e.$$.dirty&&E.update((e=>({...e,selectedIndex:w,orientation:h?"vertical":"horizontal",activation:m?"manual":"auto",tabs:v,panels:x}))),512&e.$$.dirty&&n(2,o={selectedIndex:w})},[u,f,o,g,_,l,p,h,m,w,v,x,c,a]}class nh extends Ke{constructor(e){super(),We(this,e,th,Zp,c,{as:0,use:1,defaultIndex:6,vertical:7,manual:8})}}const sh=e=>({}),oh=e=>({...e[5]});function ih(e){let t;const n=e[17].default,s=f(n,e,e[19],oh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524320&o)&&m(s,n,e,e[19],(e=>32&e)(o)||!t?g(e[19]):h(n,e[19],o,sh),oh)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function rh(e){let t,n,o;const i=[{...e[12],...e[3]},{as:e[0]},{slotProps:e[5]},{use:[...e[1],e[7]]},{name:"Tab"}];function r(t){e[18](t)}let c={$$slots:{default:[ih]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)c=s(c,i[e]);return void 0!==e[2]&&(c.el=e[2]),t=new tf({props:c}),fe.push((()=>je(t,"el",r,e[2]))),t.$on("keydown",e[9]),t.$on("click",e[11]),t.$on("focus",(function(){l("manual"===e[4].activation?e[10]:e[11])&&("manual"===e[4].activation?e[10]:e[11]).apply(this,arguments)})),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(s,[o]){e=s;const r=4267&o?Fe(i,[4104&o&&{...e[12],...e[3]},1&o&&{as:e[0]},32&o&&{slotProps:e[5]},130&o&&{use:[...e[1],e[7]]},i[4]]):{};524320&o&&(r.$$scope={dirty:o,ctx:e}),!n&&4&o&&(n=!0,r.el=e[2],we((()=>n=!1))),t.$set(r)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function lh(e,n,o){let i,r,l,c,u;const f=["as","use","disabled"];let p,h,m=b(n,f),g=t;e.$$.on_destroy.push((()=>g()));let{$$slots:y={},$$scope:w}=n,{as:v="button"}=n,{use:x=[]}=n,{disabled:_=!1}=n;const E=rd(se());let k=eh("Tab");d(e,k,(e=>o(4,p=e)));let A=`headlessui-tabs-tab-${bu()}`,S=null;return oe((()=>(p.registerTab(S),()=>p.unregisterTab(S)))),e.$$set=e=>{o(21,n=s(s({},n),$(e))),o(12,m=b(n,f)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"disabled"in e&&o(13,_=e.disabled),"$$scope"in e&&o(19,w=e.$$scope)},e.$$.update=()=>{20&e.$$.dirty&&o(15,i=S?p.tabs.indexOf(S):-1),32784&e.$$.dirty&&o(14,r=i===p.selectedIndex),32784&e.$$.dirty&&(o(6,l=p.panels[i]?.ref),g(),g=a(l,(e=>o(16,h=e)))),o(3,c={id:A,role:"tab",type:Df({type:n.type,as:v},S),"aria-controls":h?p.panels[i]?.id:void 0,"aria-selected":r,tabIndex:r?0:-1,disabled:!!_||void 0}),e.$$.dirty,16384&e.$$.dirty&&o(5,u={selected:r})},n=$(n),[v,x,S,c,p,u,l,E,k,function(e){let t=e,n=p.tabs.filter(Boolean);if(t.key===Eu.Space||t.key===Eu.Enter)return t.preventDefault(),t.stopPropagation(),void p.setSelectedIndex(i);switch(t.key){case Eu.Home:case Eu.PageUp:return t.preventDefault(),t.stopPropagation(),Ou(n,Au.First);case Eu.End:case Eu.PageDown:return t.preventDefault(),t.stopPropagation(),Ou(n,Au.Last)}return gu(p.orientation,{vertical:()=>t.key===Eu.ArrowUp?Ou(n,Au.Previous|Au.WrapAround):t.key===Eu.ArrowDown?Ou(n,Au.Next|Au.WrapAround):void 0,horizontal:()=>t.key===Eu.ArrowLeft?Ou(n,Au.Previous|Au.WrapAround):t.key===Eu.ArrowRight?Ou(n,Au.Next|Au.WrapAround):void 0})},function(){S?.focus()},function(){_||(S?.focus(),p.setSelectedIndex(i))},m,_,r,i,h,y,function(e){S=e,o(2,S)},w]}class ch extends Ke{constructor(e){super(),We(this,e,lh,rh,c,{as:0,use:1,disabled:13})}}const ah=e=>({}),uh=e=>({...e[2]});function dh(e){let t;const n=e[10].default,s=f(n,e,e[12],uh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4100&o)&&m(s,n,e,e[12],(e=>4&e)(o)||!t?g(e[12]):h(n,e[12],o,ah),uh)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function fh(e){let t,n,o;const i=[{...e[8],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[5]]},{name:"TabList"}];function r(t){e[11](t)}let l={$$slots:{default:[dh]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[4]&&(l.el=e[4]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[4]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=303&s?Fe(i,[264&s&&{...e[8],...e[3]},1&s&&{as:e[0]},4&s&&{slotProps:e[2]},34&s&&{use:[...e[1],e[5]]},i[4]]):{};4100&s&&(o.$$scope={dirty:s,ctx:e}),!n&&16&s&&(n=!0,o.el=e[4],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function ph(e,t,n){let o,i;const r=["as","use"];let l,c,a=b(t,r),{$$slots:u={},$$scope:f}=t,{as:p="div"}=t,{use:h=[]}=t;const m=rd(se());let g=eh("TabList");d(e,g,(e=>n(9,l=e)));let y=l.listRef;return d(e,y,(e=>n(4,c=e))),e.$$set=e=>{t=s(s({},t),$(e)),n(8,a=b(t,r)),"as"in e&&n(0,p=e.as),"use"in e&&n(1,h=e.use),"$$scope"in e&&n(12,f=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&n(3,o={role:"tablist","aria-orientation":l.orientation}),512&e.$$.dirty&&n(2,i={selectedIndex:l.selectedIndex})},[p,h,i,o,c,m,g,y,a,l,u,function(e){c=e,y.set(c)},f]}class hh extends Ke{constructor(e){super(),We(this,e,ph,fh,c,{as:0,use:1})}}const mh=e=>({}),gh=e=>({...e[2]});function $h(e){let t;const n=e[7].default,s=f(n,e,e[8],gh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||260&o)&&m(s,n,e,e[8],(e=>4&e)(o)||!t?g(e[8]):h(n,e[8],o,mh),gh)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function bh(e){let t,n;const o=[e[5],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"TabPanels"}];let i={$$slots:{default:[$h]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new tf({props:i}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s=47&n?Fe(o,[32&n&&Qe(e[5]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},o[4]]):{};260&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function yh(e,t,n){let o;const i=["as","use"];let r,l=b(t,i),{$$slots:c={},$$scope:a}=t,{as:u="div"}=t,{use:f=[]}=t;const p=rd(se());let h=eh("TabPanels");return d(e,h,(e=>n(6,r=e))),e.$$set=e=>{t=s(s({},t),$(e)),n(5,l=b(t,i)),"as"in e&&n(0,u=e.as),"use"in e&&n(1,f=e.use),"$$scope"in e&&n(8,a=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(2,o={selectedIndex:r.selectedIndex})},[u,f,o,p,h,l,r,c,a]}class wh extends Ke{constructor(e){super(),We(this,e,yh,bh,c,{as:0,use:1})}}const vh=e=>({}),xh=e=>({...e[4]});function _h(e){let t;const n=e[13].default,s=f(n,e,e[15],xh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||32784&o)&&m(s,n,e,e[15],(e=>16&e)(o)||!t?g(e[15]):h(n,e[15],o,vh),xh)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Eh(e){let t,n,o;const i=[{...e[9],...e[3]},{as:e[0]},{use:[...e[1],e[6]]},{name:"TabPanel"},{slotProps:e[4]},{visible:e[2]},{features:ad.RenderStrategy|ad.Static}];function r(t){e[14](t)}let l={$$slots:{default:[_h]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[5]&&(l.el=e[5]),t=new tf({props:l}),fe.push((()=>je(t,"el",r,e[5]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[s]){const o=607&s?Fe(i,[520&s&&{...e[9],...e[3]},1&s&&{as:e[0]},66&s&&{use:[...e[1],e[6]]},i[3],16&s&&{slotProps:e[4]},4&s&&{visible:e[2]},0&s&&{features:ad.RenderStrategy|ad.Static}]):{};32784&s&&(o.$$scope={dirty:s,ctx:e}),!n&&32&s&&(n=!0,o.el=e[5],we((()=>n=!1))),t.$set(o)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function kh(e,t,n){let o,i,r,l,c;const a=["as","use"];let u,f,p=b(t,a),{$$slots:h={},$$scope:m}=t,{as:g="div"}=t,{use:y=[]}=t;const w=rd(se());let v=ze(null);d(e,v,(e=>n(5,f=e)));let x=eh("TabPanel");d(e,x,(e=>n(12,u=e)));let _=`headlessui-tabs-panel-${bu()}`;return oe((()=>(u.registerPanel(o),()=>u.unregisterPanel(o)))),e.$$set=e=>{t=s(s({},t),$(e)),n(9,p=b(t,a)),"as"in e&&n(0,g=e.as),"use"in e&&n(1,y=e.use),"$$scope"in e&&n(15,m=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&n(10,i=u.panels.indexOf(o)),5120&e.$$.dirty&&n(2,r=i===u.selectedIndex),5124&e.$$.dirty&&n(3,l={id:_,role:"tabpanel","aria-labelledby":u.tabs[i]?.id,tabIndex:r?0:-1}),e.$$.dirty,4&e.$$.dirty&&n(4,c={selected:r})},n(11,o={id:_,ref:v}),[g,y,r,l,c,f,w,v,x,p,i,o,u,h,function(e){f=e,v.set(f)},m]}class Ah extends Ke{constructor(e){super(),We(this,e,kh,Eh,c,{as:0,use:1})}}var Sh,Lh;function Ih(e){let n,s,o,i,r,l,c,a;return{c(){n=D("div"),s=P("svg"),o=P("path"),r=U(),l=D("p"),c=R(e[0]),F(o,"d",i=e[3][e[2]]),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 48 48"),F(s,"class","fill-neutral-800 w-9 h-9 drop-shadow-component svelte-1adgtxp"),F(l,"class","font-semibold text-xs leading-3 "),F(n,"class",a="flex flex-col items-center justify-center cursor-pointer "+e[4].class+" svelte-1adgtxp"),F(n,"title",e[1])},m(e,t){O(e,n,t),L(n,s),L(s,o),L(n,r),L(n,l),L(l,c)},p(e,[t]){4&t&&i!==(i=e[3][e[2]])&&F(o,"d",i),1&t&&H(c,e[0]),16&t&&a!==(a="flex flex-col items-center justify-center cursor-pointer "+e[4].class+" svelte-1adgtxp")&&F(n,"class",a),2&t&&F(n,"title",e[1])},i:t,o:t,d(e){e&&N(n)}}}function Th(e,t,n){const o=["text","title","icon"];let i=b(t,o),{text:r}=t,{title:l}=t,{icon:c}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,i=b(t,o)),"text"in e&&n(0,r=e.text),"title"in e&&n(1,l=e.title),"icon"in e&&n(2,c=e.icon)},[r,l,c,{settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",manual:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z",examples:"M15.95 35.5h16.1v-3h-16.1Zm0-8.5h16.1v-3h-16.1ZM11 44q-1.2 0-2.1-.9Q8 42.2 8 41V7q0-1.2.9-2.1Q9.8 4 11 4h18.05L40 14.95V41q0 1.2-.9 2.1-.9.9-2.1.9Zm16.55-27.7H37L27.55 7Z",copyright:"M19.35 32.55h9.05q.9 0 1.5-.65t.6-1.5v-2.8q0-.5-.375-.875t-.825-.375h-1.7q-.55 0-.9.35t-.35.9v.85H21.6v-8.9h4.75v.9q0 .5.375.875t.875.375h1.7q.5 0 .85-.35t.35-.9V17.6q0-.9-.6-1.525-.6-.625-1.5-.625h-9.05q-.85 0-1.375.65t-.525 1.6v12.65q0 .9.525 1.55t1.375.65Zm4.7 12.7q-4.55 0-8.45-1.625Q11.7 42 8.85 39.15 6 36.3 4.375 32.4 2.75 28.5 2.75 23.95q0-4.45 1.625-8.325Q6 11.75 8.85 8.875 11.7 6 15.6 4.35q3.9-1.65 8.45-1.65 4.45 0 8.325 1.65Q36.25 6 39.125 8.875 42 11.75 43.65 15.625 45.3 19.5 45.3 24t-1.65 8.4q-1.65 3.9-4.525 6.75-2.875 2.85-6.75 4.475Q28.5 45.25 24.05 45.25ZM24 24Zm0 16.55q7.05 0 11.8-4.725Q40.55 31.1 40.55 24T35.8 12.175Q31.05 7.45 24 7.45q-7.05 0-11.8 4.725Q7.45 16.9 7.45 24t4.75 11.825Q16.95 40.55 24 40.55Z"},i]}!function(e){e.Finished="finished",e.Cancelled="cancelled"}(Sh||(Sh={})),function(e){e.Visible="visible",e.Hidden="hidden"}(Lh||(Lh={}));class Oh extends Ke{constructor(e){super(),We(this,e,Th,Ih,c,{text:0,title:1,icon:2})}}function Nh(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=D("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-blue-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-blue-700 focus:bg-blue-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){O(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-blue-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-blue-700 focus:bg-blue-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ne(c,e),s=!0)},o(e){Ce(c,e),s=!1},d(e){e&&N(t),c&&c.d(e),o=!1,r(i)}}}function Ch(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class Dh extends Ke{constructor(e){super(),We(this,e,Ch,Nh,c,{disabled:0})}}function Ph(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=D("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-gray-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-gray-700 focus:bg-gray-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){O(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-gray-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-gray-700 focus:bg-gray-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ne(c,e),s=!0)},o(e){Ce(c,e),s=!1},d(e){e&&N(t),c&&c.d(e),o=!1,r(i)}}}function Rh(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class Uh extends Ke{constructor(e){super(),We(this,e,Rh,Ph,c,{disabled:0})}}function Bh(e){let t,n=e[2].menu.overlays.save_to_file.title+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.title+"")&&H(t,n)},d(e){e&&N(t)}}}function Mh(e){let t,n=e[2].menu.overlays.save_to_file.buttons.save.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.buttons.save.text+"")&&H(t,n)},d(e){e&&N(t)}}}function Fh(e){let t,n=e[2].menu.overlays.save_to_file.buttons.cancel.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.buttons.cancel.text+"")&&H(t,n)},d(e){e&&N(t)}}}function Qh(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b;return t=new Of({props:{class:"fixed top-0 left-0 bg-black/40 w-screen h-screen"}}),o=new kf({props:{$$slots:{default:[Bh]},$$scope:{ctx:e}}}),p=new Dh({props:{title:e[2].menu.overlays.save_to_file.buttons.save.title,$$slots:{default:[Mh]},$$scope:{ctx:e}}}),p.$on("click",e[3]),m=new Uh({props:{title:e[2].menu.overlays.save_to_file.buttons.cancel.title,$$slots:{default:[Fh]},$$scope:{ctx:e}}}),m.$on("click",e[4]),{c(){He(t.$$.fragment),n=U(),s=D("div"),He(o.$$.fragment),i=U(),r=D("div"),l=D("input"),a=U(),u=D("span"),u.textContent=".cpuvs",d=U(),f=D("div"),He(p.$$.fragment),h=U(),He(m.$$.fragment),F(l,"type","text"),F(l,"placeholder",c=e[2].menu.overlays.save_to_file.inputs.filename.placeholder),F(l,"class","border-2 border-black rounded-md"),F(u,"class","ml-1"),F(r,"class","flex items-center justify-center"),F(f,"class","flex items-center justify-center gap-2"),F(s,"class","fixed top-[50vh] left-[50vw] -translate-x-2/4 -translate-y-2/4 bg-white flex flex-col items-center justify-center gap-4 p-6 rounded-lg shadow-lg ")},m(c,y){qe(t,c,y),O(c,n,y),O(c,s,y),qe(o,s,null),L(s,i),L(s,r),L(r,l),q(l,e[1]),L(r,a),L(r,u),L(s,d),L(s,f),qe(p,f,null),L(f,h),qe(m,f,null),g=!0,$||(b=M(l,"input",e[6]),$=!0)},p(e,t){const n={};1028&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n),(!g||4&t&&c!==(c=e[2].menu.overlays.save_to_file.inputs.filename.placeholder))&&F(l,"placeholder",c),2&t&&l.value!==e[1]&&q(l,e[1]);const s={};4&t&&(s.title=e[2].menu.overlays.save_to_file.buttons.save.title),1028&t&&(s.$$scope={dirty:t,ctx:e}),p.$set(s);const i={};4&t&&(i.title=e[2].menu.overlays.save_to_file.buttons.cancel.title),1028&t&&(i.$$scope={dirty:t,ctx:e}),m.$set(i)},i(e){g||(Ne(t.$$.fragment,e),Ne(o.$$.fragment,e),Ne(p.$$.fragment,e),Ne(m.$$.fragment,e),g=!0)},o(e){Ce(t.$$.fragment,e),Ce(o.$$.fragment,e),Ce(p.$$.fragment,e),Ce(m.$$.fragment,e),g=!1},d(e){Ge(t,e),e&&N(n),e&&N(s),Ge(o),Ge(p),Ge(m),$=!1,b()}}}function jh(e){let t,n;return t=new yf({props:{open:e[0],$$slots:{default:[Qh]},$$scope:{ctx:e}}}),t.$on("close",e[5]),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.open=e[0]),1030&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Hh(e,t,n){let s,o,i;d(e,pr,(e=>n(7,s=e))),d(e,fr,(e=>n(8,o=e))),d(e,Di,(e=>n(2,i=e)));const r=le();let{open:l}=t,c="";return e.$$set=e=>{"open"in e&&n(0,l=e.open)},[l,c,i,function(){""!==c&&(bc(tc(o,s),`${c}.cpuvs`),n(1,c=""),r("close"))},function(){n(1,c=""),r("close")},function(){n(1,c=""),r("close")},function(){c=this.value,n(1,c)}]}class qh extends Ke{constructor(e){super(),We(this,e,Hh,jh,c,{open:0})}}function Gh(e){let n,s,o,i,l,c,a,u;return{c(){n=D("button"),s=P("svg"),o=P("path"),i=P("path"),F(o,"d","M0 0h24v24H0V0z"),F(o,"fill","none"),F(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 24 24"),F(s,"fill","#FFFFFF"),F(s,"class",l=(e[0]?"":"hover:scale-105")+" fill-black"),G(s,"width",e[1]),G(s,"height",e[1]),F(n,"class",c="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[2].class),n.disabled=e[0]},m(t,r){O(t,n,r),L(n,s),L(s,o),L(s,i),a||(u=[M(n,"click",e[3]),M(n,"focus",e[4]),M(n,"focusout",e[5]),M(n,"mouseenter",e[6]),M(n,"mouseleave",e[7]),M(n,"mouseover",e[8])],a=!0)},p(e,[t]){1&t&&l!==(l=(e[0]?"":"hover:scale-105")+" fill-black")&&F(s,"class",l),2&t&&G(s,"width",e[1]),2&t&&G(s,"height",e[1]),4&t&&c!==(c="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[2].class)&&F(n,"class",c),1&t&&(n.disabled=e[0])},i:t,o:t,d(e){e&&N(n),a=!1,r(u)}}}function Wh(e,t,n){const o=["disabled","size"];let i=b(t,o),{disabled:r=!1}=t,{size:l=40}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(2,i=b(t,o)),"disabled"in e&&n(0,r=e.disabled),"size"in e&&n(1,l=e.size)},[r,l,i,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class Kh extends Ke{constructor(e){super(),We(this,e,Wh,Gh,c,{disabled:0,size:1})}}function Vh(e,t,n){const s=e.slice();return s[4]=t[n],s}function zh(e,t,n){const s=e.slice();return s[4]=t[n],s}function Xh(e){let t,n,s=e[4]+"";return{c(){t=D("p"),n=R(s)},m(e,s){O(e,t,s),L(t,n)},p(e,t){2&t&&s!==(s=e[4]+"")&&H(n,s)},d(e){e&&N(t)}}}function Jh(e){let t,n,s=e[4]+"";return{c(){t=D("p"),n=R(s),F(t,"class","mb-4")},m(e,s){O(e,t,s),L(t,n)},p(e,t){2&t&&s!==(s=e[4]+"")&&H(n,s)},d(e){e&&N(t)}}}function Zh(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E,k=e[1].menu.overlays.copyright.subsections.copyright_notice.title+"",A=e[1].menu.overlays.copyright.subsections.copyright_notice.disclaimer+"",S=e[1].menu.overlays.copyright.subsections.credits.title+"";t=new Of({props:{class:"fixed top-0 left-0 bg-black/40 w-screen h-screen"}}),o=new Kh({props:{class:"absolute top-3 right-3",size:30}}),o.$on("click",e[2]);let I=e[1].menu.overlays.copyright.subsections.copyright_notice.paragraphs,T=[];for(let t=0;t<I.length;t+=1)T[t]=Xh(zh(e,I,t));let P=e[1].menu.overlays.copyright.subsections.credits.paragraphs,B=[];for(let t=0;t<P.length;t+=1)B[t]=Jh(Vh(e,P,t));return{c(){He(t.$$.fragment),n=U(),s=D("div"),He(o.$$.fragment),i=U(),r=D("div"),l=D("h2"),c=R(k),a=U();for(let e=0;e<T.length;e+=1)T[e].c();u=U(),d=D("p"),f=R(A),p=U(),h=D("a"),h.textContent="LinkedIn",m=U(),g=D("div"),$=D("h2"),b=R(S),y=U();for(let e=0;e<B.length;e+=1)B[e].c();w=U(),v=D("p"),v.innerHTML='[1]\n\t\t\t\t<a href="https://www.ppig.org/files/2021-PPIG-32nd-DC-cortinovis.pdf" target="_blank" class="text-blue-700 hover:underline">Cortinovis, R., and Rajan, R. (2022) Evaluating and improving the Educational CPU Visual Simulator:\n\t\t\t\t\ta sustainable Open Pedagogy approach. Proceedings of the 33rd Annual Workshop of the Psychology of\n\t\t\t\t\tProgramming Interest Group (PPIG), Milton Keynes, United Kingdom.</a>',x=U(),_=D("p"),_.innerHTML='[2]\n\t\t\t\t<a href="resources/papers/evaluating_and_improving_the_educational_cpu_visual_simulator_a_sustainable_open_pedagogy_approach.pdf" target="_blank" class="text-blue-700 hover:underline">Cortinovis, R. (2021) An Educational CPU Visual Simulator. Proceedings of the 32nd Annual Workshop\n\t\t\t\t\tof the Psychology of Programming Interest Group (PPIG), York, United Kingdom.</a>',F(l,"class","text-lg font-semibold mb-2"),F(h,"href","https://www.linkedin.com/in/jonathan-cancelli-4b46b3209"),F(h,"target","_blank"),F(h,"class","text-blue-700 hover:underline"),F(d,"class","mt-2"),F(r,"class","text-center"),F($,"class","text-lg font-semibold mb-2"),F(v,"class","mb-2"),F(g,"class","text-center"),F(s,"class","fixed top-[50vh] left-[50vw] max-h-screen max-w-screen overflow-auto -translate-x-2/4 -translate-y-2/4 bg-white flex flex-col items-center justify-center gap-6 p-10 rounded-2xl shadow-lg ")},m(e,k){qe(t,e,k),O(e,n,k),O(e,s,k),qe(o,s,null),L(s,i),L(s,r),L(r,l),L(l,c),L(r,a);for(let e=0;e<T.length;e+=1)T[e].m(r,null);L(r,u),L(r,d),L(d,f),L(d,p),L(d,h),L(s,m),L(s,g),L(g,$),L($,b),L(g,y);for(let e=0;e<B.length;e+=1)B[e].m(g,null);L(g,w),L(g,v),L(g,x),L(g,_),E=!0},p(e,t){if((!E||2&t)&&k!==(k=e[1].menu.overlays.copyright.subsections.copyright_notice.title+"")&&H(c,k),2&t){let n;for(I=e[1].menu.overlays.copyright.subsections.copyright_notice.paragraphs,n=0;n<I.length;n+=1){const s=zh(e,I,n);T[n]?T[n].p(s,t):(T[n]=Xh(s),T[n].c(),T[n].m(r,u))}for(;n<T.length;n+=1)T[n].d(1);T.length=I.length}if((!E||2&t)&&A!==(A=e[1].menu.overlays.copyright.subsections.copyright_notice.disclaimer+"")&&H(f,A),(!E||2&t)&&S!==(S=e[1].menu.overlays.copyright.subsections.credits.title+"")&&H(b,S),2&t){let n;for(P=e[1].menu.overlays.copyright.subsections.credits.paragraphs,n=0;n<P.length;n+=1){const s=Vh(e,P,n);B[n]?B[n].p(s,t):(B[n]=Jh(s),B[n].c(),B[n].m(g,w))}for(;n<B.length;n+=1)B[n].d(1);B.length=P.length}},i(e){E||(Ne(t.$$.fragment,e),Ne(o.$$.fragment,e),E=!0)},o(e){Ce(t.$$.fragment,e),Ce(o.$$.fragment,e),E=!1},d(e){Ge(t,e),e&&N(n),e&&N(s),Ge(o),C(T,e),C(B,e)}}}function Yh(e){let t,n;return t=new yf({props:{open:e[0],$$slots:{default:[Zh]},$$scope:{ctx:e}}}),t.$on("close",e[2]),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.open=e[0]),514&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function em(e,t,n){let s;d(e,Di,(e=>n(1,s=e)));const o=le();let{open:i}=t;return e.$$set=e=>{"open"in e&&n(0,i=e.open)},[i,s,function(){o("close")}]}class tm extends Ke{constructor(e){super(),We(this,e,em,Yh,c,{open:0})}}function nm(e,t,n){const s=e.slice();return s[15]=t[n],s}function sm(e){let t,n;return t=new Oh({props:{text:e[2].menu.buttons.examples.text,title:e[2].menu.buttons.examples.title,icon:"examples"}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.text=e[2].menu.buttons.examples.text),4&n&&(s.title=e[2].menu.buttons.examples.title),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function om(e){let t,n,s,o,i,r=e[2].menu.buttons.examples.examples[e[15].id].text+"";function l(){return e[9](e[15])}return{c(){t=D("button"),n=R(r),s=U(),F(t,"class","text-base leading-none")},m(e,r){O(e,t,r),L(t,n),O(e,s,r),o||(i=M(t,"click",l),o=!0)},p(t,s){e=t,4&s&&r!==(r=e[2].menu.buttons.examples.examples[e[15].id].text+"")&&H(n,r)},d(e){e&&N(t),e&&N(s),o=!1,i()}}}function im(e){let t,n;return t=new Pp({props:{class:"\n\t\t\t\t\t\tbg-neutral-500\n\t\t\t\t\t\ttext-gray-200\n\t\t\t\t\t\ttext-sm\n\t\t\t\t\t\tpy-1\n\t\t\t\t\t\tpx-2\n\t\t\t\t\t\tborder-b-2\n\t\t\t\t\t\tborder-neutral-700\n\t\t\t\t\t\tfirst:rounded-t-md\n\t\t\t\t\t\tlast:border-0\n\t\t\t\t\t\tlast:rounded-b-md\n\t\t\t\t\t\thover:brightness-[.93]\n\t\t\t\t\t\tactive:brightness-[.80]\n\t\t\t\t\t",title:e[2].menu.buttons.examples.examples[e[15].id].title,$$slots:{default:[om]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.title=e[2].menu.buttons.examples.examples[e[15].id].title),262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function rm(e){let t,n,s=e[3],o=[];for(let t=0;t<s.length;t+=1)o[t]=im(nm(e,s,t));const i=e=>Ce(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=B()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);O(e,t,s),n=!0},p(e,n){if(76&n){let r;for(s=e[3],r=0;r<s.length;r+=1){const i=nm(e,s,r);o[r]?(o[r].p(i,n),Ne(o[r],1)):(o[r]=im(i),o[r].c(),Ne(o[r],1),o[r].m(t.parentNode,t))}for(Te(),r=s.length;r<o.length;r+=1)i(r);Oe()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Ne(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Ce(o[e]);n=!1},d(e){C(o,e),e&&N(t)}}}function lm(e){let t,n,s,o;return t=new _p({props:{$$slots:{default:[sm]},$$scope:{ctx:e}}}),s=new Ip({props:{class:"absolute flex flex-col mt-1 bg-neutral-500 border-2 border-neutral-800 shadow-lg rounded-md",$$slots:{default:[rm]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment)},m(e,i){qe(t,e,i),O(e,n,i),qe(s,e,i),o=!0},p(e,n){const o={};262148&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};262148&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e)}}}function cm(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E,k;return s=new Oh({props:{text:e[2].menu.buttons.copyright.text,title:e[2].menu.buttons.copyright.title,icon:"copyright"}}),l=new Oh({props:{text:e[2].menu.buttons.settings.text,title:e[2].menu.buttons.settings.title,icon:"settings"}}),u=new Oh({props:{text:e[2].menu.buttons.save.text,title:e[2].menu.buttons.save.title,icon:"save"}}),p=new Oh({props:{text:e[2].menu.buttons.load.text,title:e[2].menu.buttons.load.title,icon:"open"}}),m=new $p({props:{$$slots:{default:[lm]},$$scope:{ctx:e}}}),b=new Oh({props:{text:e[2].menu.buttons.manual.text,title:e[2].menu.buttons.manual.title,icon:"manual"}}),w=new qh({props:{open:e[0]}}),w.$on("close",e[10]),x=new tm({props:{open:e[1]}}),x.$on("close",e[11]),{c(){t=D("div"),n=D("button"),He(s.$$.fragment),o=U(),i=D("button"),He(l.$$.fragment),c=U(),a=D("button"),He(u.$$.fragment),d=U(),f=D("button"),He(p.$$.fragment),h=U(),He(m.$$.fragment),g=U(),$=D("button"),He(b.$$.fragment),y=U(),He(w.$$.fragment),v=U(),He(x.$$.fragment),F(t,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-2 z-[4]")},m(r,A){O(r,t,A),L(t,n),qe(s,n,null),L(t,o),L(t,i),qe(l,i,null),L(t,c),L(t,a),qe(u,a,null),L(t,d),L(t,f),qe(p,f,null),L(t,h),qe(m,t,null),L(t,g),L(t,$),qe(b,$,null),O(r,y,A),qe(w,r,A),O(r,v,A),qe(x,r,A),_=!0,E||(k=[M(n,"click",e[8]),M(i,"click",e[4]),M(a,"click",e[7]),M(f,"click",e[5]),M($,"click",am)],E=!0)},p(e,[t]){const n={};4&t&&(n.text=e[2].menu.buttons.copyright.text),4&t&&(n.title=e[2].menu.buttons.copyright.title),s.$set(n);const o={};4&t&&(o.text=e[2].menu.buttons.settings.text),4&t&&(o.title=e[2].menu.buttons.settings.title),l.$set(o);const i={};4&t&&(i.text=e[2].menu.buttons.save.text),4&t&&(i.title=e[2].menu.buttons.save.title),u.$set(i);const r={};4&t&&(r.text=e[2].menu.buttons.load.text),4&t&&(r.title=e[2].menu.buttons.load.title),p.$set(r);const c={};262148&t&&(c.$$scope={dirty:t,ctx:e}),m.$set(c);const a={};4&t&&(a.text=e[2].menu.buttons.manual.text),4&t&&(a.title=e[2].menu.buttons.manual.title),b.$set(a);const d={};1&t&&(d.open=e[0]),w.$set(d);const f={};2&t&&(f.open=e[1]),x.$set(f)},i(e){_||(Ne(s.$$.fragment,e),Ne(l.$$.fragment,e),Ne(u.$$.fragment,e),Ne(p.$$.fragment,e),Ne(m.$$.fragment,e),Ne(b.$$.fragment,e),Ne(w.$$.fragment,e),Ne(x.$$.fragment,e),_=!0)},o(e){Ce(s.$$.fragment,e),Ce(l.$$.fragment,e),Ce(u.$$.fragment,e),Ce(p.$$.fragment,e),Ce(m.$$.fragment,e),Ce(b.$$.fragment,e),Ce(w.$$.fragment,e),Ce(x.$$.fragment,e),_=!1},d(e){e&&N(t),Ge(s),Ge(l),Ge(u),Ge(p),Ge(m),Ge(b),e&&N(y),Ge(w,e),e&&N(v),Ge(x,e),E=!1,r(k)}}}function am(){window.open("manual","_blank").focus()}function um(e,t,n){let s,o,i;d(e,$r,(e=>n(12,s=e))),d(e,_t,(e=>n(13,o=e))),d(e,Di,(e=>n(2,i=e)));var r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let l=!1,c=!1;function a(e){return r(this,void 0,void 0,(function*(){try{const t=ec(yield fetch(e).then((e=>e.text())));pr.get().import(t.symbolTable),fr.get().import(t.ram)}catch(e){xt.error(e,"USER_INPUT",e.isChecked),s.error(e.message)}xt.info(`Example ${e} loaded`,"USER_INPUT")}))}return[l,c,i,[{id:"if_then_else",url:"resources/examples/if_then_else.cpuvs"},{id:"while_do",url:"resources/examples/while_do.cpuvs"},{id:"array_sum",url:"resources/examples/array_sum.cpuvs"}],function(){w(_t,o=!0,o),xt.info("Settings opened","USER_INPUT")},function(){return r(this,void 0,void 0,(function*(){try{const e=(yield yc(".cpuvs"))[0],t=ec(yield e.text());pr.get().import(t.symbolTable),fr.get().import(t.ram)}catch(e){xt.error(e,"USER_INPUT",e.isChecked),s.error(e.message)}xt.info("Program loaded from file","USER_INPUT")}))},a,function(){n(0,l=!0),xt.info("Program saved to file","USER_INPUT")},function(){n(1,c=!0),xt.info("Program saved to file","USER_INPUT")},e=>a(e.url),()=>n(0,l=!1),()=>n(1,c=!1)]}class dm extends Ke{constructor(e){super(),We(this,e,um,cm,c,{})}}function fm(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function pm(e){let t,n;return t=new nh({props:{class:"grid grid-cols-tabgroup gap-x-4 "+e[0].class,vertical:!0,$$slots:{default:[fm]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class="grid grid-cols-tabgroup gap-x-4 "+e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function hm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class mm extends Ke{constructor(e){super(),We(this,e,hm,pm,c,{})}}function gm(e){let t,n,s;const o=e[1].default,i=f(o,e,e[2],null);return{c(){t=D("div"),i&&i.c(),F(t,"class",n="pl-4 py-2 border-l-4 border-b border-b-gray-500 text-left hover:text-blue-500 "+(e[3]?"border-l-blue-500 text-blue-500 font-bold":"border-l-transparent")+" "+e[0].class)},m(e,n){O(e,t,n),i&&i.m(t,null),s=!0},p(e,r){i&&i.p&&(!s||4&r)&&m(i,o,e,e[2],s?h(o,e[2],r,null):g(e[2]),null),(!s||9&r&&n!==(n="pl-4 py-2 border-l-4 border-b border-b-gray-500 text-left hover:text-blue-500 "+(e[3]?"border-l-blue-500 text-blue-500 font-bold":"border-l-transparent")+" "+e[0].class))&&F(t,"class",n)},i(e){s||(Ne(i,e),s=!0)},o(e){Ce(i,e),s=!1},d(e){e&&N(t),i&&i.d(e)}}}function $m(e){let t,n;return t=new ch({props:{$$slots:{default:[gm,({selected:e})=>({3:e}),({selected:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};13&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function bm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class ym extends Ke{constructor(e){super(),We(this,e,bm,$m,c,{})}}function wm(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function vm(e){let t,n;return t=new hh({props:{class:"flex flex-col "+e[0].class,$$slots:{default:[wm]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class="flex flex-col "+e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function xm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class _m extends Ke{constructor(e){super(),We(this,e,xm,vm,c,{})}}function Em(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function km(e){let t,n;return t=new wh({props:{class:e[0].class,$$slots:{default:[Em]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class=e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Am(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class Sm extends Ke{constructor(e){super(),We(this,e,Am,km,c,{})}}function Lm(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ne(s,e),t=!0)},o(e){Ce(s,e),t=!1},d(e){s&&s.d(e)}}}function Im(e){let t,n;return t=new Ah({props:{class:e[0].class,$$slots:{default:[Lm]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class=e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Tm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class Om extends Ke{constructor(e){super(),We(this,e,Tm,Im,c,{})}}function Nm(e){let t,n,s,o,i,r,l,c,a;const u=e[3].default,d=f(u,e,e[2],null);return{c(){t=D("div"),n=D("div"),s=D("h2"),o=R(e[0]),i=U(),r=D("p"),l=R(e[1]),c=U(),d&&d.c(),F(s,"class","text-2xl font-bold"),F(r,"class","text-sm text-neutral-500"),F(n,"class","flex flex-col"),F(t,"class","w-full flex flex-row items-center justify-between border-b border-neutral-500 p-3 pl-11 pr-24")},m(e,u){O(e,t,u),L(t,n),L(n,s),L(s,o),L(n,i),L(n,r),L(r,l),L(t,c),d&&d.m(t,null),a=!0},p(e,[t]){(!a||1&t)&&H(o,e[0]),(!a||2&t)&&H(l,e[1]),d&&d.p&&(!a||4&t)&&m(d,u,e,e[2],a?h(u,e[2],t,null):g(e[2]),null)},i(e){a||(Ne(d,e),a=!0)},o(e){Ce(d,e),a=!1},d(e){e&&N(t),d&&d.d(e)}}}function Cm(e,t,n){let{$$slots:s={},$$scope:o}=t,{title:i=""}=t,{description:r=""}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"description"in e&&n(1,r=e.description),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}class Dm extends Ke{constructor(e){super(),We(this,e,Cm,Nm,c,{title:0,description:1})}}function Pm(e){let n,s,o,i,r,l;return{c(){n=P("svg"),s=P("g"),o=P("path"),i=P("path"),r=P("path"),F(o,"fill","#fff"),F(o,"d","M0 0h640v480H0z"),F(i,"fill","#009246"),F(i,"d","M0 0h213.3v480H0z"),F(r,"fill","#ce2b37"),F(r,"d","M426.7 0H640v480H426.7z"),F(s,"fill-rule","evenodd"),F(s,"stroke-width","1pt"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"viewBox","0 0 640 480"),F(n,"class",l=e[0].class)},m(e,t){O(e,n,t),L(n,s),L(s,o),L(s,i),L(s,r)},p(e,[t]){1&t&&l!==(l=e[0].class)&&F(n,"class",l)},i:t,o:t,d(e){e&&N(n)}}}function Rm(e,t,n){return e.$$set=e=>{n(0,t=s(s({},t),$(e)))},[t=$(t)]}class Um extends Ke{constructor(e){super(),We(this,e,Rm,Pm,c,{})}}function Bm(e){let n,s,o,i,r,l,c;return{c(){n=P("svg"),s=P("path"),o=P("path"),i=P("path"),r=P("path"),l=P("path"),F(s,"fill","#012169"),F(s,"d","M0 0h640v480H0z"),F(o,"fill","#FFF"),F(o,"d","m75 0 244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"),F(i,"fill","#C8102E"),F(i,"d","m424 281 216 159v40L369 281h55zm-184 20 6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"),F(r,"fill","#FFF"),F(r,"d","M241 0v480h160V0H241zM0 160v160h640V160H0z"),F(l,"fill","#C8102E"),F(l,"d","M0 193v96h640v-96H0zM273 0v480h96V0h-96z"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"viewBox","0 0 640 480"),F(n,"class",c=e[0].class)},m(e,t){O(e,n,t),L(n,s),L(n,o),L(n,i),L(n,r),L(n,l)},p(e,[t]){1&t&&c!==(c=e[0].class)&&F(n,"class",c)},i:t,o:t,d(e){e&&N(n)}}}function Mm(e,t,n){return e.$$set=e=>{n(0,t=s(s({},t),$(e)))},[t=$(t)]}class Fm extends Ke{constructor(e){super(),We(this,e,Mm,Bm,c,{})}}const{Map:Qm}=Ue;function jm(e,t,n){const s=e.slice();return s[4]=t[n],s}function Hm(e){let t,n,s;var o=e[1].get(e[0]);return o&&(t=X(o,{props:{class:"w-12 h-7"}})),{c(){t&&He(t.$$.fragment),n=B()},m(e,o){t&&qe(t,e,o),O(e,n,o),s=!0},p(e,s){if(o!==(o=e[1].get(e[0]))){if(t){Te();const e=t;Ce(e.$$.fragment,1,0,(()=>{Ge(e,1)})),Oe()}o?(t=X(o,{props:{class:"w-12 h-7"}}),He(t.$$.fragment),Ne(t.$$.fragment,1),qe(t,n.parentNode,n)):t=null}},i(e){s||(t&&Ne(t.$$.fragment,e),s=!0)},o(e){t&&Ce(t.$$.fragment,e),s=!1},d(e){e&&N(n),t&&Ge(t,e)}}}function qm(e){let t,n,s;var o=e[1].get(e[4]);return o&&(t=X(o,{props:{class:"w-12 h-7 cursor-pointer shadow-md"}})),{c(){t&&He(t.$$.fragment),n=U()},m(e,o){t&&qe(t,e,o),O(e,n,o),s=!0},p(e,s){if(o!==(o=e[1].get(e[4]))){if(t){Te();const e=t;Ce(e.$$.fragment,1,0,(()=>{Ge(e,1)})),Oe()}o?(t=X(o,{props:{class:"w-12 h-7 cursor-pointer shadow-md"}}),He(t.$$.fragment),Ne(t.$$.fragment,1),qe(t,n.parentNode,n)):t=null}},i(e){s||(t&&Ne(t.$$.fragment,e),s=!0)},o(e){t&&Ce(t.$$.fragment,e),s=!1},d(e){t&&Ge(t,e),e&&N(n)}}}function Gm(e,t){let n,s,o;return s=new cp({props:{value:t[4],$$slots:{default:[qm]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=B(),He(s.$$.fragment),this.first=n},m(e,t){O(e,n,t),qe(s,e,t),o=!0},p(e,n){t=e;const o={};128&n&&(o.$$scope={dirty:n,ctx:t}),s.$set(o)},i(e){o||(Ne(s.$$.fragment,e),o=!0)},o(e){Ce(s.$$.fragment,e),o=!1},d(e){e&&N(n),Ge(s,e)}}}function Wm(e){let t,n,s=[],o=new Qm,i=ut;const r=e=>e[4];for(let t=0;t<i.length;t+=1){let n=jm(e,i,t),l=r(n);o.set(l,s[t]=Gm(l,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=B()},m(e,o){for(let t=0;t<s.length;t+=1)s[t].m(e,o);O(e,t,o),n=!0},p(e,n){2&n&&(i=ut,Te(),s=Me(s,n,r,1,e,i,o,t.parentNode,Be,Gm,t,jm),Oe())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Ne(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)Ce(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&N(t)}}}function Km(e){let t,n,s,o;return t=new Xf({props:{$$slots:{default:[Hm]},$$scope:{ctx:e}}}),s=new np({props:{class:"absolute flex flex-col gap-1 py-2 px-1 overflow-y-auto overflow-x-hidden max-h-28 z-10 bg-gray-100 rounded-md shadow-md",$$slots:{default:[Wm]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment)},m(e,i){qe(t,e,i),O(e,n,i),qe(s,e,i),o=!0},p(e,n){const o={};129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};128&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e)}}}function Vm(e){let t,n,s;function o(t){e[2](t)}let i={$$slots:{default:[Km]},$$scope:{ctx:e}};return void 0!==e[0]&&(i.value=e[0]),t=new qf({props:i}),fe.push((()=>je(t,"value",o,e[0]))),t.$on("change",e[3]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,[s]){const o={};129&s&&(o.$$scope={dirty:s,ctx:e}),!n&&1&s&&(n=!0,o.value=e[0],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function zm(e,t,n){let{value:s}=t;const o=new Map([["en",Fm],["it",Um]]);return e.$$set=e=>{"value"in e&&n(0,s=e.value)},[s,o,function(e){s=e,n(0,s)},e=>n(0,s=e.detail)]}class Xm extends Ke{constructor(e){super(),We(this,e,zm,Vm,c,{value:0})}}function Jm(e){let t,n;return{c(){t=D("span"),F(t,"class",n="h-7 w-7 bg-neutral-100 rounded-[50%] transition-transform shadow-lg "+(e[0]?"translate-x-8":""))},m(e,n){O(e,t,n)},p(e,s){1&s&&n!==(n="h-7 w-7 bg-neutral-100 rounded-[50%] transition-transform shadow-lg "+(e[0]?"translate-x-8":""))&&F(t,"class",n)},d(e){e&&N(t)}}}function Zm(e){let t,n,s,o;function i(t){e[3](t)}function r(t){e[4](t)}let l={class:"\n        w-14\n        h-6\n        flex\n        items-center\n        flex-shrink-0\n        rounded-2xl\n        "+(e[1]?"cursor-default":"cursor-pointer")+"\n        "+(e[0]?"bg-green-500":"bg-neutral-500")+"\n        "+(e[1]?"brightness-[.6]":"")+"\n        "+e[2].class+"\n    ",$$slots:{default:[Jm]},$$scope:{ctx:e}};return void 0!==e[0]&&(l.checked=e[0]),void 0!==e[1]&&(l.disabled=e[1]),t=new Vp({props:l}),fe.push((()=>je(t,"checked",i,e[0]))),fe.push((()=>je(t,"disabled",r,e[1]))),t.$on("change",e[5]),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),o=!0},p(e,[o]){const i={};7&o&&(i.class="\n        w-14\n        h-6\n        flex\n        items-center\n        flex-shrink-0\n        rounded-2xl\n        "+(e[1]?"cursor-default":"cursor-pointer")+"\n        "+(e[0]?"bg-green-500":"bg-neutral-500")+"\n        "+(e[1]?"brightness-[.6]":"")+"\n        "+e[2].class+"\n    "),65&o&&(i.$$scope={dirty:o,ctx:e}),!n&&1&o&&(n=!0,i.checked=e[0],we((()=>n=!1))),!s&&2&o&&(s=!0,i.disabled=e[1],we((()=>s=!1))),t.$set(i)},i(e){o||(Ne(t.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),o=!1},d(e){Ge(t,e)}}}function Ym(e,t,n){const o=["checked","disabled"];let i=b(t,o),{checked:r=!1}=t,{disabled:l=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(2,i=b(t,o)),"checked"in e&&n(0,r=e.checked),"disabled"in e&&n(1,l=e.disabled)},[r,l,i,function(e){r=e,n(0,r)},function(e){l=e,n(1,l)},e=>n(0,r=!r)]}class eg extends Ke{constructor(e){super(),We(this,e,Ym,Zm,c,{checked:0,disabled:1})}}function tg(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=D("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-red-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-red-700 focus:bg-red-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){O(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-red-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-red-700 focus:bg-red-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ne(c,e),s=!0)},o(e){Ce(c,e),s=!1},d(e){e&&N(t),c&&c.d(e),o=!1,r(i)}}}function ng(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)}]}class sg extends Ke{constructor(e){super(),We(this,e,ng,tg,c,{disabled:0})}}function og(e){let t,n,s;function o(t){e[5](t)}let i={};return void 0!==e[1]&&(i.value=e[1]),t=new Xm({props:i}),fe.push((()=>je(t,"value",o,e[1]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};!n&&2&s&&(n=!0,o.value=e[1],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function ig(e){let t,n,s;function o(t){e[6](t)}let i={};return void 0!==e[2]&&(i.checked=e[2]),t=new eg({props:i}),fe.push((()=>je(t,"checked",o,e[2]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};!n&&4&s&&(n=!0,o.checked=e[2],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function rg(e){let t,n,s;function o(t){e[7](t)}let i={};return void 0!==e[3]&&(i.checked=e[3]),t=new eg({props:i}),fe.push((()=>je(t,"checked",o,e[3]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};!n&&8&s&&(n=!0,o.checked=e[3],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function lg(e){let t,n,s;function o(t){e[8](t)}let i={};return void 0!==e[4]&&(i.checked=e[4]),t=new eg({props:i}),fe.push((()=>je(t,"checked",o,e[4]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};!n&&16&s&&(n=!0,o.checked=e[4],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function cg(e){let t,n=e[0].settings.reset_all.button.text+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){1&s&&n!==(n=e[0].settings.reset_all.button.text+"")&&H(t,n)},d(e){e&&N(t)}}}function ag(e){let t,n;return t=new sg({props:{$$slots:{default:[cg]},$$scope:{ctx:e}}}),t.$on("click",Vt),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},p(e,n){const s={};513&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function ug(e){let t,n,s,o,i,r,l,c,a,u;return t=new Dm({props:{title:e[0].settings.language.title,description:e[0].settings.language.description,$$slots:{default:[og]},$$scope:{ctx:e}}}),s=new Dm({props:{title:e[0].settings.dispaly_components_labels.title,description:e[0].settings.dispaly_components_labels.description,$$slots:{default:[ig]},$$scope:{ctx:e}}}),i=new Dm({props:{title:e[0].settings.dispaly_busses_labels.title,description:e[0].settings.dispaly_busses_labels.description,$$slots:{default:[rg]},$$scope:{ctx:e}}}),l=new Dm({props:{title:e[0].settings.display_step_text.title,description:e[0].settings.display_step_text.description,$$slots:{default:[lg]},$$scope:{ctx:e}}}),a=new Dm({props:{title:e[0].settings.reset_all.title,description:e[0].settings.reset_all.description,$$slots:{default:[ag]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment),o=U(),He(i.$$.fragment),r=U(),He(l.$$.fragment),c=U(),He(a.$$.fragment)},m(e,d){qe(t,e,d),O(e,n,d),qe(s,e,d),O(e,o,d),qe(i,e,d),O(e,r,d),qe(l,e,d),O(e,c,d),qe(a,e,d),u=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.language.title),1&n&&(o.description=e[0].settings.language.description),514&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.dispaly_components_labels.title),1&n&&(r.description=e[0].settings.dispaly_components_labels.description),516&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const c={};1&n&&(c.title=e[0].settings.dispaly_busses_labels.title),1&n&&(c.description=e[0].settings.dispaly_busses_labels.description),520&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const u={};1&n&&(u.title=e[0].settings.display_step_text.title),1&n&&(u.description=e[0].settings.display_step_text.description),528&n&&(u.$$scope={dirty:n,ctx:e}),l.$set(u);const d={};1&n&&(d.title=e[0].settings.reset_all.title),1&n&&(d.description=e[0].settings.reset_all.description),513&n&&(d.$$scope={dirty:n,ctx:e}),a.$set(d)},i(e){u||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),Ne(a.$$.fragment,e),u=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),u=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),e&&N(o),Ge(i,e),e&&N(r),Ge(l,e),e&&N(c),Ge(a,e)}}}function dg(e,t,n){let s,o,i,r,l;return d(e,Di,(e=>n(0,s=e))),d(e,Ot,(e=>n(1,o=e))),d(e,kt,(e=>n(2,i=e))),d(e,At,(e=>n(3,r=e))),d(e,St,(e=>n(4,l=e))),[s,o,i,r,l,function(e){o=e,Ot.set(o)},function(e){i=e,kt.set(i)},function(e){r=e,At.set(r)},function(e){l=e,St.set(l)}]}class fg extends Ke{constructor(e){super(),We(this,e,dg,ug,c,{})}}function pg(e){let n,s,o,i;return{c(){n=D("input"),F(n,"type","range"),F(n,"class",s=y(e[6].class)+" svelte-10k18fr"),F(n,"min",e[1]),F(n,"max",e[2]),F(n,"step",e[3]),n.disabled=e[4],F(n,"title",e[5])},m(t,s){O(t,n,s),q(n,e[0]),o||(i=[M(n,"change",e[14]),M(n,"input",e[14]),M(n,"input",e[7]),M(n,"change",e[8]),M(n,"focus",e[9]),M(n,"focusout",e[10]),M(n,"mouseenter",e[11]),M(n,"mouseleave",e[12]),M(n,"mouseover",e[13])],o=!0)},p(e,[t]){64&t&&s!==(s=y(e[6].class)+" svelte-10k18fr")&&F(n,"class",s),2&t&&F(n,"min",e[1]),4&t&&F(n,"max",e[2]),8&t&&F(n,"step",e[3]),16&t&&(n.disabled=e[4]),32&t&&F(n,"title",e[5]),1&t&&q(n,e[0])},i:t,o:t,d(e){e&&N(n),o=!1,r(i)}}}function hg(e,t,n){const o=["min","max","value","step","disabled","title"];let i=b(t,o),{min:r=0}=t,{max:l=1}=t,{value:c=l/2+r}=t,{step:a=.1}=t,{disabled:u=!1}=t,{title:d=""}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(6,i=b(t,o)),"min"in e&&n(1,r=e.min),"max"in e&&n(2,l=e.max),"value"in e&&n(0,c=e.value),"step"in e&&n(3,a=e.step),"disabled"in e&&n(4,u=e.disabled),"title"in e&&n(5,d=e.title)},[c,r,l,a,u,d,i,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(){c=j(this.value),n(0,c)}]}class mg extends Ke{constructor(e){super(),We(this,e,hg,pg,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function gg(e,t,n){const s=e.slice();return s[13]=t[n],s}function $g(e){let t,n;return{c(){t=D("option"),n=R(e[1]),F(t,"class","text-black bg-white"),t.__value="",t.value=t.__value,t.selected=!0,t.disabled=!0},m(e,s){O(e,t,s),L(t,n)},p(e,t){2&t&&H(n,e[1])},d(e){e&&N(t)}}}function bg(e){let t,n,s,o=e[13]+"";return{c(){t=D("option"),n=R(o),F(t,"class","text-black bg-white"),t.__value=s=e[13],t.value=t.__value},m(e,s){O(e,t,s),L(t,n)},p(e,i){8&i&&o!==(o=e[13]+"")&&H(n,o),8&i&&s!==(s=e[13])&&(t.__value=s,t.value=t.__value)},d(e){e&&N(t)}}}function yg(e){let n,s,o,i,l,c=""!==e[1]&&$g(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=bg(gg(e,a,t));return{c(){n=D("select"),c&&c.c(),s=B();for(let e=0;e<u.length;e+=1)u[e].c();F(n,"class",o="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class),n.disabled=e[2],void 0===e[0]&&ye((()=>e[12].call(n)))},m(t,o){O(t,n,o),c&&c.m(n,null),L(n,s);for(let e=0;e<u.length;e+=1)u[e].m(n,null);W(n,e[0]),i||(l=[M(n,"input",e[5]),M(n,"change",e[6]),M(n,"focus",e[7]),M(n,"focusout",e[8]),M(n,"mouseenter",e[9]),M(n,"mouseleave",e[10]),M(n,"mouseover",e[11]),M(n,"change",e[12])],i=!0)},p(e,[t]){if(""!==e[1]?c?c.p(e,t):(c=$g(e),c.c(),c.m(n,s)):c&&(c.d(1),c=null),8&t){let s;for(a=e[3],s=0;s<a.length;s+=1){const o=gg(e,a,s);u[s]?u[s].p(o,t):(u[s]=bg(o),u[s].c(),u[s].m(n,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=a.length}16&t&&o!==(o="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class)&&F(n,"class",o),4&t&&(n.disabled=e[2]),9&t&&W(n,e[0])},i:t,o:t,d(e){e&&N(n),c&&c.d(),C(u,e),i=!1,r(l)}}}function wg(e,t,n){const o=["value","placeholder","disabled","options"];let i=b(t,o),{value:r=""}=t,{placeholder:l=""}=t,{disabled:c=!1}=t,{options:a=[]}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,i=b(t,o)),"value"in e&&n(0,r=e.value),"placeholder"in e&&n(1,l=e.placeholder),"disabled"in e&&n(2,c=e.disabled),"options"in e&&n(3,a=e.options)},[r,l,c,a,i,function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(t){ue.call(this,e,t)},function(){r=K(this),n(0,r),n(3,a)}]}class vg extends Ke{constructor(e){super(),We(this,e,wg,yg,c,{value:0,placeholder:1,disabled:2,options:3})}}function xg(e){let t,n,s;function o(t){e[5](t)}let i={};return void 0!==e[1]&&(i.checked=e[1]),t=new eg({props:i}),fe.push((()=>je(t,"checked",o,e[1]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};!n&&2&s&&(n=!0,o.checked=e[1],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function _g(e){let t,n,s,o,i,r,l;function c(t){e[6](t)}let a={min:.5,max:1.5};return void 0!==e[2]&&(a.value=e[2]),i=new mg({props:a}),fe.push((()=>je(i,"value",c,e[2]))),{c(){t=D("div"),n=D("p"),s=R(e[2]),o=U(),He(i.$$.fragment),F(t,"class","w-36 flex flex-col items-center justify-center")},m(e,r){O(e,t,r),L(t,n),L(n,s),L(t,o),qe(i,t,null),l=!0},p(e,t){(!l||4&t)&&H(s,e[2]);const n={};!r&&4&t&&(r=!0,n.value=e[2],we((()=>r=!1))),i.$set(n)},i(e){l||(Ne(i.$$.fragment,e),l=!0)},o(e){Ce(i.$$.fragment,e),l=!1},d(e){e&&N(t),Ge(i)}}}function Eg(e){let t,n,s;function o(t){e[7](t)}let i={options:pt.getAvailableVoices(e[3]).map(Ag)};return void 0!==e[4]&&(i.value=e[4]),t=new vg({props:i}),fe.push((()=>je(t,"value",o,e[4]))),{c(){He(t.$$.fragment)},m(e,n){qe(t,e,n),s=!0},p(e,s){const o={};8&s&&(o.options=pt.getAvailableVoices(e[3]).map(Ag)),!n&&16&s&&(n=!0,o.value=e[4],we((()=>n=!1))),t.$set(o)},i(e){s||(Ne(t.$$.fragment,e),s=!0)},o(e){Ce(t.$$.fragment,e),s=!1},d(e){Ge(t,e)}}}function kg(e){let t,n,s,o,i,r;return t=new Dm({props:{title:e[0].settings.tts_enabled.title,description:e[0].settings.tts_enabled.description,$$slots:{default:[xg]},$$scope:{ctx:e}}}),s=new Dm({props:{title:e[0].settings.tts_speed.title,description:e[0].settings.tts_speed.description,$$slots:{default:[_g]},$$scope:{ctx:e}}}),i=new Dm({props:{title:e[0].settings.tts_voice.title,description:e[0].settings.tts_voice.description,$$slots:{default:[Eg]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment),o=U(),He(i.$$.fragment)},m(e,l){qe(t,e,l),O(e,n,l),qe(s,e,l),O(e,o,l),qe(i,e,l),r=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.tts_enabled.title),1&n&&(o.description=e[0].settings.tts_enabled.description),258&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.tts_speed.title),1&n&&(r.description=e[0].settings.tts_speed.description),260&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};1&n&&(l.title=e[0].settings.tts_voice.title),1&n&&(l.description=e[0].settings.tts_voice.description),280&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),r=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),r=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),e&&N(o),Ge(i,e)}}}const Ag=e=>e.name;function Sg(e,t,n){let s,o,i,r,l;return d(e,Di,(e=>n(0,s=e))),d(e,Nt,(e=>n(1,o=e))),d(e,Ct,(e=>n(2,i=e))),d(e,Ot,(e=>n(3,r=e))),d(e,Dt,(e=>n(4,l=e))),[s,o,i,r,l,function(e){o=e,Nt.set(o)},function(e){i=e,Ct.set(i)},function(e){l=e,Dt.set(l)}]}class Lg extends Ke{constructor(e){super(),We(this,e,Sg,kg,c,{})}}function Ig(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[1]),n||(s=M(t,"input",e[13]),n=!0)},p(e,n){2&n&&q(t,e[1])},d(e){e&&N(t),n=!1,s()}}}function Tg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[2]),n||(s=M(t,"input",e[14]),n=!0)},p(e,n){4&n&&q(t,e[2])},d(e){e&&N(t),n=!1,s()}}}function Og(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[3]),n||(s=M(t,"input",e[15]),n=!0)},p(e,n){8&n&&q(t,e[3])},d(e){e&&N(t),n=!1,s()}}}function Ng(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[4]),n||(s=M(t,"input",e[16]),n=!0)},p(e,n){16&n&&q(t,e[4])},d(e){e&&N(t),n=!1,s()}}}function Cg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[5]),n||(s=M(t,"input",e[17]),n=!0)},p(e,n){32&n&&q(t,e[5])},d(e){e&&N(t),n=!1,s()}}}function Dg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[6]),n||(s=M(t,"input",e[18]),n=!0)},p(e,n){64&n&&q(t,e[6])},d(e){e&&N(t),n=!1,s()}}}function Pg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[7]),n||(s=M(t,"input",e[19]),n=!0)},p(e,n){128&n&&q(t,e[7])},d(e){e&&N(t),n=!1,s()}}}function Rg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[8]),n||(s=M(t,"input",e[20]),n=!0)},p(e,n){256&n&&q(t,e[8])},d(e){e&&N(t),n=!1,s()}}}function Ug(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[9]),n||(s=M(t,"input",e[21]),n=!0)},p(e,n){512&n&&q(t,e[9])},d(e){e&&N(t),n=!1,s()}}}function Bg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[10]),n||(s=M(t,"input",e[22]),n=!0)},p(e,n){1024&n&&q(t,e[10])},d(e){e&&N(t),n=!1,s()}}}function Mg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[11]),n||(s=M(t,"input",e[23]),n=!0)},p(e,n){2048&n&&q(t,e[11])},d(e){e&&N(t),n=!1,s()}}}function Fg(e){let t,n,s;return{c(){t=D("input"),F(t,"type","color")},m(o,i){O(o,t,i),q(t,e[12]),n||(s=M(t,"input",e[24]),n=!0)},p(e,n){4096&n&&q(t,e[12])},d(e){e&&N(t),n=!1,s()}}}function Qg(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,E;return t=new Dm({props:{title:e[0].settings.databus_ext_color.title,description:e[0].settings.databus_ext_color.description,$$slots:{default:[Ig]},$$scope:{ctx:e}}}),s=new Dm({props:{title:e[0].settings.databus_int_color.title,description:e[0].settings.databus_int_color.description,$$slots:{default:[Tg]},$$scope:{ctx:e}}}),i=new Dm({props:{title:e[0].settings.databus_ext_anim_color.title,description:e[0].settings.databus_ext_anim_color.description,$$slots:{default:[Og]},$$scope:{ctx:e}}}),l=new Dm({props:{title:e[0].settings.databus_int_anim_color.title,description:e[0].settings.databus_int_anim_color.description,$$slots:{default:[Ng]},$$scope:{ctx:e}}}),a=new Dm({props:{title:e[0].settings.addressbus_ext_color.title,description:e[0].settings.addressbus_ext_color.description,$$slots:{default:[Cg]},$$scope:{ctx:e}}}),d=new Dm({props:{title:e[0].settings.addressbus_int_color.title,description:e[0].settings.addressbus_int_color.description,$$slots:{default:[Dg]},$$scope:{ctx:e}}}),p=new Dm({props:{title:e[0].settings.addressbus_ext_anim_color.title,description:e[0].settings.addressbus_ext_anim_color.description,$$slots:{default:[Pg]},$$scope:{ctx:e}}}),m=new Dm({props:{title:e[0].settings.addressbus_int_anim_color.title,description:e[0].settings.addressbus_int_anim_color.description,$$slots:{default:[Rg]},$$scope:{ctx:e}}}),$=new Dm({props:{title:e[0].settings.controlbus_ext_color.title,description:e[0].settings.controlbus_ext_color.description,$$slots:{default:[Ug]},$$scope:{ctx:e}}}),y=new Dm({props:{title:e[0].settings.controlbus_int_color.title,description:e[0].settings.controlbus_int_color.description,$$slots:{default:[Bg]},$$scope:{ctx:e}}}),v=new Dm({props:{title:e[0].settings.controlbus_ext_anim_color.title,description:e[0].settings.controlbus_ext_anim_color.description,$$slots:{default:[Mg]},$$scope:{ctx:e}}}),_=new Dm({props:{title:e[0].settings.controlbus_int_anim_color.title,description:e[0].settings.controlbus_int_anim_color.description,$$slots:{default:[Fg]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment),o=U(),He(i.$$.fragment),r=U(),He(l.$$.fragment),c=U(),He(a.$$.fragment),u=U(),He(d.$$.fragment),f=U(),He(p.$$.fragment),h=U(),He(m.$$.fragment),g=U(),He($.$$.fragment),b=U(),He(y.$$.fragment),w=U(),He(v.$$.fragment),x=U(),He(_.$$.fragment)},m(e,k){qe(t,e,k),O(e,n,k),qe(s,e,k),O(e,o,k),qe(i,e,k),O(e,r,k),qe(l,e,k),O(e,c,k),qe(a,e,k),O(e,u,k),qe(d,e,k),O(e,f,k),qe(p,e,k),O(e,h,k),qe(m,e,k),O(e,g,k),qe($,e,k),O(e,b,k),qe(y,e,k),O(e,w,k),qe(v,e,k),O(e,x,k),qe(_,e,k),E=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.databus_ext_color.title),1&n&&(o.description=e[0].settings.databus_ext_color.description),33554434&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.databus_int_color.title),1&n&&(r.description=e[0].settings.databus_int_color.description),33554436&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const c={};1&n&&(c.title=e[0].settings.databus_ext_anim_color.title),1&n&&(c.description=e[0].settings.databus_ext_anim_color.description),33554440&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const u={};1&n&&(u.title=e[0].settings.databus_int_anim_color.title),1&n&&(u.description=e[0].settings.databus_int_anim_color.description),33554448&n&&(u.$$scope={dirty:n,ctx:e}),l.$set(u);const f={};1&n&&(f.title=e[0].settings.addressbus_ext_color.title),1&n&&(f.description=e[0].settings.addressbus_ext_color.description),33554464&n&&(f.$$scope={dirty:n,ctx:e}),a.$set(f);const h={};1&n&&(h.title=e[0].settings.addressbus_int_color.title),1&n&&(h.description=e[0].settings.addressbus_int_color.description),33554496&n&&(h.$$scope={dirty:n,ctx:e}),d.$set(h);const g={};1&n&&(g.title=e[0].settings.addressbus_ext_anim_color.title),1&n&&(g.description=e[0].settings.addressbus_ext_anim_color.description),33554560&n&&(g.$$scope={dirty:n,ctx:e}),p.$set(g);const b={};1&n&&(b.title=e[0].settings.addressbus_int_anim_color.title),1&n&&(b.description=e[0].settings.addressbus_int_anim_color.description),33554688&n&&(b.$$scope={dirty:n,ctx:e}),m.$set(b);const w={};1&n&&(w.title=e[0].settings.controlbus_ext_color.title),1&n&&(w.description=e[0].settings.controlbus_ext_color.description),33554944&n&&(w.$$scope={dirty:n,ctx:e}),$.$set(w);const x={};1&n&&(x.title=e[0].settings.controlbus_int_color.title),1&n&&(x.description=e[0].settings.controlbus_int_color.description),33555456&n&&(x.$$scope={dirty:n,ctx:e}),y.$set(x);const E={};1&n&&(E.title=e[0].settings.controlbus_ext_anim_color.title),1&n&&(E.description=e[0].settings.controlbus_ext_anim_color.description),33556480&n&&(E.$$scope={dirty:n,ctx:e}),v.$set(E);const k={};1&n&&(k.title=e[0].settings.controlbus_int_anim_color.title),1&n&&(k.description=e[0].settings.controlbus_int_anim_color.description),33558528&n&&(k.$$scope={dirty:n,ctx:e}),_.$set(k)},i(e){E||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),Ne(l.$$.fragment,e),Ne(a.$$.fragment,e),Ne(d.$$.fragment,e),Ne(p.$$.fragment,e),Ne(m.$$.fragment,e),Ne($.$$.fragment,e),Ne(y.$$.fragment,e),Ne(v.$$.fragment,e),Ne(_.$$.fragment,e),E=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),Ce(d.$$.fragment,e),Ce(p.$$.fragment,e),Ce(m.$$.fragment,e),Ce($.$$.fragment,e),Ce(y.$$.fragment,e),Ce(v.$$.fragment,e),Ce(_.$$.fragment,e),E=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),e&&N(o),Ge(i,e),e&&N(r),Ge(l,e),e&&N(c),Ge(a,e),e&&N(u),Ge(d,e),e&&N(f),Ge(p,e),e&&N(h),Ge(m,e),e&&N(g),Ge($,e),e&&N(b),Ge(y,e),e&&N(w),Ge(v,e),e&&N(x),Ge(_,e)}}}function jg(e,t,n){let s,o,i,r,l,c,a,u,f,p,h,m,g;return d(e,Di,(e=>n(0,s=e))),d(e,Pt,(e=>n(1,o=e))),d(e,Rt,(e=>n(2,i=e))),d(e,Ut,(e=>n(3,r=e))),d(e,Bt,(e=>n(4,l=e))),d(e,Mt,(e=>n(5,c=e))),d(e,Ft,(e=>n(6,a=e))),d(e,Qt,(e=>n(7,u=e))),d(e,jt,(e=>n(8,f=e))),d(e,Ht,(e=>n(9,p=e))),d(e,qt,(e=>n(10,h=e))),d(e,Gt,(e=>n(11,m=e))),d(e,Wt,(e=>n(12,g=e))),[s,o,i,r,l,c,a,u,f,p,h,m,g,function(){o=this.value,Pt.set(o)},function(){i=this.value,Rt.set(i)},function(){r=this.value,Ut.set(r)},function(){l=this.value,Bt.set(l)},function(){c=this.value,Mt.set(c)},function(){a=this.value,Ft.set(a)},function(){u=this.value,Qt.set(u)},function(){f=this.value,jt.set(f)},function(){p=this.value,Ht.set(p)},function(){h=this.value,qt.set(h)},function(){m=this.value,Gt.set(m)},function(){g=this.value,Wt.set(g)}]}class Hg extends Ke{constructor(e){super(),We(this,e,jg,Qg,c,{})}}function qg(e){let t,n,s,o,i,r,l,c,a,u,d=e[1].settings.title+"";return r=new Kh({}),r.$on("click",e[2]),c=new mm({props:{class:"p-5",$$slots:{default:[Yg]},$$scope:{ctx:e}}}),{c(){t=D("div"),n=D("div"),s=D("h1"),o=R(d),i=U(),He(r.$$.fragment),l=U(),He(c.$$.fragment),F(s,"class","text-[2.8rem] font-bold"),F(n,"class","w-full flex flex-row items-center justify-between pt-3 pb-5 px-9 border-b border-neutral-500"),F(t,"class","fixed w-screen h-screen top-0 left-0 bg-gray-100 overflow-y-auto")},m(e,a){O(e,t,a),L(t,n),L(n,s),L(s,o),L(n,i),qe(r,n,null),L(t,l),qe(c,t,null),u=!0},p(e,t){(!u||2&t)&&d!==(d=e[1].settings.title+"")&&H(o,d);const n={};10&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(e){u||(Ne(r.$$.fragment,e),Ne(c.$$.fragment,e),ye((()=>{a||(a=Re(t,fl,{duration:75},!0)),a.run(1)})),u=!0)},o(e){Ce(r.$$.fragment,e),Ce(c.$$.fragment,e),a||(a=Re(t,fl,{duration:75},!1)),a.run(0),u=!1},d(e){e&&N(t),Ge(r),Ge(c),e&&a&&a.end()}}}function Gg(e){let t,n=e[1].settings.sections_titles.general+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.general+"")&&H(t,n)},d(e){e&&N(t)}}}function Wg(e){let t,n=e[1].settings.sections_titles.tts+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.tts+"")&&H(t,n)},d(e){e&&N(t)}}}function Kg(e){let t,n=e[1].settings.sections_titles.busses+"";return{c(){t=R(n)},m(e,n){O(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.busses+"")&&H(t,n)},d(e){e&&N(t)}}}function Vg(e){let t,n,s,o,i,r;return t=new ym({props:{class:"border-t border-t-gray-500",$$slots:{default:[Gg]},$$scope:{ctx:e}}}),s=new ym({props:{$$slots:{default:[Wg]},$$scope:{ctx:e}}}),i=new ym({props:{$$slots:{default:[Kg]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment),o=U(),He(i.$$.fragment)},m(e,l){qe(t,e,l),O(e,n,l),qe(s,e,l),O(e,o,l),qe(i,e,l),r=!0},p(e,n){const o={};10&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};10&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};10&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),r=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),r=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),e&&N(o),Ge(i,e)}}}function zg(e){let t,n;return t=new fg({}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Xg(e){let t,n;return t=new Lg({}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Jg(e){let t,n;return t=new Hg({}),{c(){He(t.$$.fragment)},m(e,s){qe(t,e,s),n=!0},i(e){n||(Ne(t.$$.fragment,e),n=!0)},o(e){Ce(t.$$.fragment,e),n=!1},d(e){Ge(t,e)}}}function Zg(e){let t,n,s,o,i,r;return t=new Om({props:{$$slots:{default:[zg]},$$scope:{ctx:e}}}),s=new Om({props:{$$slots:{default:[Xg]},$$scope:{ctx:e}}}),i=new Om({props:{$$slots:{default:[Jg]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment),o=U(),He(i.$$.fragment)},m(e,l){qe(t,e,l),O(e,n,l),qe(s,e,l),O(e,o,l),qe(i,e,l),r=!0},p(e,n){const o={};8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};8&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),Ne(i.$$.fragment,e),r=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),r=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e),e&&N(o),Ge(i,e)}}}function Yg(e){let t,n,s,o;return t=new _m({props:{class:"mt-4",$$slots:{default:[Vg]},$$scope:{ctx:e}}}),s=new Sm({props:{$$slots:{default:[Zg]},$$scope:{ctx:e}}}),{c(){He(t.$$.fragment),n=U(),He(s.$$.fragment)},m(e,i){qe(t,e,i),O(e,n,i),qe(s,e,i),o=!0},p(e,n){const o={};10&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};8&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ne(t.$$.fragment,e),Ne(s.$$.fragment,e),o=!0)},o(e){Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!1},d(e){Ge(t,e),e&&N(n),Ge(s,e)}}}function e$(e){let t,n,s=e[0]&&qg(e);return{c(){s&&s.c(),t=B()},m(e,o){s&&s.m(e,o),O(e,t,o),n=!0},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&Ne(s,1)):(s=qg(e),s.c(),Ne(s,1),s.m(t.parentNode,t)):s&&(Te(),Ce(s,1,1,(()=>{s=null})),Oe())},i(e){n||(Ne(s),n=!0)},o(e){Ce(s),n=!1},d(e){s&&s.d(e),e&&N(t)}}}function t$(e,t,n){let s,o;return d(e,_t,(e=>n(0,s=e))),d(e,Di,(e=>n(1,o=e))),[s,o,function(){w(_t,s=!1,s),xt.info("Settings closed","USER_INPUT")}]}class n$ extends Ke{constructor(e){super(),We(this,e,t$,e$,c,{})}}const{window:s$}=Ue;function o$(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g;n=new $c({props:{cpu:e[0],ram:e[1],symbolTable:e[2],animationsEnabled:e[5]}});let $={cpu:e[0],programExecution:e[3]};o=new fu({props:$}),e[14](o);l=new dm({props:{}}),e[15](l);a=new zc({props:{}}),e[17](a);d=new Bc({props:{}}),e[18](d);return p=new n$({props:{}}),e[19](p),{c(){t=D("div"),He(n.$$.fragment),s=U(),He(o.$$.fragment),i=U(),He(l.$$.fragment),c=U(),He(a.$$.fragment),u=U(),He(d.$$.fragment),f=U(),He(p.$$.fragment),F(t,"class","relative w-app h-app origin-top-left")},m(r,$){O(r,t,$),qe(n,t,null),L(t,s),qe(o,t,null),L(t,i),qe(l,t,null),e[16](t),O(r,c,$),qe(a,r,$),O(r,u,$),qe(d,r,$),O(r,f,$),qe(p,r,$),h=!0,m||(g=[M(s$,"resize",e[11]),M(s$,"error",e[12])],m=!0)},p(e,[t]){const s={};1&t&&(s.cpu=e[0]),2&t&&(s.ram=e[1]),4&t&&(s.symbolTable=e[2]),32&t&&(s.animationsEnabled=e[5]),n.$set(s);const i={};1&t&&(i.cpu=e[0]),8&t&&(i.programExecution=e[3]),o.$set(i);l.$set({});a.$set({});d.$set({});p.$set({})},i(e){h||(Ne(n.$$.fragment,e),Ne(o.$$.fragment,e),Ne(l.$$.fragment,e),Ne(a.$$.fragment,e),Ne(d.$$.fragment,e),Ne(p.$$.fragment,e),h=!0)},o(e){Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),Ce(d.$$.fragment,e),Ce(p.$$.fragment,e),h=!1},d(s){s&&N(t),Ge(n),e[14](null),Ge(o),e[15](null),Ge(l),e[16](null),s&&N(c),e[17](null),Ge(a,s),s&&N(u),e[18](null),Ge(d,s),s&&N(f),e[19](null),Ge(p,s),m=!1,r(g)}}}function i$(e,t,n){let s,o,i,r,l,c,a;d(e,Di,(e=>n(20,s=e))),d(e,It,(e=>n(5,o=e))),d(e,nt,(e=>n(6,i=e))),d(e,it,(e=>n(7,r=e))),d(e,ot,(e=>n(8,l=e))),d(e,st,(e=>n(9,c=e))),d(e,lt,(e=>n(10,a=e)));let u,{cpu:f}=t,{ram:p}=t,{symbolTable:h}=t,{programExecution:m}=t,{onMountCallback:g}=t;function $(){let e=window.innerWidth/1400,t=window.innerHeight/800,s=e<t?e:t;n(4,u.style.transform=`scale(${s})`,u)}return oe((()=>{$(),g()})),e.$$set=e=>{"cpu"in e&&n(0,f=e.cpu),"ram"in e&&n(1,p=e.ram),"symbolTable"in e&&n(2,h=e.symbolTable),"programExecution"in e&&n(3,m=e.programExecution),"onMountCallback"in e&&n(13,g=e.onMountCallback)},[f,p,h,m,u,o,i,r,l,c,a,$,function(e){e.preventDefault(),xt.error(new Error(s.errors.unchecked),"UNCAUGHT")},g,function(e){fe[e?"unshift":"push"]((()=>{i=e,nt.set(i)}))},function(e){fe[e?"unshift":"push"]((()=>{r=e,it.set(r)}))},function(e){fe[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},function(e){fe[e?"unshift":"push"]((()=>{l=e,ot.set(l)}))},function(e){fe[e?"unshift":"push"]((()=>{c=e,st.set(c)}))},function(e){fe[e?"unshift":"push"]((()=>{a=e,lt.set(a)}))}]}class r$ extends Ke{constructor(e){super(),We(this,e,i$,o$,c,{cpu:0,ram:1,symbolTable:2,programExecution:3,onMountCallback:13})}}class l${constructor(){this.data_main=Je(new Wi(16,0)),this.data_ir_cu=Je(new Wi(16,0)),this.data_alu_acc=Je(new Wi(16,0)),this.data_alu_sw=Je(new Wi(16,0)),this.data_mux_alu=Je(new Wi(16,0)),this.ctrl_cu_mux=Je(new Wi(16,0)),this.ctrl_cu_ram=Je(new Wi(16,0)),this.ctrl_cu_alu=Je(new Wi(16,0)),this.addr_main=Je(new Wi(16,0)),this.addr_inc_pc=Je(new Wi(16,0))}set(e,t){this[e].set(t)}}class c${constructor(e,t=c$.DEFAULT_INTERVAL_MS){if(!e)throw new Error("Null or undefined cyclable");if(t<1)throw new Error("intervalMs must be greater than 0");this.intervalId=null,this.cyclable=e,this.intervalMs=t,this.isLocked=!1}start(){null===this.intervalId&&(this.intervalId=setInterval((()=>e(this,void 0,void 0,(function*(){this.isLocked||(this.isLocked=!0,yield this.cyclable.cycle(),this.isLocked=!1)}))),this.intervalMs))}stop(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}let a$;return c$.DEFAULT_INTERVAL_MS=200,function(){e(this,void 0,void 0,(function*(){xt.info("Instantiating models","DEBUG");const t=new ol,n=new tr,s=new ul,o=new l$,i=new Sc;xt.info("Models instantiated","DEBUG"),xt.info("Setting model's stores","DEBUG"),fr.set(t),dr.set(n),pr.set(s),hr.set(o),$r.set(i),xt.info("Model's stores setted","DEBUG"),xt.info("Subscribing symbol table change synchers","DEBUG"),s.addLabelEditedListener((e=>t.updateLabel(e.oldLabel,e.newLabel))),s.addLabelEditedListener((e=>{xt.info(`Label edited - oldValue: "${e.oldLabel}" newValue: "${e.newLabel}"`,"DEBUG")})),s.addLabelMovedListener((e=>t.updateLabelAddress(e.label,e.newAddress))),s.addLabelMovedListener((e=>{xt.info(`Label moved - label: "${e.label}" oldAddress: "${e.oldAddress}" newAddress: "${e.newAddress}"`,"DEBUG")})),s.addLabelRemovedListener((e=>t.removeLabel(e.removedLabel))),s.addLabelRemovedListener((e=>{xt.info(`Label removed - label: "${e.removedLabel}" address: "${e.address}"`,"DEBUG")})),xt.info("Symbol table change synchers subscribed","DEBUG"),xt.info("Subscribing local storage program synchers","DEBUG"),t.instructions.subscribe((e=>dt.set("program",tc(t,s)))),s.labels.subscribe((e=>dt.set("program",tc(t,s)))),xt.info("Local storage program synchers subscribed","DEBUG"),yield function(){return e(this,void 0,void 0,(function*(){xt.info("Initializing settings","DEBUG"),xt.info("Initializing settings values","DEBUG"),_t.set(Kt.showSettings),Et.set(Kt.displayAsBinary),kt.set("true"===dt.getOrElse("displayComponentsLabels",Kt.displayComponentsLabels)),At.set("true"===dt.getOrElse("displayBussesLabels",Kt.displayBussesLabels)),St.set("true"===dt.getOrElse("displayStepText",Kt.displayStepText)),Lt.set(Kt.minimalAnimations),It.set(Kt.animationsEnabled),Tt.set(parseFloat(dt.getOrElse("animationSpeed",Kt.animationSpeed))),Ot.set(dt.getOrElse("language",Kt.language)),Nt.set("true"===dt.getOrElse("ttsEnabled",Kt.ttsEnabled)),Ct.set(parseFloat(dt.getOrElse("ttsSpeed",Kt.ttsSpeed))),Pt.set(dt.getOrElse("extDataBusColor",Kt.extDataBusColor)),Rt.set(dt.getOrElse("intDataBusColor",Kt.intDataBusColor)),Ut.set(dt.getOrElse("extDataBusAnimationColor",Kt.extDataBusAnimationColor)),Bt.set(dt.getOrElse("intDataBusAnimationColor",Kt.intDataBusAnimationColor)),Mt.set(dt.getOrElse("extAddressBusColor",Kt.extAddressBusColor)),Ft.set(dt.getOrElse("intAddressBusColor",Kt.intAddressBusColor)),Qt.set(dt.getOrElse("extAddressBusAnimationColor",Kt.extAddressBusAnimationColor)),jt.set(dt.getOrElse("intAddressBusAnimationColor",Kt.intAddressBusAnimationColor)),Ht.set(dt.getOrElse("extControlBusColor",Kt.extControlBusColor)),qt.set(dt.getOrElse("intControlBusColor",Kt.intControlBusColor)),Gt.set(dt.getOrElse("extControlBusAnimationColor",Kt.extControlBusAnimationColor)),Wt.set(dt.getOrElse("intControlBusAnimationColor",Kt.intControlBusAnimationColor)),xt.info("Settings values initialized","DEBUG"),yield new Promise((e=>{const t=()=>{xt.info("Initializing ttsVoice setting (onvoicechanged event)","DEBUG"),Dt.set(dt.getOrElse("ttsVoice",pt.getAvailableVoices(Ot.get())[0].name));const n=Dt.get();Ot.subscribe((e=>Dt.set(pt.getAvailableVoices(e)[0].name))),Dt.subscribe((e=>dt.set("ttsVoice",e))),Dt.set(n),window.speechSynthesis.removeEventListener("voiceschanged",t),xt.info("ttsVoice setting initialized","DEBUG"),e()};0===window.speechSynthesis.getVoices().length?window.speechSynthesis.onvoiceschanged=t:t()})),xt.info("Subscribing local storage settings synchers","DEBUG"),kt.subscribe((e=>dt.set("displayComponentsLabels",e))),At.subscribe((e=>dt.set("displayBussesLabels",e))),St.subscribe((e=>dt.set("displayStepText",e))),Tt.subscribe((e=>dt.set("animationSpeed",e))),Ot.subscribe((e=>dt.set("language",e))),Nt.subscribe((e=>dt.set("ttsEnabled",e))),Ct.subscribe((e=>dt.set("ttsSpeed",e))),Pt.subscribe((e=>dt.set("extDataBusColor",e))),Rt.subscribe((e=>dt.set("intDataBusColor",e))),Ut.subscribe((e=>dt.set("extDataBusAnimationColor",e))),Bt.subscribe((e=>dt.set("intDataBusAnimationColor",e))),Mt.subscribe((e=>dt.set("extAddressBusColor",e))),Ft.subscribe((e=>dt.set("intAddressBusColor",e))),Qt.subscribe((e=>dt.set("extAddressBusAnimationColor",e))),jt.subscribe((e=>dt.set("intAddressBusAnimationColor",e))),Ht.subscribe((e=>dt.set("extControlBusColor",e))),qt.subscribe((e=>dt.set("intControlBusColor",e))),Gt.subscribe((e=>dt.set("extControlBusAnimationColor",e))),Wt.subscribe((e=>dt.set("intControlBusAnimationColor",e))),xt.info("Local storage settings synchers subscribed","DEBUG"),xt.info("Settings initialized","DEBUG")}))}(),yield function(){return e(this,void 0,void 0,(function*(){xt.info("Initializing text","DEBUG"),yield Pi(u(Ot)),Ot.subscribe(Pi),xt.info("Text initialized","DEBUG")}))}(),yield i.fetchMessages("resources/messages.yaml"),xt.info("Instantiating program execution and program execution loop","DEBUG");const r=new za(n,t,s,o),l=new c$(r,20);xt.info("Program execution and program execution loop instantiated","DEBUG"),xt.info("Setting program execution and program execution loop stores","DEBUG"),mr.set(r),gr.set(l),xt.info("Program execution and program execution loop stores setted","DEBUG"),xt.info("Instantiating App","DEBUG"),a$=new r$({target:document.body,props:{cpu:n,ram:t,symbolTable:s,programExecution:r,onMountCallback:()=>{xt.info("Initializing execution context","DEBUG"),xt.info("Fetching ui components from stores","DEBUG");const e=et.get(),t=Ye.get(),n=tt.get(),s=rt.get();if(!e)throw new Error("cpu component not yet initialized");if(!t)throw new Error("ram component not yet initialized");if(!n)throw new Error("wires component not yet initialized");if(!s)throw new Error("step text component not yet initialized");xt.info("Ui components fetched","DEBUG"),xt.info("Passing ui components to executionContext","DEBUG"),r.executionContext.cpu.component=e,r.executionContext.ram.component=t,r.executionContext.wires.component=n,r.executionContext.stepTextComponent=s,xt.info("Ui components passed to executionContext","DEBUG"),xt.info("Starting execution loop","DEBUG"),l.start(),xt.info("Execution loop started","DEBUG"),xt.info("Execution context initialized","DEBUG")}}}),xt.info("App instantiated","DEBUG"),xt.info("Checking url params for base64 encoded program","DEBUG");const c=new URLSearchParams(window.location.search);if(c.has("program")){xt.info("Base64 encoded program found in page url","DEBUG");try{const e=c.get("program");xt.info(`Loading program from url: ${e}`,"USER_INPUT");const n=ec(window.atob(e));t.import(n.ram),s.import(n.symbolTable)}catch(e){i.error(e.message),xt.error(e,"USER_INPUT",e.isChecked)}xt.info("Base64 encoded program loaded","DEBUG")}else{xt.info("No base64 encoded program found in the page url","DEBUG"),xt.info("Loading program from local storage","DEBUG");const e=ec(dt.getOrElse("program","NOP"));t.import(e.ram),s.import(e.symbolTable),xt.info("Program from local storage loaded","DEBUG")}}))}(),a$}();
//# sourceMappingURL=app.bundle.js.map
