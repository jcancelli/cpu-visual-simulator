var app=function(){"use strict";function e(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))}function t(){}const n=e=>e;function s(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function i(){return Object.create(null)}function r(e){e.forEach(o)}function l(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function u(e){let t;return a(e,(e=>t=e))(),t}function d(e,t,n){e.$$.on_destroy.push(a(t,n))}function f(e,t,n,s){if(e){const o=p(e,t,n,s);return e[0](o)}}function p(e,t,n,o){return e[1]&&o?s(n.ctx.slice(),e[1](o(t))):n.ctx}function h(e,t,n,s){if(e[2]&&s){const o=e[2](s(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|o[s];return e}return t.dirty|o}return t.dirty}function m(e,t,n,s,o,i){if(o){const r=p(t,n,s,i);e.p(r,o)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function $(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function b(e,t){const n={};t=new Set(t);for(const s in e)t.has(s)||"$"===s[0]||(n[s]=e[s]);return n}function y(e){return null==e?"":e}function w(e,t,n){return e.set(n),t}function v(e){return e&&l(e.destroy)?e.destroy:t}const x="undefined"!=typeof window;let _=x?()=>window.performance.now():()=>Date.now(),k=x?e=>requestAnimationFrame(e):t;const E=new Set;function A(e){E.forEach((t=>{t.c(e)||(E.delete(t),t.f())})),0!==E.size&&k(A)}function I(e){let t;return 0===E.size&&k(A),{promise:new Promise((n=>{E.add(t={c:e,f:n})})),abort(){E.delete(t)}}}function S(e,t){e.appendChild(t)}function T(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function N(e){const t=P("style");return function(e,t){S(e.head||e,t),t.sheet}(T(e),t),t.sheet}function L(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function C(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function P(e){return document.createElement(e)}function R(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function D(e){return document.createTextNode(e)}function U(){return D(" ")}function B(){return D("")}function M(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Q(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)null==t[s]?e.removeAttribute(s):"style"===s?e.style.cssText=t[s]:"__value"===s?e.value=e[s]=t[s]:n[s]&&n[s].set?e[s]=t[s]:F(e,s,t[s])}function j(e){return""===e?null:+e}function H(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function W(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function K(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function V(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];s.selected=~t.indexOf(s.__value)}}function z(e){return[].map.call(e.querySelectorAll(":checked"),(e=>e.__value))}function G(e,t,n){e.classList[n?"add":"remove"](t)}function X(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,s,t),o}function J(e,t){return new e(t)}const Z=new Map;let Y,ee=0;function te(e,t,n,s,o,i,r,l=0){const c=16.666/s;let a="{\n";for(let e=0;e<=1;e+=c){const s=t+(n-t)*i(e);a+=100*e+`%{${r(s,1-s)}}\n`}const u=a+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,f=T(e),{stylesheet:p,rules:h}=Z.get(f)||function(e,t){const n={stylesheet:N(t),rules:{}};return Z.set(e,n),n}(f,e);h[d]||(h[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${o}ms 1 both`,ee+=1,d}function ne(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-s.length;o&&(e.style.animation=s.join(", "),ee-=o,ee||k((()=>{ee||(Z.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&O(t)})),Z.clear())})))}function se(e){Y=e}function oe(){if(!Y)throw new Error("Function called outside component initialization");return Y}function ie(e){oe().$$.on_mount.push(e)}function re(e){oe().$$.after_update.push(e)}function le(e){oe().$$.on_destroy.push(e)}function ce(){const e=oe();return(t,n,{cancelable:s=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=X(t,n,{cancelable:s});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function ae(e,t){return oe().$$.context.set(e,t),t}function ue(e){return oe().$$.context.get(e)}function de(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const fe=[],pe=[],he=[],me=[],ge=Promise.resolve();let $e=!1;function be(){$e||($e=!0,ge.then(Ee))}function ye(){return be(),ge}function we(e){he.push(e)}function ve(e){me.push(e)}const xe=new Set;let _e,ke=0;function Ee(){const e=Y;do{for(;ke<fe.length;){const e=fe[ke];ke++,se(e),Ae(e.$$)}for(se(null),fe.length=0,ke=0;pe.length;)pe.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];xe.has(t)||(xe.add(t),t())}he.length=0}while(fe.length);for(;me.length;)me.pop()();$e=!1,xe.clear(),se(e)}function Ae(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(we)}}function Ie(){return _e||(_e=Promise.resolve(),_e.then((()=>{_e=null}))),_e}function Se(e,t,n){e.dispatchEvent(X(`${t?"intro":"outro"}${n}`))}const Te=new Set;let Ne;function Le(){Ne={r:0,c:[],p:Ne}}function Oe(){Ne.r||r(Ne.c),Ne=Ne.p}function Ce(e,t){e&&e.i&&(Te.delete(e),e.i(t))}function Pe(e,t,n,s){if(e&&e.o){if(Te.has(e))return;Te.add(e),Ne.c.push((()=>{Te.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}const Re={duration:0};function De(e,s,o){const i={direction:"in"};let r,c,a=s(e,o,i),u=!1,d=0;function f(){r&&ne(e,r)}function p(){const{delay:s=0,duration:o=300,easing:i=n,tick:l=t,css:p}=a||Re;p&&(r=te(e,0,1,o,s,i,p,d++)),l(0,1);const h=_()+s,m=h+o;c&&c.abort(),u=!0,we((()=>Se(e,!0,"start"))),c=I((t=>{if(u){if(t>=m)return l(1,0),Se(e,!0,"end"),f(),u=!1;if(t>=h){const e=i((t-h)/o);l(e,1-e)}}return u}))}let h=!1;return{start(){h||(h=!0,ne(e),l(a)?(a=a(i),Ie().then(p)):p())},invalidate(){h=!1},end(){u&&(f(),u=!1)}}}function Ue(e,s,o,i){const c={direction:"both"};let a=s(e,o,c),u=i?0:1,d=null,f=null,p=null;function h(){p&&ne(e,p)}function m(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(s){const{delay:o=0,duration:i=300,easing:l=n,tick:c=t,css:g}=a||Re,$={start:_()+o,b:s};s||($.group=Ne,Ne.r+=1),d||f?f=$:(g&&(h(),p=te(e,u,s,i,o,l,g)),s&&c(0,1),d=m($,i),we((()=>Se(e,s,"start"))),I((t=>{if(f&&t>f.start&&(d=m(f,i),f=null,Se(e,d.b,"start"),g&&(h(),p=te(e,u,d.b,d.duration,0,l,a.css))),d)if(t>=d.end)c(u=d.b,1-u),Se(e,d.b,"end"),f||(d.b?h():--d.group.r||r(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;u=d.a+d.d*l(e/d.duration),c(u,1-u)}return!(!d&&!f)})))}return{run(e){l(a)?Ie().then((()=>{a=a(c),g(e)})):g(e)},end(){h(),d=f=null}}}const Be="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Me(e,t){Pe(e,1,1,(()=>{t.delete(e.key)}))}function Fe(e,t,n,s,o,i,r,l,c,a,u,d){let f=e.length,p=i.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],$=new Map,b=new Map;for(h=p;h--;){const e=d(o,i,h),l=n(e);let c=r.get(l);c?s&&c.p(e,t):(c=a(l,e),c.c()),$.set(l,g[h]=c),l in m&&b.set(l,Math.abs(h-m[l]))}const y=new Set,w=new Set;function v(e){Ce(e,1),e.m(l,u),r.set(e.key,e),u=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],s=t.key,o=n.key;t===n?(u=t.first,f--,p--):$.has(o)?!r.has(s)||y.has(s)?v(t):w.has(o)?f--:b.get(s)>b.get(o)?(w.add(s),v(t)):(y.add(o),f--):(c(n,r),f--)}for(;f--;){const t=e[f];$.has(t.key)||c(t,r)}for(;p;)v(g[p-1]);return g}function Qe(e,t){const n={},s={},o={$$scope:1};let i=e.length;for(;i--;){const r=e[i],l=t[i];if(l){for(const e in r)e in l||(s[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in r)o[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function je(e){return"object"==typeof e&&null!==e?e:{}}function He(e,t,n,s){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,void 0===s&&n(e.$$.ctx[o]))}function qe(e){e&&e.c()}function We(e,t,n,s){const{fragment:i,after_update:c}=e.$$;i&&i.m(t,n),s||we((()=>{const t=e.$$.on_mount.map(o).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):r(t),e.$$.on_mount=[]})),c.forEach(we)}function Ke(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(e,n,s,o,l,c,a,u=[-1]){const d=Y;se(e);const f=e.$$={fragment:null,ctx:[],props:c,update:t,not_equal:l,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=s?s(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&l(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&function(e,t){-1===e.$$.dirty[0]&&(fe.push(e),be(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(O)}else f.fragment&&f.fragment.c();n.intro&&Ce(e.$$.fragment),We(e,n.target,n.anchor,n.customElement),Ee()}se(d)}class ze{$destroy(){Ke(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ge=[];function Xe(e,n=t){let s;const o=new Set;function i(t){if(c(e,t)&&(e=t,s)){const t=!Ge.length;for(const t of o)t[1](),Ge.push(t,e);if(t){for(let e=0;e<Ge.length;e+=2)Ge[e][0](Ge[e+1]);Ge.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,l=t){const c=[r,l];return o.add(c),1===o.size&&(s=n(i)||t),r(e),()=>{o.delete(c),0===o.size&&(s(),s=null)}}}}function Je(e,n,s){const o=!Array.isArray(e),i=o?[e]:e,c=n.length<2;return u=e=>{let s=!1;const u=[];let d=0,f=t;const p=()=>{if(d)return;f();const s=n(o?u[0]:u,e);c?e(s):f=l(s)?s:t},h=i.map(((e,t)=>a(e,(e=>{u[t]=e,d&=~(1<<t),s&&p()}),(()=>{d|=1<<t}))));return s=!0,p(),function(){r(h),f()}},{subscribe:Xe(s,u).subscribe};var u}function Ze(e,t){const n=Xe(e,t);return n.get=()=>u(n),n}function Ye(e,t){const n=Je(e,t);return n.get=()=>u(n),n}const et=Ze(),tt=Ze(),nt=Ze(),st=Ze(),ot=Ze(),it=Ze(),rt=Ze(),lt=Ze(),ct=Ze();class at{constructor(e,t,n){this.a=e,this.b=t,this.type=n,this.a.connectTo(t,this)}isConnecting(e,t){return this.a===e&&this.b===t||this.a===t&&this.b===e}}at.WIDTH=5;class ut{constructor(e,t,n,s=null){this.x=t,this.y=n,this.name=e,this.neighbours=[],this.intersectionType=s}isAlignedTo(e){return this.x===e.x||this.y===e.y}isConnectedTo(e){return this.neighbours.some((t=>t===e))}connectTo(e,t){if(!this.isAlignedTo(e))throw new Error("Cannot connect 2 nodes that are not aligned (nodeA: "+this.name+" nodeB: "+e.name+")");if(this.isConnectedTo(e))throw new Error("This node is already connected to "+e.name);this.neighbours.push(e),e.neighbours.push(this)}static distance(e,t){return Math.hypot(e.x-t.x,e.y-t.y)}static direction(e,t){return e.x>t.x?{x:-1,y:0}:e.x<t.x?{x:1,y:0}:e.y>t.y?{x:0,y:-1}:{x:0,y:1}}}const dt=["en","it"];const ft=new class{constructor(e){this.namespace=e}set(e,t){localStorage.setItem(`${this.namespace}.${e.toString()}`,t.toString())}get(e){return localStorage.getItem(`${this.namespace}.${e.toString()}`)}getOrElse(e,t){return this.isSet(e)?this.get(e):t.toString()}isSet(e){return null!==localStorage.getItem(`${this.namespace}.${e.toString()}`)}}("app");let pt=null;var ht={read:function(e,t,n,...s){pt=new SpeechSynthesisUtterance(e),pt.rate=t,pt.voice=n,pt.onend=pt.onerror=()=>{pt=null,s.forEach((e=>null==e?void 0:e()))},speechSynthesis.speak(pt)},isUtteranceEnded:function(){return null===pt},getAvailableVoices:function(e){return window.speechSynthesis.getVoices().filter((t=>t.lang.startsWith(e)))}};const mt=Date.now();var gt,$t;!function(e){e.DEBUG="DEBUG",e.WARNING="WARNING",e.HANDLED_ERROR="HANDLED_ERROR",e.UNEXPECTED_ERROR="UNEXPECTED_ERROR"}(gt||(gt={})),function(e){e.USER_INPUT="USER_INPUT",e.EXECUTION="EXECUTION",e.INIT="INIT",e.UNCAUGHT="UNCAUGHT"}($t||($t={}));class bt{constructor(){this._logs=Ze([]),this.logs=Ye(this._logs,(e=>e))}static getInstance(){return bt.instance}log(e,t,...n){this._logs.update((s=>[...s,{message:e,timestamp:Date.now()-mt,level:t,categories:[...n]}]))}debug(e,...t){this.log(e,gt.DEBUG,...t)}warning(e,...t){this.log(e,gt.WARNING,...t)}handled_error(e,...t){this.log(e,gt.HANDLED_ERROR,...t)}unexpected_error(e,...t){this.log(e,gt.UNEXPECTED_ERROR,...t)}}bt.instance=new bt;const yt=bt.getInstance();const wt=Ze(),vt=Ze(),xt=Ze(),_t=Ze(),kt=Ze(),Et=Ze(),At=Ze(),It=Ze(),St=Ze(),Tt=Ze(),Nt=Ze(),Lt=Ze(),Ot=Ze(),Ct=Ze(),Pt=Ze(),Rt=Ze(),Dt=Ze(),Ut=Ze(),Bt=Ze(),Mt=Ze(),Ft=Ze(),Qt=Ze(),jt=Ze(),Ht=Ze(),qt=Ze(),Wt={showSettings:!1,showLogsExplorer:!1,displayAsBinary:!1,displayComponentsLabels:!0,displayBussesLabels:!0,displayStepText:!1,minimalAnimations:!1,animationsEnabled:!0,animationSpeed:1.5,language:function(){let e=void 0!==navigator.languages?navigator.languages[0]:navigator.language;return e=e.split("-")[0],dt.includes(e)?e:"en"}(),ttsEnabled:!1,ttsSpeed:1,extDataBusColor:"#0000ff",intDataBusColor:"#00ffff",extDataBusAnimationColor:"#00ff00",intDataBusAnimationColor:"#006400",extAddressBusColor:"#ff8c00",intAddressBusColor:"#ffff00",extAddressBusAnimationColor:"#00ff00",intAddressBusAnimationColor:"#006400",extControlBusColor:"#ff0000",intControlBusColor:"#ff7a90",extControlBusAnimationColor:"#00ff00",intControlBusAnimationColor:"#00ff00"};function Kt(){_t.set(Wt.displayComponentsLabels),kt.set(Wt.displayBussesLabels),Et.set(Wt.displayStepText),St.set(Wt.animationSpeed),Tt.set(Wt.language),Nt.set(Wt.ttsEnabled),Lt.set(Wt.ttsSpeed),Ct.set(Wt.extDataBusColor),Pt.set(Wt.intDataBusColor),Rt.set(Wt.extDataBusAnimationColor),Dt.set(Wt.intDataBusAnimationColor),Ut.set(Wt.extAddressBusColor),Bt.set(Wt.intAddressBusColor),Mt.set(Wt.extAddressBusAnimationColor),Ft.set(Wt.intAddressBusAnimationColor),Qt.set(Wt.extControlBusColor),jt.set(Wt.intControlBusColor),Ht.set(Wt.extControlBusAnimationColor),qt.set(Wt.intControlBusAnimationColor)}const Vt={DATA_INT:{name:"DATA_INT",color:()=>u(Pt),animationColor:()=>u(Dt)},DATA_EXT:{name:"DATA_EXT",color:()=>u(Ct),animationColor:()=>u(Rt)},CONTROL_INT:{name:"CONTROL_INT",color:()=>u(jt),animationColor:()=>u(qt)},CONTROL_EXT:{name:"CONTROL_EXT",color:()=>u(Qt),animationColor:()=>u(Ht)},ADDRESS_INT:{name:"ADDRESS_INT",color:()=>u(Bt),animationColor:()=>u(Ft)},ADDRESS_EXT:{name:"ADDRESS_EXT",color:()=>u(Ut),animationColor:()=>u(Mt)},INVISIBLE:{name:"INVISIBLE",color:()=>"transparent",animationColor:()=>"transparent"}},zt=[...[new ut("RAM:DATA",1250,115),new ut("DATA:1",1250,85,Vt.DATA_EXT),new ut("DATA:2",749,85),new ut("DATA:3",527,85),new ut("DATA:4",262,85),new ut("DATA:5",95,85,Vt.DATA_INT),new ut("DATA:6",95,390),new ut("DATA:7",95,617,Vt.DATA_INT),new ut("DATA:8",320,390,Vt.DATA_INT),new ut("DATA:9",312,250,Vt.DATA_INT),new ut("DATA:10",477,250),new ut("DATA:11",652,490,Vt.DATA_INT),new ut("IR:1",262,151),new ut("IR:2",312,180),new ut("IR:3",212,180),new ut("MUX:1",477,292),new ut("MUX:2",527,292),new ut("MUX:3",502,332),new ut("ACC:1",327,617),new ut("ACC:2",412,601),new ut("ALU:1",320,432),new ut("ALU:2",502,432),new ut("ALU:3",526,490),new ut("ALU:4",412,538),new ut("SW:1",652,601)],...[new ut("RAM:ADD",1061,250),new ut("ADD:1",749,250),new ut("ADD:2",670,250),new ut("ADD:3",590,250),new ut("ADD:4",590,137,Vt.ADDRESS_INT),new ut("ADD:5",532,250),new ut("ADD:6",522,250),new ut("INC:1",670,210),new ut("INC:2",670,182),new ut("PC:1",670,150),new ut("PC:2",622,137)],...[new ut("RAM:CTRL",1061,370),new ut("CTRL:1",749,370),new ut("CTRL:2",507,370),new ut("CTRL:3",497,370),new ut("CTRL:4",240,370,Vt.CONTROL_INT),new ut("CTRL:5",185,385),new ut("CTRL:6",185,395),new ut("CTRL:7",185,490,Vt.CONTROL_INT),new ut("CU:1",212,281),new ut("CU:2",270,313),new ut("CU:3",240,340),new ut("CU:4",185,340),new ut("MUX:4",464,313),new ut("ALU:5",297,490)]];function Gt(e){return zt.find((t=>t.name===e))}const Xt=[...[new at(Gt("RAM:DATA"),Gt("DATA:1"),Vt.DATA_EXT),new at(Gt("DATA:1"),Gt("DATA:2"),Vt.DATA_EXT),new at(Gt("DATA:2"),Gt("DATA:3"),Vt.DATA_INT),new at(Gt("DATA:3"),Gt("DATA:4"),Vt.DATA_INT),new at(Gt("DATA:4"),Gt("DATA:5"),Vt.DATA_INT),new at(Gt("DATA:5"),Gt("DATA:6"),Vt.DATA_INT),new at(Gt("DATA:6"),Gt("DATA:7"),Vt.DATA_INT),new at(Gt("DATA:6"),Gt("DATA:8"),Vt.DATA_INT),new at(Gt("DATA:8"),Gt("ALU:1"),Vt.DATA_INT),new at(Gt("DATA:7"),Gt("ACC:1"),Vt.DATA_INT),new at(Gt("MUX:3"),Gt("ALU:2"),Vt.DATA_INT),new at(Gt("ALU:4"),Gt("ACC:2"),Vt.DATA_INT),new at(Gt("ALU:3"),Gt("DATA:11"),Vt.DATA_INT),new at(Gt("DATA:11"),Gt("SW:1"),Vt.DATA_INT),new at(Gt("DATA:4"),Gt("IR:1"),Vt.DATA_INT),new at(Gt("IR:3"),Gt("CU:1"),Vt.DATA_INT),new at(Gt("IR:2"),Gt("DATA:9"),Vt.DATA_INT),new at(Gt("DATA:9"),Gt("DATA:10"),Vt.DATA_INT),new at(Gt("DATA:10"),Gt("MUX:1"),Vt.DATA_INT),new at(Gt("DATA:3"),Gt("MUX:2"),Vt.DATA_INT)],...[new at(Gt("RAM:ADD"),Gt("ADD:1"),Vt.ADDRESS_EXT),new at(Gt("ADD:1"),Gt("ADD:2"),Vt.ADDRESS_INT),new at(Gt("ADD:2"),Gt("INC:1"),Vt.ADDRESS_INT),new at(Gt("INC:2"),Gt("PC:1"),Vt.ADDRESS_INT),new at(Gt("PC:2"),Gt("ADD:4"),Vt.ADDRESS_INT),new at(Gt("ADD:2"),Gt("ADD:3"),Vt.ADDRESS_INT),new at(Gt("ADD:3"),Gt("ADD:4"),Vt.ADDRESS_INT),new at(Gt("ADD:3"),Gt("ADD:5"),Vt.ADDRESS_INT),new at(Gt("ADD:5"),Gt("ADD:6"),Vt.INVISIBLE),new at(Gt("ADD:6"),Gt("DATA:10"),Vt.ADDRESS_INT)],...[new at(Gt("CU:2"),Gt("MUX:4"),Vt.CONTROL_INT),new at(Gt("RAM:CTRL"),Gt("CTRL:1"),Vt.CONTROL_EXT),new at(Gt("CTRL:1"),Gt("CTRL:2"),Vt.CONTROL_INT),new at(Gt("CTRL:2"),Gt("CTRL:3"),Vt.INVISIBLE),new at(Gt("CTRL:3"),Gt("CTRL:4"),Vt.CONTROL_INT),new at(Gt("CTRL:4"),Gt("CU:3"),Vt.CONTROL_INT),new at(Gt("CU:4"),Gt("CTRL:5"),Vt.CONTROL_INT),new at(Gt("CTRL:5"),Gt("CTRL:6"),Vt.INVISIBLE),new at(Gt("CTRL:6"),Gt("CTRL:7"),Vt.CONTROL_INT),new at(Gt("CTRL:7"),Gt("ALU:5"),Vt.CONTROL_INT)]];function Jt(e){return Xt.find((t=>t.a.name+"-"+t.b.name===e||t.b.name+"-"+t.a.name===e))}let Zt,Yt;class en{constructor(e,t){this.pos={x:0,y:0},this.path=[...e],this.wires=[...t],this.reset()}play(){return e(this,void 0,void 0,(function*(){return new Promise(this._play.bind(this))}))}_play(e,t){this.resolve=e,requestAnimationFrame(this.startAnimation.bind(this))}startAnimation(e){this.previousTimestamp=e,this.animate(e)}animate(e){this.deltatime=(e-this.previousTimestamp)/1e3;const t=Math.floor(400*this.deltatime*u(St));if(this.draw(t),this.pos.x===this.path[this.path.length-1].x&&this.pos.y===this.path[this.path.length-1].y)return nn(0),this.reset(),void this.resolve();this.previousTimestamp=e,requestAnimationFrame(this.animate.bind(this))}draw(e){for(Yt.beginPath(),Yt.moveTo(this.pos.x,this.pos.y);e>0;){for(this.nextNode=sn(this.pos,this.path[this.nextNodeIndex],e),Yt.strokeStyle=this.wires[this.nextNodeIndex-1].type.animationColor();(this.pos.x!==this.nextNode.node.x||this.pos.y!==this.nextNode.node.y)&&e>0;)this.incrementedX=this.pos.x+this.nextNode.direction.x,this.incrementedY=this.pos.y+this.nextNode.direction.y,Yt.lineTo(this.incrementedX,this.incrementedY),Yt.stroke(),this.pos.x=this.incrementedX,this.pos.y=this.incrementedY,e--;tn(.05),this.pos.x===this.path[this.nextNodeIndex].x&&this.pos.y===this.path[this.nextNodeIndex].y&&(this.nextNodeIndex++,this.nextNodeIndex===this.path.length&&(e=0))}Yt.closePath()}reset(){this.pos.x=this.path[0].x,this.pos.y=this.path[0].y,this.nextNodeIndex=1}}function tn(e){Yt.save(),Yt.globalAlpha=e,Yt.globalCompositeOperation="destination-out",Yt.fillStyle="#FFF",Yt.fillRect(0,0,Zt.width,Zt.height),Yt.restore()}function nn(e){tn(.1),40!==++e?requestAnimationFrame((()=>nn(e))):Yt.clearRect(0,0,Zt.width,Zt.height)}function sn(e,t,n){let s=ut.direction(e,t),o=ut.distance(e,t),i=t;return o>n&&(o=n,i=function(e,t,n){return{x:e.x+t*n.x,y:e.y+t*n.y}}(e,n,s)),{distance:o,direction:s,node:i}}function on(e){let n,s,o=(e[7]?e[8][e[0]].text:"")+"";return{c(){n=P("div"),s=D(o),F(n,"class","absolute w-fit font-bold cursor-default text-sm leading-tight"),W(n,"top",e[1]),W(n,"bottom",e[4]),W(n,"left",e[2]),W(n,"right",e[3]),W(n,"color",e[6])},m(e,t){L(e,n,t),S(n,s)},p(e,[t]){129&t&&o!==(o=(e[7]?e[8][e[0]].text:"")+"")&&H(s,o),2&t&&W(n,"top",e[1]),16&t&&W(n,"bottom",e[4]),4&t&&W(n,"left",e[2]),8&t&&W(n,"right",e[3]),64&t&&W(n,"color",e[6])},i:t,o:t,d(e){e&&O(n)}}}function rn(e,n,s){let o,i,r,l=t;d(e,kt,(e=>s(7,r=e))),e.$$.on_destroy.push((()=>l()));let{bus:c}=n,{top:u="auto"}=n,{left:f="auto"}=n,{right:p="auto"}=n,{bottom:h="auto"}=n;const m={DATA:{text:"DATA BUS",colorStore:Ct},ADDRESS:{text:"ADDRESS BUS",colorStore:Ut},CONTROL:{text:"CONTROL BUS",colorStore:Qt}};return e.$$set=e=>{"bus"in e&&s(0,c=e.bus),"top"in e&&s(1,u=e.top),"left"in e&&s(2,f=e.left),"right"in e&&s(3,p=e.right),"bottom"in e&&s(4,h=e.bottom)},e.$$.update=()=>{1&e.$$.dirty&&(s(5,o=m[c].colorStore),l(),l=a(o,(e=>s(6,i=e))))},[c,u,f,p,h,o,i,r,m]}class ln extends ze{constructor(e){super(),Ve(this,e,rn,on,c,{bus:0,top:1,left:2,right:3,bottom:4})}}const cn=Xe(!1),an=Xe(!1),un=Xe(!1);function dn(e){let t,n,s=e[0].name+"";return{c(){t=P("span"),n=D(s),F(t,"class","text-fuchsia-500")},m(e,s){L(e,t,s),S(t,n)},p(e,t){1&t&&s!==(s=e[0].name+"")&&H(n,s)},d(e){e&&O(t)}}}function fn(e){let t,n,s,o,i,r,l,c=e[0].x+"",a=e[0].y+"";return{c(){t=P("span"),n=D("x: "),s=D(c),o=U(),i=P("span"),r=D("y: "),l=D(a),F(t,"class","text-blue-700"),F(i,"class","text-red-700")},m(e,c){L(e,t,c),S(t,n),S(t,s),L(e,o,c),L(e,i,c),S(i,r),S(i,l)},p(e,t){1&t&&c!==(c=e[0].x+"")&&H(s,c),1&t&&a!==(a=e[0].y+"")&&H(l,a)},d(e){e&&O(t),e&&O(o),e&&O(i)}}}function pn(e){let n,s,o,i,r,l,c=e[1]&&dn(e),a=e[2]&&fn(e);return{c(){n=P("div"),s=P("div"),i=U(),r=P("div"),c&&c.c(),l=U(),a&&a.c(),F(s,"class","absolute top-0 left-0 w-2 h-2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-white border border-fuchsia-500"),F(s,"title",o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`),F(r,"class","relative left-[7px] top-[-10px] bg-white font-bold"),F(n,"class","absolute z-10"),W(n,"top",e[0].y+"px"),W(n,"left",e[0].x+"px")},m(e,t){L(e,n,t),S(n,s),S(n,i),S(n,r),c&&c.m(r,null),S(r,l),a&&a.m(r,null)},p(e,[t]){1&t&&o!==(o=`${e[0].name} x: ${e[0].x} y: ${e[0].y}`)&&F(s,"title",o),e[1]?c?c.p(e,t):(c=dn(e),c.c(),c.m(r,l)):c&&(c.d(1),c=null),e[2]?a?a.p(e,t):(a=fn(e),a.c(),a.m(r,null)):a&&(a.d(1),a=null),1&t&&W(n,"top",e[0].y+"px"),1&t&&W(n,"left",e[0].x+"px")},i:t,o:t,d(e){e&&O(n),c&&c.d(),a&&a.d()}}}function hn(e,t,n){let s,o;d(e,an,(e=>n(1,s=e))),d(e,un,(e=>n(2,o=e)));let{node:i}=t;return e.$$set=e=>{"node"in e&&n(0,i=e.node)},[i,s,o]}class mn extends ze{constructor(e){super(),Ve(this,e,hn,pn,c,{node:0})}}function gn(e,t,n){const s=e.slice();return s[10]=t[n],s}function $n(e){let t,n,s=zt,o=[];for(let t=0;t<s.length;t+=1)o[t]=bn(gn(e,s,t));const i=e=>Pe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=B()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);L(e,t,s),n=!0},p(e,n){if(0&n){let r;for(s=zt,r=0;r<s.length;r+=1){const i=gn(e,s,r);o[r]?(o[r].p(i,n),Ce(o[r],1)):(o[r]=bn(i),o[r].c(),Ce(o[r],1),o[r].m(t.parentNode,t))}for(Le(),r=s.length;r<o.length;r+=1)i(r);Oe()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Ce(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Pe(o[e]);n=!1},d(e){C(o,e),e&&O(t)}}}function bn(e){let n,s;return n=new mn({props:{node:e[10]}}),{c(){qe(n.$$.fragment)},m(e,t){We(n,e,t),s=!0},p:t,i(e){s||(Ce(n.$$.fragment,e),s=!0)},o(e){Pe(n.$$.fragment,e),s=!1},d(e){Ke(n,e)}}}function yn(e){let t,n,s,o,i,r,l,c,a,u,d,f;i=new ln({props:{bus:"DATA",top:"62px",left:"850px"}}),l=new ln({props:{bus:"ADDRESS",top:"226px",left:"837px"}}),a=new ln({props:{bus:"CONTROL",top:"346px",left:"838px"}});let p=e[2]&&$n(e);return{c(){t=P("canvas"),n=U(),s=P("canvas"),o=U(),qe(i.$$.fragment),r=U(),qe(l.$$.fragment),c=U(),qe(a.$$.fragment),u=U(),p&&p.c(),d=B(),F(t,"class","absolute z-[2] top-0 left-0 w-app h-app"),F(s,"class","absolute z-[2] top-0 left-0 w-app h-app")},m(h,m){L(h,t,m),e[6](t),L(h,n,m),L(h,s,m),e[7](s),L(h,o,m),We(i,h,m),L(h,r,m),We(l,h,m),L(h,c,m),We(a,h,m),L(h,u,m),p&&p.m(h,m),L(h,d,m),f=!0},p(e,[t]){e[2]?p?(p.p(e,t),4&t&&Ce(p,1)):(p=$n(e),p.c(),Ce(p,1),p.m(d.parentNode,d)):p&&(Le(),Pe(p,1,1,(()=>{p=null})),Oe())},i(e){f||(Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),Ce(p),f=!0)},o(e){Pe(i.$$.fragment,e),Pe(l.$$.fragment,e),Pe(a.$$.fragment,e),Pe(p),f=!1},d(f){f&&O(t),e[6](null),f&&O(n),f&&O(s),e[7](null),f&&O(o),Ke(i,f),f&&O(r),Ke(l,f),f&&O(c),Ke(a,f),f&&O(u),p&&p.d(f),f&&O(d)}}}function wn(e,t,n){let s;d(e,cn,(e=>n(2,s=e)));var o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let{animationsEnabled:i}=t;const r=new Map;let l,c;function a(){const e=l.getContext("2d");e.lineWidth=at.WIDTH,e.clearRect(0,0,c.width,c.height);for(const t of Xt)e.strokeStyle=t.type.color(),e.beginPath(),e.moveTo(t.a.x,t.a.y),e.lineTo(t.b.x,t.b.y),e.stroke();for(const t of zt.filter((e=>null!==e.intersectionType))){const n=at.WIDTH/2-.5;e.beginPath(),e.fillStyle=t.intersectionType.color(),e.arc(t.x,t.y,n,0,2*Math.PI),e.fill()}}return ie((()=>o(void 0,void 0,void 0,(function*(){n(0,l.width=n(1,c.width=1400,c),l),n(0,l.height=n(1,c.height=800,c),l),a(),Zt=c,Yt=Zt.getContext("2d"),Yt.lineCap="round",Yt.lineWidth=at.WIDTH,Ct.subscribe((e=>a())),Pt.subscribe((e=>a())),Ut.subscribe((e=>a())),Bt.subscribe((e=>a())),Qt.subscribe((e=>a())),jt.subscribe((e=>a()))})))),e.$$set=e=>{"animationsEnabled"in e&&n(3,i=e.animationsEnabled)},[l,c,s,i,function(e,t){return o(this,void 0,void 0,(function*(){if(!i)return;const n=Gt(e),s=Gt(t);if(!n)throw new Error("Node "+e+" is undefined");if(!s)throw new Error("Node "+t+" is undefined");let o;if(o=r.get(e+t))o.reset();else{const i=function(e,t){const n=[e],s=new Set,o={};let i=0;for(;i<n.length;){let r=n[i++];for(const i of r.neighbours)if(!s.has(i)){if(s.add(i),i===t){const t=[i];for(;r!==e;)t.push(r),r=o[r.name];return t.push(r),t.reverse(),t}o[i.name]=r,n.push(i)}}throw new Error("No path connecting "+e.name+" to "+t.name)}(n,s),l=function(e){let t=[];for(let n=0;n<e.length-1;n++)t.push(Jt(`${e[n].name}-${e[n+1].name}`));return t}(i);o=new en(i,l),r.set(e+t,o)}yield o.play()}))},a,function(e){pe[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(e){pe[e?"unshift":"push"]((()=>{c=e,n(1,c)}))}]}class vn extends ze{constructor(e){super(),Ve(this,e,wn,yn,c,{animationsEnabled:3,flashWire:4,drawStaticWires:5})}get flashWire(){return this.$$.ctx[4]}get drawStaticWires(){return this.$$.ctx[5]}}function xn(e){let n,s,o,i=(e[6]?e[0]:"")+"";return{c(){n=P("div"),s=D(i),F(n,"class",o="absolute w-fit font-bold font-sans cursor-default "+e[7][e[5]]+" leading-tight"),W(n,"top",e[1]),W(n,"bottom",e[4]),W(n,"left",e[2]),W(n,"right",e[3])},m(e,t){L(e,n,t),S(n,s)},p(e,[t]){65&t&&i!==(i=(e[6]?e[0]:"")+"")&&H(s,i),32&t&&o!==(o="absolute w-fit font-bold font-sans cursor-default "+e[7][e[5]]+" leading-tight")&&F(n,"class",o),2&t&&W(n,"top",e[1]),16&t&&W(n,"bottom",e[4]),4&t&&W(n,"left",e[2]),8&t&&W(n,"right",e[3])},i:t,o:t,d(e){e&&O(n)}}}function _n(e,t,n){let s;d(e,_t,(e=>n(6,s=e)));let{text:o=""}=t,{top:i="auto"}=t,{left:r="auto"}=t,{right:l="auto"}=t,{bottom:c="auto"}=t,{fontSize:a="MEDIUM"}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"top"in e&&n(1,i=e.top),"left"in e&&n(2,r=e.left),"right"in e&&n(3,l=e.right),"bottom"in e&&n(4,c=e.bottom),"fontSize"in e&&n(5,a=e.fontSize)},[o,i,r,l,c,a,s,{SMALL:"text-xs",MEDIUM:"text-base",LARGE:"text-2xl"}]}class kn extends ze{constructor(e){super(),Ve(this,e,_n,xn,c,{text:0,top:1,left:2,right:3,bottom:4,fontSize:5})}}function En(e,t,n){return(1-n)*e+n*t}function An(t,n,s,o){return e(this,void 0,void 0,(function*(){return new Promise(((e,i)=>{let r,l=0;const c=i=>{if(r||(r=i),l>=1)return e(),void t.style.setProperty(n,`rgb(${o.r}, ${o.g}, ${o.b})`);const a=Math.round(En(s.r,o.r,l)),d=Math.round(En(s.g,o.g,l)),f=Math.round(En(s.b,o.b,l));t.style.setProperty(n,`rgb(${a}, ${d}, ${f})`);l=(i-r)/(300/u(St)),requestAnimationFrame(c)};requestAnimationFrame(c)}))}))}function In(t,n,s,o){return e(this,void 0,void 0,(function*(){return An(t,n,s,o).then((()=>An(t,n,o,s)))}))}const Sn=Symbol.for("yaml.alias"),Tn=Symbol.for("yaml.document"),Nn=Symbol.for("yaml.map"),Ln=Symbol.for("yaml.pair"),On=Symbol.for("yaml.scalar"),Cn=Symbol.for("yaml.seq"),Pn=Symbol.for("yaml.node.type"),Rn=e=>!!e&&"object"==typeof e&&e[Pn]===Sn,Dn=e=>!!e&&"object"==typeof e&&e[Pn]===Tn,Un=e=>!!e&&"object"==typeof e&&e[Pn]===Nn,Bn=e=>!!e&&"object"==typeof e&&e[Pn]===Ln,Mn=e=>!!e&&"object"==typeof e&&e[Pn]===On,Fn=e=>!!e&&"object"==typeof e&&e[Pn]===Cn;function Qn(e){if(e&&"object"==typeof e)switch(e[Pn]){case Nn:case Cn:return!0}return!1}function jn(e){if(e&&"object"==typeof e)switch(e[Pn]){case Sn:case Nn:case On:case Cn:return!0}return!1}class Hn{constructor(e){Object.defineProperty(this,Pn,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const qn=Symbol("break visit"),Wn=Symbol("skip children"),Kn=Symbol("remove node");function Vn(e,t){const n=function(e){if("object"==typeof e&&(e.Collection||e.Node||e.Value))return Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e);return e}(t);if(Dn(e)){zn(null,e.contents,n,Object.freeze([e]))===Kn&&(e.contents=null)}else zn(null,e,n,Object.freeze([]))}function zn(e,t,n,s){const o=function(e,t,n,s){return"function"==typeof n?n(e,t,s):Un(t)?n.Map?.(e,t,s):Fn(t)?n.Seq?.(e,t,s):Bn(t)?n.Pair?.(e,t,s):Mn(t)?n.Scalar?.(e,t,s):Rn(t)?n.Alias?.(e,t,s):void 0}(e,t,n,s);if(jn(o)||Bn(o))return function(e,t,n){const s=t[t.length-1];if(Qn(s))s.items[e]=n;else if(Bn(s))"key"===e?s.key=n:s.value=n;else{if(!Dn(s)){const e=Rn(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}s.contents=n}}(e,s,o),zn(e,o,n,s);if("symbol"!=typeof o)if(Qn(t)){s=Object.freeze(s.concat(t));for(let e=0;e<t.items.length;++e){const o=zn(e,t.items[e],n,s);if("number"==typeof o)e=o-1;else{if(o===qn)return qn;o===Kn&&(t.items.splice(e,1),e-=1)}}}else if(Bn(t)){s=Object.freeze(s.concat(t));const e=zn("key",t.key,n,s);if(e===qn)return qn;e===Kn&&(t.key=null);const o=zn("value",t.value,n,s);if(o===qn)return qn;o===Kn&&(t.value=null)}return o}Vn.BREAK=qn,Vn.SKIP=Wn,Vn.REMOVE=Kn;const Gn={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class Xn{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Xn.defaultYaml,e),this.tags=Object.assign({},Xn.defaultTags,t)}clone(){const e=new Xn(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new Xn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Xn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Xn.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:Xn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Xn.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),s=n.shift();switch(s){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,s]=n;return this.tags[e]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${s}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,s]=e.match(/^(.*!)([^!]*)$/);s||t(`The ${e} tag has no suffix`);const o=this.tags[n];return o?o+decodeURIComponent(s):"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>Gn[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let s;if(e&&n.length>0&&jn(e.contents)){const t={};Vn(e.contents,((e,n)=>{jn(n)&&n.tag&&(t[n.tag]=!0)})),s=Object.keys(t)}else s=[];for(const[o,i]of n)"!!"===o&&"tag:yaml.org,2002:"===i||e&&!s.some((e=>e.startsWith(i)))||t.push(`%TAG ${o} ${i}`);return t.join("\n")}}function Jn(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function Zn(e){const t=new Set;return Vn(e,{Value(e,n){n.anchor&&t.add(n.anchor)}}),t}function Yn(e,t){for(let n=1;;++n){const s=`${e}${n}`;if(!t.has(s))return s}}Xn.defaultYaml={explicit:!1,version:"1.2"},Xn.defaultTags={"!!":"tag:yaml.org,2002:"};class es extends Hn{constructor(e){super(Sn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return Vn(e,{Node:(e,n)=>{if(n===this)return Vn.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:s,maxAliasCount:o}=t,i=this.resolve(s);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}const r=n.get(i);if(!r||void 0===r.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(o>=0&&(r.count+=1,0===r.aliasCount&&(r.aliasCount=ts(s,i,n)),r.count*r.aliasCount>o)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return r.res}toString(e,t,n){const s=`*${this.source}`;if(e){if(Jn(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${s} `}return s}}function ts(e,t,n){if(Rn(t)){const s=t.resolve(e),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}if(Qn(t)){let s=0;for(const o of t.items){const t=ts(e,o,n);t>s&&(s=t)}return s}if(Bn(t)){const s=ts(e,t.key,n),o=ts(e,t.value,n);return Math.max(s,o)}return 1}function ns(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>ns(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||!(e=>(Mn(e)||Qn(e))&&!!e.anchor)(e))return e.toJSON(t,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(e,s),n.onCreate=e=>{s.res=e,delete n.onCreate};const o=e.toJSON(t,n);return n.onCreate&&n.onCreate(o),o}return"bigint"!=typeof e||n?.keep?e:Number(e)}const ss=e=>!e||"function"!=typeof e&&"object"!=typeof e;class os extends Hn{constructor(e){super(On),this.value=e}toJSON(e,t){return t?.keep?this.value:ns(this.value,e,t)}toString(){return String(this.value)}}os.BLOCK_FOLDED="BLOCK_FOLDED",os.BLOCK_LITERAL="BLOCK_LITERAL",os.PLAIN="PLAIN",os.QUOTE_DOUBLE="QUOTE_DOUBLE",os.QUOTE_SINGLE="QUOTE_SINGLE";function is(e,t,n){if(Dn(e)&&(e=e.contents),jn(e))return e;if(Bn(e)){const t=n.schema[Nn].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:r,sourceObjects:l}=n;let c;if(s&&e&&"object"==typeof e){if(c=l.get(e),c)return c.anchor||(c.anchor=o(e)),new es(c.anchor);c={anchor:null,node:null},l.set(e,c)}t?.startsWith("!!")&&(t="tag:yaml.org,2002:"+t.slice(2));let a=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),s=e.find((e=>!e.format))??e[0];if(!s)throw new Error(`Tag ${t} not found`);return s}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,r.tags);if(!a){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new os(e);return c&&(c.node=t),t}a=e instanceof Map?r[Nn]:Symbol.iterator in Object(e)?r[Cn]:r[Nn]}i&&(i(a),delete n.onTagObj);const u=a?.createNode?a.createNode(n.schema,e,n):new os(e);return t&&(u.tag=t),c&&(c.node=u),u}function rs(e,t,n){let s=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=s,s=e}else s=new Map([[n,s]])}return is(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}const ls=e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done;class cs extends Hn{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>jn(t)||Bn(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(ls(e))this.add(t);else{const[n,...s]=e,o=this.get(n,!0);if(Qn(o))o.addIn(s,t);else{if(void 0!==o||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,rs(this.schema,s,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const s=this.get(t,!0);if(Qn(s))return s.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...s]=e,o=this.get(n,!0);return 0===s.length?!t&&Mn(o)?o.value:o:Qn(o)?o.getIn(s,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!Bn(t))return!1;const n=t.value;return null==n||e&&Mn(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const s=this.get(t,!0);return!!Qn(s)&&s.hasIn(n)}setIn(e,t){const[n,...s]=e;if(0===s.length)this.set(n,t);else{const e=this.get(n,!0);if(Qn(e))e.setIn(s,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`);this.set(n,rs(this.schema,s,t))}}}}cs.maxFlowStringSingleLineLength=60;const as=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function us(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const ds=(e,t,n)=>e.endsWith("\n")?us(n,t):n.includes("\n")?"\n"+us(n,t):(e.endsWith(" ")?"":" ")+n,fs="flow",ps="block",hs="quoted";function ms(e,t,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:l}={}){if(!o||o<0)return e;const c=Math.max(1+i,1+o-t.length);if(e.length<=c)return e;const a=[],u={};let d,f,p=o-t.length;"number"==typeof s&&(s>o-Math.max(2,i)?a.push(0):p=o-s);let h,m=!1,g=-1,$=-1,b=-1;for(n===ps&&(g=gs(e,g),-1!==g&&(p=g+c));h=e[g+=1];){if(n===hs&&"\\"===h){switch($=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}b=g}if("\n"===h)n===ps&&(g=gs(e,g)),p=g+c,d=void 0;else{if(" "===h&&f&&" "!==f&&"\n"!==f&&"\t"!==f){const t=e[g+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(d=g)}if(g>=p)if(d)a.push(d),p=d+c,d=void 0;else if(n===hs){for(;" "===f||"\t"===f;)f=h,h=e[g+=1],m=!0;const t=g>b+1?g-2:$-1;if(u[t])return e;a.push(t),u[t]=!0,p=t+c,d=void 0}else m=!0}f=h}if(m&&l&&l(),0===a.length)return e;r&&r();let y=e.slice(0,a[0]);for(let s=0;s<a.length;++s){const o=a[s],i=a[s+1]||e.length;0===o?y=`\n${t}${e.slice(0,i)}`:(n===hs&&u[o]&&(y+=`${e[o]}\\`),y+=`\n${t}${e.slice(o+1,i)}`)}return y}function gs(e,t){let n=e[t+1];for(;" "===n||"\t"===n;){do{n=e[t+=1]}while(n&&"\n"!==n);n=e[t+1]}return t}const $s=e=>({indentAtStart:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),bs=e=>/^(%|---|\.\.\.)/m.test(e);function ys(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=t,o=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(bs(e)?"  ":"");let r="",l=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(r+=n.slice(l,e)+"\\ ",e+=1,l=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{r+=n.slice(l,e);const t=n.substr(e+2,4);switch(t){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:"00"===t.substr(0,2)?r+="\\x"+t.substr(2):r+=n.substr(e,6)}e+=5,l=e+1}break;case"n":if(s||'"'===n[e+2]||n.length<o)e+=1;else{for(r+=n.slice(l,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)r+="\n",e+=2;r+=i," "===n[e+2]&&(r+="\\"),e+=1,l=e+1}break;default:e+=1}return r=l?r+n.slice(l):n,s?r:ms(r,i,hs,$s(t))}function ws(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return ys(e,t);const n=t.indent||(bs(e)?"  ":""),s="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?s:ms(s,n,fs,$s(t))}function vs(e,t){const{singleQuote:n}=t.options;let s;if(!1===n)s=ys;else{const t=e.includes('"'),o=e.includes("'");s=t&&!o?ws:o&&!t?ys:n?ws:ys}return s(e,t)}function xs({comment:e,type:t,value:n},s,o,i){const{blockQuote:r,commentString:l,lineWidth:c}=s.options;if(!r||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return vs(n,s);const a=s.indent||(s.forceBlockIndent||bs(n)?"  ":""),u="literal"===r||"folded"!==r&&t!==os.BLOCK_FOLDED&&(t===os.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const s=t-n,o=e.length;if(o<=s)return!1;for(let t=0,n=0;t<o;++t)if("\n"===e[t]){if(t-n>s)return!0;if(n=t+1,o-n<=s)return!1}return!0}(n,c,a.length));if(!n)return u?"|\n":">\n";let d,f;for(f=n.length;f>0;--f){const e=n[f-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let p=n.substring(f);const h=p.indexOf("\n");-1===h?d="-":n===p||h!==p.length-1?(d="+",i&&i()):d="",p&&(n=n.slice(0,-p.length),"\n"===p[p.length-1]&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${a}`));let m,g=!1,$=-1;for(m=0;m<n.length;++m){const e=n[m];if(" "===e)g=!0;else{if("\n"!==e)break;$=m}}let b=n.substring(0,$<m?$+1:m);b&&(n=n.substring(b.length),b=b.replace(/\n+/g,`$&${a}`));let y=(u?"|":">")+(g?a?"2":"1":"")+d;if(e&&(y+=" "+l(e.replace(/ ?[\r\n]+/g," ")),o&&o()),u)return`${y}\n${a}${b}${n=n.replace(/\n+/g,`$&${a}`)}${p}`;return`${y}\n${a}${ms(`${b}${n=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`)}${p}`,a,ps,$s(s))}`}function _s(e,t,n,s){const{implicitKey:o,inFlow:i}=t,r="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==os.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(l=os.QUOTE_DOUBLE);const c=e=>{switch(e){case os.BLOCK_FOLDED:case os.BLOCK_LITERAL:return o||i?vs(r.value,t):xs(r,t,n,s);case os.QUOTE_DOUBLE:return ys(r.value,t);case os.QUOTE_SINGLE:return ws(r.value,t);case os.PLAIN:return function(e,t,n,s){const{type:o,value:i}=e,{actualString:r,implicitKey:l,indent:c,inFlow:a}=t;if(l&&/[\n[\]{},]/.test(i)||a&&/[[\]{},]/.test(i))return vs(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||a||!i.includes("\n")?vs(i,t):xs(e,t,n,s);if(!l&&!a&&o!==os.PLAIN&&i.includes("\n"))return xs(e,t,n,s);if(""===c&&bs(i))return t.forceBlockIndent=!0,xs(e,t,n,s);const u=i.replace(/\n+/g,`$&\n${c}`);if(r){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(u),{compat:n,tags:s}=t.doc.schema;if(s.some(e)||n?.some(e))return vs(i,t)}return l?u:ms(u,c,fs,$s(t))}(r,t,n,s);default:return null}};let a=c(l);if(null===a){const{defaultKeyType:e,defaultStringType:n}=t.options,s=o&&e||n;if(a=c(s),null===a)throw new Error(`Unsupported default string type ${s}`)}return a}function ks(e,t){const n=Object.assign({blockQuote:!0,commentString:as,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:e,indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function Es(e,t,n,s){if(Bn(e))return e.toString(t,n,s);if(Rn(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let o;const i=jn(e)?e:t.doc.createNode(e,{onTagObj:e=>o=e});o||(o=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,s;if(Mn(t)){s=t.value;const o=e.filter((e=>e.identify?.(s)));n=o.find((e=>e.format===t.format))??o.find((e=>!e.format))}else s=t,n=e.find((e=>e.nodeClass&&s instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${s?.constructor?.name??typeof s} value`);return n}(t.doc.schema.tags,i));const r=function(e,t,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],i=(Mn(e)||Qn(e))&&e.anchor;i&&Jn(i)&&(n.add(i),o.push(`&${i}`));const r=e.tag?e.tag:t.default?null:t.tag;return r&&o.push(s.directives.tagString(r)),o.join(" ")}(i,o,t);r.length>0&&(t.indentAtStart=(t.indentAtStart??0)+r.length+1);const l="function"==typeof o.stringify?o.stringify(i,t,n,s):Mn(i)?_s(i,t,n,s):i.toString(t,n,s);return r?Mn(i)||"{"===l[0]||"["===l[0]?`${r} ${l}`:`${r}\n${t.indent}${l}`:l}function As(e,t){"debug"!==e&&"warn"!==e||("undefined"!=typeof process&&process.emitWarning?process.emitWarning(t):console.warn(t))}function Is(e,t,{key:n,value:s}){if(e?.doc.schema.merge&&Ss(n))if(s=Rn(s)?s.resolve(e.doc):s,Fn(s))for(const n of s.items)Ts(e,t,n);else if(Array.isArray(s))for(const n of s)Ts(e,t,n);else Ts(e,t,s);else{const o=ns(n,"",e);if(t instanceof Map)t.set(o,ns(s,o,e));else if(t instanceof Set)t.add(o);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(jn(e)&&n&&n.doc){const t=ks(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const s=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(s);e.length>40&&(e=e.substring(0,36)+'..."'),As(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return s}return JSON.stringify(t)}(n,o,e),r=ns(s,i,e);i in t?Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):t[i]=r}}return t}const Ss=e=>"<<"===e||Mn(e)&&"<<"===e.value&&(!e.type||e.type===os.PLAIN);function Ts(e,t,n){const s=e&&Rn(n)?n.resolve(e.doc):n;if(!Un(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,e,Map);for(const[e,n]of o)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function Ns(e,t,n){const s=is(e,void 0,n),o=is(t,void 0,n);return new Ls(s,o)}class Ls{constructor(e,t=null){Object.defineProperty(this,Pn,{value:Ln}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return jn(t)&&(t=t.clone(e)),jn(n)&&(n=n.clone(e)),new Ls(t,n)}toJSON(e,t){return Is(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,s,o){const{allNullValues:i,doc:r,indent:l,indentStep:c,options:{commentString:a,indentSeq:u,simpleKeys:d}}=n;let f=jn(e)&&e.comment||null;if(d){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Qn(e))throw new Error("With simple keys, collection cannot be used as a key value")}let p=!d&&(!e||f&&null==t&&!n.inFlow||Qn(e)||(Mn(e)?e.type===os.BLOCK_FOLDED||e.type===os.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!p&&(d||!i),indent:l+c});let h=!1,m=!1,g=Es(e,n,(()=>h=!0),(()=>m=!0));if(!p&&!n.inFlow&&g.length>1024){if(d)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(n.inFlow){if(i||null==t)return h&&s&&s(),""===g?"?":p?`? ${g}`:g}else if(i&&!d||null==t&&p)return g=`? ${g}`,f&&!h?g+=ds(g,n.indent,a(f)):m&&o&&o(),g;h&&(f=null),p?(f&&(g+=ds(g,n.indent,a(f))),g=`? ${g}\n${l}:`):(g=`${g}:`,f&&(g+=ds(g,n.indent,a(f))));let $="",b=null;jn(t)?(t.spaceBefore&&($="\n"),t.commentBefore&&($+=`\n${us(a(t.commentBefore),n.indent)}`),b=t.comment):t&&"object"==typeof t&&(t=r.createNode(t));n.implicitKey=!1,p||f||!Mn(t)||(n.indentAtStart=g.length+1),m=!1,u||!(c.length>=2)||n.inFlow||p||!Fn(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substr(2));let y=!1;const w=Es(t,n,(()=>y=!0),(()=>m=!0));let v=" ";$||f?v=""!==w||n.inFlow?`${$}\n${n.indent}`:"\n"===$?"\n\n":$:!p&&Qn(t)?("["===w[0]||"{"===w[0])&&!w.includes("\n")||(v=`\n${n.indent}`):""!==w&&"\n"!==w[0]||(v="");return g+=v+w,n.inFlow?y&&s&&s():b&&!y?g+=ds(g,n.indent,a(b)):m&&o&&o(),g}(this,e,t,n):JSON.stringify(this)}}function Os(e,t,n){return(t.inFlow??e.flow?Ps:Cs)(e,t,n)}function Cs({comment:e,items:t},n,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:r,onComment:l}){const{indent:c,options:{commentString:a}}=n,u=Object.assign({},n,{indent:i,type:null});let d=!1;const f=[];for(let e=0;e<t.length;++e){const o=t[e];let r=null;if(jn(o))!d&&o.spaceBefore&&f.push(""),Rs(n,f,o.commentBefore,d),o.comment&&(r=o.comment);else if(Bn(o)){const e=jn(o.key)?o.key:null;e&&(!d&&e.spaceBefore&&f.push(""),Rs(n,f,e.commentBefore,d))}d=!1;let l=Es(o,u,(()=>r=null),(()=>d=!0));r&&(l+=ds(l,i,a(r))),d&&r&&(d=!1),f.push(s+l)}let p;if(0===f.length)p=o.start+o.end;else{p=f[0];for(let e=1;e<f.length;++e){const t=f[e];p+=t?`\n${c}${t}`:"\n"}}return e?(p+="\n"+us(a(e),c),l&&l()):d&&r&&r(),p}function Ps({comment:e,items:t},n,{flowChars:s,itemIndent:o,onComment:i}){const{indent:r,indentStep:l,options:{commentString:c}}=n;o+=l;const a=Object.assign({},n,{indent:o,inFlow:!0,type:null});let u=!1,d=0;const f=[];for(let e=0;e<t.length;++e){const s=t[e];let i=null;if(jn(s))s.spaceBefore&&f.push(""),Rs(n,f,s.commentBefore,!1),s.comment&&(i=s.comment);else if(Bn(s)){const e=jn(s.key)?s.key:null;e&&(e.spaceBefore&&f.push(""),Rs(n,f,e.commentBefore,!1),e.comment&&(u=!0));const t=jn(s.value)?s.value:null;t?(t.comment&&(i=t.comment),t.commentBefore&&(u=!0)):null==s.value&&e&&e.comment&&(i=e.comment)}i&&(u=!0);let r=Es(s,a,(()=>i=null));e<t.length-1&&(r+=","),i&&(r+=ds(r,o,c(i))),!u&&(f.length>d||r.includes("\n"))&&(u=!0),f.push(r),d=f.length}let p;const{start:h,end:m}=s;if(0===f.length)p=h+m;else{if(!u){u=f.reduce(((e,t)=>e+t.length+2),2)>cs.maxFlowStringSingleLineLength}if(u){p=h;for(const e of f)p+=e?`\n${l}${r}${e}`:"\n";p+=`\n${r}${m}`}else p=`${h} ${f.join(" ")} ${m}`}return e&&(p+=ds(p,c(e),r),i&&i()),p}function Rs({indent:e,options:{commentString:t}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const o=us(t(s),e);n.push(o.trimStart())}}function Ds(e,t){const n=Mn(t)?t.value:t;for(const s of e)if(Bn(s)){if(s.key===t||s.key===n)return s;if(Mn(s.key)&&s.key.value===n)return s}}class Us extends cs{constructor(e){super(Nn,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let n;n=Bn(e)?e:e&&"object"==typeof e&&"key"in e?new Ls(e.key,e.value):new Ls(e,e?.value);const s=Ds(this.items,n.key),o=this.schema?.sortMapEntries;if(s){if(!t)throw new Error(`Key ${n.key} already set`);Mn(s.value)&&ss(n.value)?s.value.value=n.value:s.value=n.value}else if(o){const e=this.items.findIndex((e=>o(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=Ds(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=Ds(this.items,e)?.value;return(!t&&Mn(n)?n.value:n)??void 0}has(e){return!!Ds(this.items,e)}set(e,t){this.add(new Ls(e,t),!0)}toJSON(e,t,n){const s=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(s);for(const e of this.items)Is(t,s,e);return s}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!Bn(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Os(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const Bs={collection:"map",createNode:function(e,t,n){const{keepUndefined:s,replacer:o}=n,i=new Us(e),r=(e,r)=>{if("function"==typeof o)r=o.call(t,e,r);else if(Array.isArray(o)&&!o.includes(e))return;(void 0!==r||s)&&i.items.push(Ns(e,r,n))};if(t instanceof Map)for(const[e,n]of t)r(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))r(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i},default:!0,nodeClass:Us,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(Un(e)||t("Expected a mapping for this tag"),e)};class Ms extends cs{constructor(e){super(Cn,e),this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){const t=Fs(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=Fs(e);if("number"!=typeof n)return;const s=this.items[n];return!t&&Mn(s)?s.value:s}has(e){const t=Fs(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=Fs(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const s=this.items[n];Mn(s)&&ss(t)?s.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let s=0;for(const e of this.items)n.push(ns(e,String(s++),t));return n}toString(e,t,n){return e?Os(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}}function Fs(e){let t=Mn(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Qs={collection:"seq",createNode:function(e,t,n){const{replacer:s}=n,o=new Ms(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof s){const n=t instanceof Set?i:String(e++);i=s.call(t,n,i)}o.items.push(is(i,void 0,n))}}return o},default:!0,nodeClass:Ms,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(Fn(e)||t("Expected a sequence for this tag"),e)},js={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,s)=>_s(e,t=Object.assign({actualString:!0},t),n,s)},Hs={identify:e=>null==e,createNode:()=>new os(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new os(null),stringify:({source:e},t)=>"string"==typeof e&&Hs.test.test(e)?e:t.options.nullStr},qs={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new os("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&qs.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Ws({format:e,minFractionDigits:t,tag:n,value:s}){if("bigint"==typeof s)return String(s);const o="number"==typeof s?s:Number(s);if(!isFinite(o))return isNaN(o)?".nan":o<0?"-.inf":".inf";let i=JSON.stringify(s);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const Ks={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ws},Vs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ws(e)}},zs={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new os(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Ws},Gs=e=>"bigint"==typeof e||Number.isInteger(e),Xs=(e,t,n,{intAsBigInt:s})=>s?BigInt(e):parseInt(e.substring(t),n);function Js(e,t,n){const{value:s}=e;return Gs(s)&&s>=0?n+s.toString(t):Ws(e)}const Zs={identify:e=>Gs(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Xs(e,2,8,n),stringify:e=>Js(e,8,"0o")},Ys={identify:Gs,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Xs(e,0,10,n),stringify:Ws},eo={identify:e=>Gs(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Xs(e,2,16,n),stringify:e=>Js(e,16,"0x")},to=[Bs,Qs,js,Hs,qs,Zs,Ys,eo,Ks,Vs,zs];function no(e){return"bigint"==typeof e||Number.isInteger(e)}const so=({value:e})=>JSON.stringify(e),oo=[Bs,Qs].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:so},{identify:e=>null==e,createNode:()=>new os(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:so},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:e=>"true"===e,stringify:so},{identify:no,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>no(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:so}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),io={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof Buffer)return Buffer.from(e,"base64");if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},s,o,i){const r=n;let l;if("function"==typeof Buffer)l=r instanceof Buffer?r.toString("base64"):Buffer.from(r.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<r.length;++t)e+=String.fromCharCode(r[t]);l=btoa(e)}}if(t||(t=os.BLOCK_LITERAL),t!==os.QUOTE_DOUBLE){const e=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),n=Math.ceil(l.length/e),o=new Array(n);for(let t=0,s=0;t<n;++t,s+=e)o[t]=l.substr(s,e);l=o.join(t===os.BLOCK_LITERAL?"\n":" ")}return _s({comment:e,type:t,value:l},s,o,i)}};function ro(e,t){if(Fn(e))for(let n=0;n<e.items.length;++n){let s=e.items[n];if(!Bn(s)){if(Un(s)){s.items.length>1&&t("Each pair must have its own sequence indicator");const e=s.items[0]||new Ls(new os(null));if(s.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${s.commentBefore}\n${e.key.commentBefore}`:s.commentBefore),s.comment){const t=e.value??e.key;t.comment=t.comment?`${s.comment}\n${t.comment}`:s.comment}s=e}e.items[n]=Bn(s)?s:new Ls(s)}}else t("Expected a sequence for this tag");return e}function lo(e,t,n){const{replacer:s}=n,o=new Ms(e);o.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let r,l;if("function"==typeof s&&(e=s.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);r=e[0],l=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected { key: value } tuple: ${e}`);r=t[0],l=e[r]}else r=e;o.items.push(Ns(r,l,n))}return o}const co={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ro,createNode:lo};class ao extends Ms{constructor(){super(),this.add=Us.prototype.add.bind(this),this.delete=Us.prototype.delete.bind(this),this.get=Us.prototype.get.bind(this),this.has=Us.prototype.has.bind(this),this.set=Us.prototype.set.bind(this),this.tag=ao.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let s,o;if(Bn(e)?(s=ns(e.key,"",t),o=ns(e.value,s,t)):s=ns(e,"",t),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}}ao.tag="tag:yaml.org,2002:omap";const uo={collection:"seq",identify:e=>e instanceof Map,nodeClass:ao,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=ro(e,t),s=[];for(const{key:e}of n.items)Mn(e)&&(s.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):s.push(e.value));return Object.assign(new ao,n)},createNode(e,t,n){const s=lo(e,t,n),o=new ao;return o.items=s.items,o}};function fo({value:e,source:t},n){return t&&(e?po:ho).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const po={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new os(!0),stringify:fo},ho={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new os(!1),stringify:fo},mo={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ws},go={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ws(e)}},$o={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new os(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const s=e.substring(n+1).replace(/_/g,"");"0"===s[s.length-1]&&(t.minFractionDigits=s.length)}return t},stringify:Ws},bo=e=>"bigint"==typeof e||Number.isInteger(e);function yo(e,t,n,{intAsBigInt:s}){const o=e[0];if("-"!==o&&"+"!==o||(t+=1),e=e.substring(t).replace(/_/g,""),s){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===o?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===o?-1*i:i}function wo(e,t,n){const{value:s}=e;if(bo(s)){const e=s.toString(t);return s<0?"-"+n+e.substr(1):n+e}return Ws(e)}const vo={identify:bo,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>yo(e,2,2,n),stringify:e=>wo(e,2,"0b")},xo={identify:bo,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>yo(e,1,8,n),stringify:e=>wo(e,8,"0")},_o={identify:bo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>yo(e,0,10,n),stringify:Ws},ko={identify:bo,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>yo(e,2,16,n),stringify:e=>wo(e,16,"0x")};class Eo extends Us{constructor(e){super(e),this.tag=Eo.tag}add(e){let t;t=Bn(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new Ls(e.key,null):new Ls(e,null);Ds(this.items,t.key)||this.items.push(t)}get(e,t){const n=Ds(this.items,e);return!t&&Bn(n)?Mn(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=Ds(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new Ls(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}}Eo.tag="tag:yaml.org,2002:set";const Ao={collection:"map",identify:e=>e instanceof Set,nodeClass:Eo,default:!1,tag:"tag:yaml.org,2002:set",resolve(e,t){if(Un(e)){if(e.hasAllNullValues(!0))return Object.assign(new Eo,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e},createNode(e,t,n){const{replacer:s}=n,o=new Eo(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof s&&(e=s.call(t,e,e)),o.items.push(Ns(e,null,n));return o}};function Io(e,t){const n=e[0],s="-"===n||"+"===n?e.substring(1):e,o=e=>t?BigInt(e):Number(e),i=s.replace(/_/g,"").split(":").reduce(((e,t)=>e*o(60)+o(t)),o(0));return"-"===n?o(-1)*i:i}function So(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Ws(e);let s="";t<0&&(s="-",t*=n(-1));const o=n(60),i=[t%o];return t<60?i.unshift(0):(t=(t-i[0])/o,i.unshift(t%o),t>=60&&(t=(t-i[0])/o,i.unshift(t))),s+i.map((e=>e<10?"0"+String(e):String(e))).join(":").replace(/000000\d*$/,"")}const To={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>Io(e,n),stringify:So},No={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Io(e,!1),stringify:So},Lo={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(Lo.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,o,i,r,l]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let a=Date.UTC(n,s-1,o,i||0,r||0,l||0,c);const u=t[8];if(u&&"Z"!==u){let e=Io(u,!1);Math.abs(e)<30&&(e*=60),a-=6e4*e}return new Date(a)},stringify:({value:e})=>e.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Oo=[Bs,Qs,js,Hs,po,ho,vo,xo,_o,ko,mo,go,$o,io,uo,co,Ao,To,No,Lo],Co=new Map([["core",to],["failsafe",[Bs,Qs,js]],["json",oo],["yaml11",Oo],["yaml-1.1",Oo]]),Po={binary:io,bool:qs,float:zs,floatExp:Vs,floatNaN:Ks,floatTime:No,int:Ys,intHex:eo,intOct:Zs,intTime:To,map:Bs,null:Hs,omap:uo,pairs:co,seq:Qs,set:Ao,timestamp:Lo},Ro={"tag:yaml.org,2002:binary":io,"tag:yaml.org,2002:omap":uo,"tag:yaml.org,2002:pairs":co,"tag:yaml.org,2002:set":Ao,"tag:yaml.org,2002:timestamp":Lo};function Do(e,t){let n=Co.get(t);if(!n){if(!Array.isArray(e)){const e=Array.from(Co.keys()).filter((e=>"yaml11"!==e)).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${e} or define customTags array`)}n=[]}if(Array.isArray(e))for(const t of e)n=n.concat(t);else"function"==typeof e&&(n=e(n.slice()));return n.map((e=>{if("string"!=typeof e)return e;const t=Po[e];if(t)return t;const n=Object.keys(Po).map((e=>JSON.stringify(e))).join(", ");throw new Error(`Unknown custom tag "${e}"; use one of ${n}`)}))}const Uo=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0;class Bo{constructor({compat:e,customTags:t,merge:n,resolveKnownTags:s,schema:o,sortMapEntries:i,toStringDefaults:r}){this.compat=Array.isArray(e)?Do(e,"compat"):e?Do(null,e):null,this.merge=!!n,this.name="string"==typeof o&&o||"core",this.knownTags=s?Ro:{},this.tags=Do(t,this.name),this.toStringOptions=r??null,Object.defineProperty(this,Nn,{value:Bs}),Object.defineProperty(this,On,{value:js}),Object.defineProperty(this,Cn,{value:Qs}),this.sortMapEntries="function"==typeof i?i:!0===i?Uo:null}clone(){const e=Object.create(Bo.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Mo(e,t,n,s){if(s&&"object"==typeof s)if(Array.isArray(s))for(let t=0,n=s.length;t<n;++t){const n=s[t],o=Mo(e,s,String(t),n);void 0===o?delete s[t]:o!==n&&(s[t]=o)}else if(s instanceof Map)for(const t of Array.from(s.keys())){const n=s.get(t),o=Mo(e,s,t,n);void 0===o?s.delete(t):o!==n&&s.set(t,o)}else if(s instanceof Set)for(const t of Array.from(s)){const n=Mo(e,s,t,t);void 0===n?s.delete(t):n!==t&&(s.delete(t),s.add(n))}else for(const[t,n]of Object.entries(s)){const o=Mo(e,s,t,n);void 0===o?delete s[t]:o!==n&&(s[t]=o)}return e.call(t,n,s)}class Fo{constructor(e,t,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Pn,{value:Tn});let s=null;"function"==typeof t||Array.isArray(t)?s=t:void 0===n&&t&&(n=t,t=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},n);this.options=o;let{version:i}=o;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(i=this.directives.yaml.version)):this.directives=new Xn({version:i}),this.setSchema(i,n),this.contents=void 0===e?null:this.createNode(e,s,n)}clone(){const e=Object.create(Fo.prototype,{[Pn]:{value:Tn}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=jn(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Qo(this.contents)&&this.contents.add(e)}addIn(e,t){Qo(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){const n=Zn(this);e.anchor=!t||n.has(t)?Yn(t||"a",n):t}return new es(e.anchor)}createNode(e,t,n){let s;if("function"==typeof t)e=t.call({"":e},"",e),s=t;else if(Array.isArray(t)){const e=e=>"number"==typeof e||e instanceof String||e instanceof Number,n=t.filter(e).map(String);n.length>0&&(t=t.concat(n)),s=t}else void 0===n&&t&&(n=t,t=void 0);const{aliasDuplicateObjects:o,anchorPrefix:i,flow:r,keepUndefined:l,onTagObj:c,tag:a}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:f}=function(e,t){const n=[],s=new Map;let o=null;return{onAnchor:s=>{n.push(s),o||(o=Zn(e));const i=Yn(t,o);return o.add(i),i},setAnchors:()=>{for(const e of n){const t=s.get(e);if("object"!=typeof t||!t.anchor||!Mn(t.node)&&!Qn(t.node)){const t=new Error("Failed to resolve repeated object (this should not happen)");throw t.source=e,t}t.node.anchor=t.anchor}},sourceObjects:s}}(this,i||"a"),p=is(e,a,{aliasDuplicateObjects:o??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:s,schema:this.schema,sourceObjects:f});return r&&Qn(p)&&(p.flow=!0),d(),p}createPair(e,t,n={}){const s=this.createNode(e,null,n),o=this.createNode(t,null,n);return new Ls(s,o)}delete(e){return!!Qo(this.contents)&&this.contents.delete(e)}deleteIn(e){return ls(e)?null!=this.contents&&(this.contents=null,!0):!!Qo(this.contents)&&this.contents.deleteIn(e)}get(e,t){return Qn(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ls(e)?!t&&Mn(this.contents)?this.contents.value:this.contents:Qn(this.contents)?this.contents.getIn(e,t):void 0}has(e){return!!Qn(this.contents)&&this.contents.has(e)}hasIn(e){return ls(e)?void 0!==this.contents:!!Qn(this.contents)&&this.contents.hasIn(e)}set(e,t){null==this.contents?this.contents=rs(this.schema,[e],t):Qo(this.contents)&&this.contents.set(e,t)}setIn(e,t){ls(e)?this.contents=t:null==this.contents?this.contents=rs(this.schema,Array.from(e),t):Qo(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){let n;switch("number"==typeof e&&(e=String(e)),e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Xn({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Xn({version:e}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{const t=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${t}`)}}if(t.schema instanceof Object)this.schema=t.schema;else{if(!n)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new Bo(Object.assign(n,t))}}toJS({json:e,jsonArg:t,mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}={}){const r={anchors:new Map,doc:this,keep:!e,mapAsMap:!0===n,mapKeyWarned:!1,maxAliasCount:"number"==typeof s?s:100,stringify:Es},l=ns(this.contents,t??"",r);if("function"==typeof o)for(const{count:e,res:t}of r.anchors.values())o(t,e);return"function"==typeof i?Mo(i,{"":l},"",l):l}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return function(e,t){const n=[];let s=!0===t.directives;if(!1!==t.directives&&e.directives){const t=e.directives.toString(e);t?(n.push(t),s=!0):e.directives.docStart&&(s=!0)}s&&n.push("---");const o=ks(e,t),{commentString:i}=o.options;if(e.commentBefore){1!==n.length&&n.unshift("");const t=i(e.commentBefore);n.unshift(us(t,""))}let r=!1,l=null;if(e.contents){if(jn(e.contents)){if(e.contents.spaceBefore&&s&&n.push(""),e.contents.commentBefore){const t=i(e.contents.commentBefore);n.push(us(t,""))}o.forceBlockIndent=!!e.comment,l=e.contents.comment}const t=l?void 0:()=>r=!0;let c=Es(e.contents,o,(()=>l=null),t);l&&(c+=ds(c,"",i(l))),"|"!==c[0]&&">"!==c[0]||"---"!==n[n.length-1]?n.push(c):n[n.length-1]=`--- ${c}`}else n.push(Es(e.contents,o));if(e.directives?.docEnd)if(e.comment){const t=i(e.comment);t.includes("\n")?(n.push("..."),n.push(us(t,""))):n.push(`... ${t}`)}else n.push("...");else{let t=e.comment;t&&r&&(t=t.replace(/^\n+/,"")),t&&(r&&!l||""===n[n.length-1]||n.push(""),n.push(us(i(t),"")))}return n.join("\n")+"\n"}(this,e)}}function Qo(e){if(Qn(e))return!0;throw new Error("Expected a YAML collection as document contents")}class jo extends Error{constructor(e,t,n,s){super(),this.name=e,this.code=n,this.message=s,this.pos=t}}class Ho extends jo{constructor(e,t,n){super("YAMLParseError",e,t,n)}}class qo extends jo{constructor(e,t,n){super("YAMLWarning",e,t,n)}}const Wo=(e,t)=>n=>{if(-1===n.pos[0])return;n.linePos=n.pos.map((e=>t.linePos(e)));const{line:s,col:o}=n.linePos[0];n.message+=` at line ${s}, column ${o}`;let i=o-1,r=e.substring(t.lineStarts[s-1],t.lineStarts[s]).replace(/[\n\r]+$/,"");if(i>=60&&r.length>80){const e=Math.min(i-39,r.length-79);r=""+r.substring(e),i-=e-1}if(r.length>80&&(r=r.substring(0,79)+""),s>1&&/^ *$/.test(r.substring(0,i))){let n=e.substring(t.lineStarts[s-2],t.lineStarts[s-1]);n.length>80&&(n=n.substring(0,79)+"\n"),r=n+r}if(/[^ ]/.test(r)){let e=1;const t=n.linePos[1];t&&t.line===s&&t.col>o&&(e=Math.min(t.col-o,80-i));const l=" ".repeat(i)+"^".repeat(e);n.message+=`:\n\n${r}\n${l}\n`}};function Ko(e,{flow:t,indicator:n,next:s,offset:o,onError:i,startOnNewline:r}){let l=!1,c=r,a=r,u="",d="",f=!1,p=!1,h=!1,m=null,g=null,$=null,b=null,y=null;for(const s of e)switch(h&&("space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),h=!1),s.type){case"space":!t&&c&&"doc-start"!==n&&"\t"===s.source[0]&&i(s,"TAB_AS_INDENT","Tabs are not allowed as indentation"),a=!0;break;case"comment":{a||i(s,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const e=s.source.substring(1)||" ";u?u+=d+e:u=e,d="",c=!1;break}case"newline":c?u?u+=s.source:l=!0:d+=s.source,c=!0,f=!0,(m||g)&&(p=!0),a=!0;break;case"anchor":m&&i(s,"MULTIPLE_ANCHORS","A node can have at most one anchor"),s.source.endsWith(":")&&i(s.offset+s.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),m=s,null===y&&(y=s.offset),c=!1,a=!1,h=!0;break;case"tag":g&&i(s,"MULTIPLE_TAGS","A node can have at most one tag"),g=s,null===y&&(y=s.offset),c=!1,a=!1,h=!0;break;case n:(m||g)&&i(s,"BAD_PROP_ORDER",`Anchors and tags must be after the ${s.source} indicator`),b&&i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.source} in ${t??"collection"}`),b=s,c=!1,a=!1;break;case"comma":if(t){$&&i(s,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),$=s,c=!1,a=!1;break}default:i(s,"UNEXPECTED_TOKEN",`Unexpected ${s.type} token`),c=!1,a=!1}const w=e[e.length-1],v=w?w.offset+w.source.length:o;return h&&s&&"space"!==s.type&&"newline"!==s.type&&"comma"!==s.type&&("scalar"!==s.type||""!==s.source)&&i(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:$,found:b,spaceBefore:l,comment:u,hasNewline:f,hasNewlineAfterProp:p,anchor:m,tag:g,end:v,start:y??v}}function Vo(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end)for(const t of e.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of e.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Vo(t.key)||Vo(t.value))return!0}return!1;default:return!0}}function zo(e,t,n){if("flow-collection"===t?.type){const s=t.end[0];if(s.indent===e&&("]"===s.source||"}"===s.source)&&Vo(t)){n(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}}function Go(e,t,n){const{uniqueKeys:s}=e.options;if(!1===s)return!1;const o="function"==typeof s?s:(t,n)=>t===n||Mn(t)&&Mn(n)&&t.value===n.value&&!("<<"===t.value&&e.schema.merge);return t.some((e=>o(e.key,n)))}const Xo="All mapping items must start at the same column";function Jo(e,t,n,s){let o="";if(e){let i=!1,r="";for(const l of e){const{source:e,type:c}=l;switch(c){case"space":i=!0;break;case"comment":{n&&!i&&s(l,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const t=e.substring(1)||" ";o?o+=r+t:o=t,r="";break}case"newline":o&&(r+=e),i=!0;break;default:s(l,"UNEXPECTED_TOKEN",`Unexpected ${c} at node end`)}t+=e.length}}return{comment:o,offset:t}}const Zo="Block collections are not allowed within flow collections",Yo=e=>e&&("block-map"===e.type||"block-seq"===e.type);function ei(e,t,n,s,o){let i;switch(n.type){case"block-map":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i=new Us(n.schema);n.atRoot&&(n.atRoot=!1);let r=s.offset,l=null;for(const c of s.items){const{start:a,key:u,sep:d,value:f}=c,p=Ko(a,{indicator:"explicit-key-ind",next:u??d?.[0],offset:r,onError:o,startOnNewline:!0}),h=!p.found;if(h){if(u&&("block-seq"===u.type?o(r,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==s.indent&&o(r,"BAD_INDENT",Xo)),!p.anchor&&!p.tag&&!d){l=p.end,p.comment&&(i.comment?i.comment+="\n"+p.comment:i.comment=p.comment);continue}(p.hasNewlineAfterProp||Vo(u))&&o(u??a[a.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else p.found?.indent!==s.indent&&o(r,"BAD_INDENT",Xo);const m=p.end,g=u?e(n,u,p,o):t(n,m,a,null,p,o);n.schema.compat&&zo(s.indent,u,o),Go(n,i.items,g)&&o(m,"DUPLICATE_KEY","Map keys must be unique");const $=Ko(d??[],{indicator:"map-value-ind",next:f,offset:g.range[2],onError:o,startOnNewline:!u||"block-scalar"===u.type});if(r=$.end,$.found){h&&("block-map"!==f?.type||$.hasNewline||o(r,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),n.options.strict&&p.start<$.found.offset-1024&&o(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const l=f?e(n,f,$,o):t(n,r,d,null,$,o);n.schema.compat&&zo(s.indent,f,o),r=l.range[2];const a=new Ls(g,l);n.options.keepSourceTokens&&(a.srcToken=c),i.items.push(a)}else{h&&o(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),$.comment&&(g.comment?g.comment+="\n"+$.comment:g.comment=$.comment);const e=new Ls(g);n.options.keepSourceTokens&&(e.srcToken=c),i.items.push(e)}}return l&&l<r&&o(l,"IMPOSSIBLE","Map comment with trailing content"),i.range=[s.offset,r,l??r],i}(e,t,n,o);break;case"block-seq":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i=new Ms(n.schema);n.atRoot&&(n.atRoot=!1);let r=s.offset,l=null;for(const{start:c,value:a}of s.items){const u=Ko(c,{indicator:"seq-item-ind",next:a,offset:r,onError:o,startOnNewline:!0});if(!u.found){if(!(u.anchor||u.tag||a)){l=u.end,u.comment&&(i.comment=u.comment);continue}a&&"block-seq"===a.type?o(u.end,"BAD_INDENT","All sequence items must start at the same column"):o(r,"MISSING_CHAR","Sequence item without - indicator")}const d=a?e(n,a,u,o):t(n,u.end,c,null,u,o);n.schema.compat&&zo(s.indent,a,o),r=d.range[2],i.items.push(d)}return i.range=[s.offset,r,l??r],i}(e,t,n,o);break;case"flow-collection":i=function({composeNode:e,composeEmptyNode:t},n,s,o){const i="{"===s.start.source,r=i?"flow map":"flow sequence",l=i?new Us(n.schema):new Ms(n.schema);l.flow=!0;const c=n.atRoot;c&&(n.atRoot=!1);let a=s.offset+s.start.source.length;for(let c=0;c<s.items.length;++c){const u=s.items[c],{start:d,key:f,sep:p,value:h}=u,m=Ko(d,{flow:r,indicator:"explicit-key-ind",next:f??p?.[0],offset:a,onError:o,startOnNewline:!1});if(!m.found){if(!(m.anchor||m.tag||p||h)){0===c&&m.comma?o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`):c<s.items.length-1&&o(m.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${r}`),m.comment&&(l.comment?l.comment+="\n"+m.comment:l.comment=m.comment),a=m.end;continue}!i&&n.options.strict&&Vo(f)&&o(f,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===c)m.comma&&o(m.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${r}`);else if(m.comma||o(m.start,"MISSING_CHAR",`Missing , between ${r} items`),m.comment){let e="";e:for(const t of d)switch(t.type){case"comma":case"space":break;case"comment":e=t.source.substring(1);break e;default:break e}if(e){let t=l.items[l.items.length-1];Bn(t)&&(t=t.value??t.key),t.comment?t.comment+="\n"+e:t.comment=e,m.comment=m.comment.substring(e.length+1)}}if(i||p||m.found){const s=m.end,c=f?e(n,f,m,o):t(n,s,d,null,m,o);Yo(f)&&o(c.range,"BLOCK_IN_FLOW",Zo);const g=Ko(p??[],{flow:r,indicator:"map-value-ind",next:h,offset:c.range[2],onError:o,startOnNewline:!1});if(g.found){if(!i&&!m.found&&n.options.strict){if(p)for(const e of p){if(e===g.found)break;if("newline"===e.type){o(e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}m.start<g.found.offset-1024&&o(g.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else h&&("source"in h&&h.source&&":"===h.source[0]?o(h,"MISSING_CHAR",`Missing space after : in ${r}`):o(g.start,"MISSING_CHAR",`Missing , or : between ${r} items`));const $=h?e(n,h,g,o):g.found?t(n,g.end,p,null,g,o):null;$?Yo(h)&&o($.range,"BLOCK_IN_FLOW",Zo):g.comment&&(c.comment?c.comment+="\n"+g.comment:c.comment=g.comment);const b=new Ls(c,$);if(n.options.keepSourceTokens&&(b.srcToken=u),i){const e=l;Go(n,e.items,c)&&o(s,"DUPLICATE_KEY","Map keys must be unique"),e.items.push(b)}else{const e=new Us(n.schema);e.flow=!0,e.items.push(b),l.items.push(e)}a=$?$.range[2]:g.end}else{const s=h?e(n,h,m,o):t(n,m.end,p,null,m,o);l.items.push(s),a=s.range[2],Yo(h)&&o(s.range,"BLOCK_IN_FLOW",Zo)}}const u=i?"}":"]",[d,...f]=s.end;let p=a;if(d&&d.source===u)p=d.offset+d.source.length;else{const e=r[0].toUpperCase()+r.substring(1);o(a,c?"MISSING_CHAR":"BAD_INDENT",c?`${e} must end with a ${u}`:`${e} in block collection must be sufficiently indented and end with a ${u}`),d&&1!==d.source.length&&f.unshift(d)}if(f.length>0){const e=Jo(f,p,n.options.strict,o);e.comment&&(l.comment?l.comment+="\n"+e.comment:l.comment=e.comment),l.range=[s.offset,p,e.offset]}else l.range=[s.offset,p,p];return l}(e,t,n,o)}if(!s)return i;const r=t.directives.tagName(s.source,(e=>o(s,"TAG_RESOLVE_FAILED",e)));if(!r)return i;const l=i.constructor;if("!"===r||r===l.tagName)return i.tag=l.tagName,i;const c=Un(i)?"map":"seq";let a=t.schema.tags.find((e=>e.collection===c&&e.tag===r));if(!a){const e=t.schema.knownTags[r];if(!e||e.collection!==c)return o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,!0),i.tag=r,i;t.schema.tags.push(Object.assign({},e,{default:!1})),a=e}const u=a.resolve(i,(e=>o(s,"TAG_RESOLVE_FAILED",e)),t.options),d=jn(u)?u:new os(u);return d.range=i.range,d.tag=r,a?.format&&(d.format=a.format),d}function ti(e,t,n){const s=e.offset,o=function({offset:e,props:t},n,s){if("block-scalar-header"!==t[0].type)return s(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:o}=t[0],i=o[0];let r=0,l="",c=-1;for(let t=1;t<o.length;++t){const n=o[t];if(l||"-"!==n&&"+"!==n){const s=Number(n);!r&&s?r=s:-1===c&&(c=e+t)}else l=n}-1!==c&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${o}`);let a=!1,u="",d=o.length;for(let e=1;e<t.length;++e){const o=t[e];switch(o.type){case"space":a=!0;case"newline":d+=o.source.length;break;case"comment":if(n&&!a){s(o,"MISSING_CHAR","Comments must be separated from other tokens by white space characters")}d+=o.source.length,u=o.source.substring(1);break;case"error":s(o,"UNEXPECTED_TOKEN",o.message),d+=o.source.length;break;default:{s(o,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${o.type}`);const e=o.source;e&&"string"==typeof e&&(d+=e.length)}}}return{mode:i,indent:r,chomp:l,comment:u,length:d}}(e,t,n);if(!o)return{value:"",type:null,comment:"",range:[s,s,s]};const i=">"===o.mode?os.BLOCK_FOLDED:os.BLOCK_LITERAL,r=e.source?function(e){const t=e.split(/\n( *)/),n=t[0],s=n.match(/^( *)/),o=[s?.[1]?[s[1],n.slice(s[1].length)]:["",n]];for(let e=1;e<t.length;e+=2)o.push([t[e],t[e+1]]);return o}(e.source):[];let l=r.length;for(let e=r.length-1;e>=0;--e){const t=r[e][1];if(""!==t&&"\r"!==t)break;l=e}if(0===l){const t="+"===o.chomp&&r.length>0?"\n".repeat(Math.max(1,r.length-1)):"";let n=s+o.length;return e.source&&(n+=e.source.length),{value:t,type:i,comment:o.comment,range:[s,n,n]}}let c=e.indent+o.indent,a=e.offset+o.length,u=0;for(let e=0;e<l;++e){const[t,s]=r[e];if(""!==s&&"\r"!==s){if(t.length<c){const e="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";n(a+t.length,"MISSING_CHAR",e)}0===o.indent&&(c=t.length),u=e;break}0===o.indent&&t.length>c&&(c=t.length),a+=t.length+s.length+1}for(let e=r.length-1;e>=l;--e)r[e][0].length>c&&(l=e+1);let d="",f="",p=!1;for(let e=0;e<u;++e)d+=r[e][0].slice(c)+"\n";for(let e=u;e<l;++e){let[t,s]=r[e];a+=t.length+s.length+1;const l="\r"===s[s.length-1];if(l&&(s=s.slice(0,-1)),s&&t.length<c){const e=`Block scalar lines must not be less indented than their ${o.indent?"explicit indentation indicator":"first line"}`;n(a-s.length-(l?2:1),"BAD_INDENT",e),t=""}i===os.BLOCK_LITERAL?(d+=f+t.slice(c)+s,f="\n"):t.length>c||"\t"===s[0]?(" "===f?f="\n":p||"\n"!==f||(f="\n\n"),d+=f+t.slice(c)+s,f="\n",p=!0):""===s?"\n"===f?d+="\n":f="\n":(d+=f+s,f=" ",p=!1)}switch(o.chomp){case"-":break;case"+":for(let e=l;e<r.length;++e)d+="\n"+r[e][0].slice(c);"\n"!==d[d.length-1]&&(d+="\n");break;default:d+="\n"}const h=s+o.length+e.source.length;return{value:d,type:i,comment:o.comment,range:[s,h,h]}}function ni(e,t,n){const{offset:s,type:o,source:i,end:r}=e;let l,c;const a=(e,t,o)=>n(s+e,t,o);switch(o){case"scalar":l=os.PLAIN,c=function(e,t){let n="";switch(e[0]){case"\t":n="a tab character";break;case",":n="flow indicator character ,";break;case"%":n="directive indicator character %";break;case"|":case">":n=`block scalar indicator ${e[0]}`;break;case"@":case"`":n=`reserved character ${e[0]}`}n&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${n}`);return si(e)}(i,a);break;case"single-quoted-scalar":l=os.QUOTE_SINGLE,c=function(e,t){"'"===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR","Missing closing 'quote");return si(e.slice(1,-1)).replace(/''/g,"'")}(i,a);break;case"double-quoted-scalar":l=os.QUOTE_DOUBLE,c=function(e,t){let n="";for(let s=1;s<e.length-1;++s){const o=e[s];if("\r"!==o||"\n"!==e[s+1])if("\n"===o){const{fold:t,offset:o}=oi(e,s);n+=t,s=o}else if("\\"===o){let o=e[++s];const i=ii[o];if(i)n+=i;else if("\n"===o)for(o=e[s+1];" "===o||"\t"===o;)o=e[1+ ++s];else if("\r"===o&&"\n"===e[s+1])for(o=e[1+ ++s];" "===o||"\t"===o;)o=e[1+ ++s];else if("x"===o||"u"===o||"U"===o){const i={x:2,u:4,U:8}[o];n+=ri(e,s+1,i,t),s+=i}else{const o=e.substr(s-1,2);t(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),n+=o}}else if(" "===o||"\t"===o){const t=s;let i=e[s+1];for(;" "===i||"\t"===i;)i=e[1+ ++s];"\n"===i||"\r"===i&&"\n"===e[s+2]||(n+=s>t?e.slice(t,s+1):o)}else n+=o}'"'===e[e.length-1]&&1!==e.length||t(e.length,"MISSING_CHAR",'Missing closing "quote');return n}(i,a);break;default:return n(e,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${o}`),{value:"",type:null,comment:"",range:[s,s+i.length,s+i.length]}}const u=s+i.length,d=Jo(r,u,t,n);return{value:c,type:l,comment:d.comment,range:[s,u,d.offset]}}function si(e){let t,n;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),n=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch(e){t=/(.*?)[ \t]*\r?\n/sy,n=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=t.exec(e);if(!s)return e;let o=s[1],i=" ",r=t.lastIndex;for(n.lastIndex=r;s=n.exec(e);)""===s[1]?"\n"===i?o+=i:i="\n":(o+=i+s[1],i=" "),r=n.lastIndex;const l=/[ \t]*(.*)/sy;return l.lastIndex=r,s=l.exec(e),o+i+(s?.[1]??"")}function oi(e,t){let n="",s=e[t+1];for(;!(" "!==s&&"\t"!==s&&"\n"!==s&&"\r"!==s||"\r"===s&&"\n"!==e[t+2]);)"\n"===s&&(n+="\n"),s=e[(t+=1)+1];return n||(n=" "),{fold:n,offset:t}}const ii={0:"\0",a:"",b:"\b",e:"",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"",_:"",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function ri(e,t,n,s){const o=e.substr(t,n),i=o.length===n&&/^[0-9a-fA-F]+$/.test(o)?parseInt(o,16):NaN;if(isNaN(i)){const o=e.substr(t-2,n+2);return s(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${o}`),o}return String.fromCodePoint(i)}function li(e,t,n,s){const{value:o,type:i,comment:r,range:l}="block-scalar"===t.type?ti(t,e.options.strict,s):ni(t,e.options.strict,s),c=n?e.directives.tagName(n.source,(e=>s(n,"TAG_RESOLVE_FAILED",e))):null,a=n&&c?function(e,t,n,s,o){if("!"===n)return e[On];const i=[];for(const t of e.tags)if(!t.collection&&t.tag===n){if(!t.default||!t.test)return t;i.push(t)}for(const e of i)if(e.test?.test(t))return e;const r=e.knownTags[n];if(r&&!r.collection)return e.tags.push(Object.assign({},r,{default:!1,test:void 0})),r;return o(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${n}`,"tag:yaml.org,2002:str"!==n),e[On]}(e.schema,o,c,n,s):"scalar"===t.type?function({directives:e,schema:t},n,s,o){const i=t.tags.find((e=>e.default&&e.test?.test(n)))||t[On];if(t.compat){const r=t.compat.find((e=>e.default&&e.test?.test(n)))??t[On];if(i.tag!==r.tag){o(s,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${e.tagString(i.tag)} or ${e.tagString(r.tag)}`,!0)}}return i}(e,o,t,s):e.schema[On];let u;try{const i=a.resolve(o,(e=>s(n??t,"TAG_RESOLVE_FAILED",e)),e.options);u=Mn(i)?i:new os(i)}catch(e){const i=e instanceof Error?e.message:String(e);s(n??t,"TAG_RESOLVE_FAILED",i),u=new os(o)}return u.range=l,u.source=o,i&&(u.type=i),c&&(u.tag=c),a.format&&(u.format=a.format),r&&(u.comment=r),u}function ci(e,t,n){if(t){null===n&&(n=t.length);for(let s=n-1;s>=0;--s){let n=t[s];switch(n.type){case"space":case"comment":case"newline":e-=n.source.length;continue}for(n=t[++s];"space"===n?.type;)e+=n.source.length,n=t[++s];break}}return e}const ai={composeNode:ui,composeEmptyNode:di};function ui(e,t,n,s){const{spaceBefore:o,comment:i,anchor:r,tag:l}=n;let c,a=!0;switch(t.type){case"alias":c=function({options:e},{offset:t,source:n,end:s},o){const i=new es(n.substring(1));""===i.source&&o(t,"BAD_ALIAS","Alias cannot be an empty string");i.source.endsWith(":")&&o(t+n.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const r=t+n.length,l=Jo(s,r,e.strict,o);i.range=[t,r,l.offset],l.comment&&(i.comment=l.comment);return i}(e,t,s),(r||l)&&s(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=li(e,t,l,s),r&&(c.anchor=r.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=ei(ai,e,t,l,s),r&&(c.anchor=r.source.substring(1));break;default:s(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=di(e,t.offset,void 0,null,n,s),a=!1}return r&&""===c.anchor&&s(r,"BAD_ALIAS","Anchor cannot be an empty string"),o&&(c.spaceBefore=!0),i&&("scalar"===t.type&&""===t.source?c.comment=i:c.commentBefore=i),e.options.keepSourceTokens&&a&&(c.srcToken=t),c}function di(e,t,n,s,{spaceBefore:o,comment:i,anchor:r,tag:l,end:c},a){const u=li(e,{type:"scalar",offset:ci(t,n,s),indent:-1,source:""},l,a);return r&&(u.anchor=r.source.substring(1),""===u.anchor&&a(r,"BAD_ALIAS","Anchor cannot be an empty string")),o&&(u.spaceBefore=!0),i&&(u.comment=i,u.range[2]=c),u}function fi(e){if("number"==typeof e)return[e,e+1];if(Array.isArray(e))return 2===e.length?e:[e[0],e[1]];const{offset:t,source:n}=e;return[t,t+("string"==typeof n?n.length:1)]}function pi(e){let t="",n=!1,s=!1;for(let o=0;o<e.length;++o){const i=e[o];switch(i[0]){case"#":t+=(""===t?"":s?"\n\n":"\n")+(i.substring(1)||" "),n=!0,s=!1;break;case"%":"#"!==e[o+1]?.[0]&&(o+=1),n=!1;break;default:n||(s=!0),n=!1}}return{comment:t,afterEmptyLine:s}}class hi{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,t,n,s)=>{const o=fi(e);s?this.warnings.push(new qo(o,t,n)):this.errors.push(new Ho(o,t,n))},this.directives=new Xn({version:e.version||"1.2"}),this.options=e}decorate(e,t){const{comment:n,afterEmptyLine:s}=pi(this.prelude);if(n){const o=e.contents;if(t)e.comment=e.comment?`${e.comment}\n${n}`:n;else if(s||e.directives.docStart||!o)e.commentBefore=n;else if(Qn(o)&&!o.flow&&o.items.length>0){let e=o.items[0];Bn(e)&&(e=e.key);const t=e.commentBefore;e.commentBefore=t?`${n}\n${t}`:n}else{const e=o.commentBefore;o.commentBefore=e?`${n}\n${e}`:n}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:pi(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,n=-1){for(const t of e)yield*this.next(t);yield*this.end(t,n)}*next(e){switch(e.type){case"directive":this.directives.add(e.source,((t,n,s)=>{const o=fi(e);o[0]+=t,this.onError(o,"BAD_DIRECTIVE",n,s)})),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{const t=function(e,t,{offset:n,start:s,value:o,end:i},r){const l=Object.assign({_directives:t},e),c=new Fo(void 0,l),a={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Ko(s,{indicator:"doc-start",next:o??i?.[0],offset:n,onError:r,startOnNewline:!0});u.found&&(c.directives.docStart=!0,!o||"block-map"!==o.type&&"block-seq"!==o.type||u.hasNewline||r(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=o?ui(a,o,u,r):di(a,u.end,s,null,u,r);const d=c.contents.range[2],f=Jo(i,d,!1,r);return f.comment&&(c.comment=f.comment),c.range=[n,d,f.offset],c}(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{const t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new Ho(fi(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){const t="Unexpected doc-end without preceding document";this.errors.push(new Ho(fi(e),"UNEXPECTED_TOKEN",t));break}this.doc.directives.docEnd=!0;const t=Jo(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){const e=this.doc.comment;this.doc.comment=e?`${e}\n${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Ho(fi(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){const e=Object.assign({_directives:this.directives},this.options),n=new Fo(void 0,e);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),n.range=[0,t,t],this.decorate(n,!1),yield n}}}function mi(e){switch(e){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}const gi="0123456789ABCDEFabcdef".split(""),$i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),bi=",[]{}".split(""),yi=" ,[]{}\n\r\t".split(""),wi=e=>!e||yi.includes(e);class vi{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let n=this.next??"stream";for(;n&&(t||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;" "===t||"\t"===t;)t=this.buffer[++e];return!t||"#"===t||"\n"===t||"\r"===t&&"\n"===this.buffer[e+1]}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let n=0;for(;" "===t;)t=this.buffer[++n+e];if("\r"===t){const t=this.buffer[n+e+1];if("\n"===t||!t&&!this.atEnd)return e+n+1}return"\n"===t||n>=this.indentNext||!t&&!this.atEnd?e+n:-1}if("-"===t||"."===t){const t=this.buffer.substr(e,3);if(("---"===t||"..."===t)&&mi(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return("number"!=typeof e||-1!==e&&e<this.pos)&&(e=this.buffer.indexOf("\n",this.pos),this.lineEndPos=e),-1===e?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[e-1]&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(null===e)return this.setNext("stream");if("\ufeff"===e[0]&&(yield*this.pushCount(1),e=e.substring(1)),"%"===e[0]){let t=e.length;const n=e.indexOf("#");if(-1!==n){const s=e[n-1];" "!==s&&"\t"!==s||(t=n-1)}for(;;){const n=e[t-1];if(" "!==n&&"\t"!==n)break;t-=1}const s=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-s),this.pushNewline(),"stream"}if(this.atLineEnd()){const t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield"",yield*this.parseLineStart()}*parseLineStart(){const e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if("-"===e||"."===e){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&mi(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&mi(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!mi(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if(("-"===e||"?"===e||":"===e)&&mi(t)){const e=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=e,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const e=this.getLine();if(null===e)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(wi),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=(yield*this.parseBlockScalarHeader()),t+=(yield*this.pushSpaces(!0)),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,n=-1;do{e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=n=t):t=0,t+=(yield*this.pushSpaces(!0))}while(e+t>0);const s=this.getLine();if(null===s)return this.setNext("flow");if(-1!==n&&n<this.indentNext&&"#"!==s[0]||0===n&&(s.startsWith("---")||s.startsWith("..."))&&mi(s[3])){if(!(n===this.indentNext-1&&1===this.flowLevel&&("]"===s[0]||"}"===s[0])))return this.flowLevel=0,yield"",yield*this.parseLineStart()}let o=0;for(;","===s[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),s[o]){case void 0:return"flow";case"#":return yield*this.pushCount(s.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(wi),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const e=this.charAt(1);if(this.flowKey||mi(e)||","===e)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const e=this.charAt(0);let t=this.buffer.indexOf(e,this.pos+1);if("'"===e)for(;-1!==t&&"'"===this.buffer[t+1];)t=this.buffer.indexOf("'",t+2);else for(;-1!==t;){let e=0;for(;"\\"===this.buffer[t-1-e];)e+=1;if(e%2==0)break;t=this.buffer.indexOf('"',t+1)}const n=this.buffer.substring(0,t);let s=n.indexOf("\n",this.pos);if(-1!==s){for(;-1!==s;){const e=this.continueScalar(s+1);if(-1===e)break;s=n.indexOf("\n",e)}-1!==s&&(t=s-("\r"===n[s-1]?2:1))}if(-1===t){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){const t=this.buffer[++e];if("+"===t)this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if("-"!==t)break}return yield*this.pushUntil((e=>mi(e)||"#"===e))}*parseBlockScalar(){let e,t=this.pos-1,n=0;e:for(let s=this.pos;e=this.buffer[s];++s)switch(e){case" ":n+=1;break;case"\n":t=s,n=0;break;case"\r":{const e=this.buffer[s+1];if(!e&&!this.atEnd)return this.setNext("block-scalar");if("\n"===e)break}default:break e}if(!e&&!this.atEnd)return this.setNext("block-scalar");if(n>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=n:this.indentNext+=this.blockScalarIndent;do{const e=this.continueScalar(t+1);if(-1===e)break;t=this.buffer.indexOf("\n",e)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let e=t-1,s=this.buffer[e];"\r"===s&&(s=this.buffer[--e]);const o=e;for(;" "===s||"\t"===s;)s=this.buffer[--e];if(!("\n"===s&&e>=this.pos&&e+1+n>o))break;t=e}return yield"",yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const e=this.flowLevel>0;let t,n=this.pos-1,s=this.pos-1;for(;t=this.buffer[++s];)if(":"===t){const t=this.buffer[s+1];if(mi(t)||e&&","===t)break;n=s}else if(mi(t)){let o=this.buffer[s+1];if("\r"===t&&("\n"===o?(s+=1,t="\n",o=this.buffer[s+1]):n=s),"#"===o||e&&bi.includes(o))break;if("\n"===t){const e=this.continueScalar(s+1);if(-1===e)break;s=Math.max(s,e-2)}}else{if(e&&bi.includes(t))break;n=s}return t||this.atEnd?(yield"",yield*this.pushToIndex(n+1,!0),e?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){const n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(wi))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const e=this.flowLevel>0,t=this.charAt(1);if(mi(t)||e&&bi.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let e=this.pos+2,t=this.buffer[e];for(;!mi(t)&&">"!==t;)t=this.buffer[++e];return yield*this.pushToIndex(">"===t?e+1:e,!1)}{let e=this.pos+1,t=this.buffer[e];for(;t;)if($i.includes(t))t=this.buffer[++e];else{if("%"!==t||!gi.includes(this.buffer[e+1])||!gi.includes(this.buffer[e+2]))break;t=this.buffer[e+=3]}return yield*this.pushToIndex(e,!1)}}*pushNewline(){const e=this.buffer[this.pos];return"\n"===e?yield*this.pushCount(1):"\r"===e&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(e){let t,n=this.pos-1;do{t=this.buffer[++n]}while(" "===t||e&&"\t"===t);const s=n-this.pos;return s>0&&(yield this.buffer.substr(this.pos,s),this.pos=n),s}*pushUntil(e){let t=this.pos,n=this.buffer[t];for(;!e(n);)n=this.buffer[++t];return yield*this.pushToIndex(t,!1)}}class xi{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,n=this.lineStarts.length;for(;t<n;){const s=t+n>>1;this.lineStarts[s]<e?t=s+1:n=s}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(0===t)return{line:0,col:e};return{line:t,col:e-this.lineStarts[t-1]+1}}}}function _i(e,t){for(let n=0;n<e.length;++n)if(e[n].type===t)return!0;return!1}function ki(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Ei(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ai(e){switch(e.type){case"document":return e.start;case"block-map":{const t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Ii(e){if(0===e.length)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===e[++t]?.type;);return e.splice(t,e.length)}function Si(e){if("flow-seq-start"===e.start.type)for(const t of e.items)!t.sep||t.value||_i(t.start,"explicit-key-ind")||_i(t.sep,"map-value-ind")||(t.key&&(t.value=t.key),delete t.key,Ei(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Ti{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new vi,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const n of this.lexer.lex(e,t))yield*this.next(n);t||(yield*this.end())}*next(e){if(this.source=e,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=e.length);const t=function(e){switch(e){case"\ufeff":return"byte-order-mark";case"":return"doc-mode";case"":return"flow-error-end";case"":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(e);if(t)if("scalar"===t)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&" "===e[0]&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{const t=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:t,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const e=this.peek(1);if("doc-end"!==this.type||e&&"doc-end"===e.type){if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(e){return this.stack[this.stack.length-e]}*pop(e){const t=e??this.stack.pop();if(t)if(0===this.stack.length)yield t;else{const e=this.peek(1);switch("block-scalar"===t.type?t.indent="indent"in e?e.indent:0:"flow-collection"===t.type&&"document"===e.type&&(t.indent=0),"flow-collection"===t.type&&Si(t),e.type){case"document":e.value=t;break;case"block-scalar":e.props.push(t);break;case"block-map":{const n=e.items[e.items.length-1];if(n.value)return e.items.push({start:[],key:t,sep:[]}),void(this.onKeyLine=!0);if(!n.sep)return Object.assign(n,{key:t,sep:[]}),void(this.onKeyLine=!_i(n.start,"explicit-key-ind"));n.value=t;break}case"block-seq":{const n=e.items[e.items.length-1];n.value?e.items.push({start:[],value:t}):n.value=t;break}case"flow-collection":{const n=e.items[e.items.length-1];return void(!n||n.value?e.items.push({start:[],key:t,sep:[]}):n.sep?n.value=t:Object.assign(n,{key:t,sep:[]}))}default:yield*this.pop(),yield*this.pop(t)}if(!("document"!==e.type&&"block-map"!==e.type&&"block-seq"!==e.type||"block-map"!==t.type&&"block-seq"!==t.type)){const n=t.items[t.items.length-1];n&&!n.sep&&!n.value&&n.start.length>0&&-1===ki(n.start)&&(0===t.indent||n.start.every((e=>"comment"!==e.type||e.indent<t.indent)))&&("document"===e.type?e.end=n.start:e.items.push({start:n.start}),t.items.splice(-1,1))}}else{const e="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:e}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const e={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&e.start.push(this.sourceToken),void this.stack.push(e)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":return void(-1!==ki(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void e.start.push(this.sourceToken)}const t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if("map-value-ind"===this.type){const t=Ii(Ai(this.peek(2)));let n;e.end?(n=e.end,n.push(this.sourceToken),delete e.end):n=[this.sourceToken];const s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:t,key:e,sep:n}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":return void e.props.push(this.sourceToken);case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){const n=!this.onKeyLine&&this.indent===e.indent&&t.sep;let s=[];if(n&&t.sep&&!t.value){const n=[];for(let s=0;s<t.sep.length;++s){const o=t.sep[s];switch(o.type){case"newline":n.push(s);break;case"space":break;case"comment":o.indent>e.indent&&(n.length=0);break;default:n.length=0}}n.length>=2&&(s=t.sep.splice(n[1]))}switch(this.type){case"anchor":case"tag":return void(n||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"explicit-key-ind":return t.sep||_i(t.start,"explicit-key-ind")?n||t.value?(s.push(this.sourceToken),e.items.push({start:s})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):t.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(_i(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(_i(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(Ei(t.key)&&!_i(t.sep,"newline")){const e=Ii(t.start),n=t.key,s=t.sep;s.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:n,sep:s}]})}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if(_i(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{const e=Ii(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:e,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||n?e.items.push({start:s,key:null,sep:[this.sourceToken]}):_i(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);return void(n||t.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0))}default:{const o=this.startBlockValue(e);if(o)return n&&"block-seq"!==o.type&&_i(t.start,"explicit-key-ind")&&e.items.push({start:s}),void this.stack.push(o)}}}yield*this.pop(),yield*this.step()}*blockSequence(e){const t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){const n="end"in t.value?t.value.end:void 0;"comment"===(Array.isArray(n)?n[n.length-1]:void 0)?.type?n?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){const n=e.items[e.items.length-2]?.value?.end;if(Array.isArray(n))return Array.prototype.push.apply(n,t.start),n.push(this.sourceToken),void e.items.pop()}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;return void t.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==e.indent)break;return void(t.value||_i(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken))}if(this.indent>e.indent){const t=this.startBlockValue(e);if(t)return void this.stack.push(t)}yield*this.pop(),yield*this.step()}*flowCollection(e){const t=e.items[e.items.length-1];if("flow-error-end"===this.type){let e;do{yield*this.pop(),e=this.peek(1)}while(e&&"flow-collection"===e.type)}else if(0===e.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken));case"map-value-ind":return void(!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const n=this.flowScalar(this.type);return void(!t||t.value?e.items.push({start:[],key:n,sep:[]}):t.sep?this.stack.push(n):Object.assign(t,{key:n,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void e.end.push(this.sourceToken)}const n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{const t=this.peek(2);if("block-map"===t.type&&("map-value-ind"===this.type&&t.indent===e.indent||"newline"===this.type&&!t.items[t.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==t.type){const n=Ii(Ai(t));Si(e);const s=e.end.splice(1,e.end.length);s.push(this.sourceToken);const o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const t=Ii(Ai(e));return t.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t}]}}case"map-value-ind":{this.onKeyLine=!0;const t=Ii(Ai(e));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:t,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return"comment"===this.type&&(!(this.indent<=t)&&e.every((e=>"newline"===e.type||"space"===e.type)))}*documentEnd(e){"doc-mode"!==this.type&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}function Ni(e,t={}){const{lineCounter:n,prettyErrors:s}=function(e){const t=!1!==e.prettyErrors;return{lineCounter:e.lineCounter||t&&new xi||null,prettyErrors:t}}(t),o=new Ti(n?.addNewLine),i=new hi(t);let r=null;for(const t of i.compose(o.parse(e),!0,e.length))if(r){if("silent"!==r.options.logLevel){r.errors.push(new Ho(t.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else r=t;return s&&n&&(r.errors.forEach(Wo(e,n)),r.warnings.forEach(Wo(e,n))),r}function Li(e,t,n){let s;"function"==typeof t?s=t:void 0===n&&t&&"object"==typeof t&&(n=t);const o=Ni(e,n);if(!o)return null;if(o.warnings.forEach((e=>As(o.options.logLevel,e))),o.errors.length>0){if("silent"!==o.options.logLevel)throw o.errors[0];o.errors=[]}return o.toJS(Object.assign({reviver:s},n))}const Oi=Ze({displayName:"",steps:{pc_to_ram:{tts:"",text:""},ram_to_ir:{tts:"",text:""},ir_to_cu:{tts:"",text:""},cu_to_mux:{tts:"",text:""},cu_to_alu:{tts:"",text:""},acc_to_alu1:{tts:"",text:""},pc_increment:{tts:"",text:""},ir_to_alu2:{tts:"",text:""},ir_to_ram:{tts:"",text:""},memory_read:{tts:"",text:""},memory_fetch:{tts:"",text:""},memory_write:{tts:"",text:""},ram_to_alu2:{tts:"",text:""},ir_to_pc:{tts:"",text:""},execute:{tts:"",text:""},alu_to_sw:{tts:"",text:""},acc_to_ram:{tts:"",text:""},acc_stored_to_ram:{tts:"",text:""}},cpu:{ir:{invalid_instruction:""}},ram:{buttons:{clear:{text:"",title:""},undo:{title:""},redo:{title:""}}},menu:{buttons:{settings:{text:"",title:""},save:{text:"",title:""},load:{text:"",title:""},examples:{text:"",title:"",examples:{if_then_else:{text:"",title:""},while_do:{text:"",title:""},array_sum:{text:"",title:""}}},manual:{text:"",title:""},copyright:{text:"",title:""}},overlays:{save_to_file:{title:"",buttons:{save:{text:"",title:""},cancel:{text:"",title:""}},inputs:{filename:{placeholder:""}}},copyright:{subsections:{copyright_notice:{title:"",paragraphs:[],disclaimer:""},credits:{title:"",paragraphs:[]}}}}},controls:{labels:{execution:"",step:"",instruction:"",speed:""},buttons:{reset:{title:""},play_program:{title:""},pause_program:{title:""},fast_program:{title:""},play_step:{title:""},fast_step:{title:""},play_instruction:{title:""},fast_instruction:{title:""}},sliders:{speed:{title:""}},checkboxes:{binary:{text:""},animations:{text:""}}},message_feed:{buttons:{export_logs:{text:""},close_message:{title:""}}},settings:{title:"",sections_titles:{general:"",tts:"",busses:""},language:{title:"",description:""},dispaly_components_labels:{title:"",description:""},dispaly_busses_labels:{title:"",description:""},display_step_text:{title:"",description:""},reset_all:{title:"",description:"",button:{text:""}},tts_enabled:{title:"",description:""},tts_speed:{title:"",description:""},tts_voice:{title:"",description:""},databus_ext_color:{title:"",description:""},databus_int_color:{title:"",description:""},databus_ext_anim_color:{title:"",description:""},databus_int_anim_color:{title:"",description:""},addressbus_ext_color:{title:"",description:""},addressbus_int_color:{title:"",description:""},addressbus_ext_anim_color:{title:"",description:""},addressbus_int_anim_color:{title:"",description:""},controlbus_ext_color:{title:"",description:""},controlbus_int_color:{title:"",description:""},controlbus_ext_anim_color:{title:"",description:""},controlbus_int_anim_color:{title:"",description:""}},errors:{unchecked:"",program_parsing:{invalid_instruction:"",invalid_label:"",duplicated_label:""},instruction_parsing:{invalid_binary_input:"",invalid_opcode:"",invalid_operand:"",operand_not_allowed:"",operand_required:"",unknown_label:"",immediate_operand_not_allowed:"",invalid_immediate_operand:"",invalid_direct_operand:"",invalid_data:""},label_parsing:{invalid_character:"",label_too_short:"",label_too_long:""},symbol_table:{label_already_exists:"",invalid_label:""},user_input:{invalid_file_name:"",invalid_pc_value:"",invalid_acc_value:""},execution:{invalid_instruction:"",division_by_zero:""},generic:{fetch_error:""}}});function Ci(t){return e(this,void 0,void 0,(function*(){yt.debug(`Fetching text - Lang: ${t}`,$t.INIT),yield fetch(`resources/i18n/app/${t}.yaml`).then((e=>e.text())).then((e=>Li(e))).then((e=>Oi.set(e))).catch((e=>yt.unexpected_error(e.message,$t.INIT))),yt.debug("Text fetched",$t.INIT)}))}class Pi extends Error{constructor(e){super(e),this.isChecked=!0}}class Ri extends Pi{constructor(e,t){super(`Value ${e} out of ${t}-bit valid range`)}}function Di(e,t){if(Math.abs(e)>t)throw new Error(`Position ${e} out of range +/-${t}`);if(0===e)throw new Error("Positions start from 1");return e<0?this.value.length+e:e-1}function Ui(e,t){return e.length>t?e.substring(0,t).concat("..."):e}function Bi(e){if(e<1||e>32)throw new Error("Binary numbers must be between 1 and 32 bits")}function Mi(e,t){return e<=function(e){return Bi(e),Math.pow(2,e)}(t)&&e>=Qi(t)}function Fi(e,t){return e<=function(e){return Bi(e),Math.pow(2,e-1)-1}(t)&&e>=Qi(t)}function Qi(e){return Bi(e),-Math.pow(2,e-1)}function ji(e,t){return Bi(t),Hi((e>>>0).toString(2),t)}function Hi(e,t){return("00000000000000000000000000000000"+e).slice(-t)}class qi{constructor(e,t){if("string"==typeof t){if(!function(e,t){return Bi(t),new RegExp(`^[01]{1,${t}}$`).test(e)}(t,e))throw new Ri(t,e);this.value=Hi(t,e)}else if("number"==typeof t){if(!Mi(t,e))throw new Ri(t,e);this.value=ji(t,e)}else this.value=ji(t.signed(),e)}signed(){return this.value.startsWith("0")?parseInt(this.value,2):~~parseInt(("11111111111111111111111111111111"+this.value).slice(-32),2)}unsigned(){return parseInt(this.value,2)}toBinaryString(){return this.value}bits(){return this.value.length}bytes(){return this.bits()/8}getByte(e){const t=8*Di(e,this.bytes());return new qi(8,this.value.substring(t,t+8))}getBytes(){const e=[];for(let t=1;t<=this.bytes();t++)e.push(this.getByte(t));return e}isBitSet(e){return"1"===this.value.charAt(Di(e,this.bits()))}setBit(e,t){return new qi(this.bits(),function(e,t,n){if(!/^[10]*$/.test(e))throw new Error("Invalid binary string");let s=e.split("");return s[Di(t,e.length)]=n?"1":"0",s.join("")}(this.value,e,t))}static fromBytes(e){return Bi(8*e.length),"number"==typeof e[0]?qi.fromBytes(e.map((e=>new qi(8,e)))):"string"==typeof e[0]?new qi(8*e.length,e.join("")):new qi(8*e.length,e.map((e=>e.toBinaryString())).join(""))}}function Wi(e){return e.isBitSet(1)}function Ki(e,t){return e.setBit(1,t)}function Vi(e){return Ki(e,!1)}const zi=[{symbolic:"NOP",numeric:0,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"HLT",numeric:1,takesOperand:!1,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JMP",numeric:2,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JZ",numeric:3,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNZ",numeric:4,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JN",numeric:5,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"JNN",numeric:6,takesOperand:!0,takesImmediate:!1,operator:"",category:"CONTROL_FLOW"},{symbolic:"LOD",numeric:7,takesOperand:!0,takesImmediate:!0,operator:"=",category:"DATA_FLOW"},{symbolic:"STO",numeric:8,takesOperand:!0,takesImmediate:!1,operator:"",category:"DATA_FLOW"},{symbolic:"ADD",numeric:9,takesOperand:!0,takesImmediate:!0,operator:"+",category:"ARITHMETIC_LOGIC"},{symbolic:"SUB",numeric:10,takesOperand:!0,takesImmediate:!0,operator:"-",category:"ARITHMETIC_LOGIC"},{symbolic:"MUL",numeric:11,takesOperand:!0,takesImmediate:!0,operator:"*",category:"ARITHMETIC_LOGIC"},{symbolic:"DIV",numeric:12,takesOperand:!0,takesImmediate:!0,operator:"/",category:"ARITHMETIC_LOGIC"},{symbolic:"AND",numeric:13,takesOperand:!0,takesImmediate:!0,operator:"&",category:"ARITHMETIC_LOGIC"},{symbolic:"CMP",numeric:14,takesOperand:!0,takesImmediate:!0,operator:":",category:"ARITHMETIC_LOGIC"},{symbolic:"NOT",numeric:15,takesOperand:!0,takesImmediate:!0,operator:"!",category:"ARITHMETIC_LOGIC"}];function Gi(e){return"string"==typeof e?zi.find((t=>t.symbolic===e)):zi.find((t=>t.numeric===e.getByte(1).unsigned()))}class Xi extends qi{constructor(e,t,n,s=!1){super(16,n),this.opcode=Gi(Vi(n)),this.symbolicOpcode=e,this.symbolicOperand=t,s&&(this.opcode=void 0)}immediateFlag(){return Wi(this)}opcodeValue(){return this.getByte(1)}operandValue(){return this.getByte(2)}numericOpcode(){return this.getByte(1).signed()}numericOperand(){return this.immediateFlag()?this.getByte(2).signed():this.getByte(2).unsigned()}binaryOpcode(){return this.getByte(1).toBinaryString()}binaryOperand(){return this.getByte(2).toBinaryString()}symbolic(){return this.symbolicOpcode+(""!==this.symbolicOperand?` ${this.symbolicOperand}`:"")}}Xi.NOP=new Xi("NOP","",new qi(16,Gi("NOP").numeric));const Ji=254;function Zi(e){return e%2==0&&e>=0&&e<=Ji}class Yi{constructor(){this.instructionRegister=Ze(Xi.NOP),this.programCounter=Ze(new qi(8,0)),this.increment=Ze(new qi(8,2)),this.alu1=Ze(new qi(16,0)),this.alu2=Ze(new qi(16,0)),this.aluOperation=Ze(""),this.aluResult=Ze(new qi(16,0)),this.accumulator=Ze(new qi(16,0)),this.zeroFlag=Ze(!0),this.negativeFlag=Ze(!1),this.isJumping=Ze(!1),this.isHalting=Ze(!1)}reset(){this.instructionRegister.set(Xi.NOP),this.programCounter.set(new qi(8,0)),this.increment.set(new qi(8,2)),this.alu1.set(new qi(16,0)),this.alu2.set(new qi(16,0)),this.aluOperation.set(""),this.aluResult.set(new qi(16,0)),this.accumulator.set(new qi(16,0)),this.zeroFlag.set(!0),this.negativeFlag.set(!1),this.isJumping.set(!1),this.isHalting.set(!1)}set(e,t){switch(e){case er.IR:this.instructionRegister.set(t);break;case er.PC:this.programCounter.set(t);break;case er.INC:this.increment.set(t);break;case er.ALU1:this.alu1.set(t);break;case er.ALU2:this.alu2.set(t);break;case er.ALU_OP:this.aluOperation.set(t);break;case er.ALU_RESULT:this.aluResult.set(t);break;case er.ACC:this.accumulator.set(t);break;case er.SW_Z:this.zeroFlag.set(t);break;case er.SW_N:this.negativeFlag.set(t);break;case er.HALTING:this.isHalting.set(t);break;case er.JUMPING:this.isJumping.set(t)}}}var er;function tr(e){let t,n,s,o,i;return{c(){t=P("div"),n=D(e[4]),s=U(),o=P("div"),i=D(e[5]),F(t,"class","w-full h-[28px] leading-[30px] text-center rounded-l-md"),F(o,"class","w-full h-[28px] leading-[30px] text-center rounded-r-md")},m(r,l){L(r,t,l),S(t,n),e[12](t),L(r,s,l),L(r,o,l),S(o,i),e[13](o)},p(e,t){16&t&&H(n,e[4]),32&t&&H(i,e[5])},d(n){n&&O(t),e[12](null),n&&O(s),n&&O(o),e[13](null)}}}function nr(e){let t,n,s=e[6].cpu.ir.invalid_instruction+"";return{c(){t=P("div"),n=D(s),F(t,"class","w-[200px] h-[30px] leading-[30px] col-span-2 text-center rounded-md")},m(e,s){L(e,t,s),S(t,n)},p(e,t){64&t&&s!==(s=e[6].cpu.ir.invalid_instruction+"")&&H(n,s)},d(e){e&&O(t)}}}function sr(e){let t,n,s,o;function i(e,t){return e[0].opcode||e[1]?tr:nr}n=new kn({props:{text:"IR",top:"-25px",left:"10px"}});let r=i(e),l=r(e);return{c(){t=P("div"),qe(n.$$.fragment),s=U(),l.c(),F(t,"class","absolute top-[100px] left-[110px] w-[200px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component grid items-center grid-cols-2 font-mono ")},m(e,i){L(e,t,i),We(n,t,null),S(t,s),l.m(t,null),o=!0},p(e,[n]){r===(r=i(e))&&l?l.p(e,n):(l.d(1),l=r(e),l&&(l.c(),l.m(t,null)))},i(e){o||(Ce(n.$$.fragment,e),o=!0)},o(e){Pe(n.$$.fragment,e),o=!1},d(e){e&&O(t),Ke(n),l.d()}}}function or(e,t,n){let s,o,i;d(e,xt,(e=>n(1,o=e))),d(e,Oi,(e=>n(6,i=e)));var r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let l,c,a,u,{cpu:f}=t,{animationsEnabled:p}=t;const h=f.instructionRegister;return d(e,h,(e=>n(0,s=e))),e.$$set=e=>{"cpu"in e&&n(8,f=e.cpu),"animationsEnabled"in e&&n(9,p=e.animationsEnabled)},e.$$.update=()=>{3&e.$$.dirty&&(o?(n(4,a=s.binaryOpcode()),n(5,u=s.binaryOperand())):s.opcode&&(n(4,a=s.opcode.symbolic),s.opcode.takesOperand?s.immediateFlag()?n(5,u=`#${s.numericOperand()}`):n(5,u=`${s.numericOperand()}`):n(5,u="")))},[s,o,l,c,a,u,i,h,f,p,function(){return r(this,void 0,void 0,(function*(){if(p&&l)return In(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return r(this,void 0,void 0,(function*(){if(p&&c)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){pe[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},function(e){pe[e?"unshift":"push"]((()=>{c=e,n(3,c)}))}]}!function(e){e.IR="IR",e.PC="PC",e.INC="INC",e.ALU1="ALU1",e.ALU2="ALU2",e.ALU_OP="ALU_OP",e.ALU_RESULT="ALU_RESULT",e.ACC="ACC",e.SW_Z="SW_Z",e.SW_N="SW_N",e.HALTING="HALTING",e.JUMPING="JUMPING"}(er||(er={}));class ir extends ze{constructor(e){super(),Ve(this,e,or,sr,c,{cpu:8,animationsEnabled:9,flashOpcode:10,flashOperand:11})}get flashOpcode(){return this.$$.ctx[10]}get flashOperand(){return this.$$.ctx[11]}}function rr(e){let n,s,o;return s=new kn({props:{text:"Control Unit / Decoder"}}),{c(){n=P("div"),qe(s.$$.fragment),F(n,"class","absolute top-[230px] left-[100px] w-[120px] h-[60px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center text-center ")},m(t,i){L(t,n,i),We(s,n,null),e[3](n),o=!0},p:t,i(e){o||(Ce(s.$$.fragment,e),o=!0)},o(e){Pe(s.$$.fragment,e),o=!1},d(t){t&&O(n),Ke(s),e[3](null)}}}function lr(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let o,{animationsEnabled:i}=t;return e.$$set=e=>{"animationsEnabled"in e&&n(1,i=e.animationsEnabled)},[o,i,function(){return s(this,void 0,void 0,(function*(){if(i)return In(o,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){pe[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class cr extends ze{constructor(e){super(),Ve(this,e,lr,rr,c,{animationsEnabled:1,flash:2})}get flash(){return this.$$.ctx[2]}}const ar=Ze(),ur=Ze(),dr=Ze(),fr=Ze(),pr=Ze(),hr=Ze(),mr=Ze();function gr(e){let t,n=(e[0]?e[1].toBinaryString():e[1].signed())+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){3&s&&n!==(n=(e[0]?e[1].toBinaryString():e[1].signed())+"")&&H(t,n)},d(e){e&&O(t)}}}function $r(e){let t,n,s;return{c(){t=P("input"),F(t,"type","text"),F(t,"class","w-[170px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(o,i){L(o,t,i),q(t,e[4]),n||(s=[v(yr.call(null,t)),v(wr.call(null,t)),M(t,"input",e[11]),M(t,"input",e[7]),M(t,"focusout",e[6])],n=!0)},p(e,n){16&n&&t.value!==e[4]&&q(t,e[4])},d(e){e&&O(t),n=!1,r(s)}}}function br(e){let t,n,s,o,i,r;function l(e,t){return e[3]?$r:gr}n=new kn({props:{text:"ACC",top:"-25px",left:"0"}});let c=l(e),a=c(e);return{c(){t=P("div"),qe(n.$$.fragment),s=U(),a.c(),F(t,"class","absolute top-[550px] left-[275px] w-[170px] h-[30px] border border-black rounded-md bg-gray-100 shadow-component flex items-center justify-center cursor-text font-mono ")},m(l,c){L(l,t,c),We(n,t,null),S(t,s),a.m(t,null),e[12](t),o=!0,i||(r=M(t,"click",e[13]),i=!0)},p(e,[n]){c===(c=l(e))&&a?a.p(e,n):(a.d(1),a=c(e),a&&(a.c(),a.m(t,null)))},i(e){o||(Ce(n.$$.fragment,e),o=!0)},o(e){Pe(n.$$.fragment,e),o=!1},d(s){s&&O(t),Ke(n),a.d(),e[12](null),i=!1,r()}}}function yr(e){e.focus()}function wr(e){e.select()}function vr(e,t,n){let s,o,i,r;d(e,xt,(e=>n(0,s=e))),d(e,mr,(e=>n(14,i=e))),d(e,Oi,(e=>n(15,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let c,a,{cpu:u}=t,{animationsEnabled:f}=t,p=!1;const h=u.accumulator;function m(){n(4,a=s?o.toBinaryString():o.signed().toString())}d(e,h,(e=>n(1,o=e))),m();return e.$$set=e=>{"cpu"in e&&n(8,u=e.cpu),"animationsEnabled"in e&&n(9,f=e.animationsEnabled)},e.$$.update=()=>{2&e.$$.dirty&&m(),1&e.$$.dirty&&m()},[s,o,c,p,a,h,function(){try{if(yt.debug(`Accumulator input: "${a}"`,$t.USER_INPUT),""===a)return m(),void n(3,p=!1);let e;try{e=new qi(16,s?a:parseInt(a)),h.set(e)}catch(e){throw new Pi(r.errors.user_input.invalid_acc_value)}}catch(e){null==i||i.error(e.message),yt.handled_error(e,$t.USER_INPUT),m()}finally{n(3,p=!1)}},function(){n(4,a=s?a.replace(/[^10]/g,"").slice(0,16):a.replace(/[^\d\-]/g,"").slice(0,6))},u,f,function(){return l(this,void 0,void 0,(function*(){if(f)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){a=this.value,n(4,a)},function(e){pe[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},()=>n(3,p=!0)]}class xr extends ze{constructor(e){super(),Ve(this,e,vr,br,c,{cpu:8,animationsEnabled:9,flash:10})}get flash(){return this.$$.ctx[10]}}function _r(e){let n,s,o,i=(e[1]?e[2].toBinaryString():e[2].unsigned())+"";return{c(){n=P("div"),s=D("+"),o=D(i),F(n,"class","absolute top-[130px] left-[570px] w-[100px] h-[30px] leading-[30px] text-center border border-black rounded-md bg-gray-100 shadow-component font-mono ")},m(t,i){L(t,n,i),S(n,s),S(n,o),e[7](n)},p(e,[t]){6&t&&i!==(i=(e[1]?e[2].toBinaryString():e[2].unsigned())+"")&&H(o,i)},i:t,o:t,d(t){t&&O(n),e[7](null)}}}function kr(e,t,n){let s,o;d(e,xt,(e=>n(1,s=e)));var i=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let r,{cpu:l}=t,{animationsEnabled:c}=t;const a=l.increment;return d(e,a,(e=>n(2,o=e))),e.$$set=e=>{"cpu"in e&&n(4,l=e.cpu),"animationsEnabled"in e&&n(5,c=e.animationsEnabled)},[r,s,o,a,l,c,function(){return i(this,void 0,void 0,(function*(){if(c)return In(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){pe[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Er extends ze{constructor(e){super(),Ve(this,e,kr,_r,c,{cpu:4,animationsEnabled:5,flash:6})}get flash(){return this.$$.ctx[6]}}function Ar(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v=e[3]?"1":"0",x=e[2]?"1":"0";return n=new kn({props:{text:"SW",top:"-25px",left:"0"}}),i=new kn({props:{text:"Z",bottom:"-21px",left:"25%"}}),d=new kn({props:{text:"N",bottom:"-21px",left:"25%"}}),{c(){t=P("div"),qe(n.$$.fragment),s=U(),o=P("div"),qe(i.$$.fragment),l=U(),c=D(v),a=U(),u=P("div"),qe(d.$$.fragment),f=U(),p=D(x),h=U(),m=P("div"),m.textContent="------",g=U(),$=P("div"),F(o,"class","relative h-full flex items-center justify-center w-[19%] border border-r-black rounded-l-md cursor-pointer select-none"),F(u,"class","relative h-full flex items-center justify-center w-[19%] cursor-pointer select-none"),F(m,"class","relative h-full flex items-center justify-center w-[62%] border border-l-black rounded-r-md select-none"),F(t,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md bg-gray-100 shadow-component flex items-center justify-center font-mono "),F($,"class","absolute top-[550px] left-[540px] w-[120px] h-[30px] rounded-md border border-black pointer-events-none")},m(r,v){L(r,t,v),We(n,t,null),S(t,s),S(t,o),We(i,o,null),S(o,l),S(o,c),e[12](o),S(t,a),S(t,u),We(d,u,null),S(u,f),S(u,p),e[13](u),S(t,h),S(t,m),L(r,g,v),L(r,$,v),b=!0,y||(w=[M(o,"click",e[6]),M(u,"click",e[7])],y=!0)},p(e,[t]){(!b||8&t)&&v!==(v=e[3]?"1":"0")&&H(c,v),(!b||4&t)&&x!==(x=e[2]?"1":"0")&&H(p,x)},i(e){b||(Ce(n.$$.fragment,e),Ce(i.$$.fragment,e),Ce(d.$$.fragment,e),b=!0)},o(e){Pe(n.$$.fragment,e),Pe(i.$$.fragment,e),Pe(d.$$.fragment,e),b=!1},d(s){s&&O(t),Ke(n),Ke(i),e[12](null),Ke(d),e[13](null),s&&O(g),s&&O($),y=!1,r(w)}}}function Ir(e,t,n){let s,o;var i=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let r,l,{cpu:c}=t,{animationsEnabled:a}=t;const u=c.negativeFlag;d(e,u,(e=>n(2,s=e)));const f=c.zeroFlag;function p(){return i(this,void 0,void 0,(function*(){if(a)return In(r,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}function h(){return i(this,void 0,void 0,(function*(){if(a)return In(l,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))}return d(e,f,(e=>n(3,o=e))),e.$$set=e=>{"cpu"in e&&n(8,c=e.cpu),"animationsEnabled"in e&&n(9,a=e.animationsEnabled)},[r,l,s,o,u,f,function(){yt.debug(`Toggled zero flag: "${!o}"`,$t.USER_INPUT),w(f,o=!o,o),p()},function(){yt.debug(`Toggled negative flag: "${!s}"`,$t.USER_INPUT),w(u,s=!s,s),h()},c,a,p,h,function(e){pe[e?"unshift":"push"]((()=>{r=e,n(0,r)}))},function(e){pe[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class Sr extends ze{constructor(e){super(),Ve(this,e,Ir,Ar,c,{cpu:8,animationsEnabled:9,flashZeroFlag:10,flashNegativeFlag:11})}get flashZeroFlag(){return this.$$.ctx[10]}get flashNegativeFlag(){return this.$$.ctx[11]}}function Tr(e){let t,n=(e[0]?e[1].toBinaryString():e[1].unsigned())+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){3&s&&n!==(n=(e[0]?e[1].toBinaryString():e[1].unsigned())+"")&&H(t,n)},d(e){e&&O(t)}}}function Nr(e){let t,n,s;return{c(){t=P("input"),F(t,"type","text"),F(t,"class","w-[100px] h-[30px] rounded-md bg-black text-gray-200 text-center leading-[30px] selection:bg-transparent ")},m(o,i){L(o,t,i),q(t,e[4]),n||(s=[v(Or.call(null,t)),v(Cr.call(null,t)),M(t,"input",e[11]),M(t,"input",e[7]),M(t,"focusout",e[6])],n=!0)},p(e,n){16&n&&t.value!==e[4]&&q(t,e[4])},d(e){e&&O(t),n=!1,r(s)}}}function Lr(e){let t,n,s,o,i,r;function l(e,t){return e[3]?Nr:Tr}n=new kn({props:{text:"PC",top:"-25px",left:"0"}});let c=l(e),a=c(e);return{c(){t=P("div"),qe(n.$$.fragment),s=U(),a.c(),F(t,"class","absolute top-[70px] left-[570px] w-[100px] h-[30px] leading-[30px] text-center border border-black rounded-md bg-gray-100 shadow-component cursor-text font-mono ")},m(l,c){L(l,t,c),We(n,t,null),S(t,s),a.m(t,null),e[12](t),o=!0,i||(r=M(t,"click",e[13]),i=!0)},p(e,[n]){c===(c=l(e))&&a?a.p(e,n):(a.d(1),a=c(e),a&&(a.c(),a.m(t,null)))},i(e){o||(Ce(n.$$.fragment,e),o=!0)},o(e){Pe(n.$$.fragment,e),o=!1},d(s){s&&O(t),Ke(n),a.d(),e[12](null),i=!1,r()}}}function Or(e){e.focus()}function Cr(e){e.select()}function Pr(e,t,n){let s,o,i,r;d(e,xt,(e=>n(0,s=e))),d(e,mr,(e=>n(14,i=e))),d(e,Oi,(e=>n(15,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let c,a,{cpu:u}=t,{animationsEnabled:f}=t,p=!1;const h=u.programCounter;function m(){n(4,a=s?o.toBinaryString():o.unsigned().toString())}d(e,h,(e=>n(1,o=e))),m();return e.$$set=e=>{"cpu"in e&&n(8,u=e.cpu),"animationsEnabled"in e&&n(9,f=e.animationsEnabled)},e.$$.update=()=>{2&e.$$.dirty&&m(),1&e.$$.dirty&&m()},[s,o,c,p,a,h,function(){try{if(yt.debug(`ProgramCounter input: "${a}"`,$t.USER_INPUT),""===a)return m(),void n(3,p=!1);let e;try{e=new qi(8,s?a:parseInt(a))}catch(e){throw new Pi(r.errors.user_input.invalid_pc_value)}if(!Zi(e.unsigned()))throw new Pi(r.errors.user_input.invalid_pc_value);h.set(e)}catch(e){null==i||i.error(e.message),yt.handled_error(e.message,$t.USER_INPUT),m()}finally{n(3,p=!1)}},function(){n(4,a=s?a.replace(/[^10]/g,"").slice(0,8):a.replace(/\D/g,"").slice(0,3))},u,f,function(){return l(this,void 0,void 0,(function*(){if(f)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){a=this.value,n(4,a)},function(e){pe[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},()=>n(3,p=!0)]}class Rr extends ze{constructor(e){super(),Ve(this,e,Pr,Lr,c,{cpu:8,animationsEnabled:9,flash:10})}get flash(){return this.$$.ctx[10]}}function Dr(e){let n,s,o,i,r,l;return r=new kn({props:{text:"MUX"}}),{c(){n=P("div"),s=R("svg"),o=R("path"),i=U(),qe(r.$$.fragment),F(o,"d","M 0 0 L 100 0 L 80 40 L 20 40 Z"),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"class","fill-gray-100 stroke-black drop-shadow-component h-full w-full"),F(s,"viewBox","-1 -1 102 42"),F(n,"class","absolute top-[240px] left-[400px] w-[100px] h-[40px] text-center flex items-center justify-center")},m(t,c){L(t,n,c),S(n,s),S(s,o),e[3](s),S(n,i),We(r,n,null),l=!0},p:t,i(e){l||(Ce(r.$$.fragment,e),l=!0)},o(e){Pe(r.$$.fragment,e),l=!1},d(t){t&&O(n),e[3](null),Ke(r)}}}function Ur(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let o,{animationsEnabled:i}=t;return e.$$set=e=>{"animationsEnabled"in e&&n(1,i=e.animationsEnabled)},[o,i,function(){return s(this,void 0,void 0,(function*(){if(i)return In(o,"fill",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){pe[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class Br extends ze{constructor(e){super(),Ve(this,e,Ur,Dr,c,{animationsEnabled:1,flash:2})}get flash(){return this.$$.ctx[2]}}function Mr(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b=(e[3]?Fr(e[4].toBinaryString()):e[4].signed())+"",y=(e[3]?Fr(e[6].toBinaryString()):e[6].signed())+"";return i=new kn({props:{text:"ALU",top:"-25px",left:"45%"}}),{c(){t=P("div"),n=R("svg"),s=R("path"),o=U(),qe(i.$$.fragment),r=U(),l=P("div"),c=D(b),u=U(),d=P("div"),f=D(e[5]),p=U(),h=P("div"),m=D(y),F(s,"d","m 0 0 l 192 0 l 32 32 l 32 -32 l 192 0 l -96 160 l -256 0 z"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"class","stroke-black stroke-[1.6px] w-full h-full drop-shadow-component fill-gray-100"),F(n,"viewBox","-1 -1 450 162"),F(l,"class",a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"),F(d,"class","absolute flex items-center justify-center top-[50%] left-[50%] -translate-x-1/2 w-[30px] h-[30px] rounded-lg font-bold text-2xl leading-[30px] "),F(h,"class",g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"),F(t,"class","absolute top-[380px] left-[210px] w-[300px] h-fit")},m(a,g){L(a,t,g),S(t,n),S(n,s),S(t,o),We(i,t,null),S(t,r),S(t,l),S(l,c),e[15](l),S(t,u),S(t,d),S(d,f),e[16](d),S(t,p),S(t,h),S(h,m),e[17](h),$=!0},p(e,[t]){(!$||24&t)&&b!==(b=(e[3]?Fr(e[4].toBinaryString()):e[4].signed())+"")&&H(c,b),(!$||8&t&&a!==(a="absolute flex items-center justify-center top-[15%] left-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"))&&F(l,"class",a),(!$||32&t)&&H(f,e[5]),(!$||72&t)&&y!==(y=(e[3]?Fr(e[6].toBinaryString()):e[6].signed())+"")&&H(m,y),(!$||8&t&&g!==(g="absolute flex items-center justify-center top-[15%] right-[15%] w-[90px] "+(e[3]?"top-[15%] h-[50px]":"top-[20%] h-[30px]")+" text-center leading-tight rounded-lg font-mono"))&&F(h,"class",g)},i(e){$||(Ce(i.$$.fragment,e),$=!0)},o(e){Pe(i.$$.fragment,e),$=!1},d(n){n&&O(t),Ke(i),e[15](null),e[16](null),e[17](null)}}}function Fr(e){return[e.slice(0,8),e.slice(8)].join(" ")}function Qr(e,t,n){let s,o,i,r;d(e,xt,(e=>n(3,s=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let c,a,u,{cpu:f}=t,{animationsEnabled:p}=t;const h=f.alu1;d(e,h,(e=>n(4,o=e)));const m=f.alu2;d(e,m,(e=>n(6,r=e)));const g=f.aluOperation;return d(e,g,(e=>n(5,i=e))),e.$$set=e=>{"cpu"in e&&n(10,f=e.cpu),"animationsEnabled"in e&&n(11,p=e.animationsEnabled)},[c,a,u,s,o,i,r,h,m,g,f,p,function(){return l(this,void 0,void 0,(function*(){if(p)return In(c,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return l(this,void 0,void 0,(function*(){if(p)return In(a,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(){return l(this,void 0,void 0,(function*(){if(p)return In(u,"background-color",{r:224,g:224,b:224},{r:0,g:255,b:0})}))},function(e){pe[e?"unshift":"push"]((()=>{c=e,n(0,c)}))},function(e){pe[e?"unshift":"push"]((()=>{u=e,n(2,u)}))},function(e){pe[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class jr extends ze{constructor(e){super(),Ve(this,e,Qr,Mr,c,{cpu:10,animationsEnabled:11,flashFirstOperand:12,flashSecondOperand:13,flashOperator:14})}get flashFirstOperand(){return this.$$.ctx[12]}get flashSecondOperand(){return this.$$.ctx[13]}get flashOperator(){return this.$$.ctx[14]}}class Hr{constructor(){this._conditions=[],this._name="Action",this._endsStep=!1,this._endsInstruction=!1,this._sideffects=[],this._conditions=[],this._waits_before=[],this._waits_after=[]}condition(...e){return this._conditions.push(...e),this}endstep(){return this._endsStep=!0,this}endinstruction(){return this._endsInstruction=!0,this}sideffects(...e){return this._sideffects.push(...e),this}waitFor(...e){return this._waits_before.push(...e),this}thenWaitFor(...e){return this._waits_after.push(...e),this}execute(t){return e(this,void 0,void 0,(function*(){if(this._conditions.reduceRight(((e,n)=>e&&n(t)),!0))return yt.debug(`Executing: ${this.toString()}`,$t.EXECUTION),yield Promise.all(this._waits_before.map((e=>e(t)))),yield Promise.all([...this._sideffects.map((e=>e.execute(t))),this.action(t)]),Promise.all(this._waits_after.map((e=>e(t))));yt.debug(`Skipping: ${this.toString()}`,$t.EXECUTION)}))}doesEndStep(){return this._endsStep}doesEndInstruction(){return this._endsInstruction}toString(){return`${this._name}`}}function qr(e){return e.cpu.model.zeroFlag.get()}function Wr(e){return e.cpu.model.negativeFlag.get()}function Kr(e){return It.get()}function Vr(e){return At.get()}function zr(e){return Nt.get()}function Gr(e){return Et.get()}function Xr(e){return t=>!e(t)}class Jr extends Hr{constructor(){var e,t;super(),this._name="Animation",this.condition((e=Xr(Vr),t=Kr,n=>e(n)&&t(n)))}}class Zr extends Jr{constructor(e){super(),this._name="FlashCpu",this.component=e}action(t){return e(this,void 0,void 0,(function*(){return t.cpu.component.flash(this.component)}))}toString(){return`${super.toString()}, component: ${this.component}`}}function Yr(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v;o=new kn({props:{text:"CPU",fontSize:"LARGE",top:"-30px",left:"47%"}});let x={cpu:e[0],animationsEnabled:e[1]};r=new ir({props:x}),e[11](r);let _={animationsEnabled:e[1]};c=new cr({props:_}),e[12](c);let k={cpu:e[0],animationsEnabled:e[1]};u=new Rr({props:k}),e[13](u);let E={cpu:e[0],animationsEnabled:e[1]};f=new Er({props:E}),e[14](f);let A={animationsEnabled:e[1]};h=new Br({props:A}),e[15](h);let I={cpu:e[0],animationsEnabled:e[1]};g=new jr({props:I}),e[16](g);let T={cpu:e[0],animationsEnabled:e[1]};b=new Sr({props:T}),e[17](b);let N={cpu:e[0],animationsEnabled:e[1]};return w=new xr({props:N}),e[18](w),{c(){t=P("div"),n=U(),s=P("div"),qe(o.$$.fragment),i=U(),qe(r.$$.fragment),l=U(),qe(c.$$.fragment),a=U(),qe(u.$$.fragment),d=U(),qe(f.$$.fragment),p=U(),qe(h.$$.fragment),m=U(),qe(g.$$.fragment),$=U(),qe(b.$$.fragment),y=U(),qe(w.$$.fragment),F(t,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[1] rounded-[30px] bg-gray-300 shadow-cpu"),F(s,"class","absolute left-[50px] top-[50px] w-[700px] h-[620px] z-[3] rounded-[30px] border border-black")},m(e,x){L(e,t,x),L(e,n,x),L(e,s,x),We(o,s,null),S(s,i),We(r,s,null),S(s,l),We(c,s,null),S(s,a),We(u,s,null),S(s,d),We(f,s,null),S(s,p),We(h,s,null),S(s,m),We(g,s,null),S(s,$),We(b,s,null),S(s,y),We(w,s,null),v=!0},p(e,[t]){const n={};1&t&&(n.cpu=e[0]),2&t&&(n.animationsEnabled=e[1]),r.$set(n);const s={};2&t&&(s.animationsEnabled=e[1]),c.$set(s);const o={};1&t&&(o.cpu=e[0]),2&t&&(o.animationsEnabled=e[1]),u.$set(o);const i={};1&t&&(i.cpu=e[0]),2&t&&(i.animationsEnabled=e[1]),f.$set(i);const l={};2&t&&(l.animationsEnabled=e[1]),h.$set(l);const a={};1&t&&(a.cpu=e[0]),2&t&&(a.animationsEnabled=e[1]),g.$set(a);const d={};1&t&&(d.cpu=e[0]),2&t&&(d.animationsEnabled=e[1]),b.$set(d);const p={};1&t&&(p.cpu=e[0]),2&t&&(p.animationsEnabled=e[1]),w.$set(p)},i(e){v||(Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),Ce(c.$$.fragment,e),Ce(u.$$.fragment,e),Ce(f.$$.fragment,e),Ce(h.$$.fragment,e),Ce(g.$$.fragment,e),Ce(b.$$.fragment,e),Ce(w.$$.fragment,e),v=!0)},o(e){Pe(o.$$.fragment,e),Pe(r.$$.fragment,e),Pe(c.$$.fragment,e),Pe(u.$$.fragment,e),Pe(f.$$.fragment,e),Pe(h.$$.fragment,e),Pe(g.$$.fragment,e),Pe(b.$$.fragment,e),Pe(w.$$.fragment,e),v=!1},d(i){i&&O(t),i&&O(n),i&&O(s),Ke(o),e[11](null),Ke(r),e[12](null),Ke(c),e[13](null),Ke(u),e[14](null),Ke(f),e[15](null),Ke(h),e[16](null),Ke(g),e[17](null),Ke(b),e[18](null),Ke(w)}}}function el(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let o,i,r,l,c,a,u,d,{cpu:f}=t,{animationsEnabled:p}=t;return e.$$set=e=>{"cpu"in e&&n(0,f=e.cpu),"animationsEnabled"in e&&n(1,p=e.animationsEnabled)},[f,p,o,i,r,l,c,a,u,d,function(e){return s(this,void 0,void 0,(function*(){if(p)switch(e){case"IR":return Promise.all([o.flashOpcode(),o.flashOperand()]);case"IR:OPC":return o.flashOpcode();case"IR:OPR":return o.flashOperand();case"PC":return r.flash();case"INC":return l.flash();case"MUX":return c.flash();case"CU":return i.flash();case"ALU:1":return a.flashFirstOperand();case"ALU:2":return a.flashSecondOperand();case"ALU:OPR":return a.flashOperator();case"ACC":return d.flash();case"SW:Z":return u.flashZeroFlag();case"SW:N":return u.flashNegativeFlag()}}))},function(e){pe[e?"unshift":"push"]((()=>{o=e,n(2,o)}))},function(e){pe[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},function(e){pe[e?"unshift":"push"]((()=>{r=e,n(4,r)}))},function(e){pe[e?"unshift":"push"]((()=>{l=e,n(5,l)}))},function(e){pe[e?"unshift":"push"]((()=>{c=e,n(6,c)}))},function(e){pe[e?"unshift":"push"]((()=>{a=e,n(7,a)}))},function(e){pe[e?"unshift":"push"]((()=>{u=e,n(8,u)}))},function(e){pe[e?"unshift":"push"]((()=>{d=e,n(9,d)}))}]}class tl extends ze{constructor(e){super(),Ve(this,e,el,Yr,c,{cpu:0,animationsEnabled:1,flash:10})}get flash(){return this.$$.ctx[10]}}class nl{constructor(){this._instructions=Ze([]),this.instructions=Ye(this._instructions,(e=>e)),this.clear()}write(e,t){if(!Zi(e))throw new Error("Invalid address: "+e);this._instructions.update((n=>{const s=[...n];return s[e]=t,s}))}read(e){if(!Zi(e))throw new Error("Invalid address: "+e);return this._instructions.get()[e]}clear(){const e=[];for(let t=0;t<=Ji;t+=2)e[t]=Xi.NOP;this._instructions.set(e)}updateLabel(e,t){this._instructions.update((n=>{const s=[...n];for(let n=0;n<=Ji;n+=2){const o=s[n];o.symbolicOperand===e?s[n]=new Xi(o.symbolicOpcode,t,o):o.symbolicOperand===`#${e}`&&(s[n]=new Xi(o.symbolicOpcode,`#${t}`,o))}return s}))}updateLabelAddress(e,t){this._instructions.update((n=>{const s=[...n];for(let n=0;n<=Ji;n+=2){const o=s[n];o.symbolicOperand!==e&&o.symbolicOperand!==`#${e}`||(s[n]=new Xi(o.symbolicOpcode,o.symbolicOperand,qi.fromBytes([o.numericOpcode(),t]),void 0===o.opcode))}return s}))}removeLabel(e){this._instructions.update((t=>{const n=[...t];for(let t=0;t<=Ji;t+=2){const s=n[t];s.symbolicOperand===e?n[t]=new Xi(s.symbolicOpcode,s.numericOperand().toString(),s):s.symbolicOperand===`#${e}`&&(n[t]=new Xi(s.symbolicOpcode,`#${s.numericOperand()}`,s))}return n}))}import(e){this._instructions.set([...e.instructions.get()])}moveFirstHalfUpFromAddress(e){const t=this._instructions.get(),n=[...t.slice(2,e+2),Xi.NOP,void 0,...t.slice(e+2)];this._instructions.set(n)}moveFirstHalfDownFromAddress(e){const t=this._instructions.get(),n=[Xi.NOP,void 0,...t.slice(0,e),...t.slice(e+2)];this._instructions.set(n)}moveSecondHalfUpFromAddress(e){const t=this._instructions.get(),n=[...t.slice(0,e),...t.slice(e+2),void 0,Xi.NOP];this._instructions.set(n)}moveSecondHalfDownFromAddress(e){const t=this._instructions.get(),n=[...t.slice(0,e),Xi.NOP,void 0,...t.slice(e,253)];this._instructions.set(n)}*[Symbol.iterator](){const e=this._instructions.get();for(let t=0;t<=Ji;t+=2)yield{address:t,instruction:e[t]}}}function sl(e,...t){let n=e;return t.forEach(((e,t)=>{n=n.replace(`{${t}}`,e.toString())})),n}class ol extends Pi{constructor(e,t){super(e),this.badLabel=t}}const il=10,rl=/[^A-Z_]/;function ll(e){if(rl.test(e))throw new ol(sl(Oi.get().errors.label_parsing.invalid_character,e.match(rl)[0]),e);if(e.length>il)throw new ol(sl(Oi.get().errors.label_parsing.label_too_long,il),e);if(e.length<1)throw new ol(sl(Oi.get().errors.label_parsing.label_too_short,1),e);return e}class cl{constructor(){this._labels=Ze([]),this.labels=Ye(this._labels,(e=>e)),this.labelEditedListeners=[],this.labelMovedListeners=[],this.labelRemovedListeners=[],this.clear()}setLabel(e,t){if(!Zi(e))throw new Error("Invalid address: "+e);const n=this.getLabel(e);if(n!==t&&(n!==cl.NO_LABEL||""!==t))if(""!==t){if(ll(t),this.hasLabel(t))throw new Pi(Oi.get().errors.symbol_table.label_already_exists);this._labels.update((n=>{const s=[...n];return s[e]=t,s})),n!==cl.NO_LABEL&&this.notifyLabelEditedListeners(e,n,t)}else this.unlabelAddress(e)}unlabelAddress(e){if(!Zi(e))throw new Error("Invalid address: "+e);const t=this.getLabel(e);this._labels.update((t=>{const n=[...t];return n[e]=cl.NO_LABEL,n})),this.notifyLabelRemovedListeners(e,t)}getLabel(e){if(!Zi(e))throw new Error("Invalid address: "+e);return this._labels.get()[e]}getAddress(e){return e===cl.NO_LABEL?-1:this._labels.get().findIndex((t=>t===e))}hasLabel(e){return this._labels.get().includes(e)&&e!==cl.NO_LABEL}addressIsLabeled(e){if(!Zi(e))throw new Error("Invalid address: "+e);return this._labels.get()[e]!==cl.NO_LABEL}clear(){const e=[];for(let t=0;t<=Ji;t+=2)e[t]=cl.NO_LABEL;this._labels.set(e)}import(e){this._labels.set([...e.labels.get()])}moveFirstHalfUpFromAddress(e){const t=this._labels.get(),n=[...t.slice(2,e+2),cl.NO_LABEL,void 0,...t.slice(e+2)];this._labels.set(n),t[0]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(0,t[0]);for(const{label:t,address:n}of this)n<e&&this.notifyLabelMovedListeners(t,n+2,n)}moveFirstHalfDownFromAddress(e){const t=this._labels.get(),n=[cl.NO_LABEL,void 0,...t.slice(0,e),...t.slice(e+2)];this._labels.set(n),t[e]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(e,t[e]);for(const{label:t,address:n}of this)n<=e&&this.notifyLabelMovedListeners(t,n-2,n)}moveSecondHalfUpFromAddress(e){const t=this._labels.get(),n=[...t.slice(0,e),...t.slice(e+2),void 0,cl.NO_LABEL];this._labels.set(n),t[e]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(e,t[e]);for(const{label:t,address:n}of this)n>=e&&this.notifyLabelMovedListeners(t,n+2,n)}moveSecondHalfDownFromAddress(e){const t=this._labels.get(),n=[...t.slice(0,e),cl.NO_LABEL,void 0,...t.slice(e,253)];this._labels.set(n),t[254]!==cl.NO_LABEL&&this.notifyLabelRemovedListeners(Ji,t[254]);for(const{label:t,address:n}of this)n>e&&this.notifyLabelMovedListeners(t,n-2,n)}addLabelEditedListener(e){return this.labelEditedListeners.push(e),()=>this.labelEditedListeners=this.labelEditedListeners.filter((t=>t!==e))}addLabelMovedListener(e){return this.labelMovedListeners.push(e),()=>this.labelMovedListeners=this.labelMovedListeners.filter((t=>t!==e))}addLabelRemovedListener(e){return this.labelRemovedListeners.push(e),()=>this.labelRemovedListeners=this.labelRemovedListeners.filter((t=>t!==e))}notifyLabelEditedListeners(e,t,n){this.labelEditedListeners.forEach((s=>s({address:e,oldLabel:t,newLabel:n})))}notifyLabelMovedListeners(e,t,n){this.labelMovedListeners.forEach((s=>s({label:e,oldAddress:t,newAddress:n})))}notifyLabelRemovedListeners(e,t){this.labelRemovedListeners.forEach((n=>n({address:e,removedLabel:t})))}*[Symbol.iterator](){const e=this._labels.get();for(let t=0;t<=Ji;t+=2)e[t]!==cl.NO_LABEL&&(yield{address:t,label:e[t]})}}function al(e){const t=e-1;return t*t*t+1}function ul(e,{delay:t=0,duration:s=400,easing:o=n}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:s,easing:o,css:e=>"opacity: "+e*i}}function dl(e,{delay:t=0,duration:n=400,easing:s=al}={}){const o=getComputedStyle(e),i=+o.opacity,r=parseFloat(o.height),l=parseFloat(o.paddingTop),c=parseFloat(o.paddingBottom),a=parseFloat(o.marginTop),u=parseFloat(o.marginBottom),d=parseFloat(o.borderTopWidth),f=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:s,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*i};height: ${e*r}px;padding-top: ${e*l}px;padding-bottom: ${e*c}px;margin-top: ${e*a}px;margin-bottom: ${e*u}px;border-top-width: ${e*d}px;border-bottom-width: ${e*f}px;`}}cl.NO_LABEL=null;let fl={address:null,column:"CELL"};const{subscribe:pl,set:hl,update:ml}=Xe(fl);function gl(e){ml(e),fl=e(fl)}var $l={subscribe:pl,selectUp:function(){gl((e=>{let t=e.address-=2;return Object.assign(Object.assign({},e),{address:t<0?0:t})}))},selectDown:function(){gl((e=>{let t=e.address+=2;return Object.assign(Object.assign({},e),{address:t>Ji?Ji:t})}))},selectLeft:function(){gl((e=>Object.assign(Object.assign({},e),{column:"LABEL"})))},selectRight:function(){gl((e=>Object.assign(Object.assign({},e),{column:"CELL"})))},select:function(e,t="CELL"){if(!Zi(e))throw new Error("Invalid address");gl((n=>Object.assign(Object.assign({},n),{address:e,column:t})))},deselect:function(){gl((e=>Object.assign(Object.assign({},e),{address:null})))},noSelection:function(){return null===fl.address},isSelected:function(e,t){return fl.address===e&&fl.column===t}};function bl(e){let n,s,o,i;return{c(){n=P("button"),n.innerHTML='<svg class="fill-black/30 w-6 h-6 transition-colors hover:fill-black"><rect class="fill-transparent h-6 w-6"></rect><path d="M21,12l-4.37,6.16C16.26,18.68,15.65,19,15,19h-3l0-2h3l3.55-5L15,7H5v3H3V7c0-1.1,0.9-2,2-2h10c0.65,0,1.26,0.31,1.63,0.84 L21,12z M10,15H7v-3H5v3H2v2h3v3h2v-3h3V15z"></path></svg>',F(n,"class","absolute right-0 cursor-pointer w-6 h-6")},m(t,s){L(t,n,s),o||(i=M(n,"click",e[9]),o=!0)},p(t,n){e=t},i(t){s||we((()=>{s=De(n,e[11],{condition:e[15]}),s.start()}))},o:t,d(e){e&&O(n),o=!1,i()}}}function yl(e){let n,s,o,i,l;return{c(){n=P("div"),s=D(e[2]),o=D(" :"),F(n,"class","absolute right-0 h-[28px] w-[150px] flex items-center justify-start p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right cursor-text  svelte-1trus45"),G(n,"firstLabel",e[4]),G(n,"lastLabel",e[5])},m(t,r){L(t,n,r),S(n,s),S(n,o),i||(l=[M(n,"input",e[10]),M(n,"click",e[9])],i=!0)},p(e,t){4&t&&H(s,e[2]),16&t&&G(n,"firstLabel",e[4]),32&t&&G(n,"lastLabel",e[5])},i:t,o:t,d(e){e&&O(n),i=!1,r(l)}}}function wl(e){let s,o,i,c,a,u;return{c(){s=P("input"),F(s,"class","absolute right-0 h-[28px] w-[150px] p-[10px] border border-black/40 border-r-0 outline-none bg-gray-500/60 text-black shadow-ramlabels rounded-l-md origin-right  svelte-1trus45"),G(s,"firstLabel",e[4]),G(s,"lastLabel",e[5])},m(t,n){L(t,s,n),q(s,e[6]),c=!0,a||(u=[M(s,"input",e[12]),M(s,"input",e[10]),M(s,"focusout",e[8]),v(xl.call(null,s))],a=!0)},p(t,n){e=t,64&n&&s.value!==e[6]&&q(s,e[6]),(!c||16&n)&&G(s,"firstLabel",e[4]),(!c||32&n)&&G(s,"lastLabel",e[5])},i(t){c||(we((()=>{i&&i.end(1),o=De(s,_l,{condition:e[13]}),o.start()})),c=!0)},o(a){o&&o.invalidate(),i=function(e,s,o){const i={direction:"out"};let c,a=s(e,o,i),u=!0;const d=Ne;function f(){const{delay:s=0,duration:o=300,easing:i=n,tick:l=t,css:f}=a||Re;f&&(c=te(e,1,0,o,s,i,f));const p=_()+s,h=p+o;we((()=>Se(e,!1,"start"))),I((t=>{if(u){if(t>=h)return l(0,1),Se(e,!1,"end"),--d.r||r(d.c),!1;if(t>=p){const e=i((t-p)/o);l(1-e,e)}}return u}))}return d.r+=1,l(a)?Ie().then((()=>{a=a(i),f()})):f(),{end(t){t&&a.tick&&a.tick(1,0),u&&(c&&ne(e,c),u=!1)}}}(s,_l,{condition:e[14]}),c=!1},d(e){e&&O(s),e&&i&&i.end(),a=!1,r(u)}}}function vl(e){let t,n,s,o;const i=[wl,yl,bl],r=[];function l(e,t){return e[3]?0:e[2]?1:2}return n=l(e),s=r[n]=i[n](e),{c(){t=P("div"),s.c(),F(t,"class","relative h-[30px] flex items-center font-mono")},m(e,s){L(e,t,s),r[n].m(t,null),o=!0},p(e,[o]){let c=n;n=l(e),n===c?r[n].p(e,o):(Le(),Pe(r[c],1,1,(()=>{r[c]=null})),Oe(),s=r[n],s?s.p(e,o):(s=r[n]=i[n](e),s.c()),Ce(s,1),s.m(t,null))},i(e){o||(Ce(s),o=!0)},o(e){Pe(s),o=!1},d(e){e&&O(t),r[n].d()}}}function xl(e){e.focus()}function _l(e,{condition:t=(()=>!0)}){return{delay:0,duration:t()?200:0,css:e=>`transform: scaleX(${e})`}}function kl(e,t,n){let s;d(e,mr,(e=>n(16,s=e)));let o,i,{symbolTable:r}=t,{address:l}=t,{label:c}=t,{isSelected:a}=t,{isFirstLabel:u=!1}=t,{isLastLabel:f=!1}=t;ie((()=>{n(7,i=!0)}));return e.$$set=e=>{"symbolTable"in e&&n(0,r=e.symbolTable),"address"in e&&n(1,l=e.address),"label"in e&&n(2,c=e.label),"isSelected"in e&&n(3,a=e.isSelected),"isFirstLabel"in e&&n(4,u=e.isFirstLabel),"isLastLabel"in e&&n(5,f=e.isLastLabel)},e.$$.update=()=>{4&e.$$.dirty&&n(6,o=c===cl.NO_LABEL?"":c),2&e.$$.dirty&&(n(7,i=!1),n(6,o=c===cl.NO_LABEL?"":c)),8&e.$$.dirty&&a&&n(6,o=c===cl.NO_LABEL?"":c)},[r,l,c,a,u,f,o,i,function(){try{yt.debug(`RamLabel input: "${o}"`,$t.USER_INPUT),r.setLabel(l,o)}catch(e){null==s||s.error(e.message),yt.handled_error(e.message,$t.USER_INPUT),n(6,o=c===cl.NO_LABEL?"":c)}finally{$l.isSelected(l,"LABEL")&&(yt.debug(`Label deselected - Address: "${l}"`,$t.USER_INPUT),$l.deselect())}},function(){yt.debug(`Label selected - Address: "${l}"`,$t.USER_INPUT),$l.select(l,"LABEL")},function(){n(6,o=o.toUpperCase().replace(rl,"").slice(0,il))},function(e,{condition:t=(()=>!0)}){return t()?ul(e,{delay:150}):null},function(){o=this.value,n(6,o)},()=>!r.addressIsLabeled(l),()=>!r.addressIsLabeled(l),()=>{const e=i;return n(7,i=!0),!a&&e}]}class El extends ze{constructor(e){super(),Ve(this,e,kl,vl,c,{symbolTable:0,address:1,label:2,isSelected:3,isFirstLabel:4,isLastLabel:5})}}function Al(e){let n,s,o,i=(e[3]?new qi(8,e[0]).toBinaryString():e[0])+"";return{c(){n=P("div"),s=D(i),F(n,"class",o="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 font-mono "+e[4].class+" svelte-1v2acx4"),W(n,"background-color",e[2])},m(t,o){L(t,n,o),S(n,s),e[7](n)},p(e,[t]){9&t&&i!==(i=(e[3]?new qi(8,e[0]).toBinaryString():e[0])+"")&&H(s,i),16&t&&o!==(o="h-[30px] w-[100px] flex items-center justify-center border border-black border-t-0 font-mono "+e[4].class+" svelte-1v2acx4")&&F(n,"class",o),4&t&&W(n,"background-color",e[2])},i:t,o:t,d(t){t&&O(n),e[7](null)}}}function Il(e,t,n){const o=["address","getAddress","flash"];let i,r,l,c=b(t,o);d(e,It,(e=>n(8,i=e))),d(e,Ut,(e=>n(2,r=e))),d(e,xt,(e=>n(3,l=e)));var a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let u,{address:f}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,c=b(t,o)),"address"in e&&n(0,f=e.address)},[f,u,r,l,c,function(){return f},function(){return a(this,void 0,void 0,(function*(){if(i)return In(u,"background-color",{r:255,g:140,b:0},{r:0,g:255,b:0})}))},function(e){pe[e?"unshift":"push"]((()=>{u=e,n(1,u)}))}]}class Sl extends ze{constructor(e){super(),Ve(this,e,Il,Al,c,{address:0,getAddress:5,flash:6})}get getAddress(){return this.$$.ctx[5]}get flash(){return this.$$.ctx[6]}}class Tl extends Pi{constructor(e,t){super(e),this.inputString=t}}const Nl=/^[01]{0,8}\s?[01]{1,8}?$/,Ll=/^-?[0-9]+$/,Ol=new RegExp(`(${zi.map((e=>e.symbolic)).join("|")})`),Cl=new RegExp(`^${Ol.source}$`),Pl=/#-?[0-9]{1,3}/,Rl=new RegExp(`^${Pl.source}$`),Dl=/[0-9]{1,3}/,Ul=new RegExp(`^${Dl.source}$`),Bl=/[A-Z_]{1,10}/,Ml=new RegExp(`^${Bl.source}$`),Fl=/#[A-Z_]{1,10}/,Ql=new RegExp(`^${Fl.source}$`);new RegExp("^"+Ol.source+"( (("+Pl.source+")|("+Fl.source+")|("+Dl.source+")|("+Bl.source+")))?$");const jl=new cl;function Hl(e,t=jl){return Ll.test(e)?function(e){const t=parseInt(e);if(!Fi(t,16))throw new Tl(sl(Oi.get().errors.instruction_parsing.invalid_data,Ui(t.toString(),10)),e);const n=new qi(16,t),s=n.getByte(1),o=n.getByte(2),i=Gi(Vi(s)),r=Wi(s),l=!i||!i.takesOperand&&0!==o.signed()||!i.takesImmediate&&r||!i.takesOperand&&r;return new Xi(e,"",n,l)}(e):function(e,t){const[n,s]=e.split(" ");if(!Cl.test(n))throw new Tl(sl(Oi.get().errors.instruction_parsing.invalid_opcode,Ui(n,10)),e);const o=!!s,i=Gi(n);if(o){if(!i.takesOperand)throw new Tl(sl(Oi.get().errors.instruction_parsing.operand_not_allowed,Ui(i.symbolic,10)),e);if(Ql.test(s))return function(e,t,n){const[s,o]=e.split(" "),i=o.slice(1);if(!n.hasLabel(i))throw new Tl(sl(Oi.get().errors.instruction_parsing.unknown_label,Ui(o,il)),e);const r=Ki(new qi(8,t.numeric),!0).signed(),l=n.getAddress(i);if(!t.takesImmediate)throw new Tl(sl(Oi.get().errors.instruction_parsing.immediate_operand_not_allowed,Ui(t.symbolic,10)),e);if(!Fi(l,8))throw new Tl(sl(Oi.get().errors.instruction_parsing.invalid_immediate_operand,Ui(l.toString(),10)),e);return new Xi(s,o,qi.fromBytes([r,l]))}(e,i,t);if(Ml.test(s))return function(e,t,n){const[s,o]=e.split(" ");if(!n.hasLabel(o))throw new Tl(sl(Oi.get().errors.instruction_parsing.unknown_label,Ui(o,il)),e);const i=n.getAddress(o);return new Xi(s,o,qi.fromBytes([t.numeric,i]))}(e,i,t);if(Rl.test(s))return function(e,t){const[n,s]=e.split(" "),o=Ki(new qi(8,t.numeric),!0).signed(),i=parseInt(s.slice(1));if(!t.takesImmediate)throw new Tl(sl(Oi.get().errors.instruction_parsing.immediate_operand_not_allowed,Ui(t.symbolic,10)),e);if(!Fi(i,8))throw new Tl(sl(Oi.get().errors.instruction_parsing.invalid_immediate_operand,Ui(i.toString(),10)),e);return new Xi(n,s,qi.fromBytes([o,i]))}(e,i);if(Ul.test(s))return function(e,t){const[n,s]=e.split(" "),o=parseInt(s);if(!Zi(o))throw new Tl(sl(Oi.get().errors.instruction_parsing.invalid_direct_operand,Ui(o.toString(),10)),e);return new Xi(n,s,qi.fromBytes([t.numeric,o]))}(e,i);throw new Tl(sl(Oi.get().errors.instruction_parsing.invalid_operand,Ui(s,10)),e)}if(i.takesOperand)throw new Tl(sl(Oi.get().errors.instruction_parsing.operand_required,Ui(i.symbolic,10)),e);return new Xi(n,"",qi.fromBytes([i.numeric,0]))}(e,t)}function ql(e){if(Nl.test(e))return function(e){if(e.includes(" ")){const[t,n]=e.split(" ");e=t+Hi(n,8)}const t=new qi(16,e),n=t.getByte(1),s=t.getByte(2),o=Wi(n),i=Gi(Vi(n)),r=!i||!i.takesOperand&&0!==s.unsigned()||o&&!i.takesImmediate||!o&&!Zi(s.unsigned()),l=r?t.signed().toString():i.symbolic;let c=o?"#"+s.signed():s.unsigned().toString();!r&&i.takesOperand||(c="");return new Xi(l,c,t,r)}(e);throw new Tl(Oi.get().errors.instruction_parsing.invalid_binary_input,e)}function Wl(e){let t,n,s,o,i=e[3]&&Vl(e);return{c(){t=P("div"),n=D(e[4]),s=U(),i&&i.c(),o=B(),F(t,"class","h-[30px] w-[95px] leading-[30px] text-left pl-[10px]")},m(e,r){L(e,t,r),S(t,n),L(e,s,r),i&&i.m(e,r),L(e,o,r)},p(e,t){16&t&&H(n,e[4]),e[3]?i?i.p(e,t):(i=Vl(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},d(e){e&&O(t),e&&O(s),i&&i.d(e),e&&O(o)}}}function Kl(e){let t,n,s;return{c(){t=P("input"),F(t,"class","h-[30px] w-[190px] p-0 pl-[10px] border-0 col-span-1 outline-none bg-black text-gray-200 selection:bg-transparent  svelte-67wtpq")},m(o,i){L(o,t,i),q(t,e[2]),n||(s=[M(t,"input",e[15]),M(t,"focusout",e[5]),M(t,"input",e[7]),v(Gl.call(null,t)),v(Xl.call(null,t))],n=!0)},p(e,n){4&n&&t.value!==e[2]&&q(t,e[2])},d(e){e&&O(t),n=!1,r(s)}}}function Vl(e){let t,n;return{c(){t=P("div"),n=D(e[3]),F(t,"class","h-[30px] w-[95px] min-w-0 leading-[30px] text-left overflow-hidden text-ellipsis whitespace-nowrap")},m(e,s){L(e,t,s),S(t,n)},p(e,t){8&t&&H(n,e[3])},d(e){e&&O(t)}}}function zl(e){let n,s,o,i;function r(e,t){return e[0]?Kl:Wl}let l=r(e),c=l(e);return{c(){n=P("div"),c.c(),F(n,"class",s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 font-mono "+e[8].class+" svelte-67wtpq")},m(t,s){L(t,n,s),c.m(n,null),e[16](n),o||(i=M(n,"click",e[6]),o=!0)},p(e,[t]){l===(l=r(e))&&c?c.p(e,t):(c.d(1),c=l(e),c&&(c.c(),c.m(n,null))),256&t&&s!==(s="h-[30px] w-[190px] grid grid-cols-2 items-center bg-gray-200 cursor-text border border-black border-t-0 border-l-0 font-mono "+e[8].class+" svelte-67wtpq")&&F(n,"class",s)},i:t,o:t,d(t){t&&O(n),c.d(),e[16](null),o=!1,i()}}}function Gl(e){e.focus()}function Xl(e){setTimeout((()=>e.select()))}function Jl(e,t,n){let o,i;const r=["symbolTable","address","instruction","isSelected","flash","getAddress"];let l,c,a,u,f=b(t,r);d(e,mr,(e=>n(17,l=e))),d(e,ur,(e=>n(18,c=e))),d(e,xt,(e=>n(14,a=e))),d(e,It,(e=>n(19,u=e)));var p=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let h,m,{symbolTable:g}=t,{address:y}=t,{instruction:w}=t,{isSelected:v}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(8,f=b(t,r)),"symbolTable"in e&&n(9,g=e.symbolTable),"address"in e&&n(10,y=e.address),"instruction"in e&&n(11,w=e.instruction),"isSelected"in e&&n(0,v=e.isSelected)},e.$$.update=()=>{18432&e.$$.dirty&&n(4,o=a?w.binaryOpcode():w.symbolicOpcode),18432&e.$$.dirty&&n(3,i=a?w.binaryOperand():w.symbolicOperand),1&e.$$.dirty&&v&&n(2,m=o+(i?` ${i}`:"")),2048&e.$$.dirty&&n(2,m=o+(i?` ${i}`:"")),1024&e.$$.dirty&&n(2,m=o+(i?` ${i}`:""))},[v,h,m,i,o,function(){try{""!==m&&(yt.debug(`RamCell input: "${m}"`,$t.USER_INPUT),a?c.write(y,ql(m.trim())):c.write(y,Hl(m.trim(),g)))}catch(e){null==l||l.error(e.message),yt.handled_error(e.message,$t.USER_INPUT)}finally{$l.isSelected(y,"CELL")&&(yt.debug(`Cell deselected - Address: "${y}"`,$t.USER_INPUT),$l.deselect())}},function(){yt.debug(`Cell selected - Address: "${y}"`,$t.USER_INPUT),$l.select(y,"CELL")},function(){n(2,m=m.toUpperCase().replace(/[^A-Z0-9 _\-#\(\)]*/g,""))},f,g,y,w,function(){return p(this,void 0,void 0,(function*(){if(u)return In(h,"background-color",{r:211,g:211,b:211},{r:0,g:255,b:0})}))},function(){return y},a,function(){m=this.value,n(2,m)},function(e){pe[e?"unshift":"push"]((()=>{h=e,n(1,h)}))}]}class Zl extends ze{constructor(e){super(),Ve(this,e,Jl,zl,c,{symbolTable:9,address:10,instruction:11,isSelected:0,flash:12,getAddress:13})}get flash(){return this.$$.ctx[12]}get getAddress(){return this.$$.ctx[13]}}function Yl(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=P("button"),c&&c.c(),F(t,"class",n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){L(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black font-medium border border-black border-t-0 bg-neutral-400 px-2 pb-1 tracking-wider rounded-b-md shadow-md disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ce(c,e),s=!0)},o(e){Pe(c,e),s=!1},d(e){e&&O(t),c&&c.d(e),o=!1,r(i)}}}function ec(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class tc extends ze{constructor(e){super(),Ve(this,e,ec,Yl,c,{disabled:0})}}class nc extends Pi{constructor(e){super(e)}}const sc=/;.*$/g,oc=/^.*\s?:/;function ic(e){const t=new nl,n=new cl,s=e.toUpperCase().split(/\r\n|\r|\n/g),o=[];for(let e=0,t=1,i=0;e<s.length;e++,t++){const r=cc(lc(s[e]).trim());if(""!==r){if(ac(r)){const e=uc(r);try{if(ll(e),n.hasLabel(e))throw new nc(sl(Oi.get().errors.program_parsing.duplicated_label,t,e));n.setLabel(i,e)}catch(e){throw new nc(sl(Oi.get().errors.program_parsing.invalid_label,t,e.message))}}o.push({text:dc(r),lineNumber:t,address:i}),i+=2}}for(let e of o)try{t.write(e.address,Hl(e.text,n))}catch(t){throw new nc(sl(Oi.get().errors.program_parsing.invalid_instruction,e.lineNumber,t.message))}return{ram:t,symbolTable:n}}function rc(e,t){let n="",s="",o="";let i="";for(let r=0;r<=Ji;r+=2)s=e.read(r).symbolic(),o=t.addressIsLabeled(r)?`${t.getLabel(r)}:`:"",i=" ".repeat(15-o.length),n+=`${o}${i}${s}\n`;return n.replace(/\n(\s*NOP\n)*$/g,"\n").replace(/\n$/g,"")}function lc(e){return e.replace(sc,"")}function cc(e){return e.replace(/\s+/g," ")}function ac(e){return oc.test(e)}function uc(e){return e.split(":")[0].trim()}function dc(e){return ac(e)?e.split(":")[1].trim():e}function fc(e,t,n){const s=e.slice();return s[35]=t[n],s[36]=t,s[37]=n,s}function pc(e,t,n){const s=e.slice();return s[35]=t[n],s[38]=t,s[37]=n,s}function hc(e,t){let n,s,o,i=t[37];const r=()=>t[24](s,i),l=()=>t[24](null,i);let c={symbolTable:t[0],address:t[35],label:t[8][t[35]],isSelected:t[7].address===t[35]&&"LABEL"===t[7].column,isFirstLabel:t[35]===t[1],isLastLabel:t[35]===t[2]};return s=new El({props:c}),r(),{key:e,first:null,c(){n=B(),qe(s.$$.fragment),this.first=n},m(e,t){L(e,n,t),We(s,e,t),o=!0},p(e,n){i!==(t=e)[37]&&(l(),i=t[37],r());const o={};1&n[0]&&(o.symbolTable=t[0]),8&n[0]&&(o.address=t[35]),264&n[0]&&(o.label=t[8][t[35]]),136&n[0]&&(o.isSelected=t[7].address===t[35]&&"LABEL"===t[7].column),10&n[0]&&(o.isFirstLabel=t[35]===t[1]),12&n[0]&&(o.isLastLabel=t[35]===t[2]),s.$set(o)},i(e){o||(Ce(s.$$.fragment,e),o=!0)},o(e){Pe(s.$$.fragment,e),o=!1},d(e){e&&O(n),l(),Ke(s,e)}}}function mc(e,t){let n,s,o,i,r,l,c=t[37];const a=()=>t[25](s,c),u=()=>t[25](null,c);let d={address:t[35],class:"\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-address":"")+"\n\t\t\t\t\t\t"};s=new Sl({props:d}),a();const f=()=>t[26](i,c),p=()=>t[26](null,c);let h={symbolTable:t[0],address:t[35],instruction:t[9][t[35]],isSelected:t[7].address===t[35]&&"CELL"===t[7].column,class:"\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-cell":"")+"\n\t\t\t\t\t\t"};return i=new Zl({props:h}),f(),{key:e,first:null,c(){n=P("div"),qe(s.$$.fragment),o=U(),qe(i.$$.fragment),r=U(),F(n,"class","flex flex-nowrap"),this.first=n},m(e,t){L(e,n,t),We(s,n,null),S(n,o),We(i,n,null),S(n,r),l=!0},p(e,n){c!==(t=e)[37]&&(u(),c=t[37],a());const o={};8&n[0]&&(o.address=t[35]),14&n[0]&&(o.class="\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-address":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-address":"")+"\n\t\t\t\t\t\t"),s.$set(o),c!==t[37]&&(p(),c=t[37],f());const r={};1&n[0]&&(r.symbolTable=t[0]),8&n[0]&&(r.address=t[35]),520&n[0]&&(r.instruction=t[9][t[35]]),136&n[0]&&(r.isSelected=t[7].address===t[35]&&"CELL"===t[7].column),14&n[0]&&(r.class="\n\t\t\t\t\t\t\t"+(t[35]===t[1]?"first-cell":"")+"\n\t\t\t\t\t\t\t"+(t[35]===t[2]?"last-cell":"")+"\n\t\t\t\t\t\t"),i.$set(r)},i(e){l||(Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),l=!0)},o(e){Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),l=!1},d(e){e&&O(n),u(),Ke(s),p(),Ke(i)}}}function gc(e){let t,n=e[10].ram.buttons.clear.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){1024&s[0]&&n!==(n=e[10].ram.buttons.clear.text+"")&&H(t,n)},d(e){e&&O(t)}}}function $c(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m=[],g=new Map,$=[],b=new Map;n=new kn({props:{text:"RAM",fontSize:"LARGE",top:"-30px",right:"0"}});let y=e[3];const w=e=>e[35];for(let t=0;t<y.length;t+=1){let n=pc(e,y,t),s=w(n);g.set(s,m[t]=hc(s,n))}let x=e[3];const _=e=>e[35];for(let t=0;t<x.length;t+=1){let n=fc(e,x,t),s=_(n);b.set(s,$[t]=mc(s,n))}return d=new tc({props:{title:e[10].ram.buttons.clear.title,$$slots:{default:[gc]},$$scope:{ctx:e}}}),d.$on("click",e[15]),{c(){t=P("div"),qe(n.$$.fragment),s=U(),o=P("div"),i=P("div");for(let e=0;e<m.length;e+=1)m[e].c();l=U(),c=P("div");for(let e=0;e<$.length;e+=1)$[e].c();a=U(),u=P("div"),qe(d.$$.fragment),F(i,"class","flex flex-col items-end justify-center"),F(c,"class","h-fit flex flex-col rounded-2xl shadow-cpu"),F(o,"class","flex"),F(u,"class","flex"),F(t,"class","absolute top-[115px] right-[50px] z-[3] flex flex-col items-center justify-center")},m(r,g){L(r,t,g),We(n,t,null),S(t,s),S(t,o),S(o,i);for(let e=0;e<m.length;e+=1)m[e].m(i,null);S(o,l),S(o,c);for(let e=0;e<$.length;e+=1)$[e].m(c,null);S(t,a),S(t,u),We(d,u,null),f=!0,p||(h=[M(o,"wheel",e[13]),v(e[14].call(null,t))],p=!0)},p(e,t){415&t[0]&&(y=e[3],Le(),m=Fe(m,t,w,1,e,y,g,i,Me,hc,null,pc),Oe()),751&t[0]&&(x=e[3],Le(),$=Fe($,t,_,1,e,x,b,c,Me,mc,null,fc),Oe());const n={};1024&t[0]&&(n.title=e[10].ram.buttons.clear.title),1024&t[0]|256&t[1]&&(n.$$scope={dirty:t,ctx:e}),d.$set(n)},i(e){if(!f){Ce(n.$$.fragment,e);for(let e=0;e<y.length;e+=1)Ce(m[e]);for(let e=0;e<x.length;e+=1)Ce($[e]);Ce(d.$$.fragment,e),f=!0}},o(e){Pe(n.$$.fragment,e);for(let e=0;e<m.length;e+=1)Pe(m[e]);for(let e=0;e<$.length;e+=1)Pe($[e]);Pe(d.$$.fragment,e),f=!1},d(e){e&&O(t),Ke(n);for(let e=0;e<m.length;e+=1)m[e].d();for(let e=0;e<$.length;e+=1)$[e].d();Ke(d),p=!1,r(h)}}}function bc(e,t,n){let s,o,i,r;d(e,$l,(e=>n(7,s=e))),d(e,Oi,(e=>n(10,r=e)));var l=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let{ram:c}=t,{symbolTable:a}=t,{animationsEnabled:u}=t;const f=c.instructions;d(e,f,(e=>n(9,i=e)));const p=a.labels;d(e,p,(e=>n(8,o=e)));let h,m,g=[],$=[],b=0,y=[],w=[],v=[];var x;function _(e){if(!Zi(e))throw new Error("Invalid address");return e>=b&&e<=h}function k(e){return l(this,void 0,void 0,(function*(){if(!Zi(e))throw new Error("Invalid address");if(_(e))return;let t=e,s=t+34;return s>Ji&&(t-=s-Ji),n(1,b=t),A(),new Promise(((e,t)=>{$.push(e)}))}))}function E(e,t){t&&g.push($l.deselect);let s=b+(e>0?2:-2);s<0&&(s=0),s>220&&(s=220),n(1,b=s),A()}function A(){n(2,h=b+34),n(3,m=[]);for(let e=b,t=0;e<=h;e+=2,t++)n(3,m[t]=e,m)}return A(),x=()=>{g.forEach((e=>e())),g=[]},oe().$$.before_update.push(x),re((()=>{$.forEach((e=>e())),$=[]})),e.$$set=e=>{"ram"in e&&n(16,c=e.ram),"symbolTable"in e&&n(0,a=e.symbolTable),"animationsEnabled"in e&&n(17,u=e.animationsEnabled)},[a,b,h,m,y,w,v,s,o,i,r,f,p,function({deltaY:e}){E(e,!0)},function(e){const t=e=>{switch(e.key){case"ArrowUp":!function(e){if(!$l.noSelection()){if(e.ctrlKey)return c.moveSecondHalfUpFromAddress(s.address),void a.moveSecondHalfUpFromAddress(s.address);if(e.shiftKey)return c.moveFirstHalfUpFromAddress(s.address),void a.moveFirstHalfUpFromAddress(s.address);s.address===b&&E(-1,!1),$l.selectUp()}}(e);break;case"ArrowDown":!function(e){if(!$l.noSelection()){if(e.ctrlKey)return c.moveSecondHalfDownFromAddress(s.address),void a.moveSecondHalfDownFromAddress(s.address);if(e.shiftKey)return c.moveFirstHalfDownFromAddress(s.address),void a.moveFirstHalfDownFromAddress(s.address);s.address===h&&E(1,!1),$l.selectDown()}}(e);break;case"Enter":$l.noSelection()?$l.select(b):$l.deselect()}};return document.addEventListener("keydown",t),{destroy(){document.removeEventListener("keydown",t)}}},function(){c.clear(),a.clear()},c,u,function(){E(-1,!0)},function(){E(1,!0)},_,k,function(e){return l(this,void 0,void 0,(function*(){if(!Zi(e))throw new Error("Invalid address");if(u)return k(e).then((()=>l(this,void 0,void 0,(function*(){return yield ye()})))).then((()=>{var t;return null===(t=w.find((t=>{var n;return(null===(n=null==t?void 0:t.getAddress)||void 0===n?void 0:n.call(t))===e})))||void 0===t?void 0:t.flash()}))}))},function(e){return l(this,void 0,void 0,(function*(){if(!Zi(e))throw new Error("Invalid address");if(u)return k(e).then((()=>l(this,void 0,void 0,(function*(){return yield ye()})))).then((()=>{var t;return null===(t=v.find((t=>{var n;return(null===(n=null==t?void 0:t.getAddress)||void 0===n?void 0:n.call(t))===e})))||void 0===t?void 0:t.flash()}))}))},function(e,t){pe[e?"unshift":"push"]((()=>{y[t]=e,n(4,y)}))},function(e,t){pe[e?"unshift":"push"]((()=>{w[t]=e,n(5,w)}))},function(e,t){pe[e?"unshift":"push"]((()=>{v[t]=e,n(6,v)}))}]}class yc extends ze{constructor(e){super(),Ve(this,e,bc,$c,c,{ram:16,symbolTable:0,animationsEnabled:17,scrollUp:18,scrollDown:19,addressIsVisible:20,showAddress:21,flashAddress:22,flashContent:23},null,[-1,-1])}get scrollUp(){return this.$$.ctx[18]}get scrollDown(){return this.$$.ctx[19]}get addressIsVisible(){return this.$$.ctx[20]}get showAddress(){return this.$$.ctx[21]}get flashAddress(){return this.$$.ctx[22]}get flashContent(){return this.$$.ctx[23]}}function wc(e){let t,n,s,o,i,r,l,c={animationsEnabled:e[3]};n=new vn({props:c}),e[7](n);let a={animationsEnabled:e[3],cpu:e[0]};o=new tl({props:a}),e[8](o);let u={animationsEnabled:e[3],ram:e[1],symbolTable:e[2]};return r=new yc({props:u}),e[9](r),{c(){t=P("div"),qe(n.$$.fragment),s=U(),qe(o.$$.fragment),i=U(),qe(r.$$.fragment),F(t,"class","absolute top-0 left-0 w-app h-app")},m(e,c){L(e,t,c),We(n,t,null),S(t,s),We(o,t,null),S(t,i),We(r,t,null),l=!0},p(e,[t]){const s={};8&t&&(s.animationsEnabled=e[3]),n.$set(s);const i={};8&t&&(i.animationsEnabled=e[3]),1&t&&(i.cpu=e[0]),o.$set(i);const l={};8&t&&(l.animationsEnabled=e[3]),2&t&&(l.ram=e[1]),4&t&&(l.symbolTable=e[2]),r.$set(l)},i(e){l||(Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),l=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),Pe(r.$$.fragment,e),l=!1},d(s){s&&O(t),e[7](null),Ke(n),e[8](null),Ke(o),e[9](null),Ke(r)}}}function vc(e,t,n){let s,o,i;d(e,nt,(e=>n(4,s=e))),d(e,tt,(e=>n(5,o=e))),d(e,et,(e=>n(6,i=e)));let{cpu:r}=t,{ram:l}=t,{symbolTable:c}=t,{animationsEnabled:a}=t;return e.$$set=e=>{"cpu"in e&&n(0,r=e.cpu),"ram"in e&&n(1,l=e.ram),"symbolTable"in e&&n(2,c=e.symbolTable),"animationsEnabled"in e&&n(3,a=e.animationsEnabled)},[r,l,c,a,s,o,i,function(e){pe[e?"unshift":"push"]((()=>{s=e,nt.set(s)}))},function(e){pe[e?"unshift":"push"]((()=>{o=e,tt.set(o)}))},function(e){pe[e?"unshift":"push"]((()=>{i=e,et.set(i)}))}]}class xc extends ze{constructor(e){super(),Ve(this,e,vc,wc,c,{cpu:0,ram:1,symbolTable:2,animationsEnabled:3})}}function _c(e,t){const n=document.createElement("a"),s=new Blob([e],{type:"text/plain"});n.href=URL.createObjectURL(s),n.download=t,n.click()}function kc(t){return e(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{const s=document.createElement("input");s.type="file",s.accept=t,s.click(),s.oninput=()=>e(s.files)}))}))}function Ec(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=P("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-white px-2 rounded-md hover:text-black focus:text-black hover:bg-white focus:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){L(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-white px-2 rounded-md hover:text-black focus:text-black hover:bg-white focus:bg-white transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ce(c,e),s=!0)},o(e){Pe(c,e),s=!1},d(e){e&&O(t),c&&c.d(e),o=!1,r(i)}}}function Ac(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class Ic extends ze{constructor(e){super(),Ve(this,e,Ac,Ec,c,{disabled:0})}}function Sc(e){let n,s,o;return{c(){n=P("div"),s=P("div"),F(s,"class","h-full bg-white/60 rounded-r-sm"),W(s,"width",e[0]+"%"),F(n,"class",o="w-full h-1 bg-transparent "+e[1].class)},m(e,t){L(e,n,t),S(n,s)},p(e,[t]){1&t&&W(s,"width",e[0]+"%"),2&t&&o!==(o="w-full h-1 bg-transparent "+e[1].class)&&F(n,"class",o)},i:t,o:t,d(e){e&&O(n)}}}function Tc(e,t,n){let o;const i=["value","max"];let r=b(t,i),{value:l}=t,{max:c}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,r=b(t,i)),"value"in e&&n(2,l=e.value),"max"in e&&n(3,c=e.max)},e.$$.update=()=>{12&e.$$.dirty&&n(0,o=100/c*l)},[o,r,l,c]}class Nc extends ze{constructor(e){super(),Ve(this,e,Tc,Sc,c,{value:2,max:3})}}var Lc;!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.SUCCESS="SUCCESS",e.INFO="INFO",e.BUG="BUG"}(Lc||(Lc={}));class Oc{constructor(){this._messages=Ze([]),this.messages=Ye(this._messages,(e=>e))}error(e,t=5){return this.addMessage({type:Lc.ERROR,message:e,expiresInSec:t})}warning(e,t=5){return this.addMessage({type:Lc.WARNING,message:e,expiresInSec:t})}success(e,t=5){return this.addMessage({type:Lc.SUCCESS,message:e,expiresInSec:t})}info(e,t=5){return this.addMessage({type:Lc.INFO,message:e,expiresInSec:t})}bug(e,t=Oc.NO_EXPIRE){return this.addMessage({type:Lc.BUG,message:e,expiresInSec:t})}addMessage(e){const t=Math.random();return this._messages.set([...this._messages.get(),Object.assign({id:t},e)]),t}deleteMessage(e){this._messages.update((t=>t.filter((t=>t.id!==e))))}fetchMessages(t){return e(this,void 0,void 0,(function*(){yt.debug("Fetching messages",$t.INIT),yield fetch(t).then((e=>e.text())).then((e=>Li(e))).then((e=>{yt.debug(`Messages fetched - ${e.messages.length} messages found`,$t.INIT),e.messages.forEach((e=>{this.addMessage({message:e.message[Tt.get()],type:e.type,expiresInSec:e.expiresInSec})}))})).catch((e=>{yt.unexpected_error(e.message,$t.INIT),this.error(sl(Oi.get().errors.generic.fetch_error,t))}))}))}}function Cc(e){let t,n;return t=new Ic({props:{$$slots:{default:[Pc]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};516&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Pc(e){let t,n=e[2].message_feed.buttons.export_logs.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){4&s&&n!==(n=e[2].message_feed.buttons.export_logs.text+"")&&H(t,n)},d(e){e&&O(t)}}}function Rc(e){let t,n;return t=new Nc({props:{class:"absolute left-0 bottom-0",value:e[1],max:e[0].expiresInSec}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.value=e[1]),1&n&&(s.max=e[0].expiresInSec),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Dc(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b=e[0].message+"",y=e[0].type===Lc.BUG&&Cc(e),w=-1!==e[0].expiresInSec&&Rc(e);return{c(){t=P("div"),n=P("button"),s=R("svg"),o=R("path"),i=R("path"),c=U(),a=P("p"),u=D(b),d=U(),y&&y.c(),f=U(),w&&w.c(),F(o,"d","M0 0h24v24H0V0z"),F(o,"fill","none"),F(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 24 24"),F(s,"fill","#FFFFFF"),F(s,"class","h-6 w-6 hover:scale-105"),F(n,"class","absolute bg-transparent text-white cursor-pointer font-bold right-8"),F(n,"title",l=e[2].message_feed.buttons.close_message.title),F(a,"class","w-3/4 text-center text-xl"),F(t,"class",p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+e[0].type+" svelte-1j9b8ca")},m(r,l){L(r,t,l),S(t,n),S(n,s),S(s,o),S(s,i),S(t,c),S(t,a),S(a,u),S(t,d),y&&y.m(t,null),S(t,f),w&&w.m(t,null),m=!0,g||($=[M(n,"click",e[3]),M(t,"mouseenter",e[4]),M(t,"mouseleave",e[5])],g=!0)},p(e,[s]){(!m||4&s&&l!==(l=e[2].message_feed.buttons.close_message.title))&&F(n,"title",l),(!m||1&s)&&b!==(b=e[0].message+"")&&H(u,b),e[0].type===Lc.BUG?y?(y.p(e,s),1&s&&Ce(y,1)):(y=Cc(e),y.c(),Ce(y,1),y.m(t,f)):y&&(Le(),Pe(y,1,1,(()=>{y=null})),Oe()),-1!==e[0].expiresInSec?w?(w.p(e,s),1&s&&Ce(w,1)):(w=Rc(e),w.c(),Ce(w,1),w.m(t,null)):w&&(Le(),Pe(w,1,1,(()=>{w=null})),Oe()),(!m||1&s&&p!==(p="relative w-full h-fit flex justify-center items-center p-5 origin-left text-white "+e[0].type+" svelte-1j9b8ca"))&&F(t,"class",p)},i(e){m||(Ce(y),Ce(w),we((()=>{h||(h=Ue(t,dl,{},!0)),h.run(1)})),m=!0)},o(e){Pe(y),Pe(w),h||(h=Ue(t,dl,{},!1)),h.run(0),m=!1},d(e){e&&O(t),y&&y.d(),w&&w.d(),e&&h&&h.end(),g=!1,r($)}}}function Uc(e,t,n){let s;d(e,Oi,(e=>n(2,s=e)));const o=ce();let i,{message:r}=t,l=!1;function c(){o("closemessage",{messageId:r.id})}return ie((()=>{if(-1===r.expiresInSec)return;n(1,i=r.expiresInSec);const e=setInterval((()=>{l||n(1,i--,i),0===i&&(clearInterval(e),c())}),1e3)})),e.$$set=e=>{"message"in e&&n(0,r=e.message)},[r,i,s,c,function(){n(1,i=r.expiresInSec),l=!0},function(){l=!1},function(){_c(JSON.stringify(yt.logs.get()),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)}]}Oc.NO_EXPIRE=-1;class Bc extends ze{constructor(e){super(),Ve(this,e,Uc,Dc,c,{message:0})}}function Mc(e,t,n){const s=e.slice();return s[4]=t[n],s}function Fc(e,t){let n,s,o;return s=new Bc({props:{message:t[4]}}),s.$on("closemessage",(function(){return t[3](t[4])})),{key:e,first:null,c(){n=B(),qe(s.$$.fragment),this.first=n},m(e,t){L(e,n,t),We(s,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.message=t[4]),s.$set(o)},i(e){o||(Ce(s.$$.fragment,e),o=!0)},o(e){Pe(s.$$.fragment,e),o=!1},d(e){e&&O(n),Ke(s,e)}}}function Qc(e){let t,n,s=[],o=new Map,i=e[2];const r=e=>e[4].id;for(let t=0;t<i.length;t+=1){let n=Mc(e,i,t),l=r(n);o.set(l,s[t]=Fc(l,n))}return{c(){t=P("div");for(let e=0;e<s.length;e+=1)s[e].c();F(t,"class","fixed top-0 left-0 w-screen h-fit flex flex-col")},m(e,o){L(e,t,o);for(let e=0;e<s.length;e+=1)s[e].m(t,null);n=!0},p(e,[n]){5&n&&(i=e[2],Le(),s=Fe(s,n,r,1,e,i,o,t,Me,Fc,null,Mc),Oe())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Ce(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)Pe(s[e]);n=!1},d(e){e&&O(t);for(let e=0;e<s.length;e+=1)s[e].d()}}}function jc(e,n,s){let o,i,r,l=t;d(e,mr,(e=>s(0,i=e))),e.$$.on_destroy.push((()=>l()));return e.$$.update=()=>{1&e.$$.dirty&&(s(1,o=i.messages),l(),l=a(o,(e=>s(2,r=e))))},[i,o,r,e=>i.deleteMessage(e.id)]}class Hc extends ze{constructor(e){super(),Ve(this,e,jc,Qc,c,{})}}function qc(e,t,n){const s=e.slice();return s[22]=t[n],s}function Wc(e,t,n){const s=e.slice();return s[25]=t[n],s}function Kc(e,t,n){const s=e.slice();return s[28]=t[n],s}function Vc(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,k,E,A,I,T,N,R,B,Q,j,H,W,K,z,G,X,J,Z,Y,ee,te=Object.keys(gt),ne=[];for(let t=0;t<te.length;t+=1)ne[t]=zc(Kc(e,te,t));let se=Object.keys($t),oe=[];for(let t=0;t<se.length;t+=1)oe[t]=Gc(Wc(e,se,t));let ie=e[5],re=[];for(let t=0;t<ie.length;t+=1)re[t]=Jc(qc(e,ie,t));return{c(){t=P("div"),n=P("div"),s=P("h2"),s.textContent="Logs",o=U(),i=P("div"),l=P("label"),c=D("Keyword:\n\t\t\t\t\t"),a=P("input"),u=U(),d=P("label"),f=D("Level:\n\t\t\t\t\t"),p=P("select");for(let e=0;e<ne.length;e+=1)ne[e].c();h=U(),m=P("label"),g=D("Categories:\n\t\t\t\t\t"),$=P("select");for(let e=0;e<oe.length;e+=1)oe[e].c();b=U(),y=P("div"),w=P("label"),v=D("Lock scroll to bottom\n\t\t\t\t\t"),x=P("input"),_=U(),k=P("label"),E=D("Show timestamp\n\t\t\t\t\t"),A=P("input"),I=U(),T=P("label"),N=D("Show log level\n\t\t\t\t\t"),R=P("input"),B=U(),Q=P("label"),j=D("Show log categories\n\t\t\t\t\t"),H=P("input"),W=U(),K=P("div"),z=P("button"),z.textContent="Export",G=U(),X=P("button"),X.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="h-7 w-7 fill-white"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',J=U(),Z=P("div");for(let e=0;e<re.length;e+=1)re[e].c();F(s,"class","text-2xl"),F(a,"type","text"),F(a,"class","text-black px-1 py-0.5"),F(l,"for","keyword"),F(p,"id","level"),F(p,"class","text-black px-1 py-0.5"),p.multiple=!0,void 0===e[1]&&we((()=>e[15].call(p))),F(d,"for","level"),F($,"id","categories"),F($,"class","text-black px-1 py-0.5"),$.multiple=!0,void 0===e[2]&&we((()=>e[16].call($))),F(m,"for","categories"),F(i,"class","flex items-center flex-wrap gap-4 p-2"),F(x,"type","checkbox"),F(x,"id","lock-scroll-to-bottom"),F(w,"for","lock-scroll-to-bottom"),F(A,"type","checkbox"),F(A,"id","show-timestamp"),F(k,"for","show-timestamp"),F(R,"type","checkbox"),F(R,"id","show-level"),F(T,"for","show-level"),F(H,"type","checkbox"),F(H,"id","show-categories"),F(Q,"for","show-categories"),F(y,"class","flex items-center flex-wrap gap-4 p-2"),F(z,"class","border px-1"),F(K,"class","flex items-center flex-wrap gap-4 p-2"),F(X,"title","Close logs"),F(n,"class","flex flex-wrap items-center justify-around gap-4 p-4"),F(Z,"class","w-full h-[90%] overflow-y-auto"),F(t,"class","fixed top-0 left-0 w-screen h-screen z-[1000] bg-black/70 text-white")},m(r,O){L(r,t,O),S(t,n),S(n,s),S(n,o),S(n,i),S(i,l),S(l,c),S(l,a),q(a,e[3]),S(i,u),S(i,d),S(d,f),S(d,p);for(let e=0;e<ne.length;e+=1)ne[e].m(p,null);V(p,e[1]),S(i,h),S(i,m),S(m,g),S(m,$);for(let e=0;e<oe.length;e+=1)oe[e].m($,null);V($,e[2]),S(n,b),S(n,y),S(y,w),S(w,v),S(w,x),x.checked=e[4],S(y,_),S(y,k),S(k,E),S(k,A),A.checked=e[8],S(y,I),S(y,T),S(T,N),S(T,R),R.checked=e[6],S(y,B),S(y,Q),S(Q,j),S(Q,H),H.checked=e[7],S(n,W),S(n,K),S(K,z),S(n,G),S(n,X),S(t,J),S(t,Z);for(let e=0;e<re.length;e+=1)re[e].m(Z,null);e[21](Z),Y||(ee=[M(a,"input",e[14]),M(p,"change",e[15]),M($,"change",e[16]),M(x,"change",e[17]),M(A,"change",e[18]),M(R,"change",e[19]),M(H,"change",e[20]),M(z,"click",e[12]),M(X,"click",e[11])],Y=!0)},p(e,t){if(8&t&&a.value!==e[3]&&q(a,e[3]),0&t){let n;for(te=Object.keys(gt),n=0;n<te.length;n+=1){const s=Kc(e,te,n);ne[n]?ne[n].p(s,t):(ne[n]=zc(s),ne[n].c(),ne[n].m(p,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}if(2&t&&V(p,e[1]),0&t){let n;for(se=Object.keys($t),n=0;n<se.length;n+=1){const s=Wc(e,se,n);oe[n]?oe[n].p(s,t):(oe[n]=Gc(s),oe[n].c(),oe[n].m($,null))}for(;n<oe.length;n+=1)oe[n].d(1);oe.length=se.length}if(4&t&&V($,e[2]),16&t&&(x.checked=e[4]),256&t&&(A.checked=e[8]),64&t&&(R.checked=e[6]),128&t&&(H.checked=e[7]),288&t){let n;for(ie=e[5],n=0;n<ie.length;n+=1){const s=qc(e,ie,n);re[n]?re[n].p(s,t):(re[n]=Jc(s),re[n].c(),re[n].m(Z,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ie.length}},d(n){n&&O(t),C(ne,n),C(oe,n),C(re,n),e[21](null),Y=!1,r(ee)}}}function zc(e){let n,s,o=e[28]+"";return{c(){n=P("option"),s=D(o),n.__value=e[28],n.value=n.__value},m(e,t){L(e,n,t),S(n,s)},p:t,d(e){e&&O(n)}}}function Gc(e){let n,s,o=e[25]+"";return{c(){n=P("option"),s=D(o),n.__value=e[25],n.value=n.__value},m(e,t){L(e,n,t),S(n,s)},p:t,d(e){e&&O(n)}}}function Xc(e){let t,n,s=e[22].timestamp+"";return{c(){t=D(s),n=D(" -")},m(e,s){L(e,t,s),L(e,n,s)},p(e,n){32&n&&s!==(s=e[22].timestamp+"")&&H(t,s)},d(e){e&&O(t),e&&O(n)}}}function Jc(e){let t,n,s,o,i,r=e[22].message+"",l=e[8]&&Xc(e);return{c(){t=P("p"),l&&l.c(),n=U(),s=D(r),o=U(),F(t,"class",i="m-2 whitespace-pre-line "+e[22].level+" svelte-eh3u4z")},m(e,i){L(e,t,i),l&&l.m(t,null),S(t,n),S(t,s),S(t,o)},p(e,o){e[8]?l?l.p(e,o):(l=Xc(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null),32&o&&r!==(r=e[22].message+"")&&H(s,r),32&o&&i!==(i="m-2 whitespace-pre-line "+e[22].level+" svelte-eh3u4z")&&F(t,"class",i)},d(e){e&&O(t),l&&l.d()}}}function Zc(e){let n,s=e[9]&&Vc(e);return{c(){s&&s.c(),n=B()},m(e,t){s&&s.m(e,t),L(e,n,t)},p(e,[t]){e[9]?s?s.p(e,t):(s=Vc(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(e){s&&s.d(e),e&&O(n)}}}function Yc(e,t,n){let s,o;d(e,vt,(e=>n(9,o=e)));const i=yt.logs;let r;d(e,i,(e=>n(13,s=e)));let l=[],c=[...Object.keys(gt)],a=[...Object.keys($t)],u="",f=!1,p=!1,h=!1,m=!0;function g(){vt.update((e=>!e))}return ie((()=>{const e=e=>{e.altKey&&e.shiftKey&&"l"===e.key.toLowerCase()&&g()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)})),e.$$.update=()=>{8223&e.$$.dirty&&r&&(n(5,l=s.filter((e=>c.includes(e.level)&&e.categories.every((e=>a.includes(e)))&&e.message.toLowerCase().includes(u)))),m&&n(0,r.scrollTop=r.scrollHeight,r))},[r,c,a,u,m,l,f,p,h,o,i,g,function(){_c(JSON.stringify(s),`cpu-visual-simultor-logs-${(new Date).toDateString()}.json`)},s,function(){u=this.value,n(3,u)},function(){c=z(this),n(1,c)},function(){a=z(this),n(2,a)},function(){m=this.checked,n(4,m)},function(){h=this.checked,n(8,h)},function(){f=this.checked,n(6,f)},function(){p=this.checked,n(7,p)},function(e){pe[e?"unshift":"push"]((()=>{r=e,n(0,r),n(13,s),n(1,c),n(2,a),n(3,u),n(4,m)}))}]}class ea extends ze{constructor(e){super(),Ve(this,e,Yc,Zc,c,{})}}function ta(e){let t,n,s;const o=e[2].default,i=f(o,e,e[1],null);return{c(){t=P("div"),i&&i.c(),F(t,"class",n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+e[0].class)},m(e,n){L(e,t,n),i&&i.m(t,null),s=!0},p(e,[r]){i&&i.p&&(!s||2&r)&&m(i,o,e,e[1],s?h(o,e[1],r,null):g(e[1]),null),(!s||1&r&&n!==(n="w-fit h-full bg-neutral-500 shadow-component px-5 rounded-[20px] border-2 border-neutral-800 flex items-center "+e[0].class))&&F(t,"class",n)},i(e){s||(Ce(i,e),s=!0)},o(e){Pe(i,e),s=!1},d(e){e&&O(t),i&&i.d(e)}}}function na(e,t,n){const o=[];let i=b(t,o),{$$slots:r={},$$scope:l}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(0,i=b(t,o)),"$$scope"in e&&n(1,l=e.$$scope)},[i,l,r]}class sa extends ze{constructor(e){super(),Ve(this,e,na,ta,c,{})}}function oa(e){let n,s,o,i,l,c,a;return{c(){n=P("button"),s=R("svg"),o=R("path"),F(o,"d",i=e[3][e[2]]),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 24 24"),F(s,"class","fill-black w-6 h-6 scale-[1.4]"),F(n,"class",l="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class),n.disabled=e[0],F(n,"title",e[1])},m(t,i){L(t,n,i),S(n,s),S(s,o),c||(a=[M(n,"click",e[5]),M(n,"focus",e[6]),M(n,"focusout",e[7]),M(n,"mouseenter",e[8]),M(n,"mouseleave",e[9]),M(n,"mouseover",e[10])],c=!0)},p(e,[t]){4&t&&i!==(i=e[3][e[2]])&&F(o,"d",i),16&t&&l!==(l="flex items-center justify-center w-9 h-9 border border-black rounded-md bg-white disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[4].class)&&F(n,"class",l),1&t&&(n.disabled=e[0]),2&t&&F(n,"title",e[1])},i:t,o:t,d(e){e&&O(n),c=!1,r(a)}}}function ia(e,t,n){const o=["disabled","title","icon"];let i=b(t,o),{disabled:r=!1}=t,{title:l=""}=t,{icon:c=""}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,i=b(t,o)),"disabled"in e&&n(0,r=e.disabled),"title"in e&&n(1,l=e.title),"icon"in e&&n(2,c=e.icon)},[r,l,c,{"":"",reset:"M9.825 20.7q-2.575-.725-4.2-2.837Q4 15.75 4 13q0-1.425.475-2.713Q4.95 9 5.825 7.925q.275-.3.675-.313.4-.012.725.313.275.275.288.675.012.4-.263.75-.6.775-.925 1.7Q6 11.975 6 13q0 2.025 1.188 3.613 1.187 1.587 3.062 2.162.325.1.538.375.212.275.212.6 0 .5-.35.788-.35.287-.825.162Zm4.35 0q-.475.125-.825-.175t-.35-.8q0-.3.213-.575.212-.275.537-.375 1.875-.6 3.062-2.175Q18 15.025 18 13q0-2.5-1.75-4.25T12 7h-.075l.4.4q.275.275.275.7 0 .425-.275.7-.275.275-.7.275-.425 0-.7-.275l-2.1-2.1q-.15-.15-.212-.325Q8.55 6.2 8.55 6t.063-.375q.062-.175.212-.325l2.1-2.1q.275-.275.7-.275.425 0 .7.275.275.275.275.7 0 .425-.275.7l-.4.4H12q3.35 0 5.675 2.325Q20 9.65 20 13q0 2.725-1.625 4.85-1.625 2.125-4.2 2.85Z",play:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z",pause:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z",fast:"M7.58 16.89l5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"},i,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class ra extends ze{constructor(e){super(),Ve(this,e,ia,oa,c,{disabled:0,title:1,icon:2})}}function la(e){let t,n,s,o,i,l,c,a,u;const d=e[5].default,p=f(d,e,e[4],null);return{c(){t=P("div"),n=P("div"),o=U(),i=P("div"),p&&p.c(),F(n,"class",s="w-4 h-4 border border-black rounded-md transition-colors "+(e[0]?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")),F(i,"class","font-medium pb-[3px]"),F(t,"class",l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class),F(t,"disabled",e[1])},m(s,r){L(s,t,r),S(t,n),S(t,o),S(t,i),p&&p.m(i,null),c=!0,a||(u=[M(t,"click",e[2]),M(t,"focus",e[6]),M(t,"focusout",e[7]),M(t,"mouseenter",e[8]),M(t,"mouseleave",e[9]),M(t,"mouseover",e[10])],a=!0)},p(e,[o]){(!c||3&o&&s!==(s="w-4 h-4 border border-black rounded-md transition-colors "+(e[0]?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")))&&F(n,"class",s),p&&p.p&&(!c||16&o)&&m(p,d,e,e[4],c?h(d,e[4],o,null):g(e[4]),null),(!c||10&o&&l!==(l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class))&&F(t,"class",l),(!c||2&o)&&F(t,"disabled",e[1])},i(e){c||(Ce(p,e),c=!0)},o(e){Pe(p,e),c=!1},d(e){e&&O(t),p&&p.d(e),a=!1,r(u)}}}function ca(e,t,n){const o=["disabled","checked"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t,{checked:a=!1}=t;const u=ce();return e.$$set=e=>{t=s(s({},t),$(e)),n(3,i=b(t,o)),"disabled"in e&&n(1,c=e.disabled),"checked"in e&&n(0,a=e.checked),"$$scope"in e&&n(4,l=e.$$scope)},[a,c,function(e){n(0,a=!a),u("click",e)},i,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class aa extends ze{constructor(e){super(),Ve(this,e,ca,la,c,{disabled:1,checked:0})}}function ua(e){let n,s,o,i;return{c(){n=P("input"),F(n,"type","range"),F(n,"class",s=y(e[6].class)+" svelte-dtr8pe"),F(n,"min",e[1]),F(n,"max",e[2]),F(n,"step",e[3]),n.disabled=e[4],F(n,"title",e[5])},m(t,s){L(t,n,s),q(n,e[0]),o||(i=[M(n,"change",e[14]),M(n,"input",e[14]),M(n,"input",e[7]),M(n,"change",e[8]),M(n,"focus",e[9]),M(n,"focusout",e[10]),M(n,"mouseenter",e[11]),M(n,"mouseleave",e[12]),M(n,"mouseover",e[13])],o=!0)},p(e,[t]){64&t&&s!==(s=y(e[6].class)+" svelte-dtr8pe")&&F(n,"class",s),2&t&&F(n,"min",e[1]),4&t&&F(n,"max",e[2]),8&t&&F(n,"step",e[3]),16&t&&(n.disabled=e[4]),32&t&&F(n,"title",e[5]),1&t&&q(n,e[0])},i:t,o:t,d(e){e&&O(n),o=!1,r(i)}}}function da(e,t,n){const o=["min","max","value","step","disabled","title"];let i=b(t,o),{min:r=0}=t,{max:l=1}=t,{value:c=l/2+r}=t,{step:a=.1}=t,{disabled:u=!1}=t,{title:d=""}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(6,i=b(t,o)),"min"in e&&n(1,r=e.min),"max"in e&&n(2,l=e.max),"value"in e&&n(0,c=e.value),"step"in e&&n(3,a=e.step),"disabled"in e&&n(4,u=e.disabled),"title"in e&&n(5,d=e.title)},[c,r,l,a,u,d,i,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(){c=j(this.value),n(0,c)}]}class fa extends ze{constructor(e){super(),Ve(this,e,da,ua,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function pa(e){let t,n,s,o,i;const r=e[2].default,l=f(r,e,e[1],null);return{c(){t=P("div"),n=P("span"),s=D(e[0]),o=U(),l&&l.c(),F(n,"class","text-gray-200"),F(t,"class","h-full py-2 flex flex-col items-center justify-between")},m(e,r){L(e,t,r),S(t,n),S(n,s),S(t,o),l&&l.m(t,null),i=!0},p(e,[t]){(!i||1&t)&&H(s,e[0]),l&&l.p&&(!i||2&t)&&m(l,r,e,e[1],i?h(r,e[1],t,null):g(e[1]),null)},i(e){i||(Ce(l,e),i=!0)},o(e){Pe(l,e),i=!1},d(e){e&&O(t),l&&l.d(e)}}}function ha(e,t,n){let{$$slots:s={},$$scope:o}=t,{label:i=""}=t;return e.$$set=e=>{"label"in e&&n(0,i=e.label),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,s]}class ma extends ze{constructor(e){super(),Ve(this,e,ha,pa,c,{label:0})}}function ga(e){let t,n;return t=new sa({props:{class:"justify-center",$$slots:{default:[$a]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function $a(e){let t,n;return{c(){t=P("p"),n=D(e[0]),F(t,"class","w-[450px] text-gray-200 overflow-hidden text-center")},m(e,s){L(e,t,s),S(t,n)},p(e,t){1&t&&H(n,e[0])},d(e){e&&O(t)}}}function ba(e){let t,n,s=e[1]&&ga(e);return{c(){s&&s.c(),t=B()},m(e,o){s&&s.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[1]?s?(s.p(e,n),2&n&&Ce(s,1)):(s=ga(e),s.c(),Ce(s,1),s.m(t.parentNode,t)):s&&(Le(),Pe(s,1,1,(()=>{s=null})),Oe())},i(e){n||(Ce(s),n=!0)},o(e){Pe(s),n=!1},d(e){s&&s.d(e),e&&O(t)}}}function ya(e,t,n){let s;d(e,Et,(e=>n(1,s=e)));let o="";function i(e){n(0,o=e)}return Tt.subscribe((()=>i(""))),[o,s,i]}class wa extends ze{constructor(e){super(),Ve(this,e,ya,ba,c,{setText:2})}get setText(){return this.$$.ctx[2]}}class va extends Hr{constructor(e){super(),this._name="ReadStep",this.step=e,this.condition(zr)}action(t){return e(this,void 0,void 0,(function*(){let e;va.utteranceEndedPromise=new Promise((t=>e=t)),ht.read(Oi.get().steps[this.step].tts,Lt.get(),ht.getAvailableVoices(Tt.get()).find((e=>e.name===Ot.get())),(()=>e()))}))}toString(){return`${super.toString()}, step: ${this.step}`}}function xa(t){return e(this,void 0,void 0,(function*(){return va.utteranceEndedPromise}))}class _a extends Hr{constructor(...e){super(),this._name="Macro",this.subactions=[...e]}toString(){return`${super.toString()} [${this.subactions.length}]`}}class ka extends _a{constructor(...e){super(...e),this._name="Parallel"}action(t){return e(this,void 0,void 0,(function*(){return Promise.all(this.subactions.map((e=>e.execute(t))))}))}}class Ea extends Hr{constructor(){super(),this._name="CpuAction"}}class Aa extends Ea{constructor(){super(),this._name="SetPC"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.isJumping.set(!0),t.cpu.model.programCounter.set(t.wires.model.addr_main.get()),yield t.cpu.component.flash("PC")}))}}class Ia extends Ea{constructor(){super(),this._name="SetALU2"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.alu2.set(new qi(16,t.wires.model.data_mux_alu.get().signed())),yield t.cpu.component.flash("ALU:2")}))}}class Sa extends Jr{constructor(e){super(),this._name="FlashRam",this.component=e}action(t){return e(this,void 0,void 0,(function*(){switch(this.component){case"ADDRESS":return t.ram.component.flashAddress(t.wires.model.addr_main.get().unsigned());case"DATA":return t.ram.component.flashContent(t.wires.model.addr_main.get().unsigned())}}))}toString(){return`${super.toString()}, component: ${this.component}`}}class Ta extends Jr{constructor(e,t){super(),this._name="FlashWire",this.from=e,this.to=t}action(t){return e(this,void 0,void 0,(function*(){return t.wires.component.flashWire(this.from,this.to)}))}toString(){return`${super.toString()}, from: ${this.from}, to: ${this.to}`}}class Na extends Hr{constructor(e){super(),this._name="StepText",this.step=e,this.condition(Gr)}action(t){return e(this,void 0,void 0,(function*(){t.stepTextComponent.setText(Oi.get().steps[this.step].text)}))}toString(){return`${super.toString()}, step: ${this.step}`}}class La extends Hr{constructor(){super(),this._name="BusAction"}}const Oa={RAM:"data_main","IR:OPC":"data_ir_cu","IR:OPR":"addr_main","ALU:RES":"data_alu_acc",ACC:"data_main",PC:"addr_main",INC:"addr_inc_pc"};class Ca extends La{constructor(e,t="default"){super(),this._name="LoadValueOnBus",this.valueSource=e,this.bus="default"===t?Oa[e]:t}action(t){return e(this,void 0,void 0,(function*(){t.wires.model[this.bus].set(this.getValueFromSource(t))}))}getValueFromSource(e){switch(this.valueSource){case"RAM":return e.ram.model.read(e.wires.model.addr_main.get().unsigned());case"IR:OPC":return e.cpu.model.instructionRegister.get().opcodeValue();case"IR:OPR":return e.cpu.model.instructionRegister.get().operandValue();case"ALU:RES":return e.cpu.model.aluResult.get();case"ACC":return e.cpu.model.accumulator.get();case"CU":throw new Error("CU value not implemented");case"PC":return e.cpu.model.programCounter.get();case"INC":return e.cpu.model.increment.get();default:throw new Error(this.valueSource+" value not implemented")}}toString(){return`${super.toString()} valueSource: ${this.valueSource} bus: ${this.bus}`}}const Pa=[new ka(new Ca("PC"),new Ta("PC:1","INC:2"),new va("pc_increment"),new Na("pc_increment")),new Ca("INC"),new Ta("INC:1","PC:2"),(new class extends Ea{constructor(){super(),this._name="IncrementPC"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.programCounter.get().unsigned()+t.wires.model.addr_inc_pc.get().unsigned();t.cpu.model.programCounter.set(new qi(8,e)),yield t.cpu.component.flash("PC")}))}}).thenWaitFor(xa).endstep()],Ra=[new ka(new Zr("PC"),new va("pc_to_ram"),new Na("pc_to_ram")),new ka(new Ca("PC"),new Ta("PC:2","RAM:ADD")),new Sa("ADDRESS").thenWaitFor(xa).endstep(),new ka(new Ta("CU:3","RAM:CTRL"),new va("memory_fetch"),new Na("memory_fetch")).thenWaitFor(xa).endstep(),new ka(new Sa("DATA"),new va("ram_to_ir"),new Na("ram_to_ir")),new ka(new Ca("RAM"),new Ta("RAM:DATA","IR:1")),(new class extends Ea{constructor(){super(),this._name="SetIR"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.instructionRegister.set(ql(t.wires.model.data_main.get().toBinaryString())),yield t.cpu.component.flash("IR")}))}}).thenWaitFor(xa).endstep(),new ka(new Zr("IR:OPC"),new va("ir_to_cu"),new Na("ir_to_cu")),new ka(new Ca("IR:OPC"),new Ta("IR:3","CU:1")),new Zr("CU").thenWaitFor(xa).endstep()],Da=[new ka(new Ta("CU:2","MUX:4"),new va("cu_to_mux"),new Na("cu_to_mux")),new Zr("MUX").thenWaitFor(xa).endstep()],Ua=[new ka(new Ta("CU:4","ALU:5"),new va("cu_to_alu"),new Na("cu_to_alu")),(new class extends Ea{constructor(){super(),this._name="SetALUOperation"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.instructionRegister.get().opcode.operator;t.cpu.model.aluOperation.set(e),yield t.cpu.component.flash("ALU:OPR")}))}}).thenWaitFor(xa).endstep()],Ba=[new ka(new Zr("ACC"),new va("acc_to_alu1"),new Na("acc_to_alu1")),new ka(new Ca("ACC"),new Ta("ACC:1","ALU:1")),(new class extends Ea{constructor(){super(),this._name="SetALU1"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.alu1.set(t.wires.model.data_main.get()),yield t.cpu.component.flash("ALU:1")}))}}).thenWaitFor(xa).endstep()];function Ma(e){return e?Fa:Qa}const Fa=[new ka(new Zr("IR:OPR"),new va("ir_to_alu2"),new Na("ir_to_alu2")),new ka(new Ca("IR:OPR"),new Ta("IR:2","MUX:1")),new ka(new Ca("IR:OPR","data_mux_alu"),new Ta("MUX:3","ALU:2")),(new Ia).thenWaitFor(xa).endstep()],Qa=[new ka(new Zr("IR:OPR"),new va("ir_to_ram"),new Na("ir_to_ram")),new ka(new Ca("IR:OPR"),new Ta("IR:2","RAM:ADD")),new Sa("ADDRESS").thenWaitFor(xa).endstep(),new ka(new Zr("CU"),new va("memory_read"),new Na("memory_read")),new ka(new Ta("CU:3","RAM:CTRL").thenWaitFor(xa).endstep()),new ka(new Sa("DATA"),new va("ram_to_alu2"),new Na("ram_to_alu2")),new ka(new Ca("RAM"),new Ta("RAM:DATA","MUX:2")),new ka(new Ca("RAM","data_mux_alu"),new Ta("MUX:3","ALU:2")),(new Ia).thenWaitFor(xa).endstep()],ja=[new ka(new Zr("IR:OPR"),new va("ir_to_pc"),new Na("ir_to_pc")),new ka(new Ca("IR:OPR"),new Ta("IR:2","PC:2")),(new Aa).thenWaitFor(xa).endstep()],Ha=[new ka(new Zr("IR:OPR"),new va("ir_to_pc"),new Na("ir_to_pc")).condition(qr),new ka(new Ca("IR:OPR"),new Ta("IR:2","PC:2")).condition(qr),(new Aa).condition(qr).thenWaitFor(xa).endstep()],qa=[new ka(new Zr("IR:OPR"),new va("ir_to_pc"),new Na("ir_to_pc")).condition(Xr(qr)),new ka(new Ca("IR:OPR"),new Ta("IR:2","PC:2")).condition(Xr(qr)),(new Aa).condition(Xr(qr)).thenWaitFor(xa).endstep()],Wa=[new ka(new Zr("IR:OPR"),new va("ir_to_pc"),new Na("ir_to_pc")).condition(Wr),new ka(new Ca("IR:OPR"),new Ta("IR:2","PC:2")).condition(Wr),(new Aa).condition(Wr).thenWaitFor(xa).endstep()],Ka=[new ka(new Zr("IR:OPR"),new va("ir_to_pc"),new Na("ir_to_pc")).condition(Xr(Wr)),new ka(new Ca("IR:OPR"),new Ta("IR:2","PC:2")).condition(Xr(Wr)),(new Aa).condition(Xr(Wr)).thenWaitFor(xa).endstep()];class Va extends Ea{constructor(){super(),this._name="ExecuteALUOperation"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model,n=e.aluOperation.get(),s=e.alu1.get().signed(),o=e.alu2.get().signed();let i;switch(n){case"!":i=~o;break;case"&":i=s&o;break;case"*":i=s*o;break;case"+":i=s+o;break;case"-":i=s-o;break;case"/":if(0===o)throw new Pi(Oi.get().errors.execution.division_by_zero);i=s/o;break;case"=":i=o;break;default:throw new Error(`Unexpected ALU operation: "${n}"`)}e.aluResult.set(new qi(16,i))}))}}class za extends Ea{constructor(){super(),this._name="UpdateSW"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.accumulator.get().signed(),n=t.cpu.model.zeroFlag.get(),s=t.cpu.model.negativeFlag.get(),o=0===e,i=e<0;o!==n&&i!==s?(t.cpu.model.zeroFlag.set(o),t.cpu.model.negativeFlag.set(i),yield Promise.all([t.cpu.component.flash("SW:Z"),t.cpu.component.flash("SW:N")])):(o!==n&&(t.cpu.model.zeroFlag.set(o),yield t.cpu.component.flash("SW:Z")),i!==s&&(t.cpu.model.negativeFlag.set(i),yield t.cpu.component.flash("SW:N")))}))}}class Ga extends Ea{constructor(){super(),this._name="SetACC"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.accumulator.set(t.wires.model.data_alu_acc.get()),yield t.cpu.component.flash("ACC")}))}}class Xa extends Ea{constructor(){super(),this._name="HaltExecution"}action(t){return e(this,void 0,void 0,(function*(){t.cpu.model.isHalting.set(!0)}))}}class Ja extends Ea{constructor(){super(),this._name="UpdateSWCompare"}action(t){return e(this,void 0,void 0,(function*(){const e=t.cpu.model.alu1.get().signed(),n=t.cpu.model.alu2.get().signed(),s=t.cpu.model.zeroFlag.get(),o=t.cpu.model.negativeFlag.get(),i=n===e,r=n>e;i!==s&&r!==o?(t.cpu.model.zeroFlag.set(i),t.cpu.model.negativeFlag.set(r),yield Promise.all([t.cpu.component.flash("SW:Z"),t.cpu.component.flash("SW:N")])):(i!==s&&(t.cpu.model.zeroFlag.set(i),yield t.cpu.component.flash("SW:Z")),r!==o&&(t.cpu.model.negativeFlag.set(r),yield t.cpu.component.flash("SW:N")))}))}}class Za extends Hr{constructor(){super(),this._name="RamAction"}}class Ya extends Za{constructor(){super(),this._name="MemoryWrite"}action(t){return e(this,void 0,void 0,(function*(){const e=t.wires.model.addr_main.get().unsigned(),n=t.ram.model.read(e).symbolicOpcode;/^[A-Z]+$/.test(n)&&"NOP"!==n?t.ram.model.write(e,ql(t.wires.model.data_main.get().toBinaryString())):t.ram.model.write(e,Hl(t.wires.model.data_main.get().signed().toString())),yield t.ram.component.flashContent(e)}))}}class eu{constructor(e,t,n,s){if(!e)throw new Error("Null or undefined cpu");if(!t)throw new Error("Null or undefined ram");if(!n)throw new Error("Null or undefined symbolTable");if(!s)throw new Error("Null or undefined wires");this._isExecuting=Ze(!1),this.isExecuting=Ye(this._isExecuting,(e=>e)),this.isPlayingProgram=!1,this.isPlayingMicrostep=!1,this.isPlayingInstruction=!1,this.cyclePhase="ENQUEUING_FETCH",this.queue=[],this.executionContext={cpu:{model:e,component:null},ram:{model:t,component:null},wires:{model:s,component:null},symbolTable:n,stepTextComponent:null},this.executionEndedCallbacks=[]}cycle(){return e(this,void 0,void 0,(function*(){if(this.shouldExecute())try{switch(this.cyclePhase){case"ENQUEUING_FETCH":this.queue.push(...Ra),this.cyclePhase="EXECUTING_FETCH";break;case"EXECUTING_FETCH":yield this.execute(),this.queueIsEmpty()&&(this.cyclePhase="ENQUEUING_INSTRUCTION");break;case"ENQUEUING_INSTRUCTION":const e=this.executionContext.cpu.model.instructionRegister.get();this.queue.push(...function(e){if(!e.opcode)throw new Pi(Oi.get().errors.execution.invalid_instruction);const t=[];switch(e.opcode.symbolic){case"ADD":case"SUB":case"MUL":case"DIV":case"AND":case"NOT":t.push(...Da,...Ua,...Ba,...Ma(e.immediateFlag()),new Va,new ka(new Ca("ALU:RES"),new Ta("ALU:4","ACC:2"),new va("execute"),new Na("execute")),(new Ga).thenWaitFor(xa).endstep(),new ka(new Ta("ALU:3","SW:1"),new va("alu_to_sw"),new Na("alu_to_sw")),(new za).thenWaitFor(xa).endstep());break;case"NOT":t.push(...Da,...Ua,...Ma(e.immediateFlag()),new Va,new ka(new Ca("ALU:RES"),new Ta("ALU:4","ACC:2"),new va("execute"),new Na("execute")),(new Ga).thenWaitFor(xa).endstep(),new ka(new Ta("ALU:3","SW:1"),new va("alu_to_sw"),new Na("alu_to_sw")),(new za).thenWaitFor(xa).endstep());break;case"CMP":t.push(...Da,...Ua,...Ba,...Ma(e.immediateFlag()),new ka(new Ta("ALU:3","SW:1"),new va("alu_to_sw"),new Na("alu_to_sw")),(new Ja).thenWaitFor(xa).endstep());break;case"LOD":t.push(...Da,...Ua,...Ma(e.immediateFlag()),new Va,new ka(new Ca("ALU:RES"),new Ta("ALU:4","ACC:2"),new va("execute"),new Na("execute")),(new Ga).thenWaitFor(xa).endstep());break;case"STO":t.push(new ka(new Ca("IR:OPR"),new Ta("IR:2","RAM:ADD"),new va("ir_to_ram"),new Na("ir_to_ram")),new Sa("ADDRESS").thenWaitFor(xa).endstep(),new ka(new Zr("ACC"),new va("acc_to_ram"),new Na("acc_to_ram")),new ka(new Ca("ACC"),new Ta("ACC:1","RAM:DATA")).thenWaitFor(xa).endstep(),new ka(new Ta("CU:3","RAM:CTRL"),new va("memory_write"),new Na("memory_write")).thenWaitFor(xa).endstep(),new ka(new Ya,new va("acc_stored_to_ram"),new Na("acc_stored_to_ram")).thenWaitFor(xa).endstep());break;case"JMP":t.push(...ja);break;case"JZ":t.push(new Zr("SW:Z"),...Ha);break;case"JNZ":t.push(new Zr("SW:Z"),...qa);break;case"JN":t.push(new Zr("SW:N"),...Wa);break;case"JNN":t.push(new Zr("SW:N"),...Ka);break;case"NOP":t.push();break;case"HLT":t.push(new Xa);break;default:throw new Error(`Unrecognized opcode: "${e.opcode.symbolic}"`)}return t}(e)),yt.debug(`Executing instruction "${e.symbolic()}"`,$t.EXECUTION),this.cyclePhase="EXECUTING_INSTRUCTION";break;case"EXECUTING_INSTRUCTION":yield this.execute(),this.queueIsEmpty()&&(this.executionContext.cpu.model.programCounter.get().unsigned()!==Ji||this.executionContext.cpu.model.isJumping.get()||this.executionContext.cpu.model.isHalting.set(!0),this.executionContext.cpu.model.isJumping.get()?(this.executionContext.cpu.model.isJumping.set(!1),this.cyclePhase="ENQUEUING_FETCH",this.isPlayingInstruction&&this.setIsPlayingInstruction(!1)):this.cyclePhase="ENQUEUEING_PC_INCREMENT");break;case"ENQUEUEING_PC_INCREMENT":this.queue.push(...Pa),this.cyclePhase="EXECUTING_PC_INCREMENT";break;case"EXECUTING_PC_INCREMENT":yield this.execute(),this.isPlayingInstruction&&(this.setIsPlayingInstruction(!1),this.executionContext.cpu.model.isHalting.set(!0)),this.queueIsEmpty()&&(this.cyclePhase="ENQUEUING_FETCH")}}catch(e){this.executionContext.cpu.model.isHalting.set(!0),mr.get().error(e.message),yt.handled_error(e.message,$t.EXECUTION)}finally{this.executionContext.cpu.model.isHalting.get()&&this.reset()}}))}execute(){return e(this,void 0,void 0,(function*(){for(;!this.queueIsEmpty()&&this.shouldExecute();){const e=this.queue.shift();yield e.execute(this.executionContext),this.isPlayingMicrostep&&e.doesEndStep()&&this.setIsPlayingMicrostep(!1)}}))}start(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!0),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!1),yt.debug("Execution - START",$t.EXECUTION)}pause(){this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!1),this.executeExecutionEndedCallbacks(),yt.debug("Execution - PAUSE",$t.EXECUTION)}toggle(...e){this.isExecuting.get()?this.pause():this.start(...e)}step(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!0),this.setIsPlayingInstruction(!1),yt.debug("Execution - STEP",$t.EXECUTION)}instruction(...e){this.executionEndedCallbacks.push(...e),this.setIsPlayingProgram(!1),this.setIsPlayingMicrostep(!1),this.setIsPlayingInstruction(!0),yt.debug("Execution - INSTRUCTION",$t.EXECUTION)}reset(){this.pause(),this.executionContext.cpu.model.isHalting.set(!1),this.executionContext.cpu.model.isJumping.set(!1),this.cyclePhase="ENQUEUING_FETCH",this.emptyExecutionQueue(),yt.debug("Execution - RESET",$t.EXECUTION)}shouldExecute(){return this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction}emptyExecutionQueue(){this.queue=[]}queueIsEmpty(){return 0===this.queue.length}setIsPlayingProgram(e){this.isPlayingProgram=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}setIsPlayingMicrostep(e){this.isPlayingMicrostep=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}setIsPlayingInstruction(e){this.isPlayingInstruction=e,this._isExecuting.set(this.isPlayingProgram||this.isPlayingMicrostep||this.isPlayingInstruction)}executeExecutionEndedCallbacks(){this.executionEndedCallbacks.forEach((e=>e(this.executionContext))),this.executionEndedCallbacks=[]}}function tu(e){let t,n;return{c(){t=P("div"),F(t,"class",n="w-[98%] h-[35%] rounded-md bg-lime-400 "+(e[1]?"brightness-[.6]":""))},m(e,n){L(e,t,n)},p(e,s){2&s&&n!==(n="w-[98%] h-[35%] rounded-md bg-lime-400 "+(e[1]?"brightness-[.6]":""))&&F(t,"class",n)},d(e){e&&O(t)}}}function nu(e){let t,n,s,o,i,l,c,a,u,d=e[0]===su.HALF&&tu(e);const p=e[6].default,$=f(p,e,e[5],null);return{c(){t=P("div"),n=P("div"),d&&d.c(),o=U(),i=P("div"),$&&$.c(),F(n,"class",s="w-4 h-4 flex items-center justify-center border border-black rounded-md transition-colors "+(e[0]===su.ON?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")),F(i,"class","font-medium pb-[3px]"),F(t,"class",l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class),F(t,"disabled",e[1])},m(s,r){L(s,t,r),S(t,n),d&&d.m(n,null),S(t,o),S(t,i),$&&$.m(i,null),c=!0,a||(u=[M(t,"click",e[2]),M(t,"focus",e[7]),M(t,"focusout",e[8]),M(t,"mouseenter",e[9]),M(t,"mouseleave",e[10]),M(t,"mouseover",e[11])],a=!0)},p(e,[o]){e[0]===su.HALF?d?d.p(e,o):(d=tu(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null),(!c||3&o&&s!==(s="w-4 h-4 flex items-center justify-center border border-black rounded-md transition-colors "+(e[0]===su.ON?"bg-[#0F0]":"")+" "+(e[1]?"brightness-[.6]":"")))&&F(n,"class",s),$&&$.p&&(!c||32&o)&&m($,p,e,e[5],c?h(p,e[5],o,null):g(e[5]),null),(!c||10&o&&l!==(l="flex items-center justify-center gap-1 select-none "+(e[1]?"cursor-default":"cursor-pointer")+" "+e[3].class))&&F(t,"class",l),(!c||2&o)&&F(t,"disabled",e[1])},i(e){c||(Ce($,e),c=!0)},o(e){Pe($,e),c=!1},d(e){e&&O(t),d&&d.d(),$&&$.d(e),a=!1,r(u)}}}var su,ou;function iu(e,t,n){const o=["disabled","value","descending"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t,{value:a=su.OFF}=t,{descending:u=!1}=t;const d=ce();return e.$$set=e=>{t=s(s({},t),$(e)),n(3,i=b(t,o)),"disabled"in e&&n(1,c=e.disabled),"value"in e&&n(0,a=e.value),"descending"in e&&n(4,u=e.descending),"$$scope"in e&&n(5,l=e.$$scope)},[a,c,function(e){switch(a){case su.OFF:n(0,a=u?su.ON:su.HALF);break;case su.HALF:n(0,a=u?su.OFF:su.ON);break;case su.ON:n(0,a=u?su.HALF:su.OFF)}d("click",e),d("change",{value:a})},i,u,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}!function(e){e.OFF="OFF",e.HALF="HALF",e.ON="ON"}(su||(su={}));class ru extends ze{constructor(e){super(),Ve(this,e,iu,nu,c,{disabled:1,value:0,descending:4})}}function lu(e){let t,n,s,o,i,r,l;return n=new ra({props:{icon:"reset",title:e[4].controls.buttons.reset.title}}),n.$on("click",e[8]),o=new ra({props:{icon:e[5]?"pause":"play",title:e[5]?e[4].controls.buttons.pause_program.title:e[4].controls.buttons.play_program.title}}),o.$on("click",e[9]),r=new ra({props:{icon:"fast",title:e[4].controls.buttons.fast_program.title}}),r.$on("click",e[10]),{c(){t=P("div"),qe(n.$$.fragment),s=U(),qe(o.$$.fragment),i=U(),qe(r.$$.fragment),F(t,"class","flex items-center justify-center gap-1")},m(e,c){L(e,t,c),We(n,t,null),S(t,s),We(o,t,null),S(t,i),We(r,t,null),l=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.reset.title),n.$set(s);const i={};32&t&&(i.icon=e[5]?"pause":"play"),48&t&&(i.title=e[5]?e[4].controls.buttons.pause_program.title:e[4].controls.buttons.play_program.title),o.$set(i);const l={};16&t&&(l.title=e[4].controls.buttons.fast_program.title),r.$set(l)},i(e){l||(Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),l=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),Pe(r.$$.fragment,e),l=!1},d(e){e&&O(t),Ke(n),Ke(o),Ke(r)}}}function cu(e){let t,n,s,o,i;return n=new ra({props:{icon:"play",title:e[4].controls.buttons.play_instruction.title}}),n.$on("click",e[13]),o=new ra({props:{icon:"fast",title:e[4].controls.buttons.fast_instruction.title}}),o.$on("click",e[14]),{c(){t=P("div"),qe(n.$$.fragment),s=U(),qe(o.$$.fragment),F(t,"class","flex items-center justify-center gap-1")},m(e,r){L(e,t,r),We(n,t,null),S(t,s),We(o,t,null),i=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.play_instruction.title),n.$set(s);const i={};16&t&&(i.title=e[4].controls.buttons.fast_instruction.title),o.$set(i)},i(e){i||(Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),i=!1},d(e){e&&O(t),Ke(n),Ke(o)}}}function au(e){let t,n,s,o,i;return n=new ra({props:{icon:"play",title:e[4].controls.buttons.play_step.title}}),n.$on("click",e[11]),o=new ra({props:{icon:"fast",title:e[4].controls.buttons.fast_step.title}}),o.$on("click",e[12]),{c(){t=P("div"),qe(n.$$.fragment),s=U(),qe(o.$$.fragment),F(t,"class","flex items-center justify-center gap-1")},m(e,r){L(e,t,r),We(n,t,null),S(t,s),We(o,t,null),i=!0},p(e,t){const s={};16&t&&(s.title=e[4].controls.buttons.play_step.title),n.$set(s);const i={};16&t&&(i.title=e[4].controls.buttons.fast_step.title),o.$set(i)},i(e){i||(Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),i=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),i=!1},d(e){e&&O(t),Ke(n),Ke(o)}}}function uu(e){let t,n,s;function o(t){e[20](t)}let i={min:.1,max:3,title:e[4].controls.sliders.speed.title};return void 0!==e[3]&&(i.value=e[3]),t=new fa({props:i}),pe.push((()=>He(t,"value",o,e[3]))),t.$on("change",e[15]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};16&s&&(o.title=e[4].controls.sliders.speed.title),!n&&8&s&&(n=!0,o.value=e[3],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function du(e){let t,n,s,o,i,r,l,c;return t=new ma({props:{label:e[4].controls.labels.execution,$$slots:{default:[lu]},$$scope:{ctx:e}}}),s=new ma({props:{label:e[4].controls.labels.instruction,$$slots:{default:[cu]},$$scope:{ctx:e}}}),i=new ma({props:{label:e[4].controls.labels.step,$$slots:{default:[au]},$$scope:{ctx:e}}}),l=new ma({props:{label:e[4].controls.labels.speed,$$slots:{default:[uu]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment),o=U(),qe(i.$$.fragment),r=U(),qe(l.$$.fragment)},m(e,a){We(t,e,a),L(e,n,a),We(s,e,a),L(e,o,a),We(i,e,a),L(e,r,a),We(l,e,a),c=!0},p(e,n){const o={};16&n&&(o.label=e[4].controls.labels.execution),16777264&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};16&n&&(r.label=e[4].controls.labels.instruction),16777232&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const c={};16&n&&(c.label=e[4].controls.labels.step),16777232&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const a={};16&n&&(a.label=e[4].controls.labels.speed),16777240&n&&(a.$$scope={dirty:n,ctx:e}),l.$set(a)},i(e){c||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),c=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),Pe(l.$$.fragment,e),c=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),e&&O(o),Ke(i,e),e&&O(r),Ke(l,e)}}}function fu(e){let t,n=e[4].controls.checkboxes.binary.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){16&s&&n!==(n=e[4].controls.checkboxes.binary.text+"")&&H(t,n)},d(e){e&&O(t)}}}function pu(e){let t,n=e[4].controls.checkboxes.animations.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){16&s&&n!==(n=e[4].controls.checkboxes.animations.text+"")&&H(t,n)},d(e){e&&O(t)}}}function hu(e){let t,n,s,o,i;function r(t){e[21](t)}let l={$$slots:{default:[fu]},$$scope:{ctx:e}};return void 0!==e[2]&&(l.checked=e[2]),t=new aa({props:l}),pe.push((()=>He(t,"checked",r,e[2]))),t.$on("click",e[16]),o=new ru({props:{value:e[0]?e[1]?su.HALF:su.ON:su.OFF,descending:!0,$$slots:{default:[pu]},$$scope:{ctx:e}}}),o.$on("change",e[17]),{c(){qe(t.$$.fragment),s=U(),qe(o.$$.fragment)},m(e,n){We(t,e,n),L(e,s,n),We(o,e,n),i=!0},p(e,s){const i={};16777232&s&&(i.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,i.checked=e[2],ve((()=>n=!1))),t.$set(i);const r={};3&s&&(r.value=e[0]?e[1]?su.HALF:su.ON:su.OFF),16777232&s&&(r.$$scope={dirty:s,ctx:e}),o.$set(r)},i(e){i||(Ce(t.$$.fragment,e),Ce(o.$$.fragment,e),i=!0)},o(e){Pe(t.$$.fragment,e),Pe(o.$$.fragment,e),i=!1},d(e){Ke(t,e),e&&O(s),Ke(o,e)}}}function mu(e){let t,n,s,o,i,r,l;n=new sa({props:{class:"gap-5",$$slots:{default:[du]},$$scope:{ctx:e}}}),o=new sa({props:{class:"flex-col items-baseline justify-center text-gray-200",$$slots:{default:[hu]},$$scope:{ctx:e}}});return r=new wa({props:{}}),e[22](r),{c(){t=P("div"),qe(n.$$.fragment),s=U(),qe(o.$$.fragment),i=U(),qe(r.$$.fragment),F(t,"class","absolute top-[690px] left-0 z-[4] w-full h-[90px] flex items-center justify-center gap-3")},m(e,c){L(e,t,c),We(n,t,null),S(t,s),We(o,t,null),S(t,i),We(r,t,null),l=!0},p(e,[t]){const s={};16777272&t&&(s.$$scope={dirty:t,ctx:e}),n.$set(s);const i={};16777239&t&&(i.$$scope={dirty:t,ctx:e}),o.$set(i);r.$set({})},i(e){l||(Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(r.$$.fragment,e),l=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),Pe(r.$$.fragment,e),l=!1},d(s){s&&O(t),Ke(n),Ke(o),e[22](null),Ke(r)}}}function gu(e,t,n){let s,o,i,r,l,c,a;d(e,It,(e=>n(0,s=e))),d(e,At,(e=>n(1,o=e))),d(e,xt,(e=>n(2,i=e))),d(e,St,(e=>n(3,r=e))),d(e,Oi,(e=>n(4,l=e))),d(e,lt,(e=>n(6,a=e)));let{cpu:u}=t,{programExecution:f}=t;const p=f.isExecuting;function h(e){switch(e){case su.OFF:w(At,o=!1,o),w(It,s=!1,s);break;case su.HALF:w(At,o=!0,o),w(It,s=!0,s);break;case su.ON:w(At,o=!1,o),w(It,s=!0,s)}}return d(e,p,(e=>n(5,c=e))),e.$$set=e=>{"cpu"in e&&n(18,u=e.cpu),"programExecution"in e&&n(19,f=e.programExecution)},[s,o,i,r,l,c,a,p,function(){yt.debug("Reset pressed",$t.USER_INPUT),f.reset(),u.reset()},function(){yt.debug("Toggle execution pressed",$t.USER_INPUT),f.toggle()},function(){let e;yt.debug("Skip execution pressed",$t.USER_INPUT),e=o&&s?su.HALF:o||s?su.ON:su.OFF,w(It,s=!1,s),w(At,o=!1,o),f.start((t=>{h(e)}))},function(){yt.debug("Play step pressed",$t.USER_INPUT),f.step()},function(){let e;yt.debug("Skip step pressed",$t.USER_INPUT),e=o&&s?su.HALF:o||s?su.ON:su.OFF,w(It,s=!1,s),w(At,o=!1,o),f.step((t=>{h(e)}))},function(){yt.debug("Play instruction pressed",$t.USER_INPUT),f.instruction()},function(){let e;yt.debug("Skip instruction pressed",$t.USER_INPUT),e=o&&s?su.HALF:o||s?su.ON:su.OFF,w(It,s=!1,s),w(At,o=!1,o),f.instruction((t=>{h(e)}))},function(){yt.debug(`Speed slider moved - ${r}`,$t.USER_INPUT)},function(){yt.debug(`Binary toggle pressed - ${i}`,$t.USER_INPUT)},function(e){h(e.detail.value),yt.debug(`Animations toggle pressed - ${e.detail.value}`,$t.USER_INPUT)},u,f,function(e){r=e,St.set(r)},function(e){i=e,xt.set(i)},function(e){pe[e?"unshift":"push"]((()=>{a=e,lt.set(a)}))}]}class $u extends ze{constructor(e){super(),Ve(this,e,gu,mu,c,{cpu:18,programExecution:19})}}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(ou||(ou={}));const bu="headlessui-open-closed-context";function yu(){return ue(bu)}function wu(e){ae(bu,e)}function vu(e,t,...n){if(e in t){let s=t[e];return"function"==typeof s?s(...n):s}let s=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,vu),s}let xu=0;function _u(){return++xu}let ku=new Set,Eu=new Map;function Au(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Iu(e){let t=Eu.get(e);t&&(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function Su(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var Tu;!function(e){e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab"}(Tu||(Tu={}));let Nu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var Lu,Ou,Cu,Pu;function Ru(e){e?.focus({preventScroll:!0})}function Du(e,t){let n,s=Array.isArray(e)?e:function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Nu))}(e),o=document.activeElement,i=(()=>{if(t&(Lu.First|Lu.Next))return Cu.Next;if(t&(Lu.Previous|Lu.Last))return Cu.Previous;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),r=(()=>{if(t&Lu.First)return 0;if(t&Lu.Previous)return Math.max(0,s.indexOf(o))-1;if(t&Lu.Next)return Math.max(0,s.indexOf(o))+1;if(t&Lu.Last)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=t&Lu.NoScroll?{preventScroll:!0}:{},c=0,a=s.length;do{if(c>=a||c+a<=0)return Ou.Error;let e=r+c;if(t&Lu.WrapAround)e=(e+a)%a;else{if(e<0)return Ou.Underflow;if(e>=a)return Ou.Overflow}n=s[e],n?.focus(l),c+=i}while(n!==document.activeElement);return n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),Ou.Success}!function(e){e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll"}(Lu||(Lu={})),function(e){e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow"}(Ou||(Ou={})),function(e){e[e.Previous=-1]="Previous",e[e.Next=1]="Next"}(Cu||(Cu={})),function(e){e[e.Strict=0]="Strict",e[e.Loose=1]="Loose"}(Pu||(Pu={}));const{window:Uu}=Be;function Bu(e){let n,s;return{c:t,m(t,o){n||(s=[M(Uu,"keydown",e[0]),M(Uu,"focus",e[1],!0)],n=!0)},p:t,i:t,o:t,d(e){n=!1,r(s)}}}function Mu(e,t,n){let{containers:s}=t,{enabled:o=!0}=t,{options:i={}}=t,r="undefined"!=typeof window?document.activeElement:null,l=null;async function c(){if(!o)return;if(1!==s.size)return;let{initialFocus:e}=i;await ye();let t=document.activeElement;if(e){if(e===t)return}else if(Su(s,t))return;if(r=t,e)Ru(e);else{let e=!1;for(let t of s){if(Du(t,Lu.First)===Ou.Success){e=!0;break}}e||console.warn("There are no focusable elements inside the <FocusTrap />")}l=document.activeElement}function a(){Ru(r),r=null,l=null}ie(c);let u=!1;return le((()=>{u=!0,a()})),e.$$set=e=>{"containers"in e&&n(2,s=e.containers),"enabled"in e&&n(3,o=e.enabled),"options"in e&&n(4,i=e.options)},e.$$.update=()=>{12&e.$$.dirty&&(o&&s?c():a())},[function(e){if(o&&e.key===Tu.Tab&&document.activeElement&&1===s.size){e.preventDefault();for(let t of s){if(Du(t,(e.shiftKey?Lu.Previous:Lu.Next)|Lu.WrapAround)===Ou.Success){l=document.activeElement;break}}}},function(e){if(e.target===window.document.body)return;if(!o)return;if(1!==s.size)return;if(u)return;let t=l;if(!t)return;let n=e.target;n&&n instanceof HTMLElement?Su(s,n)?(l=n,Ru(n)):(e.preventDefault(),e.stopPropagation(),Ru(t)):Ru(l)},s,o,i]}class Fu extends ze{constructor(e){super(),Ve(this,e,Mu,Bu,c,{containers:2,enabled:3,options:4})}}function Qu(e){let t;const n=e[4].default,s=f(n,e,e[3],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||8&o)&&m(s,n,e,e[3],t?h(n,e[3],o,null):g(e[3]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}var ju;!function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove"}(ju||(ju={}));const Hu="headlessui-stack-context";function qu(e,t,n){let s,{$$slots:o={},$$scope:i}=t,{onUpdate:r}=t,{element:l}=t;function c(...e){r?.(...e),a?.(...e)}let a=ue(Hu);return ae(Hu,c),le((()=>{s&&s()})),e.$$set=e=>{"onUpdate"in e&&n(0,r=e.onUpdate),"element"in e&&n(1,l=e.element),"$$scope"in e&&n(3,i=e.$$scope)},e.$$.update=()=>{6&e.$$.dirty&&n(2,s=(()=>{if(s&&s(),!l)return null;let e=l;return c(ju.Add,e),()=>c(ju.Remove,e)})())},[r,l,s,i,o]}class Wu extends ze{constructor(e){super(),Ve(this,e,qu,Qu,c,{onUpdate:0,element:1})}}const Ku=e=>({describedby:1&e}),Vu=e=>({describedby:e[0].descriptionIds});function zu(e){let t;const n=e[6].default,s=f(n,e,e[5],Vu);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||33&o)&&m(s,n,e,e[5],t?h(n,e[5],o,Ku):g(e[5]),Vu)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}const Gu="headlessui-description-context";function Xu(e,t,n){const o=["name","slotProps"];let i,r=b(t,o),{$$slots:l={},$$scope:c}=t,{name:a}=t,{slotProps:u={}}=t,f=[],p=Xe({name:a,slotProps:u,props:r,register:h});function h(e){return n(4,f=[...f,e]),()=>{n(4,f=f.filter((t=>t!==e)))}}return d(e,p,(e=>n(0,i=e))),ae(Gu,p),e.$$set=e=>{t=s(s({},t),$(e)),n(8,r=b(t,o)),"name"in e&&n(2,a=e.name),"slotProps"in e&&n(3,u=e.slotProps),"$$scope"in e&&n(5,c=e.$$scope)},e.$$.update=()=>{p.set({name:a,slotProps:u,props:r,register:h,descriptionIds:f.length>0?f.join(" "):void 0})},[i,p,a,u,f,c,l]}class Ju extends ze{constructor(e){super(),Ve(this,e,Xu,zu,c,{name:2,slotProps:3})}}function Zu(e){let t;const n=e[2].default,s=f(n,e,e[1],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||2&o)&&m(s,n,e,e[1],t?h(n,e[1],o,null):g(e[1]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}const Yu="headlessui-force-portal-root-context";function ed(e,t,n){let{$$slots:s={},$$scope:o}=t,{force:i}=t;return ae(Yu,Xe(i)),e.$$set=e=>{"force"in e&&n(0,i=e.force),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,s]}class td extends ze{constructor(e){super(),Ve(this,e,ed,Zu,c,{force:0})}}function nd(e){let t;const n=e[2].default,s=f(n,e,e[1],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||2&o)&&m(s,n,e,e[1],t?h(n,e[1],o,null):g(e[1]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}const sd="headlessui-portal-group-context";function od(e,t,n){let{$$slots:s={},$$scope:o}=t,{target:i}=t,r=Xe(i);return ae(sd,r),e.$$set=e=>{"target"in e&&n(0,i=e.target),"$$scope"in e&&n(1,o=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&r.set(i)},[i,o,s]}class id extends ze{constructor(e){super(),Ve(this,e,od,nd,c,{target:0})}}function rd(e,t){return t&&t.append(e),{update(n){t=n,n.append(e)},destroy(){t?.contains(e)&&t.removeChild(e),t&&t.childNodes.length<=0&&t.parentElement?.removeChild(t)}}}function ld(e){let t,n,s,o,i;const r=e[6].default,c=f(r,e,e[5],null);return{c(){t=P("div"),c&&c.c()},m(r,l){L(r,t,l),c&&c.m(t,null),s=!0,o||(i=v(n=rd.call(null,t,e[0])),o=!0)},p(e,[t]){c&&c.p&&(!s||32&t)&&m(c,r,e,e[5],s?h(r,e[5],t,null):g(e[5]),null),n&&l(n.update)&&1&t&&n.update.call(null,e[0])},i(e){s||(Ce(c,e),s=!0)},o(e){Pe(c,e),s=!1},d(e){e&&O(t),c&&c.d(e),o=!1,i()}}}function cd(e,t,n){let s,o,i,{$$slots:r={},$$scope:l}=t,c=ue(Yu);d(e,c,(e=>n(4,i=e)));let a=ue(sd);return d(e,a,(e=>n(3,o=e))),e.$$set=e=>{"$$scope"in e&&n(5,l=e.$$scope)},e.$$.update=()=>{24&e.$$.dirty&&n(0,s=(()=>{if(!(c&&i||void 0===a||null===o))return o;if("undefined"==typeof window)return null;let e=document.getElementById("headlessui-portal-root");if(e)return e;let t=document.createElement("div");return t.setAttribute("id","headlessui-portal-root"),ye().then((()=>{t!==document.body.lastChild&&document.body.appendChild(t)})),document.body.appendChild(t)})())},[s,c,a,o,i,l,r]}class ad extends ze{constructor(e){super(),Ve(this,e,cd,ld,c,{})}}const ud=new RegExp("^[^!]+(?:!(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$");function dd(e,t=[]){let n,s=[];function o(t){de(e,t)}return e.$on=(o,i)=>{let r=o,l=()=>{};for(let n of t){if("string"==typeof n&&n===r){const t=e.$$.callbacks[r]||(e.$$.callbacks[r]=[]);return t.push(i),()=>{const e=t.indexOf(i);-1!==e&&t.splice(e,1)}}if("object"==typeof n&&n.name===r){let e=i;i=(...t)=>{"object"==typeof n&&n.shouldExclude()||e(...t)}}}return n?l=n(r,i):s.push([r,i]),()=>{l()}},e=>{const t=[],i={};n=(n,s)=>{let r=n,l=s,c=!1;if(r.match(ud)){const e=r.split("!");r=e[0];const t=Object.fromEntries(e.slice(1).map((e=>[e,!0])));t.passive&&(c=c||{},c.passive=!0),t.nonpassive&&(c=c||{},c.passive=!1),t.capture&&(c=c||{},c.capture=!0),t.once&&(c=c||{},c.once=!0),t.preventDefault&&(a=l,l=function(e){return e.preventDefault(),a.call(this,e)}),t.stopPropagation&&(l=function(e){return function(t){return t.stopPropagation(),e.call(this,t)}}(l))}var a;const u=M(e,r,l,c),d=()=>{u();const e=t.indexOf(d);e>-1&&t.splice(e,1)};return t.push(d),r in i||(i[r]=M(e,r,o)),d};for(let e=0;e<s.length;e++)n(s[e][0],s[e][1]);return{destroy:()=>{for(let e=0;e<t.length;e++)t[e]();for(let e of Object.entries(i))e[1]()}}}}const fd=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function pd(e,t){let n=[];if(t)for(let s=0;s<t.length;s++){const o=t[s],i=Array.isArray(o)?o[0]:o;Array.isArray(o)&&o.length>1?n.push(i(e,o[1])):n.push(i(e))}return{update(e){if((e&&e.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(e)for(let t=0;t<e.length;t++){const s=n[t];if(s&&s.update){const n=e[t];Array.isArray(n)&&n.length>1?s.update(n[1]):s.update()}}},destroy(){for(let e=0;e<n.length;e++){const t=n[e];t&&t.destroy&&t.destroy()}}}}var hd,md;function gd(e){let t,n,s,o;const i=[nf,tf,ef,Yd,Zd,Jd,Xd,Gd,zd,Vd,Kd,Wd,qd,Hd,jd,Qd,Fd,Md,Bd,Ud,Dd,Rd,Pd,Cd,Od,Ld,Nd,Td,Sd,Id,Ad,Ed,kd,_d,xd,vd,wd,yd,bd,$d],r=[];function l(e,t){return"a"===e[1]?0:"address"===e[1]?1:"article"===e[1]?2:"aside"===e[1]?3:"b"===e[1]?4:"bdi"===e[1]?5:"bdo"===e[1]?6:"blockquote"===e[1]?7:"button"===e[1]?8:"cite"===e[1]?9:"code"===e[1]?10:"data"===e[1]?11:"datalist"===e[1]?12:"dd"===e[1]?13:"dl"===e[1]?14:"dt"===e[1]?15:"div"===e[1]?16:"em"===e[1]?17:"footer"===e[1]?18:"form"===e[1]?19:"h1"===e[1]?20:"h2"===e[1]?21:"h3"===e[1]?22:"h4"===e[1]?23:"h5"===e[1]?24:"h6"===e[1]?25:"header"===e[1]?26:"i"===e[1]?27:"input"===e[1]?28:"label"===e[1]?29:"li"===e[1]?30:"main"===e[1]?31:"nav"===e[1]?32:"ol"===e[1]?33:"p"===e[1]?34:"section"===e[1]?35:"span"===e[1]?36:"strong"===e[1]?37:"ul"===e[1]?38:39}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=B()},m(e,n){r[t].m(e,n),L(e,s,n),o=!0},p(e,o){let c=t;t=l(e),t===c?r[t].p(e,o):(Le(),Pe(r[c],1,1,(()=>{r[c]=null})),Oe(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),Ce(n,1),n.m(s.parentNode,s))},i(e){o||(Ce(n),o=!0)},o(e){Pe(n),o=!1},d(e){r[t].d(e),e&&O(s)}}}function $d(e){let t,n,o,i;const r=[{use:[...e[2],e[6]]},e[7],e[3],{hidden:e[4]||void 0}];function l(t){e[58](t)}var c=e[1];function a(e){let t={$$slots:{default:[sf]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)t=s(t,r[e]);return void 0!==e[0]&&(t.el=e[0]),{props:t}}return c&&(t=J(c,a(e)),pe.push((()=>He(t,"el",l,e[0])))),{c(){t&&qe(t.$$.fragment),o=B()},m(e,n){t&&We(t,e,n),L(e,o,n),i=!0},p(e,s){const i=220&s[0]?Qe(r,[68&s[0]&&{use:[...e[2],e[6]]},128&s[0]&&je(e[7]),8&s[0]&&je(e[3]),16&s[0]&&{hidden:e[4]||void 0}]):{};if(268435456&s[1]&&(i.$$scope={dirty:s,ctx:e}),!n&&1&s[0]&&(n=!0,i.el=e[0],ve((()=>n=!1))),c!==(c=e[1])){if(t){Le();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ke(e,1)})),Oe()}c?(t=J(c,a(e)),pe.push((()=>He(t,"el",l,e[0]))),qe(t.$$.fragment),Ce(t.$$.fragment,1),We(t,o.parentNode,o)):t=null}else c&&t.$set(i)},i(e){i||(t&&Ce(t.$$.fragment,e),i=!0)},o(e){t&&Pe(t.$$.fragment,e),i=!1},d(e){e&&O(o),t&&Ke(t,e)}}}function bd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("ul"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[57](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[57](null),c=!1,r(a)}}}function yd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("strong"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[56](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[56](null),c=!1,r(a)}}}function wd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("span"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[55](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[55](null),c=!1,r(a)}}}function vd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("section"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[54](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[54](null),c=!1,r(a)}}}function xd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("p"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[53](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[53](null),c=!1,r(a)}}}function _d(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("ol"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[52](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[52](null),c=!1,r(a)}}}function kd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("nav"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[51](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[51](null),c=!1,r(a)}}}function Ed(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("main"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[50](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[50](null),c=!1,r(a)}}}function Ad(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("li"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[49](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[49](null),c=!1,r(a)}}}function Id(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("label"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[48](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[48](null),c=!1,r(a)}}}function Sd(e){let n,o,i,c,a,u=[e[7],e[3],{hidden:o=e[4]||void 0}],d={};for(let e=0;e<u.length;e+=1)d=s(d,u[e]);return{c(){n=P("input"),Q(n,d)},m(t,s){L(t,n,s),n.autofocus&&n.focus(),e[47](n),c||(a=[v(i=pd.call(null,n,e[2])),v(e[6].call(null,n))],c=!0)},p(e,t){Q(n,d=Qe(u,[128&t[0]&&e[7],8&t[0]&&e[3],16&t[0]&&o!==(o=e[4]||void 0)&&{hidden:o}])),i&&l(i.update)&&4&t[0]&&i.update.call(null,e[2])},i:t,o:t,d(t){t&&O(n),e[47](null),c=!1,r(a)}}}function Td(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("i"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[46](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[46](null),c=!1,r(a)}}}function Nd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("header"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[45](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[45](null),c=!1,r(a)}}}function Ld(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("h6"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[44](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[44](null),c=!1,r(a)}}}function Od(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("h5"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[43](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[43](null),c=!1,r(a)}}}function Cd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("h4"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[42](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[42](null),c=!1,r(a)}}}function Pd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("h3"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[41](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[41](null),c=!1,r(a)}}}function Rd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("h2"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[40](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[40](null),c=!1,r(a)}}}function Dd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("h1"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[39](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[39](null),c=!1,r(a)}}}function Ud(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("form"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[38](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[38](null),c=!1,r(a)}}}function Bd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("footer"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[37](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[37](null),c=!1,r(a)}}}function Md(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("em"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[36](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[36](null),c=!1,r(a)}}}function Fd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("div"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[35](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[35](null),c=!1,r(a)}}}function Qd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("dt"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[34](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[34](null),c=!1,r(a)}}}function jd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("dl"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[33](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[33](null),c=!1,r(a)}}}function Hd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("dd"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[32](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[32](null),c=!1,r(a)}}}function qd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("datalist"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[31](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[31](null),c=!1,r(a)}}}function Wd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("data"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[30](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[30](null),c=!1,r(a)}}}function Kd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("code"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[29](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[29](null),c=!1,r(a)}}}function Vd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("cite"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[28](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[28](null),c=!1,r(a)}}}function zd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("button"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),t.autofocus&&t.focus(),e[27](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[27](null),c=!1,r(a)}}}function Gd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("blockquote"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[26](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[26](null),c=!1,r(a)}}}function Xd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("bdo"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[25](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[25](null),c=!1,r(a)}}}function Jd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("bdi"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[24](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[24](null),c=!1,r(a)}}}function Zd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("b"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[23](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[23](null),c=!1,r(a)}}}function Yd(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("aside"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[22](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[22](null),c=!1,r(a)}}}function ef(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("article"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[21](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[21](null),c=!1,r(a)}}}function tf(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("address"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[20](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[20](null),c=!1,r(a)}}}function nf(e){let t,n,o,i,c,a;const u=e[18].default,d=f(u,e,e[59],null);let p=[e[7],e[3],{hidden:n=e[4]||void 0}],$={};for(let e=0;e<p.length;e+=1)$=s($,p[e]);return{c(){t=P("a"),d&&d.c(),Q(t,$)},m(n,s){L(n,t,s),d&&d.m(t,null),e[19](t),i=!0,c||(a=[v(o=pd.call(null,t,e[2])),v(e[6].call(null,t))],c=!0)},p(e,s){d&&d.p&&(!i||268435456&s[1])&&m(d,u,e,e[59],i?h(u,e[59],s,null):g(e[59]),null),Q(t,$=Qe(p,[128&s[0]&&e[7],8&s[0]&&e[3],(!i||16&s[0]&&n!==(n=e[4]||void 0))&&{hidden:n}])),o&&l(o.update)&&4&s[0]&&o.update.call(null,e[2])},i(e){i||(Ce(d,e),i=!0)},o(e){Pe(d,e),i=!1},d(n){n&&O(t),d&&d.d(n),e[19](null),c=!1,r(a)}}}function sf(e){let t;const n=e[18].default,s=f(n,e,e[59],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||268435456&o[1])&&m(s,n,e,e[59],t?h(n,e[59],o,null):g(e[59]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function of(e){let t,n,s=e[5]&&gd(e);return{c(){s&&s.c(),t=B()},m(e,o){s&&s.m(e,o),L(e,t,o),n=!0},p(e,n){e[5]?s?(s.p(e,n),32&n[0]&&Ce(s,1)):(s=gd(e),s.c(),Ce(s,1),s.m(t.parentNode,t)):s&&(Le(),Pe(s,1,1,(()=>{s=null})),Oe())},i(e){n||(Ce(s),n=!0)},o(e){Pe(s),n=!1},d(e){s&&s.d(e),e&&O(t)}}}function rf(e,t,n){let o,i,r,l,c;const a=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let u=b(t,a),{$$slots:d={},$$scope:f}=t;const p=dd(oe());let{name:h}=t,{as:m}=t,{slotProps:g}=t,{el:y=null}=t,{use:w=[]}=t,{visible:v=!0}=t,{features:x=hd.None}=t,{unmount:_=!0}=t,{static:k=!1}=t,{class:E}=t,{style:A}=t;if(!m)throw new Error(`<${h}> did not provide an \`as\` value to <Render>`);if(!function(e){return!("string"==typeof e&&!fd.includes(e))}(m))throw new Error(`<${h}> has an invalid or unsupported \`as\` prop: ${m}`);return e.$$set=e=>{t=s(s({},t),$(e)),n(7,u=b(t,a)),"name"in e&&n(8,h=e.name),"as"in e&&n(1,m=e.as),"slotProps"in e&&n(9,g=e.slotProps),"el"in e&&n(0,y=e.el),"use"in e&&n(2,w=e.use),"visible"in e&&n(10,v=e.visible),"features"in e&&n(11,x=e.features),"unmount"in e&&n(12,_=e.unmount),"static"in e&&n(13,k=e.static),"class"in e&&n(14,E=e.class),"style"in e&&n(15,A=e.style),"$$scope"in e&&n(59,f=e.$$scope)},e.$$.update=()=>{16896&e.$$.dirty[0]&&n(17,o="function"==typeof E?E(g):E),33280&e.$$.dirty[0]&&n(16,i="function"==typeof A?A(g):A),15360&e.$$.dirty[0]&&n(5,r=v||x&hd.Static&&k||!(x&hd.RenderStrategy&&_)),15360&e.$$.dirty[0]&&n(4,l=!v&&!(x&hd.Static&&k)&&x&hd.RenderStrategy&&!_),196624&e.$$.dirty[0]&&n(3,c={class:o,style:`${i??""}${l?" display: none":""}`||void 0}),8&e.$$.dirty[0]&&void 0===c.style&&delete c.style},[y,m,w,c,l,r,p,u,h,g,v,x,_,k,E,A,i,o,d,function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){pe[e?"unshift":"push"]((()=>{y=e,n(0,y)}))},function(e){y=e,n(0,y)},f]}!function(e){e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static"}(hd||(hd={})),function(e){e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden"}(md||(md={}));class lf extends ze{constructor(e){super(),Ve(this,e,rf,of,c,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}const{window:cf}=Be,af=e=>({}),uf=e=>({...e[6]});function df(e){let t;const n=e[24].default,s=f(n,e,e[27],uf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||134217792&o)&&m(s,n,e,e[27],(e=>64&e)(o)||!t?g(e[27]):h(n,e[27],o,af),uf)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function ff(e){let t,n,o;const i=[{...e[14],...e[7]},{as:e[0]},{slotProps:e[6]},{use:[...e[1],e[9]]},{name:"Dialog"},{"aria-describedby":e[30]},{visible:e[8]},{features:hd.RenderStrategy|hd.Static}];function r(t){e[25](t)}let l={$$slots:{default:[df]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[3]&&(l.el=e[3]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[3]))),t.$on("click",xf),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,s){const o=1073759171&s?Qe(i,[16512&s&&{...e[14],...e[7]},1&s&&{as:e[0]},64&s&&{slotProps:e[6]},514&s&&{use:[...e[1],e[9]]},i[4],1073741824&s&&{"aria-describedby":e[30]},256&s&&{visible:e[8]},0&s&&{features:hd.RenderStrategy|hd.Static}]):{};134217792&s&&(o.$$scope={dirty:s,ctx:e}),!n&&8&s&&(n=!0,o.el=e[3],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function pf(e){let t,n;return t=new Ju({props:{name:"DialogDescription",slotProps:e[6],$$slots:{default:[ff,({describedby:e})=>({30:e}),({describedby:e})=>e?1073741824:0]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};64&n&&(s.slotProps=e[6]),1207976395&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function hf(e){let t,n;return t=new td({props:{force:!1,$$slots:{default:[pf]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function mf(e){let t,n;return t=new id({props:{target:e[3],$$slots:{default:[hf]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.target=e[3]),134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function gf(e){let t,n;return t=new ad({props:{$$slots:{default:[mf]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function $f(e){let t,n;return t=new td({props:{force:!0,$$slots:{default:[gf]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};134234571&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function bf(e){let t,n,s,o,i,l;return t=new Fu({props:{containers:e[5],enabled:e[4],options:{initialFocus:e[2]}}}),s=new Wu({props:{element:e[3],onUpdate:e[26],$$slots:{default:[$f]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment)},m(r,c){We(t,r,c),L(r,n,c),We(s,r,c),o=!0,i||(l=[M(cf,"mousedown",e[12]),M(cf,"keydown",e[13])],i=!0)},p(e,[n]){const o={};32&n&&(o.containers=e[5]),16&n&&(o.enabled=e[4]),4&n&&(o.options={initialFocus:e[2]}),t.$set(o);const i={};8&n&&(i.element=e[3]),32&n&&(i.onUpdate=e[26]),134234571&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),o=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),i=!1,r(l)}}}var yf;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(yf||(yf={}));const wf="headlessui-dialog-context";function vf(e){let t=ue(wf);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Dialog /> component.`);return t}function xf(e){e.stopPropagation()}function _f(e,t,n){let o,i,r,l,c,a,u,f;const p=["as","use","open","initialFocus"];let h,m,g=b(t,p),{$$slots:y={},$$scope:w}=t,{as:v="div"}=t,{use:x=[]}=t,{open:_}=t,{initialFocus:k=null}=t;const E=dd(oe(),["close"]),A=ce();let I=new Set,S=yu();d(e,S,(e=>n(23,m=e)));let T=null;const N=`headlessui-dialog-${_u()}`;let L;le((()=>{l&&l()}));let O=Xe({titleId:L,dialogState:o,setTitleId(e){L!==e&&n(16,L=e)},close(){A("close",!1)}});d(e,O,(e=>n(22,h=e))),ae(wf,O);let C=!1;ie((()=>n(17,C=!0))),le((()=>{c&&c()})),le((()=>{a&&a()}));return e.$$set=e=>{t=s(s({},t),$(e)),n(14,g=b(t,p)),"as"in e&&n(0,v=e.as),"use"in e&&n(1,x=e.use),"open"in e&&n(15,_=e.open),"initialFocus"in e&&n(2,k=e.initialFocus),"$$scope"in e&&n(27,w=e.$$scope)},e.$$.update=()=>{if(8421376&e.$$.dirty){if(n(15,_=void 0===_&&void 0!==S?vu(m,{[ou.Open]:!0,[ou.Closed]:!1}):_),!(void 0!==_||void 0!==S))throw new Error("You forgot to provide an `open` prop to the `Dialog` component.");if("boolean"!=typeof _)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${_}`)}32768&e.$$.dirty&&n(18,o=_?yf.Open:yf.Closed),8650752&e.$$.dirty&&n(8,i=void 0!==S?m===ou.Open:o===yf.Open),262144&e.$$.dirty&&n(4,r=o===yf.Open),2097176&e.$$.dirty&&n(21,(l&&l(),l=function(e,t=!0){if(!t)return;if(!e)return;let n=e;ku.add(n);for(let e of Eu.keys())e.contains(n)&&(Iu(e),Eu.delete(e));return document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of ku)if(e.contains(t))return;1===ku.size&&(Eu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Au(e))}})),()=>{if(ku.delete(n),ku.size>0)document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!Eu.has(e)){for(let t of ku)if(e.contains(t))return;Eu.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Au(e)}}));else for(let e of Eu.keys())Iu(e),Eu.delete(e)}}(T,r))),327680&e.$$.dirty&&O.update((e=>({...e,titleId:L,dialogState:o}))),1441792&e.$$.dirty&&n(20,c=(()=>{if(c&&c(),o!==yf.Open)return;if(!C)return;let e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}})()),4980744&e.$$.dirty&&n(19,a=(()=>{if(a&&a(),o!==yf.Open)return;let e=T;if(!e)return;let t=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&h.close()}));return t.observe(e),()=>t.disconnect()})()),327680&e.$$.dirty&&n(7,u={id:N,role:"dialog","aria-modal":o===yf.Open||void 0,"aria-labelledby":L}),32768&e.$$.dirty&&n(6,f={open:_})},[v,x,k,T,r,I,f,u,i,E,S,O,async function(e){let t=e.target;o===yf.Open&&1===I.size&&(Su(I,t)||(h.close(),await ye(),t?.focus()))},function(e){e.key===Tu.Escape&&o===yf.Open&&(I.size>1||(e.preventDefault(),e.stopPropagation(),h.close()))},g,_,L,C,o,a,c,l,h,m,y,function(e){T=e,n(3,T)},(e,t)=>vu(e,{[ju.Add](){n(5,I=new Set([...I,t]))},[ju.Remove](){I.delete(t),n(5,I=new Set([...I]))}}),w]}class kf extends ze{constructor(e){super(),Ve(this,e,_f,bf,c,{as:0,use:1,open:15,initialFocus:2})}}const Ef=e=>({}),Af=e=>({...e[2]});function If(e){let t;const n=e[8].default,s=f(n,e,e[9],Af);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||516&o)&&m(s,n,e,e[9],(e=>4&e)(o)||!t?g(e[9]):h(n,e[9],o,Ef),Af)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Sf(e){let t,n;const o=[{...e[6],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogTitle"}];let i={$$slots:{default:[If]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new lf({props:i}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s=95&n?Qe(o,[72&n&&{...e[6],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[4]]):{};516&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Tf(e,t,n){let o,i;const r=["as","use"];let l,c=b(t,r),{$$slots:a={},$$scope:u}=t,{as:f="h2"}=t,{use:p=[]}=t;const h=dd(oe());let m=vf("DialogTitle");d(e,m,(e=>n(7,l=e)));let g=`headlessui-dialog-title-${_u()}`;return ie((()=>(l.setTitleId(g),()=>l.setTitleId(void 0)))),e.$$set=e=>{t=s(s({},t),$(e)),n(6,c=b(t,r)),"as"in e&&n(0,f=e.as),"use"in e&&n(1,p=e.use),"$$scope"in e&&n(9,u=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(2,i={open:l.dialogState===yf.Open})},n(3,o={id:g}),[f,p,i,o,h,m,c,l,a,u]}class Nf extends ze{constructor(e){super(),Ve(this,e,Tf,Sf,c,{as:0,use:1})}}const Lf=e=>({}),Of=e=>({...e[2]});function Cf(e){let t;const n=e[9].default,s=f(n,e,e[10],Of);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||1028&o)&&m(s,n,e,e[10],(e=>4&e)(o)||!t?g(e[10]):h(n,e[10],o,Lf),Of)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Pf(e){let t,n;const o=[{...e[7],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"DialogOverlay"}];let i={$$slots:{default:[Cf]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new lf({props:i}),t.$on("click",e[6]),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s=159&n?Qe(o,[136&n&&{...e[7],...e[3]},1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[4]]):{};1028&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Rf(e,t,n){let o,i;const r=["as","use"];let l,c=b(t,r),{$$slots:a={},$$scope:u}=t,{as:f="div"}=t,{use:p=[]}=t;const h=dd(oe());let m=vf("DialogOverlay");d(e,m,(e=>n(8,l=e)));let g=`headlessui-dialog-overlay-${_u()}`;return e.$$set=e=>{t=s(s({},t),$(e)),n(7,c=b(t,r)),"as"in e&&n(0,f=e.as),"use"in e&&n(1,p=e.use),"$$scope"in e&&n(10,u=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(2,i={open:l.dialogState===yf.Open})},n(3,o={id:g,"aria-hidden":!0}),[f,p,i,o,h,m,function(e){let t=e;t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),l.close())},c,l,a,u]}class Df extends ze{constructor(e){super(),Ve(this,e,Rf,Pf,c,{as:0,use:1})}}var Uf,Bf;function Mf(e,t){if(e.type)return e.type;let n=e.as??"button";return"string"==typeof n&&"button"===n.toLowerCase()||t&&t instanceof HTMLButtonElement?"button":void 0}function Ff(e,t){let n=t.resolveItems();if(n.length<=0)return null;let s=t.resolveActiveIndex(),o=s??-1,i=(()=>{switch(e.focus){case Bf.First:return n.findIndex((e=>!t.resolveDisabled(e)));case Bf.Previous:{let e=n.slice().reverse().findIndex(((e,n,s)=>!(-1!==o&&s.length-n-1>=o)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case Bf.Next:return n.findIndex(((e,n)=>!(n<=o)&&!t.resolveDisabled(e)));case Bf.Last:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case Bf.Specific:return n.findIndex((n=>t.resolveId(n)===e.id));case Bf.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===i?s:i}!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Uf||(Uf={})),function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(Bf||(Bf={}));const Qf=e=>({}),jf=e=>({...e[2]});function Hf(e){let t;const n=e[17].default,s=f(n,e,e[18],jf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262148&o)&&m(s,n,e,e[18],(e=>4&e)(o)||!t?g(e[18]):h(n,e[18],o,Qf),jf)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function qf(e){let t,n,o,i;const r=[e[8],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"Listbox"}];let l={$$slots:{default:[Hf]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)l=s(l,r[e]);return t=new lf({props:l}),{c(){qe(t.$$.fragment)},m(s,r){We(t,s,r),n=!0,o||(i=M(window,"mousedown",e[7]),o=!0)},p(e,[n]){const s=271&n?Qe(r,[256&n&&je(e[8]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},r[4]]):{};262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e),o=!1,i()}}}var Wf;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Wf||(Wf={}));const Kf="headlessui-listbox-context";function Vf(e){let t=ue(Kf);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Listbox /> component.`);return t}function zf(e,t,n){let o,i;const r=["as","use","disabled","horizontal","value"];let l,c,a,u=b(t,r),{$$slots:f={},$$scope:p}=t,{as:h="div"}=t,{use:m=[]}=t,{disabled:g=!1}=t,{horizontal:y=!1}=t,{value:w}=t;const v=dd(oe(),["change"]),x=ce();let _=Wf.Closed,k=Xe(null),E=Xe(null);d(e,E,(e=>n(19,l=e)));let A=Xe(null);d(e,A,(e=>n(21,a=e)));let I=[],S="",T=null,N=Xe({listboxState:_,value:w,labelRef:k,buttonRef:E,optionsRef:A,options:I,searchQuery:S,activeOptionIndex:T,disabled:g,orientation:o,closeListbox(){g||_!==Wf.Closed&&(n(12,_=Wf.Closed),n(15,T=null))},openListbox(){g||_!==Wf.Open&&n(12,_=Wf.Open)},goToOption(e,t){if(g)return;if(_===Wf.Closed)return;let s=Ff(e===Bf.Specific?{focus:Bf.Specific,id:t}:{focus:e},{resolveItems:()=>I,resolveActiveIndex:()=>T,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});""===S&&T===s||(n(15,T=s),n(14,S=""))},search(e){if(g)return;if(_===Wf.Closed)return;n(14,S+=e.toLowerCase());let t=(null!==T?I.slice(T+1).concat(I.slice(0,T+1)):I).find((e=>!e.dataRef.disabled&&e.dataRef.textValue.startsWith(S))),s=t?I.indexOf(t):-1;-1!==s&&s!==T&&n(15,T=s)},clearSearch(){g||_!==Wf.Closed&&""!==S&&n(14,S="")},registerOption(e,t){if(!a)return void n(13,I=[...I,{id:e,dataRef:t}]);let s=null!==T?I[T]:null,o=Array.from(a.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[...I,{id:e,dataRef:t}];i.sort(((e,t)=>o[e.id]-o[t.id])),n(13,I=i),n(15,T=null===s?null:I.indexOf(s))},unregisterOption(e){let t=I.slice(),s=null!==T?t[T]:null,o=t.findIndex((t=>t.id===e));-1!==o&&t.splice(o,1),n(13,I=t),n(15,T=o===T||null===s?null:t.indexOf(s))},select(e){g||x("change",e)}});d(e,N,(e=>n(20,c=e))),ae(Kf,N);let L=Xe(ou.Closed);return wu(L),e.$$set=e=>{t=s(s({},t),$(e)),n(8,u=b(t,r)),"as"in e&&n(0,h=e.as),"use"in e&&n(1,m=e.use),"disabled"in e&&n(9,g=e.disabled),"horizontal"in e&&n(10,y=e.horizontal),"value"in e&&n(11,w=e.value),"$$scope"in e&&n(18,p=e.$$scope)},e.$$.update=()=>{1024&e.$$.dirty&&n(16,o=y?"horizontal":"vertical"),4096&e.$$.dirty&&L.set(vu(_,{[Wf.Open]:ou.Open,[Wf.Closed]:ou.Closed})),129536&e.$$.dirty&&N.update((e=>({...e,listboxState:_,value:w,options:I,searchQuery:S,activeOptionIndex:T,disabled:g,orientation:o}))),4096&e.$$.dirty&&n(2,i={open:_===Wf.Open})},[h,m,i,v,E,A,N,function(e){let t=e.target,n=document.activeElement;_===Wf.Open&&(l?.contains(t)||(a?.contains(t)||c.closeListbox(),n!==document.body&&n?.contains(t)||e.defaultPrevented||l?.focus({preventScroll:!0})))},u,g,y,w,_,I,S,T,o,f,p]}class Gf extends ze{constructor(e){super(),Ve(this,e,zf,qf,c,{as:0,use:1,disabled:9,horizontal:10,value:11})}}const Xf=e=>({}),Jf=e=>({...e[3]});function Zf(e){let t;const n=e[17].default,s=f(n,e,e[19],Jf);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Xf),Jf)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Yf(e){let t,n,o;const i=[e[13],e[4],{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[5]]},{name:"ListboxButton"}];function r(t){e[18](t)}let l={$$slots:{default:[Zf]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[2]))),t.$on("click",e[12]),t.$on("keydown",e[10]),t.$on("keyup",e[11]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=8251&s?Qe(i,[8192&s&&je(e[13]),16&s&&je(e[4]),1&s&&{as:e[0]},8&s&&{slotProps:e[3]},34&s&&{use:[...e[1],e[5]]},i[5]]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function ep(e,t,n){let o,i;const r=["as","use"];let l,c,a,u,f=b(t,r),{$$slots:p={},$$scope:h}=t,{as:m="button"}=t,{use:g=[]}=t;const y=dd(oe());let w=Vf("ListboxButton");d(e,w,(e=>n(14,l=e)));let v=`headlessui-listbox-button-${_u()}`,x=l.buttonRef;d(e,x,(e=>n(2,u=e)));let _=l.optionsRef;d(e,_,(e=>n(16,a=e)));let k=l.labelRef;return d(e,k,(e=>n(15,c=e))),e.$$set=e=>{n(21,t=s(s({},t),$(e))),n(13,f=b(t,r)),"as"in e&&n(0,m=e.as),"use"in e&&n(1,g=e.use),"$$scope"in e&&n(19,h=e.$$scope)},e.$$.update=()=>{n(4,o={id:v,type:Mf({type:t.type,as:m},u),"aria-haspopup":!0,"aria-controls":a?.id,"aria-expanded":l.disabled?void 0:l.listboxState===Wf.Open,"aria-labelledby":c?[c?.id,v].join(" "):void 0,disabled:!0===l.disabled||void 0}),16384&e.$$.dirty&&n(3,i={open:l.listboxState===Wf.Open,disabled:l.disabled})},t=$(t),[m,g,u,i,o,y,w,x,_,k,async function(e){let t=e;switch(t.key){case Tu.Space:case Tu.Enter:case Tu.ArrowDown:t.preventDefault(),l.openListbox(),await ye(),a?.focus({preventScroll:!0}),l.value||l.goToOption(Bf.First);break;case Tu.ArrowUp:t.preventDefault(),l.openListbox(),await ye(),a?.focus({preventScroll:!0}),l.value||l.goToOption(Bf.Last)}},function(e){let t=e;if(t.key===Tu.Space)t.preventDefault()},async function(e){let t=e;l.disabled||(l.listboxState===Wf.Open?(l.closeListbox(),await ye(),u?.focus({preventScroll:!0})):(t.preventDefault(),l.openListbox(),await ye(),a?.focus({preventScroll:!0})))},f,l,c,a,p,function(e){u=e,x.set(u)},h]}class tp extends ze{constructor(e){super(),Ve(this,e,ep,Yf,c,{as:0,use:1})}}const np=e=>({}),sp=e=>({...e[2]});function op(e){let t;const n=e[18].default,s=f(n,e,e[20],sp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||1048580&o)&&m(s,n,e,e[20],(e=>4&e)(o)||!t?g(e[20]):h(n,e[20],o,np),sp)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function ip(e){let t,n,o;const i=[e[13],e[4],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[6]]},{name:"ListboxOptions"},{visible:e[3]},{features:hd.RenderStrategy|hd.Static}];function r(t){e[19](t)}let l={$$slots:{default:[op]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[5]&&(l.el=e[5]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[5]))),t.$on("keydown",e[11]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=8287&s?Qe(i,[8192&s&&je(e[13]),16&s&&je(e[4]),1&s&&{as:e[0]},4&s&&{slotProps:e[2]},66&s&&{use:[...e[1],e[6]]},i[5],8&s&&{visible:e[3]},0&s&&{features:hd.RenderStrategy|hd.Static}]):{};1048580&s&&(o.$$scope={dirty:s,ctx:e}),!n&&32&s&&(n=!0,o.el=e[5],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function rp(e,t,n){let o,i,r;const l=["as","use"];let c,a,u,f,p,h=b(t,l),{$$slots:m={},$$scope:g}=t,{as:y="ul"}=t,{use:w=[]}=t;const v=dd(oe());let x=Vf("ListboxOptions");d(e,x,(e=>n(14,c=e)));let _=`headlessui-listbox-options-${_u()}`,k=c.optionsRef;d(e,k,(e=>n(5,p=e)));let E=c.buttonRef;d(e,E,(e=>n(16,u=e)));let A=c.labelRef;d(e,A,(e=>n(17,f=e)));let I=null;let S=yu();return d(e,S,(e=>n(15,a=e))),e.$$set=e=>{t=s(s({},t),$(e)),n(13,h=b(t,l)),"as"in e&&n(0,y=e.as),"use"in e&&n(1,w=e.use),"$$scope"in e&&n(20,g=e.$$scope)},e.$$.update=()=>{212992&e.$$.dirty&&n(4,o={"aria-activedescendant":null===c.activeOptionIndex?void 0:c.options[c.activeOptionIndex]?.id,"aria-labelledby":f?.id??u?.id,"aria-orientation":c.orientation,id:_,role:"listbox",tabIndex:0}),49152&e.$$.dirty&&n(3,i=void 0!==S?a===ou.Open:c.listboxState===Wf.Open),16384&e.$$.dirty&&n(2,r={open:c.listboxState===Wf.Open})},[y,w,r,i,o,p,v,x,k,E,A,async function(e){let t=e;switch(I&&clearTimeout(I),t.key){case Tu.Space:if(""!==c.searchQuery)return t.preventDefault(),t.stopPropagation(),c.search(t.key);case Tu.Enter:if(t.preventDefault(),t.stopPropagation(),null!==c.activeOptionIndex){let{dataRef:e}=c.options[c.activeOptionIndex];c.select(e.value)}c.closeListbox(),await ye(),u?.focus({preventScroll:!0});break;case vu(c.orientation,{vertical:Tu.ArrowDown,horizontal:Tu.ArrowRight}):return t.preventDefault(),t.stopPropagation(),c.goToOption(Bf.Next);case vu(c.orientation,{vertical:Tu.ArrowUp,horizontal:Tu.ArrowLeft}):return t.preventDefault(),t.stopPropagation(),c.goToOption(Bf.Previous);case Tu.Home:case Tu.PageUp:return t.preventDefault(),t.stopPropagation(),c.goToOption(Bf.First);case Tu.End:case Tu.PageDown:return t.preventDefault(),t.stopPropagation(),c.goToOption(Bf.Last);case Tu.Escape:t.preventDefault(),t.stopPropagation(),c.closeListbox(),await ye(),u?.focus({preventScroll:!0});break;case Tu.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(c.search(t.key),I=setTimeout((()=>c.clearSearch()),350))}},S,h,c,a,u,f,m,function(e){p=e,k.set(p)},g]}class lp extends ze{constructor(e){super(),Ve(this,e,rp,ip,c,{as:0,use:1})}}const cp=e=>({}),ap=e=>({...e[2]});function up(e){let t;const n=e[17].default,s=f(n,e,e[18],ap);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262148&o)&&m(s,n,e,e[18],(e=>4&e)(o)||!t?g(e[18]):h(n,e[18],o,cp),ap)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function dp(e){let t,n;const o=[e[11],e[3],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[4]]},{name:"ListboxOption"}];let i={$$slots:{default:[up]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new lf({props:i}),t.$on("click",e[7]),t.$on("focus",e[8]),t.$on("pointermove",e[9]),t.$on("mousemove",e[9]),t.$on("pointerleave",e[10]),t.$on("mouseleave",e[10]),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s=2079&n?Qe(o,[2048&n&&je(e[11]),8&n&&je(e[3]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},18&n&&{use:[...e[1],e[4]]},o[5]]):{};262148&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function fp(e,t,n){let o,i,r,l,c;const a=["as","use","value","disabled"];let u,f,p=b(t,a),{$$slots:h={},$$scope:m}=t,{as:g="li"}=t,{use:y=[]}=t,{value:w}=t,{disabled:v=!1}=t;const x=dd(oe());let _=Vf("ListboxOption");d(e,_,(e=>n(16,u=e)));let k=`headlessui-listbox-option-${_u()}`,E=u.buttonRef;d(e,E,(e=>n(23,f=e))),ie((()=>{let e=document.getElementById(k)?.textContent?.toLowerCase().trim();void 0!==e&&(r.textValue=e)})),ie((()=>u.registerOption(k,r))),le((()=>u.unregisterOption(k)));let A=u.listboxState,I=i,S=o;return e.$$set=e=>{t=s(s({},t),$(e)),n(11,p=b(t,a)),"as"in e&&n(0,g=e.as),"use"in e&&n(1,y=e.use),"value"in e&&n(12,w=e.value),"disabled"in e&&n(13,v=e.disabled),"$$scope"in e&&n(18,m=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&n(15,o=null!==u.activeOptionIndex&&u.options[u.activeOptionIndex].id===k),69632&e.$$.dirty&&n(14,i=u.value===w),12288&e.$$.dirty&&(r={disabled:v,value:w,textValue:""}),114688&e.$$.dirty&&async function(e,t,n){await ye(),e===A&&t===I||e===Wf.Open&&t&&u.goToOption(Bf.Specific,k),e===A&&n===S||e===Wf.Open&&n&&document.getElementById(k)?.scrollIntoView?.({block:"nearest"}),A=e,I=t,S=n}(u.listboxState,i,o),24576&e.$$.dirty&&n(3,l={id:k,role:"option",tabIndex:!0===v?void 0:-1,"aria-disabled":!0===v||void 0,"aria-selected":!0===i?i:void 0}),57344&e.$$.dirty&&n(2,c={active:o,selected:i,disabled:v})},[g,y,c,l,x,_,E,async function(e){if(v)return e.preventDefault();u.select(w),u.closeListbox(),await ye(),f?.focus({preventScroll:!0})},function(){if(v)return u.goToOption(Bf.Nothing);u.goToOption(Bf.Specific,k)},function(){v||o||u.goToOption(Bf.Specific,k)},function(){v||o&&u.goToOption(Bf.Nothing)},p,w,v,i,o,u,h,m]}class pp extends ze{constructor(e){super(),Ve(this,e,fp,dp,c,{as:0,use:1,value:12,disabled:13})}}const hp=e=>({}),mp=e=>({...e[2]});function gp(e){let t;const n=e[14].default,s=f(n,e,e[15],mp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||32772&o)&&m(s,n,e,e[15],(e=>4&e)(o)||!t?g(e[15]):h(n,e[15],o,hp),mp)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function $p(e){let t,n,o,i;const r=[e[9],{use:[...e[0],e[3]]},{as:e[1]},{slotProps:e[2]},{name:"Menu"}];let l={$$slots:{default:[gp]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)l=s(l,r[e]);return t=new lf({props:l}),{c(){qe(t.$$.fragment)},m(s,r){We(t,s,r),n=!0,o||(i=M(window,"mousedown",e[7]),o=!0)},p(e,[n]){const s=527&n?Qe(r,[512&n&&je(e[9]),9&n&&{use:[...e[0],e[3]]},2&n&&{as:e[1]},4&n&&{slotProps:e[2]},r[4]]):{};32772&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e),o=!1,i()}}}var bp;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(bp||(bp={}));const yp="headlessui-menu-context";function wp(e){let t=ue(yp);if(void 0===t)throw new Error(`<${e} /> is missing a parent <Menu /> component.`);return t}function vp(e,t,n){let o;const i=["use","as"];let r,l,c,a,u=b(t,i),{$$slots:f={},$$scope:p}=t,{use:h=[]}=t,{as:m="div"}=t;const g=dd(oe());let y=bp.Closed,v=Xe(null);d(e,v,(e=>n(17,l=e)));let x=Xe(null);d(e,x,(e=>n(19,a=e)));let _=[],k="",E=null,A=Xe({menuState:y,buttonStore:v,itemsStore:x,items:_,searchQuery:k,activeItemIndex:E,closeMenu:()=>{n(10,y=bp.Closed),n(13,E=null)},openMenu:()=>n(10,y=bp.Open),goToItem(e,t){let s=Ff(e===Bf.Specific?{focus:Bf.Specific,id:t}:{focus:e},{resolveItems:()=>_,resolveActiveIndex:()=>E,resolveId:e=>e.id,resolveDisabled:e=>e.data.disabled});""===k&&E===s||(n(12,k=""),n(13,E=s))},search(e){n(12,k+=e.toLowerCase());let t=(null!==E?_.slice(E+1).concat(_.slice(0,E+1)):_).find((e=>e.data.textValue.startsWith(k)&&!e.data.disabled)),s=t?_.indexOf(t):-1;-1!==s&&s!==E&&n(13,E=s)},clearSearch(){n(12,k="")},registerItem(e,t){if(!a)return void n(11,_=[..._,{id:e,data:t}]);let s=null!==E?_[E]:null,o=Array.from(a.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[..._,{id:e,data:t}];i.sort(((e,t)=>o[e.id]-o[t.id])),n(11,_=i),n(13,E=null===s?null:_.indexOf(s))},unregisterItem(e){let t=_.slice(),s=null!==E?t[E]:null,o=t.findIndex((t=>t.id===e));-1!==o&&t.splice(o,1),n(11,_=t),n(13,E=o===E||null===s?null:t.indexOf(s))}});d(e,A,(e=>n(18,c=e))),ae(yp,A);let I=Xe(ou.Closed);return d(e,I,(e=>n(16,r=e))),wu(I),e.$$set=e=>{t=s(s({},t),$(e)),n(9,u=b(t,i)),"use"in e&&n(0,h=e.use),"as"in e&&n(1,m=e.as),"$$scope"in e&&n(15,p=e.$$scope)},e.$$.update=()=>{15360&e.$$.dirty&&A.update((e=>({...e,menuState:y,buttonStore:v,itemsStore:x,items:_,searchQuery:k,activeItemIndex:E}))),1024&e.$$.dirty&&w(I,r=vu(y,{[bp.Open]:ou.Open,[bp.Closed]:ou.Closed}),r),1024&e.$$.dirty&&n(2,o={open:y===bp.Open})},[h,m,o,g,v,x,A,function(e){let t=e.target,n=document.activeElement;y===bp.Open&&(l?.contains(t)||(a?.contains(t)||c.closeMenu(),n!==document.body&&n?.contains(t)||e.defaultPrevented||l?.focus({preventScroll:!0})))},I,u,y,_,k,E,f,p]}class xp extends ze{constructor(e){super(),Ve(this,e,vp,$p,c,{use:0,as:1})}}const _p=e=>({}),kp=e=>({...e[3]});function Ep(e){let t;const n=e[16].default,s=f(n,e,e[18],kp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||262152&o)&&m(s,n,e,e[18],(e=>8&e)(o)||!t?g(e[18]):h(n,e[18],o,_p),kp)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Ap(e){let t,n,o;const i=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[7]]},{name:"MenuButton"}];function r(t){e[17](t)}let l={$$slots:{default:[Ep]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[2]))),t.$on("click",e[11]),t.$on("keydown",e[9]),t.$on("keyup",e[10]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=4251&s?Qe(i,[4112&s&&{...e[12],...e[4]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},130&s&&{use:[...e[1],e[7]]},i[4]]):{};262152&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function Ip(e,n,o){let i,r,l,c;const u=["as","use","disabled"];let f,p,h,m=b(n,u),g=t,y=t;e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>y()));let{$$slots:w={},$$scope:v}=n,{as:x="button"}=n,{use:_=[]}=n,{disabled:k=!1}=n;const E=dd(oe()),A=wp("MenuButton");d(e,A,(e=>o(14,f=e)));const I=`headlessui-menu-button-${_u()}`;return e.$$set=e=>{o(20,n=s(s({},n),$(e))),o(12,m=b(n,u)),"as"in e&&o(0,x=e.as),"use"in e&&o(1,_=e.use),"disabled"in e&&o(13,k=e.disabled),"$$scope"in e&&o(18,v=e.$$scope)},e.$$.update=()=>{16384&e.$$.dirty&&(o(6,i=f.buttonStore),y(),y=a(i,(e=>o(2,h=e)))),16384&e.$$.dirty&&(o(5,r=f.itemsStore),g(),g=a(r,(e=>o(15,p=e)))),o(4,l={id:I,type:Mf({type:n.type,as:x},h),disabled:!!k||void 0,"aria-haspopup":!0,"aria-controls":p?.id,"aria-expanded":k?void 0:f.menuState===bp.Open}),16384&e.$$.dirty&&o(3,c={open:f.menuState===bp.Open})},n=$(n),[x,_,h,c,l,r,i,E,A,async function(e){let t=e;switch(t.key){case Tu.Space:case Tu.Enter:case Tu.ArrowDown:t.preventDefault(),t.stopPropagation(),f.openMenu(),await ye(),p?.focus({preventScroll:!0}),f.goToItem(Bf.First);break;case Tu.ArrowUp:t.preventDefault(),t.stopPropagation(),f.openMenu(),await ye(),p?.focus({preventScroll:!0}),f.goToItem(Bf.Last)}},function(e){let t=e;if(t.key===Tu.Space)t.preventDefault()},async function(e){let t=e;k||(f.menuState===bp.Open?(f.closeMenu(),await ye(),h?.focus({preventScroll:!0})):(t.preventDefault(),t.stopPropagation(),f.openMenu(),await ye(),p?.focus({preventScroll:!0})))},m,k,f,p,w,function(e){h=e,i.set(h)},v]}class Sp extends ze{constructor(e){super(),Ve(this,e,Ip,Ap,c,{as:0,use:1,disabled:13})}}const Tp=e=>({}),Np=e=>({...e[3]});function Lp(e){let t;const n=e[17].default,s=f(n,e,e[19],Np);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Tp),Np)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Op(e){let t,n,o;const i=[{...e[13],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[8]]},{name:"MenuItems"},{visible:e[5]},{features:hd.RenderStrategy|hd.Static}];function r(t){e[18](t)}let l={$$slots:{default:[Lp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[2]))),t.$on("keydown",e[11]),t.$on("keyup",e[12]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=8507&s?Qe(i,[8208&s&&{...e[13],...e[4]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},258&s&&{use:[...e[1],e[8]]},i[4],32&s&&{visible:e[5]},0&s&&{features:hd.RenderStrategy|hd.Static}]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function Cp(e,n,o){let i,r,l,c,u;const f=["as","use"];let p,h,m,g,y=b(n,f),w=t,v=t;e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>v()));let{$$slots:x={},$$scope:_}=n,{as:k="div"}=n,{use:E=[]}=n;const A=dd(oe()),I=wp("MenuItems");d(e,I,(e=>o(14,p=e)));const S=`headlessui-menu-items-${_u()}`;let T=null,N=yu();return d(e,N,(e=>o(16,g=e))),e.$$set=e=>{n=s(s({},n),$(e)),o(13,y=b(n,f)),"as"in e&&o(0,k=e.as),"use"in e&&o(1,E=e.use),"$$scope"in e&&o(19,_=e.$$scope)},e.$$.update=()=>{16384&e.$$.dirty&&(o(7,i=p.buttonStore),w(),w=a(i,(e=>o(15,h=e)))),16384&e.$$.dirty&&(o(6,r=p.itemsStore),v(),v=a(r,(e=>o(2,m=e)))),81920&e.$$.dirty&&o(5,l=void 0!==N?g===ou.Open:p.menuState===bp.Open),16388&e.$$.dirty&&function({container:e,accept:t,walk:n,enabled:s}){let o=e;if(!o)return;if(void 0!==s&&!s)return;let i=Object.assign((e=>t(e)),{acceptNode:t}),r=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,i,!1);for(;r.nextNode();)n(r.currentNode)}({container:m,enabled:p.menuState===bp.Open,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}}),49152&e.$$.dirty&&o(4,c={"aria-activedescendant":null===p.activeItemIndex?void 0:p.items[p.activeItemIndex]?.id,"aria-labelledby":h?.id,id:S,role:"menu",tabIndex:0}),16384&e.$$.dirty&&o(3,u={open:p.menuState===bp.Open})},[k,E,m,u,c,l,r,i,A,I,N,async function(e){T&&clearTimeout(T);let t=e;switch(t.key){case Tu.Space:if(""!==p.searchQuery)return t.preventDefault(),t.stopPropagation(),p.search(t.key);case Tu.Enter:if(t.preventDefault(),t.stopPropagation(),null!==p.activeItemIndex){let{id:e}=p.items[p.activeItemIndex];document.getElementById(e)?.click()}p.closeMenu(),await ye(),h?.focus({preventScroll:!0});break;case Tu.ArrowDown:return t.preventDefault(),t.stopPropagation(),p.goToItem(Bf.Next);case Tu.ArrowUp:return t.preventDefault(),t.stopPropagation(),p.goToItem(Bf.Previous);case Tu.Home:case Tu.PageUp:return t.preventDefault(),t.stopPropagation(),p.goToItem(Bf.First);case Tu.End:case Tu.PageDown:return t.preventDefault(),t.stopPropagation(),p.goToItem(Bf.Last);case Tu.Escape:t.preventDefault(),t.stopPropagation(),p.closeMenu(),await ye(),h?.focus({preventScroll:!0});break;case Tu.Tab:t.preventDefault(),t.stopPropagation();break;default:1===t.key.length&&(p.search(t.key),T=setTimeout((()=>p.clearSearch()),350))}},function(e){let t=e;if(t.key===Tu.Space)t.preventDefault()},y,p,h,g,x,function(e){m=e,r.set(m)},_]}class Pp extends ze{constructor(e){super(),Ve(this,e,Cp,Op,c,{as:0,use:1})}}const Rp=e=>({}),Dp=e=>({...e[3]});function Up(e){let t;const n=e[17].default,s=f(n,e,e[19],Dp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,Rp),Dp)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Bp(e){let t,n,o;const i=[{...e[12],...e[4]},{use:[...e[1],e[6]]},{as:e[0]},{slotProps:e[3]},{name:"MenuItem"}];function r(t){e[18](t)}let l={$$slots:{default:[Up]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[2]))),t.$on("click",e[8]),t.$on("focus",e[9]),t.$on("pointermove",e[10]),t.$on("mousemove",e[10]),t.$on("pointerleave",e[11]),t.$on("mouseleave",e[11]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=4187&s?Qe(i,[4112&s&&{...e[12],...e[4]},66&s&&{use:[...e[1],e[6]]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},i[4]]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function Mp(e,n,o){let i,r,l,c,u;const f=["as","use","disabled"];let p,h,m=b(n,f),g=t;e.$$.on_destroy.push((()=>g()));let{$$slots:y={},$$scope:w}=n,{as:v="a"}=n,{use:x=[]}=n,{disabled:_=!1}=n;const k=dd(oe(),[{name:"click",shouldExclude:()=>_}]),E=wp("MenuItem");d(e,E,(e=>o(16,p=e)));const A=`headlessui-menu-item-${_u()}`;let I,S={disabled:_,textValue:l};return ie((async()=>{p.registerItem(A,S)})),le((()=>{p.unregisterItem(A)})),re((async()=>{p.menuState===bp.Open&&i&&(await ye(),I?.scrollIntoView?.({block:"nearest"}))})),e.$$set=e=>{n=s(s({},n),$(e)),o(12,m=b(n,f)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"disabled"in e&&o(13,_=e.disabled),"$$scope"in e&&o(19,w=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&o(14,i=null!==p.activeItemIndex&&p.items[p.activeItemIndex].id===A),65536&e.$$.dirty&&(o(5,r=p.buttonStore),g(),g=a(r,(e=>o(21,h=e)))),4&e.$$.dirty&&o(15,l=I?.textContent?.toLowerCase().trim()||""),8192&e.$$.dirty&&(S.disabled=_),32768&e.$$.dirty&&(S.textValue=l),8192&e.$$.dirty&&o(4,c={id:A,role:"menuitem",tabIndex:!0===_?void 0:-1,"aria-disabled":!0===_||void 0}),24576&e.$$.dirty&&o(3,u={active:i,disabled:_})},[v,x,I,u,c,r,k,E,async function(e){if(_)return e.preventDefault();p.closeMenu(),h?.focus({preventScroll:!0})},function(){if(_)return p.goToItem(Bf.Nothing);p.goToItem(Bf.Specific,A)},function(){_||i||p.goToItem(Bf.Specific,A)},function(){_||i&&p.goToItem(Bf.Nothing)},m,_,i,l,p,y,function(e){I=e,o(2,I)},w]}class Fp extends ze{constructor(e){super(),Ve(this,e,Mp,Bp,c,{as:0,use:1,disabled:13})}}var Qp;!function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(Qp||(Qp={}));const jp=e=>({}),Hp=e=>({...e[3]}),qp=e=>({}),Wp=e=>({...e[3]});function Kp(e){let t,n;const o=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[6]]},{name:"Switch"}];let i={$$slots:{default:[zp]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new lf({props:i}),t.$on("click",e[10]),t.$on("keyup",e[11]),t.$on("keypress",Jp),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s=4187&n?Qe(o,[4112&n&&{...e[12],...e[4]},1&n&&{as:e[0]},8&n&&{slotProps:e[3]},66&n&&{use:[...e[1],e[6]]},o[4]]):{};524296&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Vp(e){let t,n,o;const i=[{...e[12],...e[4]},{as:e[0]},{slotProps:e[3]},{use:[...e[1],e[6]]},{name:"Switch"}];function r(t){e[18](t)}let l={$$slots:{default:[Gp]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[2]&&(l.el=e[2]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[2]))),t.$on("click",e[10]),t.$on("keyup",e[11]),t.$on("keypress",Jp),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,s){const o=4187&s?Qe(i,[4112&s&&{...e[12],...e[4]},1&s&&{as:e[0]},8&s&&{slotProps:e[3]},66&s&&{use:[...e[1],e[6]]},i[4]]):{};524296&s&&(o.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,o.el=e[2],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function zp(e){let t;const n=e[17].default,s=f(n,e,e[19],Hp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,jp),Hp)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Gp(e){let t;const n=e[17].default,s=f(n,e,e[19],Wp);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524296&o)&&m(s,n,e,e[19],(e=>8&e)(o)||!t?g(e[19]):h(n,e[19],o,qp),Wp)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Xp(e){let t,n,s,o;const i=[Vp,Kp],r=[];function l(e,t){return e[5]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=B()},m(e,n){r[t].m(e,n),L(e,s,n),o=!0},p(e,[o]){let c=t;t=l(e),t===c?r[t].p(e,o):(Le(),Pe(r[c],1,1,(()=>{r[c]=null})),Oe(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),Ce(n,1),n.m(s.parentNode,s))},i(e){o||(Ce(n),o=!0)},o(e){Pe(n),o=!1},d(e){r[t].d(e),e&&O(s)}}}function Jp(e){e.preventDefault()}function Zp(e,n,o){let i,r,l;const c=["as","use","checked"];let u,f,p,h,m=b(n,c),g=t;e.$$.on_destroy.push((()=>g()));let{$$slots:y={},$$scope:w}=n,{as:v="button"}=n,{use:x=[]}=n,{checked:_=!1}=n;const k=dd(oe(),["change"]),E=ce();let A=ue("headlessui-switch-context");d(e,A,(e=>o(16,h=e)));let I=ue("headlessui-label-context");d(e,I,(e=>o(15,f=e)));let S=ue(Gu);d(e,S,(e=>o(14,u=e)));let T=`headlessui-switch-${_u()}`;function N(){E("change",!_)}return e.$$set=e=>{o(23,n=s(s({},n),$(e))),o(12,m=b(n,c)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"checked"in e&&o(13,_=e.checked),"$$scope"in e&&o(19,w=e.$$scope)},e.$$.update=()=>{65536&e.$$.dirty&&(o(5,i=h?.switchStore),g(),g=a(i,(e=>o(2,p=e)))),o(4,r={id:T,role:"switch",type:Mf({type:n.type,as:v},p),tabIndex:0,"aria-checked":_,"aria-labelledby":f?.labelIds,"aria-describedby":u?.descriptionIds}),8192&e.$$.dirty&&o(3,l={checked:_})},n=$(n),[v,x,p,l,r,i,k,A,I,S,function(e){e.preventDefault(),N()},function(e){let t=e;t.key!==Tu.Tab&&t.preventDefault(),t.key===Tu.Space&&N()},m,_,u,f,h,y,function(e){p=e,i.set(p)},w]}class Yp extends ze{constructor(e){super(),Ve(this,e,Zp,Xp,c,{as:0,use:1,checked:13})}}const eh=e=>({}),th=e=>({...e[2]});function nh(e){let t;const n=e[12].default,s=f(n,e,e[13],th);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||8196&o)&&m(s,n,e,e[13],(e=>4&e)(o)||!t?g(e[13]):h(n,e[13],o,eh),th)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function sh(e){let t,n;const o=[e[5],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"TabGroup"}];let i={$$slots:{default:[nh]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new lf({props:i}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s=47&n?Qe(o,[32&n&&je(e[5]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},o[4]]):{};8196&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}const oh="headlessui-tabs-context";function ih(e){let t=ue(oh);if(void 0===t)throw new Error(`<${e} /> is missing a parent <TabGroup /> component.`);return t}function rh(e,t,n){let o;const i=["as","use","defaultIndex","vertical","manual"];let r,l=b(t,i),{$$slots:c={},$$scope:a}=t,{as:u="div"}=t,{use:f=[]}=t,{defaultIndex:p=0}=t,{vertical:h=!1}=t,{manual:m=!1}=t;const g=dd(oe(),["change"]),y=ce();let w=null,v=[],x=[],_=Xe(null);d(e,_,(e=>n(14,r=e)));let k=Xe({selectedIndex:w,orientation:h?"vertical":"horizontal",activation:m?"manual":"auto",tabs:v,panels:x,listRef:_,setSelectedIndex(e){w!==e&&(n(9,w=e),y("change",e))},registerTab(e){if(v.includes(e))return;if(!r)return void n(10,v=[...v,e]);let t=null!==w?v[w]:null,s=Array.from(r.querySelectorAll('[id^="headlessui-tabs-tab-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),o=[...v,e];o.sort(((e,t)=>s[e.id]-s[t.id])),n(10,v=o),n(9,w=null===t?null:v.indexOf(t))},unregisterTab(e){n(10,v=v.filter((t=>t!==e)))},registerPanel(e){x.includes(e)||n(11,x=[...x,e])},unregisterPanel(e){n(11,x=x.filter((t=>t!==e)))}});return ae(oh,k),ie((()=>{if(v.length<=0)return;if(null!==w)return;let e=v.filter(Boolean),t=e.filter((e=>!e.hasAttribute("disabled")));if(!(t.length<=0))if(p<0)n(9,w=e.indexOf(t[0]));else if(p>e.length)n(9,w=e.indexOf(t[t.length-1]));else{let s=e.slice(0,p),o=[...e.slice(p),...s].find((e=>t.includes(e)));if(!o)return;n(9,w=e.indexOf(o))}})),e.$$set=e=>{t=s(s({},t),$(e)),n(5,l=b(t,i)),"as"in e&&n(0,u=e.as),"use"in e&&n(1,f=e.use),"defaultIndex"in e&&n(6,p=e.defaultIndex),"vertical"in e&&n(7,h=e.vertical),"manual"in e&&n(8,m=e.manual),"$$scope"in e&&n(13,a=e.$$scope)},e.$$.update=()=>{3968&e.$$.dirty&&k.update((e=>({...e,selectedIndex:w,orientation:h?"vertical":"horizontal",activation:m?"manual":"auto",tabs:v,panels:x}))),512&e.$$.dirty&&n(2,o={selectedIndex:w})},[u,f,o,g,_,l,p,h,m,w,v,x,c,a]}class lh extends ze{constructor(e){super(),Ve(this,e,rh,sh,c,{as:0,use:1,defaultIndex:6,vertical:7,manual:8})}}const ch=e=>({}),ah=e=>({...e[5]});function uh(e){let t;const n=e[17].default,s=f(n,e,e[19],ah);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||524320&o)&&m(s,n,e,e[19],(e=>32&e)(o)||!t?g(e[19]):h(n,e[19],o,ch),ah)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function dh(e){let t,n,o;const i=[{...e[12],...e[3]},{as:e[0]},{slotProps:e[5]},{use:[...e[1],e[7]]},{name:"Tab"}];function r(t){e[18](t)}let c={$$slots:{default:[uh]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)c=s(c,i[e]);return void 0!==e[2]&&(c.el=e[2]),t=new lf({props:c}),pe.push((()=>He(t,"el",r,e[2]))),t.$on("keydown",e[9]),t.$on("click",e[11]),t.$on("focus",(function(){l("manual"===e[4].activation?e[10]:e[11])&&("manual"===e[4].activation?e[10]:e[11]).apply(this,arguments)})),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(s,[o]){e=s;const r=4267&o?Qe(i,[4104&o&&{...e[12],...e[3]},1&o&&{as:e[0]},32&o&&{slotProps:e[5]},130&o&&{use:[...e[1],e[7]]},i[4]]):{};524320&o&&(r.$$scope={dirty:o,ctx:e}),!n&&4&o&&(n=!0,r.el=e[2],ve((()=>n=!1))),t.$set(r)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function fh(e,n,o){let i,r,l,c,u;const f=["as","use","disabled"];let p,h,m=b(n,f),g=t;e.$$.on_destroy.push((()=>g()));let{$$slots:y={},$$scope:w}=n,{as:v="button"}=n,{use:x=[]}=n,{disabled:_=!1}=n;const k=dd(oe());let E=ih("Tab");d(e,E,(e=>o(4,p=e)));let A=`headlessui-tabs-tab-${_u()}`,I=null;return ie((()=>(p.registerTab(I),()=>p.unregisterTab(I)))),e.$$set=e=>{o(21,n=s(s({},n),$(e))),o(12,m=b(n,f)),"as"in e&&o(0,v=e.as),"use"in e&&o(1,x=e.use),"disabled"in e&&o(13,_=e.disabled),"$$scope"in e&&o(19,w=e.$$scope)},e.$$.update=()=>{20&e.$$.dirty&&o(15,i=I?p.tabs.indexOf(I):-1),32784&e.$$.dirty&&o(14,r=i===p.selectedIndex),32784&e.$$.dirty&&(o(6,l=p.panels[i]?.ref),g(),g=a(l,(e=>o(16,h=e)))),o(3,c={id:A,role:"tab",type:Mf({type:n.type,as:v},I),"aria-controls":h?p.panels[i]?.id:void 0,"aria-selected":r,tabIndex:r?0:-1,disabled:!!_||void 0}),e.$$.dirty,16384&e.$$.dirty&&o(5,u={selected:r})},n=$(n),[v,x,I,c,p,u,l,k,E,function(e){let t=e,n=p.tabs.filter(Boolean);if(t.key===Tu.Space||t.key===Tu.Enter)return t.preventDefault(),t.stopPropagation(),void p.setSelectedIndex(i);switch(t.key){case Tu.Home:case Tu.PageUp:return t.preventDefault(),t.stopPropagation(),Du(n,Lu.First);case Tu.End:case Tu.PageDown:return t.preventDefault(),t.stopPropagation(),Du(n,Lu.Last)}return vu(p.orientation,{vertical:()=>t.key===Tu.ArrowUp?Du(n,Lu.Previous|Lu.WrapAround):t.key===Tu.ArrowDown?Du(n,Lu.Next|Lu.WrapAround):void 0,horizontal:()=>t.key===Tu.ArrowLeft?Du(n,Lu.Previous|Lu.WrapAround):t.key===Tu.ArrowRight?Du(n,Lu.Next|Lu.WrapAround):void 0})},function(){I?.focus()},function(){_||(I?.focus(),p.setSelectedIndex(i))},m,_,r,i,h,y,function(e){I=e,o(2,I)},w]}class ph extends ze{constructor(e){super(),Ve(this,e,fh,dh,c,{as:0,use:1,disabled:13})}}const hh=e=>({}),mh=e=>({...e[2]});function gh(e){let t;const n=e[10].default,s=f(n,e,e[12],mh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4100&o)&&m(s,n,e,e[12],(e=>4&e)(o)||!t?g(e[12]):h(n,e[12],o,hh),mh)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function $h(e){let t,n,o;const i=[{...e[8],...e[3]},{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[5]]},{name:"TabList"}];function r(t){e[11](t)}let l={$$slots:{default:[gh]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[4]&&(l.el=e[4]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[4]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=303&s?Qe(i,[264&s&&{...e[8],...e[3]},1&s&&{as:e[0]},4&s&&{slotProps:e[2]},34&s&&{use:[...e[1],e[5]]},i[4]]):{};4100&s&&(o.$$scope={dirty:s,ctx:e}),!n&&16&s&&(n=!0,o.el=e[4],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function bh(e,t,n){let o,i;const r=["as","use"];let l,c,a=b(t,r),{$$slots:u={},$$scope:f}=t,{as:p="div"}=t,{use:h=[]}=t;const m=dd(oe());let g=ih("TabList");d(e,g,(e=>n(9,l=e)));let y=l.listRef;return d(e,y,(e=>n(4,c=e))),e.$$set=e=>{t=s(s({},t),$(e)),n(8,a=b(t,r)),"as"in e&&n(0,p=e.as),"use"in e&&n(1,h=e.use),"$$scope"in e&&n(12,f=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&n(3,o={role:"tablist","aria-orientation":l.orientation}),512&e.$$.dirty&&n(2,i={selectedIndex:l.selectedIndex})},[p,h,i,o,c,m,g,y,a,l,u,function(e){c=e,y.set(c)},f]}class yh extends ze{constructor(e){super(),Ve(this,e,bh,$h,c,{as:0,use:1})}}const wh=e=>({}),vh=e=>({...e[2]});function xh(e){let t;const n=e[7].default,s=f(n,e,e[8],vh);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||260&o)&&m(s,n,e,e[8],(e=>4&e)(o)||!t?g(e[8]):h(n,e[8],o,wh),vh)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function _h(e){let t,n;const o=[e[5],{as:e[0]},{slotProps:e[2]},{use:[...e[1],e[3]]},{name:"TabPanels"}];let i={$$slots:{default:[xh]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)i=s(i,o[e]);return t=new lf({props:i}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s=47&n?Qe(o,[32&n&&je(e[5]),1&n&&{as:e[0]},4&n&&{slotProps:e[2]},10&n&&{use:[...e[1],e[3]]},o[4]]):{};260&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function kh(e,t,n){let o;const i=["as","use"];let r,l=b(t,i),{$$slots:c={},$$scope:a}=t,{as:u="div"}=t,{use:f=[]}=t;const p=dd(oe());let h=ih("TabPanels");return d(e,h,(e=>n(6,r=e))),e.$$set=e=>{t=s(s({},t),$(e)),n(5,l=b(t,i)),"as"in e&&n(0,u=e.as),"use"in e&&n(1,f=e.use),"$$scope"in e&&n(8,a=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(2,o={selectedIndex:r.selectedIndex})},[u,f,o,p,h,l,r,c,a]}class Eh extends ze{constructor(e){super(),Ve(this,e,kh,_h,c,{as:0,use:1})}}const Ah=e=>({}),Ih=e=>({...e[4]});function Sh(e){let t;const n=e[13].default,s=f(n,e,e[15],Ih);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||32784&o)&&m(s,n,e,e[15],(e=>16&e)(o)||!t?g(e[15]):h(n,e[15],o,Ah),Ih)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Th(e){let t,n,o;const i=[{...e[9],...e[3]},{as:e[0]},{use:[...e[1],e[6]]},{name:"TabPanel"},{slotProps:e[4]},{visible:e[2]},{features:hd.RenderStrategy|hd.Static}];function r(t){e[14](t)}let l={$$slots:{default:[Sh]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)l=s(l,i[e]);return void 0!==e[5]&&(l.el=e[5]),t=new lf({props:l}),pe.push((()=>He(t,"el",r,e[5]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[s]){const o=607&s?Qe(i,[520&s&&{...e[9],...e[3]},1&s&&{as:e[0]},66&s&&{use:[...e[1],e[6]]},i[3],16&s&&{slotProps:e[4]},4&s&&{visible:e[2]},0&s&&{features:hd.RenderStrategy|hd.Static}]):{};32784&s&&(o.$$scope={dirty:s,ctx:e}),!n&&32&s&&(n=!0,o.el=e[5],ve((()=>n=!1))),t.$set(o)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function Nh(e,t,n){let o,i,r,l,c;const a=["as","use"];let u,f,p=b(t,a),{$$slots:h={},$$scope:m}=t,{as:g="div"}=t,{use:y=[]}=t;const w=dd(oe());let v=Xe(null);d(e,v,(e=>n(5,f=e)));let x=ih("TabPanel");d(e,x,(e=>n(12,u=e)));let _=`headlessui-tabs-panel-${_u()}`;return ie((()=>(u.registerPanel(o),()=>u.unregisterPanel(o)))),e.$$set=e=>{t=s(s({},t),$(e)),n(9,p=b(t,a)),"as"in e&&n(0,g=e.as),"use"in e&&n(1,y=e.use),"$$scope"in e&&n(15,m=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&n(10,i=u.panels.indexOf(o)),5120&e.$$.dirty&&n(2,r=i===u.selectedIndex),5124&e.$$.dirty&&n(3,l={id:_,role:"tabpanel","aria-labelledby":u.tabs[i]?.id,tabIndex:r?0:-1}),e.$$.dirty,4&e.$$.dirty&&n(4,c={selected:r})},n(11,o={id:_,ref:v}),[g,y,r,l,c,f,w,v,x,p,i,o,u,h,function(e){f=e,v.set(f)},m]}class Lh extends ze{constructor(e){super(),Ve(this,e,Nh,Th,c,{as:0,use:1})}}var Oh,Ch;function Ph(e){let n,s,o,i,r,l,c,a;return{c(){n=P("div"),s=R("svg"),o=R("path"),r=U(),l=P("p"),c=D(e[0]),F(o,"d",i=e[3][e[2]]),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 48 48"),F(s,"class","fill-neutral-800 w-9 h-9 drop-shadow-component svelte-1adgtxp"),F(l,"class","font-semibold text-xs leading-3 "),F(n,"class",a="flex flex-col items-center justify-center cursor-pointer "+e[4].class+" svelte-1adgtxp"),F(n,"title",e[1])},m(e,t){L(e,n,t),S(n,s),S(s,o),S(n,r),S(n,l),S(l,c)},p(e,[t]){4&t&&i!==(i=e[3][e[2]])&&F(o,"d",i),1&t&&H(c,e[0]),16&t&&a!==(a="flex flex-col items-center justify-center cursor-pointer "+e[4].class+" svelte-1adgtxp")&&F(n,"class",a),2&t&&F(n,"title",e[1])},i:t,o:t,d(e){e&&O(n)}}}function Rh(e,t,n){const o=["text","title","icon"];let i=b(t,o),{text:r}=t,{title:l}=t,{icon:c}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,i=b(t,o)),"text"in e&&n(0,r=e.text),"title"in e&&n(1,l=e.title),"icon"in e&&n(2,c=e.icon)},[r,l,c,{settings:"M27.3 44H20.7Q20.15 44 19.725 43.65Q19.3 43.3 19.2 42.75L18.4 37.7Q17.45 37.35 16.4 36.75Q15.35 36.15 14.55 35.5L9.9 37.65Q9.35 37.9 8.8 37.725Q8.25 37.55 7.95 37L4.65 31.15Q4.35 30.65 4.5 30.1Q4.65 29.55 5.1 29.2L9.4 26.05Q9.3 25.6 9.275 25.025Q9.25 24.45 9.25 24Q9.25 23.55 9.275 22.975Q9.3 22.4 9.4 21.95L5.1 18.8Q4.65 18.45 4.5 17.9Q4.35 17.35 4.65 16.85L7.95 11Q8.25 10.45 8.8 10.275Q9.35 10.1 9.9 10.35L14.55 12.5Q15.35 11.85 16.4 11.25Q17.45 10.65 18.4 10.35L19.2 5.25Q19.3 4.7 19.725 4.35Q20.15 4 20.7 4H27.3Q27.85 4 28.275 4.35Q28.7 4.7 28.8 5.25L29.6 10.3Q30.55 10.65 31.625 11.225Q32.7 11.8 33.45 12.5L38.1 10.35Q38.65 10.1 39.2 10.275Q39.75 10.45 40.05 11L43.35 16.8Q43.65 17.3 43.525 17.875Q43.4 18.45 42.9 18.8L38.6 21.85Q38.7 22.35 38.725 22.925Q38.75 23.5 38.75 24Q38.75 24.5 38.725 25.05Q38.7 25.6 38.6 26.1L42.9 29.2Q43.35 29.55 43.5 30.1Q43.65 30.65 43.35 31.15L40.05 37Q39.75 37.55 39.2 37.725Q38.65 37.9 38.1 37.65L33.45 35.5Q32.65 36.15 31.625 36.775Q30.6 37.4 29.6 37.7L28.8 42.75Q28.7 43.3 28.275 43.65Q27.85 44 27.3 44ZM24 30.5Q26.7 30.5 28.6 28.6Q30.5 26.7 30.5 24Q30.5 21.3 28.6 19.4Q26.7 17.5 24 17.5Q21.3 17.5 19.4 19.4Q17.5 21.3 17.5 24Q17.5 26.7 19.4 28.6Q21.3 30.5 24 30.5Z",save:"M9 42Q7.8 42 6.9 41.1Q6 40.2 6 39V9Q6 7.8 6.9 6.9Q7.8 6 9 6H32.9Q33.5 6 34.05 6.225Q34.6 6.45 35.05 6.9L41.1 12.95Q41.55 13.4 41.775 13.95Q42 14.5 42 15.1V39Q42 40.2 41.1 41.1Q40.2 42 39 42ZM24 35.75Q26.15 35.75 27.675 34.225Q29.2 32.7 29.2 30.55Q29.2 28.4 27.675 26.875Q26.15 25.35 24 25.35Q21.85 25.35 20.325 26.875Q18.8 28.4 18.8 30.55Q18.8 32.7 20.325 34.225Q21.85 35.75 24 35.75ZM13.15 18.8H28.05Q28.7 18.8 29.125 18.375Q29.55 17.95 29.55 17.3V13.15Q29.55 12.5 29.125 12.075Q28.7 11.65 28.05 11.65H13.15Q12.5 11.65 12.075 12.075Q11.65 12.5 11.65 13.15V17.3Q11.65 17.95 12.075 18.375Q12.5 18.8 13.15 18.8Z",open:"M7 40Q5.85 40 4.925 39.075Q4 38.15 4 37V11Q4 9.85 4.925 8.925Q5.85 8 7 8H19.8Q20.4 8 20.975 8.25Q21.55 8.5 21.95 8.9L24.05 11H41Q42.15 11 43.075 11.925Q44 12.85 44 14H10Q8.75 14 7.875 14.875Q7 15.75 7 17V37Q7 37 7 37Q7 37 7 37L11.5 19.25Q11.75 18.25 12.6 17.625Q13.45 17 14.45 17H43.1Q44.55 17 45.5 18.15Q46.45 19.3 46.05 20.75L41.65 37.7Q41.35 38.9 40.55 39.45Q39.75 40 38.5 40Z",language:"M24 44Q19.8 44 16.15 42.425Q12.5 40.85 9.8 38.15Q7.1 35.45 5.55 31.775Q4 28.1 4 23.9Q4 19.7 5.55 16.075Q7.1 12.45 9.8 9.75Q12.5 7.05 16.15 5.525Q19.8 4 24 4Q28.2 4 31.85 5.525Q35.5 7.05 38.2 9.75Q40.9 12.45 42.45 16.075Q44 19.7 44 23.9Q44 28.1 42.45 31.775Q40.9 35.45 38.2 38.15Q35.5 40.85 31.85 42.425Q28.2 44 24 44ZM31.9 16.5H39.4Q37.75 13.05 34.875 10.75Q32 8.45 28.25 7.5Q29.5 9.35 30.375 11.5Q31.25 13.65 31.9 16.5ZM19.2 16.5H28.9Q28.35 13.85 27.05 11.375Q25.75 8.9 24 7Q22.4 8.35 21.3 10.55Q20.2 12.75 19.2 16.5ZM7.6 28.45H15.55Q15.4 27.1 15.375 26.025Q15.35 24.95 15.35 23.9Q15.35 22.65 15.4 21.675Q15.45 20.7 15.6 19.5H7.6Q7.25 20.7 7.125 21.65Q7 22.6 7 23.9Q7 25.2 7.125 26.225Q7.25 27.25 7.6 28.45ZM19.75 40.5Q18.5 38.6 17.6 36.4Q16.7 34.2 16.1 31.45H8.6Q10.5 35 13 37.025Q15.5 39.05 19.75 40.5ZM8.6 16.5H16.15Q16.7 13.8 17.55 11.675Q18.4 9.55 19.7 7.55Q15.95 8.5 13.15 10.75Q10.35 13 8.6 16.5ZM24 41.1Q25.75 39.3 26.925 36.975Q28.1 34.65 28.85 31.45H19.2Q19.9 34.45 21.075 36.85Q22.25 39.25 24 41.1ZM18.65 28.45H29.4Q29.6 26.9 29.65 25.925Q29.7 24.95 29.7 23.9Q29.7 22.9 29.65 21.975Q29.6 21.05 29.4 19.5H18.65Q18.45 21.05 18.4 21.975Q18.35 22.9 18.35 23.9Q18.35 24.95 18.4 25.925Q18.45 26.9 18.65 28.45ZM28.3 40.45Q31.9 39.3 34.775 37Q37.65 34.7 39.4 31.45H31.95Q31.3 34.15 30.425 36.35Q29.55 38.55 28.3 40.45ZM32.4 28.45H40.4Q40.75 27.25 40.875 26.225Q41 25.2 41 23.9Q41 22.6 40.875 21.65Q40.75 20.7 40.4 19.5H32.45Q32.6 21.25 32.65 22.175Q32.7 23.1 32.7 23.9Q32.7 25 32.625 25.975Q32.55 26.95 32.4 28.45Z",manual:"M24.05 31.5Q22.9 31.5 22.225 30.7Q21.55 29.9 21.7 28.75Q21.95 26.95 22.775 25.55Q23.6 24.15 25.3 22.65Q27.4 20.75 28.525 19.125Q29.65 17.5 29.65 15.65Q29.65 13.4 28.15 11.9Q26.65 10.4 23.95 10.4Q22.1 10.4 20.875 11.15Q19.65 11.9 18.9 13Q18.35 13.8 17.5 14.1Q16.65 14.4 15.85 14.05Q14.85 13.65 14.625 12.6Q14.4 11.55 14.95 10.7Q16.35 8.65 18.625 7.325Q20.9 6 23.95 6Q28.95 6 31.65 8.775Q34.35 11.55 34.35 15.45Q34.35 17.85 33.325 19.8Q32.3 21.75 30.05 23.9Q28.3 25.6 27.6 26.65Q26.9 27.7 26.7 29.05Q26.55 30.1 25.8 30.8Q25.05 31.5 24.05 31.5ZM23.95 44Q22.5 44 21.475 42.975Q20.45 41.95 20.45 40.5Q20.45 39.05 21.475 38.025Q22.5 37 23.95 37Q25.4 37 26.425 38.025Q27.45 39.05 27.45 40.5Q27.45 41.95 26.425 42.975Q25.4 44 23.95 44Z",examples:"M15.95 35.5h16.1v-3h-16.1Zm0-8.5h16.1v-3h-16.1ZM11 44q-1.2 0-2.1-.9Q8 42.2 8 41V7q0-1.2.9-2.1Q9.8 4 11 4h18.05L40 14.95V41q0 1.2-.9 2.1-.9.9-2.1.9Zm16.55-27.7H37L27.55 7Z",copyright:"M19.35 32.55h9.05q.9 0 1.5-.65t.6-1.5v-2.8q0-.5-.375-.875t-.825-.375h-1.7q-.55 0-.9.35t-.35.9v.85H21.6v-8.9h4.75v.9q0 .5.375.875t.875.375h1.7q.5 0 .85-.35t.35-.9V17.6q0-.9-.6-1.525-.6-.625-1.5-.625h-9.05q-.85 0-1.375.65t-.525 1.6v12.65q0 .9.525 1.55t1.375.65Zm4.7 12.7q-4.55 0-8.45-1.625Q11.7 42 8.85 39.15 6 36.3 4.375 32.4 2.75 28.5 2.75 23.95q0-4.45 1.625-8.325Q6 11.75 8.85 8.875 11.7 6 15.6 4.35q3.9-1.65 8.45-1.65 4.45 0 8.325 1.65Q36.25 6 39.125 8.875 42 11.75 43.65 15.625 45.3 19.5 45.3 24t-1.65 8.4q-1.65 3.9-4.525 6.75-2.875 2.85-6.75 4.475Q28.5 45.25 24.05 45.25ZM24 24Zm0 16.55q7.05 0 11.8-4.725Q40.55 31.1 40.55 24T35.8 12.175Q31.05 7.45 24 7.45q-7.05 0-11.8 4.725Q7.45 16.9 7.45 24t4.75 11.825Q16.95 40.55 24 40.55Z"},i]}!function(e){e.Finished="finished",e.Cancelled="cancelled"}(Oh||(Oh={})),function(e){e.Visible="visible",e.Hidden="hidden"}(Ch||(Ch={}));class Dh extends ze{constructor(e){super(),Ve(this,e,Rh,Ph,c,{text:0,title:1,icon:2})}}function Uh(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=P("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-blue-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-blue-700 focus:bg-blue-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){L(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-blue-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-blue-700 focus:bg-blue-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ce(c,e),s=!0)},o(e){Pe(c,e),s=!1},d(e){e&&O(t),c&&c.d(e),o=!1,r(i)}}}function Bh(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class Mh extends ze{constructor(e){super(),Ve(this,e,Bh,Uh,c,{disabled:0})}}function Fh(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=P("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-gray-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-gray-700 focus:bg-gray-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){L(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-gray-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-gray-700 focus:bg-gray-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ce(c,e),s=!0)},o(e){Pe(c,e),s=!1},d(e){e&&O(t),c&&c.d(e),o=!1,r(i)}}}function Qh(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class jh extends ze{constructor(e){super(),Ve(this,e,Qh,Fh,c,{disabled:0})}}function Hh(e){let t,n=e[2].menu.overlays.save_to_file.title+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.title+"")&&H(t,n)},d(e){e&&O(t)}}}function qh(e){let t,n=e[2].menu.overlays.save_to_file.buttons.save.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.buttons.save.text+"")&&H(t,n)},d(e){e&&O(t)}}}function Wh(e){let t,n=e[2].menu.overlays.save_to_file.buttons.cancel.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){4&s&&n!==(n=e[2].menu.overlays.save_to_file.buttons.cancel.text+"")&&H(t,n)},d(e){e&&O(t)}}}function Kh(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b;return t=new Df({props:{class:"fixed top-0 left-0 bg-black/40 w-screen h-screen"}}),o=new Nf({props:{$$slots:{default:[Hh]},$$scope:{ctx:e}}}),p=new Mh({props:{title:e[2].menu.overlays.save_to_file.buttons.save.title,$$slots:{default:[qh]},$$scope:{ctx:e}}}),p.$on("click",e[3]),m=new jh({props:{title:e[2].menu.overlays.save_to_file.buttons.cancel.title,$$slots:{default:[Wh]},$$scope:{ctx:e}}}),m.$on("click",e[4]),{c(){qe(t.$$.fragment),n=U(),s=P("div"),qe(o.$$.fragment),i=U(),r=P("div"),l=P("input"),a=U(),u=P("span"),u.textContent=".cpuvs",d=U(),f=P("div"),qe(p.$$.fragment),h=U(),qe(m.$$.fragment),F(l,"type","text"),F(l,"placeholder",c=e[2].menu.overlays.save_to_file.inputs.filename.placeholder),F(l,"class","border-2 border-black rounded-md"),F(u,"class","ml-1"),F(r,"class","flex items-center justify-center"),F(f,"class","flex items-center justify-center gap-2"),F(s,"class","fixed top-[50vh] left-[50vw] -translate-x-2/4 -translate-y-2/4 bg-white flex flex-col items-center justify-center gap-4 p-6 rounded-lg shadow-lg ")},m(c,y){We(t,c,y),L(c,n,y),L(c,s,y),We(o,s,null),S(s,i),S(s,r),S(r,l),q(l,e[1]),S(r,a),S(r,u),S(s,d),S(s,f),We(p,f,null),S(f,h),We(m,f,null),g=!0,$||(b=M(l,"input",e[6]),$=!0)},p(e,t){const n={};1028&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n),(!g||4&t&&c!==(c=e[2].menu.overlays.save_to_file.inputs.filename.placeholder))&&F(l,"placeholder",c),2&t&&l.value!==e[1]&&q(l,e[1]);const s={};4&t&&(s.title=e[2].menu.overlays.save_to_file.buttons.save.title),1028&t&&(s.$$scope={dirty:t,ctx:e}),p.$set(s);const i={};4&t&&(i.title=e[2].menu.overlays.save_to_file.buttons.cancel.title),1028&t&&(i.$$scope={dirty:t,ctx:e}),m.$set(i)},i(e){g||(Ce(t.$$.fragment,e),Ce(o.$$.fragment,e),Ce(p.$$.fragment,e),Ce(m.$$.fragment,e),g=!0)},o(e){Pe(t.$$.fragment,e),Pe(o.$$.fragment,e),Pe(p.$$.fragment,e),Pe(m.$$.fragment,e),g=!1},d(e){Ke(t,e),e&&O(n),e&&O(s),Ke(o),Ke(p),Ke(m),$=!1,b()}}}function Vh(e){let t,n;return t=new kf({props:{open:e[0],$$slots:{default:[Kh]},$$scope:{ctx:e}}}),t.$on("close",e[5]),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.open=e[0]),1030&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function zh(e,t,n){let s,o,i;d(e,dr,(e=>n(7,s=e))),d(e,ur,(e=>n(8,o=e))),d(e,Oi,(e=>n(2,i=e)));const r=ce();let{open:l}=t,c="";return e.$$set=e=>{"open"in e&&n(0,l=e.open)},[l,c,i,function(){""!==c&&(_c(rc(o,s),`${c}.cpuvs`),n(1,c=""),r("close"))},function(){n(1,c=""),r("close")},function(){n(1,c=""),r("close")},function(){c=this.value,n(1,c)}]}class Gh extends ze{constructor(e){super(),Ve(this,e,zh,Vh,c,{open:0})}}function Xh(e){let n,s,o,i,l,c,a,u;return{c(){n=P("button"),s=R("svg"),o=R("path"),i=R("path"),F(o,"d","M0 0h24v24H0V0z"),F(o,"fill","none"),F(i,"d","M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"),F(s,"xmlns","http://www.w3.org/2000/svg"),F(s,"viewBox","0 0 24 24"),F(s,"fill","#FFFFFF"),F(s,"class",l=(e[0]?"":"hover:scale-105")+" fill-black"),W(s,"width",e[1]),W(s,"height",e[1]),F(n,"class",c="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[2].class),n.disabled=e[0]},m(t,r){L(t,n,r),S(n,s),S(s,o),S(s,i),a||(u=[M(n,"click",e[3]),M(n,"focus",e[4]),M(n,"focusout",e[5]),M(n,"mouseenter",e[6]),M(n,"mouseleave",e[7]),M(n,"mouseover",e[8])],a=!0)},p(e,[t]){1&t&&l!==(l=(e[0]?"":"hover:scale-105")+" fill-black")&&F(s,"class",l),2&t&&W(s,"width",e[1]),2&t&&W(s,"height",e[1]),4&t&&c!==(c="disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[2].class)&&F(n,"class",c),1&t&&(n.disabled=e[0])},i:t,o:t,d(e){e&&O(n),a=!1,r(u)}}}function Jh(e,t,n){const o=["disabled","size"];let i=b(t,o),{disabled:r=!1}=t,{size:l=40}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(2,i=b(t,o)),"disabled"in e&&n(0,r=e.disabled),"size"in e&&n(1,l=e.size)},[r,l,i,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class Zh extends ze{constructor(e){super(),Ve(this,e,Jh,Xh,c,{disabled:0,size:1})}}function Yh(e,t,n){const s=e.slice();return s[4]=t[n],s}function em(e,t,n){const s=e.slice();return s[4]=t[n],s}function tm(e){let t,n,s=e[4]+"";return{c(){t=P("p"),n=D(s)},m(e,s){L(e,t,s),S(t,n)},p(e,t){2&t&&s!==(s=e[4]+"")&&H(n,s)},d(e){e&&O(t)}}}function nm(e){let t,n,s=e[4]+"";return{c(){t=P("p"),n=D(s),F(t,"class","mb-4")},m(e,s){L(e,t,s),S(t,n)},p(e,t){2&t&&s!==(s=e[4]+"")&&H(n,s)},d(e){e&&O(t)}}}function sm(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,k,E=e[1].menu.overlays.copyright.subsections.copyright_notice.title+"",A=e[1].menu.overlays.copyright.subsections.copyright_notice.disclaimer+"",I=e[1].menu.overlays.copyright.subsections.credits.title+"";t=new Df({props:{class:"fixed top-0 left-0 bg-black/40 w-screen h-screen"}}),o=new Zh({props:{class:"absolute top-3 right-3",size:30}}),o.$on("click",e[2]);let T=e[1].menu.overlays.copyright.subsections.copyright_notice.paragraphs,N=[];for(let t=0;t<T.length;t+=1)N[t]=tm(em(e,T,t));let R=e[1].menu.overlays.copyright.subsections.credits.paragraphs,B=[];for(let t=0;t<R.length;t+=1)B[t]=nm(Yh(e,R,t));return{c(){qe(t.$$.fragment),n=U(),s=P("div"),qe(o.$$.fragment),i=U(),r=P("div"),l=P("h2"),c=D(E),a=U();for(let e=0;e<N.length;e+=1)N[e].c();u=U(),d=P("p"),f=D(A),p=U(),h=P("a"),h.textContent="LinkedIn",m=U(),g=P("div"),$=P("h2"),b=D(I),y=U();for(let e=0;e<B.length;e+=1)B[e].c();w=U(),v=P("p"),v.innerHTML='[1]\n\t\t\t\t<a href="https://www.ppig.org/files/2021-PPIG-32nd-DC-cortinovis.pdf" target="_blank" class="text-blue-700 hover:underline">Cortinovis, R., and Rajan, R. (2022) Evaluating and improving the Educational CPU Visual Simulator:\n\t\t\t\t\ta sustainable Open Pedagogy approach. Proceedings of the 33rd Annual Workshop of the Psychology of\n\t\t\t\t\tProgramming Interest Group (PPIG), Milton Keynes, United Kingdom.</a>',x=U(),_=P("p"),_.innerHTML='[2]\n\t\t\t\t<a href="resources/papers/evaluating_and_improving_the_educational_cpu_visual_simulator_a_sustainable_open_pedagogy_approach.pdf" target="_blank" class="text-blue-700 hover:underline">Cortinovis, R. (2021) An Educational CPU Visual Simulator. Proceedings of the 32nd Annual Workshop\n\t\t\t\t\tof the Psychology of Programming Interest Group (PPIG), York, United Kingdom.</a>',F(l,"class","text-lg font-semibold mb-2"),F(h,"href","https://www.linkedin.com/in/jonathan-cancelli-4b46b3209"),F(h,"target","_blank"),F(h,"class","text-blue-700 hover:underline"),F(d,"class","mt-2"),F(r,"class","text-center"),F($,"class","text-lg font-semibold mb-2"),F(v,"class","mb-2"),F(g,"class","text-center"),F(s,"class","fixed top-[50vh] left-[50vw] max-h-screen max-w-screen overflow-auto -translate-x-2/4 -translate-y-2/4 bg-white flex flex-col items-center justify-center gap-6 p-10 rounded-2xl shadow-lg ")},m(e,E){We(t,e,E),L(e,n,E),L(e,s,E),We(o,s,null),S(s,i),S(s,r),S(r,l),S(l,c),S(r,a);for(let e=0;e<N.length;e+=1)N[e].m(r,null);S(r,u),S(r,d),S(d,f),S(d,p),S(d,h),S(s,m),S(s,g),S(g,$),S($,b),S(g,y);for(let e=0;e<B.length;e+=1)B[e].m(g,null);S(g,w),S(g,v),S(g,x),S(g,_),k=!0},p(e,t){if((!k||2&t)&&E!==(E=e[1].menu.overlays.copyright.subsections.copyright_notice.title+"")&&H(c,E),2&t){let n;for(T=e[1].menu.overlays.copyright.subsections.copyright_notice.paragraphs,n=0;n<T.length;n+=1){const s=em(e,T,n);N[n]?N[n].p(s,t):(N[n]=tm(s),N[n].c(),N[n].m(r,u))}for(;n<N.length;n+=1)N[n].d(1);N.length=T.length}if((!k||2&t)&&A!==(A=e[1].menu.overlays.copyright.subsections.copyright_notice.disclaimer+"")&&H(f,A),(!k||2&t)&&I!==(I=e[1].menu.overlays.copyright.subsections.credits.title+"")&&H(b,I),2&t){let n;for(R=e[1].menu.overlays.copyright.subsections.credits.paragraphs,n=0;n<R.length;n+=1){const s=Yh(e,R,n);B[n]?B[n].p(s,t):(B[n]=nm(s),B[n].c(),B[n].m(g,w))}for(;n<B.length;n+=1)B[n].d(1);B.length=R.length}},i(e){k||(Ce(t.$$.fragment,e),Ce(o.$$.fragment,e),k=!0)},o(e){Pe(t.$$.fragment,e),Pe(o.$$.fragment,e),k=!1},d(e){Ke(t,e),e&&O(n),e&&O(s),Ke(o),C(N,e),C(B,e)}}}function om(e){let t,n;return t=new kf({props:{open:e[0],$$slots:{default:[sm]},$$scope:{ctx:e}}}),t.$on("close",e[2]),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.open=e[0]),514&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function im(e,t,n){let s;d(e,Oi,(e=>n(1,s=e)));const o=ce();let{open:i}=t;return e.$$set=e=>{"open"in e&&n(0,i=e.open)},[i,s,function(){o("close")}]}class rm extends ze{constructor(e){super(),Ve(this,e,im,om,c,{open:0})}}function lm(e,t,n){const s=e.slice();return s[16]=t[n],s}function cm(e){let t,n;return t=new Dh({props:{text:e[2].menu.buttons.examples.text,title:e[2].menu.buttons.examples.title,icon:"examples"}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.text=e[2].menu.buttons.examples.text),4&n&&(s.title=e[2].menu.buttons.examples.title),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function am(e){let t,n,s,o,i,r=e[2].menu.buttons.examples.examples[e[16].id].text+"";function l(){return e[10](e[16])}return{c(){t=P("button"),n=D(r),s=U(),F(t,"class","text-base leading-none")},m(e,r){L(e,t,r),S(t,n),L(e,s,r),o||(i=M(t,"click",l),o=!0)},p(t,s){e=t,4&s&&r!==(r=e[2].menu.buttons.examples.examples[e[16].id].text+"")&&H(n,r)},d(e){e&&O(t),e&&O(s),o=!1,i()}}}function um(e){let t,n;return t=new Fp({props:{class:"\n\t\t\t\t\t\tbg-neutral-500\n\t\t\t\t\t\ttext-gray-200\n\t\t\t\t\t\ttext-sm\n\t\t\t\t\t\tpy-1\n\t\t\t\t\t\tpx-2\n\t\t\t\t\t\tborder-b-2\n\t\t\t\t\t\tborder-neutral-700\n\t\t\t\t\t\tfirst:rounded-t-md\n\t\t\t\t\t\tlast:border-0\n\t\t\t\t\t\tlast:rounded-b-md\n\t\t\t\t\t\thover:brightness-[.93]\n\t\t\t\t\t\tactive:brightness-[.80]\n\t\t\t\t\t",title:e[2].menu.buttons.examples.examples[e[16].id].title,$$slots:{default:[am]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.title=e[2].menu.buttons.examples.examples[e[16].id].title),524292&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function dm(e){let t,n,s=e[3],o=[];for(let t=0;t<s.length;t+=1)o[t]=um(lm(e,s,t));const i=e=>Pe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=B()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);L(e,t,s),n=!0},p(e,n){if(76&n){let r;for(s=e[3],r=0;r<s.length;r+=1){const i=lm(e,s,r);o[r]?(o[r].p(i,n),Ce(o[r],1)):(o[r]=um(i),o[r].c(),Ce(o[r],1),o[r].m(t.parentNode,t))}for(Le(),r=s.length;r<o.length;r+=1)i(r);Oe()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)Ce(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)Pe(o[e]);n=!1},d(e){C(o,e),e&&O(t)}}}function fm(e){let t,n,s,o;return t=new Sp({props:{$$slots:{default:[cm]},$$scope:{ctx:e}}}),s=new Pp({props:{class:"absolute flex flex-col mt-1 bg-neutral-500 border-2 border-neutral-800 shadow-lg rounded-md",$$slots:{default:[dm]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment)},m(e,i){We(t,e,i),L(e,n,i),We(s,e,i),o=!0},p(e,n){const o={};524292&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};524292&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),o=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e)}}}function pm(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,k,E;return s=new Dh({props:{text:e[2].menu.buttons.copyright.text,title:e[2].menu.buttons.copyright.title,icon:"copyright"}}),l=new Dh({props:{text:e[2].menu.buttons.settings.text,title:e[2].menu.buttons.settings.title,icon:"settings"}}),u=new Dh({props:{text:e[2].menu.buttons.save.text,title:e[2].menu.buttons.save.title,icon:"save"}}),p=new Dh({props:{text:e[2].menu.buttons.load.text,title:e[2].menu.buttons.load.title,icon:"open"}}),m=new xp({props:{$$slots:{default:[fm]},$$scope:{ctx:e}}}),b=new Dh({props:{text:e[2].menu.buttons.manual.text,title:e[2].menu.buttons.manual.title,icon:"manual"}}),w=new Gh({props:{open:e[0]}}),w.$on("close",e[11]),x=new rm({props:{open:e[1]}}),x.$on("close",e[12]),{c(){t=P("div"),n=P("button"),qe(s.$$.fragment),o=U(),i=P("button"),qe(l.$$.fragment),c=U(),a=P("button"),qe(u.$$.fragment),d=U(),f=P("button"),qe(p.$$.fragment),h=U(),qe(m.$$.fragment),g=U(),$=P("button"),qe(b.$$.fragment),y=U(),qe(w.$$.fragment),v=U(),qe(x.$$.fragment),F(t,"class","absolute top-0 right-0 p-2 flex flex-row-reverse gap-2 z-[4]")},m(r,A){L(r,t,A),S(t,n),We(s,n,null),S(t,o),S(t,i),We(l,i,null),S(t,c),S(t,a),We(u,a,null),S(t,d),S(t,f),We(p,f,null),S(t,h),We(m,t,null),S(t,g),S(t,$),We(b,$,null),L(r,y,A),We(w,r,A),L(r,v,A),We(x,r,A),_=!0,k||(E=[M(n,"click",e[9]),M(i,"click",e[4]),M(a,"click",e[7]),M(f,"click",e[5]),M($,"click",e[8])],k=!0)},p(e,[t]){const n={};4&t&&(n.text=e[2].menu.buttons.copyright.text),4&t&&(n.title=e[2].menu.buttons.copyright.title),s.$set(n);const o={};4&t&&(o.text=e[2].menu.buttons.settings.text),4&t&&(o.title=e[2].menu.buttons.settings.title),l.$set(o);const i={};4&t&&(i.text=e[2].menu.buttons.save.text),4&t&&(i.title=e[2].menu.buttons.save.title),u.$set(i);const r={};4&t&&(r.text=e[2].menu.buttons.load.text),4&t&&(r.title=e[2].menu.buttons.load.title),p.$set(r);const c={};524292&t&&(c.$$scope={dirty:t,ctx:e}),m.$set(c);const a={};4&t&&(a.text=e[2].menu.buttons.manual.text),4&t&&(a.title=e[2].menu.buttons.manual.title),b.$set(a);const d={};1&t&&(d.open=e[0]),w.$set(d);const f={};2&t&&(f.open=e[1]),x.$set(f)},i(e){_||(Ce(s.$$.fragment,e),Ce(l.$$.fragment,e),Ce(u.$$.fragment,e),Ce(p.$$.fragment,e),Ce(m.$$.fragment,e),Ce(b.$$.fragment,e),Ce(w.$$.fragment,e),Ce(x.$$.fragment,e),_=!0)},o(e){Pe(s.$$.fragment,e),Pe(l.$$.fragment,e),Pe(u.$$.fragment,e),Pe(p.$$.fragment,e),Pe(m.$$.fragment,e),Pe(b.$$.fragment,e),Pe(w.$$.fragment,e),Pe(x.$$.fragment,e),_=!1},d(e){e&&O(t),Ke(s),Ke(l),Ke(u),Ke(p),Ke(m),Ke(b),e&&O(y),Ke(w,e),e&&O(v),Ke(x,e),k=!1,r(E)}}}function hm(e,t,n){let s,o,i;d(e,mr,(e=>n(13,s=e))),d(e,wt,(e=>n(14,o=e))),d(e,Oi,(e=>n(2,i=e)));var r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(o,i){function r(e){try{c(s.next(e))}catch(e){i(e)}}function l(e){try{c(s.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}c((s=s.apply(e,t||[])).next())}))};let l=!1,c=!1;function a(e){return r(this,void 0,void 0,(function*(){try{const t=ic(yield fetch(e).then((e=>e.text())));dr.get().import(t.symbolTable),ur.get().import(t.ram),yt.debug(`Example ${e} loaded`,$t.USER_INPUT)}catch(e){yt.handled_error(e.message,$t.USER_INPUT),s.error(e.message)}}))}return[l,c,i,[{id:"if_then_else",url:"resources/examples/if_then_else.cpuvs"},{id:"while_do",url:"resources/examples/while_do.cpuvs"},{id:"array_sum",url:"resources/examples/array_sum.cpuvs"}],function(){w(wt,o=!0,o),yt.debug("Settings opened",$t.USER_INPUT)},function(){return r(this,void 0,void 0,(function*(){try{const e=(yield kc(".cpuvs"))[0],t=ic(yield e.text());dr.get().import(t.symbolTable),ur.get().import(t.ram),yt.debug("Program loaded from file",$t.USER_INPUT)}catch(e){yt.handled_error(e,$t.USER_INPUT),s.error(e.message)}}))},a,function(){n(0,l=!0),yt.debug("Program saved to file",$t.USER_INPUT)},function(){window.open("manual","_blank").focus(),yt.debug("Manual opened",$t.USER_INPUT)},function(){n(1,c=!0),yt.debug("Copyright notice opened",$t.USER_INPUT)},e=>a(e.url),()=>n(0,l=!1),()=>n(1,c=!1)]}class mm extends ze{constructor(e){super(),Ve(this,e,hm,pm,c,{})}}function gm(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function $m(e){let t,n;return t=new lh({props:{class:"grid grid-cols-tabgroup gap-x-4 "+e[0].class,vertical:!0,$$slots:{default:[gm]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class="grid grid-cols-tabgroup gap-x-4 "+e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function bm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class ym extends ze{constructor(e){super(),Ve(this,e,bm,$m,c,{})}}function wm(e){let t,n,s;const o=e[1].default,i=f(o,e,e[2],null);return{c(){t=P("div"),i&&i.c(),F(t,"class",n="pl-4 py-2 border-l-4 border-b border-b-gray-500 text-left hover:text-blue-500 "+(e[3]?"border-l-blue-500 text-blue-500 font-bold":"border-l-transparent")+" "+e[0].class)},m(e,n){L(e,t,n),i&&i.m(t,null),s=!0},p(e,r){i&&i.p&&(!s||4&r)&&m(i,o,e,e[2],s?h(o,e[2],r,null):g(e[2]),null),(!s||9&r&&n!==(n="pl-4 py-2 border-l-4 border-b border-b-gray-500 text-left hover:text-blue-500 "+(e[3]?"border-l-blue-500 text-blue-500 font-bold":"border-l-transparent")+" "+e[0].class))&&F(t,"class",n)},i(e){s||(Ce(i,e),s=!0)},o(e){Pe(i,e),s=!1},d(e){e&&O(t),i&&i.d(e)}}}function vm(e){let t,n;return t=new ph({props:{$$slots:{default:[wm,({selected:e})=>({3:e}),({selected:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};13&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function xm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class _m extends ze{constructor(e){super(),Ve(this,e,xm,vm,c,{})}}function km(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Em(e){let t,n;return t=new yh({props:{class:"flex flex-col "+e[0].class,$$slots:{default:[km]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class="flex flex-col "+e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Am(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class Im extends ze{constructor(e){super(),Ve(this,e,Am,Em,c,{})}}function Sm(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Tm(e){let t,n;return t=new Eh({props:{class:e[0].class,$$slots:{default:[Sm]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class=e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Nm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class Lm extends ze{constructor(e){super(),Ve(this,e,Nm,Tm,c,{})}}function Om(e){let t;const n=e[1].default,s=f(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,o){s&&s.p&&(!t||4&o)&&m(s,n,e,e[2],t?h(n,e[2],o,null):g(e[2]),null)},i(e){t||(Ce(s,e),t=!0)},o(e){Pe(s,e),t=!1},d(e){s&&s.d(e)}}}function Cm(e){let t,n;return t=new Lh({props:{class:e[0].class,$$slots:{default:[Om]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.class=e[0].class),4&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function Pm(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{n(0,t=s(s({},t),$(e))),"$$scope"in e&&n(2,i=e.$$scope)},[t=$(t),o,i]}class Rm extends ze{constructor(e){super(),Ve(this,e,Pm,Cm,c,{})}}function Dm(e){let t,n,s,o,i,r,l,c,a;const u=e[3].default,d=f(u,e,e[2],null);return{c(){t=P("div"),n=P("div"),s=P("h2"),o=D(e[0]),i=U(),r=P("p"),l=D(e[1]),c=U(),d&&d.c(),F(s,"class","text-2xl font-bold"),F(r,"class","text-sm text-neutral-500"),F(n,"class","flex flex-col"),F(t,"class","w-full flex flex-row items-center justify-between border-b border-neutral-500 p-3 pl-11 pr-24")},m(e,u){L(e,t,u),S(t,n),S(n,s),S(s,o),S(n,i),S(n,r),S(r,l),S(t,c),d&&d.m(t,null),a=!0},p(e,[t]){(!a||1&t)&&H(o,e[0]),(!a||2&t)&&H(l,e[1]),d&&d.p&&(!a||4&t)&&m(d,u,e,e[2],a?h(u,e[2],t,null):g(e[2]),null)},i(e){a||(Ce(d,e),a=!0)},o(e){Pe(d,e),a=!1},d(e){e&&O(t),d&&d.d(e)}}}function Um(e,t,n){let{$$slots:s={},$$scope:o}=t,{title:i=""}=t,{description:r=""}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"description"in e&&n(1,r=e.description),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}class Bm extends ze{constructor(e){super(),Ve(this,e,Um,Dm,c,{title:0,description:1})}}function Mm(e){let n,s,o,i,r,l;return{c(){n=R("svg"),s=R("g"),o=R("path"),i=R("path"),r=R("path"),F(o,"fill","#fff"),F(o,"d","M0 0h640v480H0z"),F(i,"fill","#009246"),F(i,"d","M0 0h213.3v480H0z"),F(r,"fill","#ce2b37"),F(r,"d","M426.7 0H640v480H426.7z"),F(s,"fill-rule","evenodd"),F(s,"stroke-width","1pt"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"viewBox","0 0 640 480"),F(n,"class",l=e[0].class)},m(e,t){L(e,n,t),S(n,s),S(s,o),S(s,i),S(s,r)},p(e,[t]){1&t&&l!==(l=e[0].class)&&F(n,"class",l)},i:t,o:t,d(e){e&&O(n)}}}function Fm(e,t,n){return e.$$set=e=>{n(0,t=s(s({},t),$(e)))},[t=$(t)]}class Qm extends ze{constructor(e){super(),Ve(this,e,Fm,Mm,c,{})}}function jm(e){let n,s,o,i,r,l,c;return{c(){n=R("svg"),s=R("path"),o=R("path"),i=R("path"),r=R("path"),l=R("path"),F(s,"fill","#012169"),F(s,"d","M0 0h640v480H0z"),F(o,"fill","#FFF"),F(o,"d","m75 0 244 181L562 0h78v62L400 241l240 178v61h-80L320 301 81 480H0v-60l239-178L0 64V0h75z"),F(i,"fill","#C8102E"),F(i,"d","m424 281 216 159v40L369 281h55zm-184 20 6 35L54 480H0l240-179zM640 0v3L391 191l2-44L590 0h50zM0 0l239 176h-60L0 42V0z"),F(r,"fill","#FFF"),F(r,"d","M241 0v480h160V0H241zM0 160v160h640V160H0z"),F(l,"fill","#C8102E"),F(l,"d","M0 193v96h640v-96H0zM273 0v480h96V0h-96z"),F(n,"xmlns","http://www.w3.org/2000/svg"),F(n,"viewBox","0 0 640 480"),F(n,"class",c=e[0].class)},m(e,t){L(e,n,t),S(n,s),S(n,o),S(n,i),S(n,r),S(n,l)},p(e,[t]){1&t&&c!==(c=e[0].class)&&F(n,"class",c)},i:t,o:t,d(e){e&&O(n)}}}function Hm(e,t,n){return e.$$set=e=>{n(0,t=s(s({},t),$(e)))},[t=$(t)]}class qm extends ze{constructor(e){super(),Ve(this,e,Hm,jm,c,{})}}const{Map:Wm}=Be;function Km(e,t,n){const s=e.slice();return s[4]=t[n],s}function Vm(e){let t,n,s;var o=e[1].get(e[0]);return o&&(t=J(o,{props:{class:"w-12 h-7"}})),{c(){t&&qe(t.$$.fragment),n=B()},m(e,o){t&&We(t,e,o),L(e,n,o),s=!0},p(e,s){if(o!==(o=e[1].get(e[0]))){if(t){Le();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ke(e,1)})),Oe()}o?(t=J(o,{props:{class:"w-12 h-7"}}),qe(t.$$.fragment),Ce(t.$$.fragment,1),We(t,n.parentNode,n)):t=null}},i(e){s||(t&&Ce(t.$$.fragment,e),s=!0)},o(e){t&&Pe(t.$$.fragment,e),s=!1},d(e){e&&O(n),t&&Ke(t,e)}}}function zm(e){let t,n,s;var o=e[1].get(e[4]);return o&&(t=J(o,{props:{class:"w-12 h-7 cursor-pointer shadow-md"}})),{c(){t&&qe(t.$$.fragment),n=U()},m(e,o){t&&We(t,e,o),L(e,n,o),s=!0},p(e,s){if(o!==(o=e[1].get(e[4]))){if(t){Le();const e=t;Pe(e.$$.fragment,1,0,(()=>{Ke(e,1)})),Oe()}o?(t=J(o,{props:{class:"w-12 h-7 cursor-pointer shadow-md"}}),qe(t.$$.fragment),Ce(t.$$.fragment,1),We(t,n.parentNode,n)):t=null}},i(e){s||(t&&Ce(t.$$.fragment,e),s=!0)},o(e){t&&Pe(t.$$.fragment,e),s=!1},d(e){t&&Ke(t,e),e&&O(n)}}}function Gm(e,t){let n,s,o;return s=new pp({props:{value:t[4],$$slots:{default:[zm]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=B(),qe(s.$$.fragment),this.first=n},m(e,t){L(e,n,t),We(s,e,t),o=!0},p(e,n){t=e;const o={};128&n&&(o.$$scope={dirty:n,ctx:t}),s.$set(o)},i(e){o||(Ce(s.$$.fragment,e),o=!0)},o(e){Pe(s.$$.fragment,e),o=!1},d(e){e&&O(n),Ke(s,e)}}}function Xm(e){let t,n,s=[],o=new Wm,i=dt;const r=e=>e[4];for(let t=0;t<i.length;t+=1){let n=Km(e,i,t),l=r(n);o.set(l,s[t]=Gm(l,n))}return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=B()},m(e,o){for(let t=0;t<s.length;t+=1)s[t].m(e,o);L(e,t,o),n=!0},p(e,n){2&n&&(i=dt,Le(),s=Fe(s,n,r,1,e,i,o,t.parentNode,Me,Gm,t,Km),Oe())},i(e){if(!n){for(let e=0;e<i.length;e+=1)Ce(s[e]);n=!0}},o(e){for(let e=0;e<s.length;e+=1)Pe(s[e]);n=!1},d(e){for(let t=0;t<s.length;t+=1)s[t].d(e);e&&O(t)}}}function Jm(e){let t,n,s,o;return t=new tp({props:{$$slots:{default:[Vm]},$$scope:{ctx:e}}}),s=new lp({props:{class:"absolute flex flex-col gap-1 py-2 px-1 overflow-y-auto overflow-x-hidden max-h-28 z-10 bg-gray-100 rounded-md shadow-md",$$slots:{default:[Xm]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment)},m(e,i){We(t,e,i),L(e,n,i),We(s,e,i),o=!0},p(e,n){const o={};129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};128&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),o=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e)}}}function Zm(e){let t,n,s;function o(t){e[2](t)}let i={$$slots:{default:[Jm]},$$scope:{ctx:e}};return void 0!==e[0]&&(i.value=e[0]),t=new Gf({props:i}),pe.push((()=>He(t,"value",o,e[0]))),t.$on("change",e[3]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,[s]){const o={};129&s&&(o.$$scope={dirty:s,ctx:e}),!n&&1&s&&(n=!0,o.value=e[0],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function Ym(e,t,n){let{value:s}=t;const o=new Map([["en",qm],["it",Qm]]);return e.$$set=e=>{"value"in e&&n(0,s=e.value)},[s,o,function(e){s=e,n(0,s)},e=>n(0,s=e.detail)]}class eg extends ze{constructor(e){super(),Ve(this,e,Ym,Zm,c,{value:0})}}function tg(e){let t,n;return{c(){t=P("span"),F(t,"class",n="h-7 w-7 bg-neutral-100 rounded-[50%] transition-transform shadow-lg "+(e[0]?"translate-x-8":""))},m(e,n){L(e,t,n)},p(e,s){1&s&&n!==(n="h-7 w-7 bg-neutral-100 rounded-[50%] transition-transform shadow-lg "+(e[0]?"translate-x-8":""))&&F(t,"class",n)},d(e){e&&O(t)}}}function ng(e){let t,n,s,o;function i(t){e[3](t)}function r(t){e[4](t)}let l={class:"\n        w-14\n        h-6\n        flex\n        items-center\n        flex-shrink-0\n        rounded-2xl\n        "+(e[1]?"cursor-default":"cursor-pointer")+"\n        "+(e[0]?"bg-green-500":"bg-neutral-500")+"\n        "+(e[1]?"brightness-[.6]":"")+"\n        "+e[2].class+"\n    ",$$slots:{default:[tg]},$$scope:{ctx:e}};return void 0!==e[0]&&(l.checked=e[0]),void 0!==e[1]&&(l.disabled=e[1]),t=new Yp({props:l}),pe.push((()=>He(t,"checked",i,e[0]))),pe.push((()=>He(t,"disabled",r,e[1]))),t.$on("change",e[5]),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),o=!0},p(e,[o]){const i={};7&o&&(i.class="\n        w-14\n        h-6\n        flex\n        items-center\n        flex-shrink-0\n        rounded-2xl\n        "+(e[1]?"cursor-default":"cursor-pointer")+"\n        "+(e[0]?"bg-green-500":"bg-neutral-500")+"\n        "+(e[1]?"brightness-[.6]":"")+"\n        "+e[2].class+"\n    "),65&o&&(i.$$scope={dirty:o,ctx:e}),!n&&1&o&&(n=!0,i.checked=e[0],ve((()=>n=!1))),!s&&2&o&&(s=!0,i.disabled=e[1],ve((()=>s=!1))),t.$set(i)},i(e){o||(Ce(t.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),o=!1},d(e){Ke(t,e)}}}function sg(e,t,n){const o=["checked","disabled"];let i=b(t,o),{checked:r=!1}=t,{disabled:l=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(2,i=b(t,o)),"checked"in e&&n(0,r=e.checked),"disabled"in e&&n(1,l=e.disabled)},[r,l,i,function(e){r=e,n(0,r)},function(e){l=e,n(1,l)},e=>n(0,r=!r)]}class og extends ze{constructor(e){super(),Ve(this,e,sg,ng,c,{checked:0,disabled:1})}}function ig(e){let t,n,s,o,i;const l=e[3].default,c=f(l,e,e[2],null);return{c(){t=P("button"),c&&c.c(),F(t,"class",n="text-black border-2 border-red-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-red-700 focus:bg-red-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class),t.disabled=e[0]},m(n,r){L(n,t,r),c&&c.m(t,null),s=!0,o||(i=[M(t,"click",e[4]),M(t,"focus",e[5]),M(t,"focusout",e[6]),M(t,"mouseenter",e[7]),M(t,"mouseleave",e[8]),M(t,"mouseover",e[9])],o=!0)},p(e,[o]){c&&c.p&&(!s||4&o)&&m(c,l,e,e[2],s?h(l,e[2],o,null):g(e[2]),null),(!s||2&o&&n!==(n="text-black border-2 border-red-700 px-2 rounded-md hover:text-white focus:text-white hover:bg-red-700 focus:bg-red-700 transition-colors disabled:brightness-[.6] disabled:cursor-default active:brightness-90 "+e[1].class))&&F(t,"class",n),(!s||1&o)&&(t.disabled=e[0])},i(e){s||(Ce(c,e),s=!0)},o(e){Pe(c,e),s=!1},d(e){e&&O(t),c&&c.d(e),o=!1,r(i)}}}function rg(e,t,n){const o=["disabled"];let i=b(t,o),{$$slots:r={},$$scope:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(1,i=b(t,o)),"disabled"in e&&n(0,c=e.disabled),"$$scope"in e&&n(2,l=e.$$scope)},[c,i,l,r,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)}]}class lg extends ze{constructor(e){super(),Ve(this,e,rg,ig,c,{disabled:0})}}function cg(e){let t,n,s;function o(t){e[5](t)}let i={};return void 0!==e[1]&&(i.value=e[1]),t=new eg({props:i}),pe.push((()=>He(t,"value",o,e[1]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};!n&&2&s&&(n=!0,o.value=e[1],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function ag(e){let t,n,s;function o(t){e[6](t)}let i={};return void 0!==e[2]&&(i.checked=e[2]),t=new og({props:i}),pe.push((()=>He(t,"checked",o,e[2]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};!n&&4&s&&(n=!0,o.checked=e[2],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function ug(e){let t,n,s;function o(t){e[7](t)}let i={};return void 0!==e[3]&&(i.checked=e[3]),t=new og({props:i}),pe.push((()=>He(t,"checked",o,e[3]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};!n&&8&s&&(n=!0,o.checked=e[3],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function dg(e){let t,n,s;function o(t){e[8](t)}let i={};return void 0!==e[4]&&(i.checked=e[4]),t=new og({props:i}),pe.push((()=>He(t,"checked",o,e[4]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};!n&&16&s&&(n=!0,o.checked=e[4],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function fg(e){let t,n=e[0].settings.reset_all.button.text+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){1&s&&n!==(n=e[0].settings.reset_all.button.text+"")&&H(t,n)},d(e){e&&O(t)}}}function pg(e){let t,n;return t=new lg({props:{$$slots:{default:[fg]},$$scope:{ctx:e}}}),t.$on("click",Kt),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},p(e,n){const s={};513&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function hg(e){let t,n,s,o,i,r,l,c,a,u;return t=new Bm({props:{title:e[0].settings.language.title,description:e[0].settings.language.description,$$slots:{default:[cg]},$$scope:{ctx:e}}}),s=new Bm({props:{title:e[0].settings.dispaly_components_labels.title,description:e[0].settings.dispaly_components_labels.description,$$slots:{default:[ag]},$$scope:{ctx:e}}}),i=new Bm({props:{title:e[0].settings.dispaly_busses_labels.title,description:e[0].settings.dispaly_busses_labels.description,$$slots:{default:[ug]},$$scope:{ctx:e}}}),l=new Bm({props:{title:e[0].settings.display_step_text.title,description:e[0].settings.display_step_text.description,$$slots:{default:[dg]},$$scope:{ctx:e}}}),a=new Bm({props:{title:e[0].settings.reset_all.title,description:e[0].settings.reset_all.description,$$slots:{default:[pg]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment),o=U(),qe(i.$$.fragment),r=U(),qe(l.$$.fragment),c=U(),qe(a.$$.fragment)},m(e,d){We(t,e,d),L(e,n,d),We(s,e,d),L(e,o,d),We(i,e,d),L(e,r,d),We(l,e,d),L(e,c,d),We(a,e,d),u=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.language.title),1&n&&(o.description=e[0].settings.language.description),514&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.dispaly_components_labels.title),1&n&&(r.description=e[0].settings.dispaly_components_labels.description),516&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const c={};1&n&&(c.title=e[0].settings.dispaly_busses_labels.title),1&n&&(c.description=e[0].settings.dispaly_busses_labels.description),520&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const u={};1&n&&(u.title=e[0].settings.display_step_text.title),1&n&&(u.description=e[0].settings.display_step_text.description),528&n&&(u.$$scope={dirty:n,ctx:e}),l.$set(u);const d={};1&n&&(d.title=e[0].settings.reset_all.title),1&n&&(d.description=e[0].settings.reset_all.description),513&n&&(d.$$scope={dirty:n,ctx:e}),a.$set(d)},i(e){u||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),u=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),Pe(l.$$.fragment,e),Pe(a.$$.fragment,e),u=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),e&&O(o),Ke(i,e),e&&O(r),Ke(l,e),e&&O(c),Ke(a,e)}}}function mg(e,t,n){let s,o,i,r,l;return d(e,Oi,(e=>n(0,s=e))),d(e,Tt,(e=>n(1,o=e))),d(e,_t,(e=>n(2,i=e))),d(e,kt,(e=>n(3,r=e))),d(e,Et,(e=>n(4,l=e))),[s,o,i,r,l,function(e){o=e,Tt.set(o)},function(e){i=e,_t.set(i)},function(e){r=e,kt.set(r)},function(e){l=e,Et.set(l)}]}class gg extends ze{constructor(e){super(),Ve(this,e,mg,hg,c,{})}}function $g(e){let n,s,o,i;return{c(){n=P("input"),F(n,"type","range"),F(n,"class",s=y(e[6].class)+" svelte-10k18fr"),F(n,"min",e[1]),F(n,"max",e[2]),F(n,"step",e[3]),n.disabled=e[4],F(n,"title",e[5])},m(t,s){L(t,n,s),q(n,e[0]),o||(i=[M(n,"change",e[14]),M(n,"input",e[14]),M(n,"input",e[7]),M(n,"change",e[8]),M(n,"focus",e[9]),M(n,"focusout",e[10]),M(n,"mouseenter",e[11]),M(n,"mouseleave",e[12]),M(n,"mouseover",e[13])],o=!0)},p(e,[t]){64&t&&s!==(s=y(e[6].class)+" svelte-10k18fr")&&F(n,"class",s),2&t&&F(n,"min",e[1]),4&t&&F(n,"max",e[2]),8&t&&F(n,"step",e[3]),16&t&&(n.disabled=e[4]),32&t&&F(n,"title",e[5]),1&t&&q(n,e[0])},i:t,o:t,d(e){e&&O(n),o=!1,r(i)}}}function bg(e,t,n){const o=["min","max","value","step","disabled","title"];let i=b(t,o),{min:r=0}=t,{max:l=1}=t,{value:c=l/2+r}=t,{step:a=.1}=t,{disabled:u=!1}=t,{title:d=""}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(6,i=b(t,o)),"min"in e&&n(1,r=e.min),"max"in e&&n(2,l=e.max),"value"in e&&n(0,c=e.value),"step"in e&&n(3,a=e.step),"disabled"in e&&n(4,u=e.disabled),"title"in e&&n(5,d=e.title)},[c,r,l,a,u,d,i,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(){c=j(this.value),n(0,c)}]}class yg extends ze{constructor(e){super(),Ve(this,e,bg,$g,c,{min:1,max:2,value:0,step:3,disabled:4,title:5})}}function wg(e,t,n){const s=e.slice();return s[13]=t[n],s}function vg(e){let t,n;return{c(){t=P("option"),n=D(e[1]),F(t,"class","text-black bg-white"),t.__value="",t.value=t.__value,t.selected=!0,t.disabled=!0},m(e,s){L(e,t,s),S(t,n)},p(e,t){2&t&&H(n,e[1])},d(e){e&&O(t)}}}function xg(e){let t,n,s,o=e[13]+"";return{c(){t=P("option"),n=D(o),F(t,"class","text-black bg-white"),t.__value=s=e[13],t.value=t.__value},m(e,s){L(e,t,s),S(t,n)},p(e,i){8&i&&o!==(o=e[13]+"")&&H(n,o),8&i&&s!==(s=e[13])&&(t.__value=s,t.value=t.__value)},d(e){e&&O(t)}}}function _g(e){let n,s,o,i,l,c=""!==e[1]&&vg(e),a=e[3],u=[];for(let t=0;t<a.length;t+=1)u[t]=xg(wg(e,a,t));return{c(){n=P("select"),c&&c.c(),s=B();for(let e=0;e<u.length;e+=1)u[e].c();F(n,"class",o="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class),n.disabled=e[2],void 0===e[0]&&we((()=>e[12].call(n)))},m(t,o){L(t,n,o),c&&c.m(n,null),S(n,s);for(let e=0;e<u.length;e+=1)u[e].m(n,null);K(n,e[0]),i||(l=[M(n,"input",e[5]),M(n,"change",e[6]),M(n,"focus",e[7]),M(n,"focusout",e[8]),M(n,"mouseenter",e[9]),M(n,"mouseleave",e[10]),M(n,"mouseover",e[11]),M(n,"change",e[12])],i=!0)},p(e,[t]){if(""!==e[1]?c?c.p(e,t):(c=vg(e),c.c(),c.m(n,s)):c&&(c.d(1),c=null),8&t){let s;for(a=e[3],s=0;s<a.length;s+=1){const o=wg(e,a,s);u[s]?u[s].p(o,t):(u[s]=xg(o),u[s].c(),u[s].m(n,null))}for(;s<u.length;s+=1)u[s].d(1);u.length=a.length}16&t&&o!==(o="cursor-pointer bg-transparent border-2 border-black text-black rounded-md px-1 disabled:brightness-[.6] w-fit "+e[4].class)&&F(n,"class",o),4&t&&(n.disabled=e[2]),9&t&&K(n,e[0])},i:t,o:t,d(e){e&&O(n),c&&c.d(),C(u,e),i=!1,r(l)}}}function kg(e,t,n){const o=["value","placeholder","disabled","options"];let i=b(t,o),{value:r=""}=t,{placeholder:l=""}=t,{disabled:c=!1}=t,{options:a=[]}=t;return e.$$set=e=>{t=s(s({},t),$(e)),n(4,i=b(t,o)),"value"in e&&n(0,r=e.value),"placeholder"in e&&n(1,l=e.placeholder),"disabled"in e&&n(2,c=e.disabled),"options"in e&&n(3,a=e.options)},[r,l,c,a,i,function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(t){de.call(this,e,t)},function(){r=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,r),n(3,a)}]}class Eg extends ze{constructor(e){super(),Ve(this,e,kg,_g,c,{value:0,placeholder:1,disabled:2,options:3})}}function Ag(e){let t,n,s;function o(t){e[5](t)}let i={};return void 0!==e[1]&&(i.checked=e[1]),t=new og({props:i}),pe.push((()=>He(t,"checked",o,e[1]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};!n&&2&s&&(n=!0,o.checked=e[1],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function Ig(e){let t,n,s,o,i,r,l;function c(t){e[6](t)}let a={min:.5,max:1.5};return void 0!==e[2]&&(a.value=e[2]),i=new yg({props:a}),pe.push((()=>He(i,"value",c,e[2]))),{c(){t=P("div"),n=P("p"),s=D(e[2]),o=U(),qe(i.$$.fragment),F(t,"class","w-36 flex flex-col items-center justify-center")},m(e,r){L(e,t,r),S(t,n),S(n,s),S(t,o),We(i,t,null),l=!0},p(e,t){(!l||4&t)&&H(s,e[2]);const n={};!r&&4&t&&(r=!0,n.value=e[2],ve((()=>r=!1))),i.$set(n)},i(e){l||(Ce(i.$$.fragment,e),l=!0)},o(e){Pe(i.$$.fragment,e),l=!1},d(e){e&&O(t),Ke(i)}}}function Sg(e){let t,n,s;function o(t){e[7](t)}let i={options:ht.getAvailableVoices(e[3]).map(Ng)};return void 0!==e[4]&&(i.value=e[4]),t=new Eg({props:i}),pe.push((()=>He(t,"value",o,e[4]))),{c(){qe(t.$$.fragment)},m(e,n){We(t,e,n),s=!0},p(e,s){const o={};8&s&&(o.options=ht.getAvailableVoices(e[3]).map(Ng)),!n&&16&s&&(n=!0,o.value=e[4],ve((()=>n=!1))),t.$set(o)},i(e){s||(Ce(t.$$.fragment,e),s=!0)},o(e){Pe(t.$$.fragment,e),s=!1},d(e){Ke(t,e)}}}function Tg(e){let t,n,s,o,i,r;return t=new Bm({props:{title:e[0].settings.tts_enabled.title,description:e[0].settings.tts_enabled.description,$$slots:{default:[Ag]},$$scope:{ctx:e}}}),s=new Bm({props:{title:e[0].settings.tts_speed.title,description:e[0].settings.tts_speed.description,$$slots:{default:[Ig]},$$scope:{ctx:e}}}),i=new Bm({props:{title:e[0].settings.tts_voice.title,description:e[0].settings.tts_voice.description,$$slots:{default:[Sg]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment),o=U(),qe(i.$$.fragment)},m(e,l){We(t,e,l),L(e,n,l),We(s,e,l),L(e,o,l),We(i,e,l),r=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.tts_enabled.title),1&n&&(o.description=e[0].settings.tts_enabled.description),258&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.tts_speed.title),1&n&&(r.description=e[0].settings.tts_speed.description),260&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};1&n&&(l.title=e[0].settings.tts_voice.title),1&n&&(l.description=e[0].settings.tts_voice.description),280&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),r=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),r=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),e&&O(o),Ke(i,e)}}}const Ng=e=>e.name;function Lg(e,t,n){let s,o,i,r,l;return d(e,Oi,(e=>n(0,s=e))),d(e,Nt,(e=>n(1,o=e))),d(e,Lt,(e=>n(2,i=e))),d(e,Tt,(e=>n(3,r=e))),d(e,Ot,(e=>n(4,l=e))),[s,o,i,r,l,function(e){o=e,Nt.set(o)},function(e){i=e,Lt.set(i)},function(e){l=e,Ot.set(l)}]}class Og extends ze{constructor(e){super(),Ve(this,e,Lg,Tg,c,{})}}function Cg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[1]),n||(s=M(t,"input",e[13]),n=!0)},p(e,n){2&n&&q(t,e[1])},d(e){e&&O(t),n=!1,s()}}}function Pg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[2]),n||(s=M(t,"input",e[14]),n=!0)},p(e,n){4&n&&q(t,e[2])},d(e){e&&O(t),n=!1,s()}}}function Rg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[3]),n||(s=M(t,"input",e[15]),n=!0)},p(e,n){8&n&&q(t,e[3])},d(e){e&&O(t),n=!1,s()}}}function Dg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[4]),n||(s=M(t,"input",e[16]),n=!0)},p(e,n){16&n&&q(t,e[4])},d(e){e&&O(t),n=!1,s()}}}function Ug(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[5]),n||(s=M(t,"input",e[17]),n=!0)},p(e,n){32&n&&q(t,e[5])},d(e){e&&O(t),n=!1,s()}}}function Bg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[6]),n||(s=M(t,"input",e[18]),n=!0)},p(e,n){64&n&&q(t,e[6])},d(e){e&&O(t),n=!1,s()}}}function Mg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[7]),n||(s=M(t,"input",e[19]),n=!0)},p(e,n){128&n&&q(t,e[7])},d(e){e&&O(t),n=!1,s()}}}function Fg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[8]),n||(s=M(t,"input",e[20]),n=!0)},p(e,n){256&n&&q(t,e[8])},d(e){e&&O(t),n=!1,s()}}}function Qg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[9]),n||(s=M(t,"input",e[21]),n=!0)},p(e,n){512&n&&q(t,e[9])},d(e){e&&O(t),n=!1,s()}}}function jg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[10]),n||(s=M(t,"input",e[22]),n=!0)},p(e,n){1024&n&&q(t,e[10])},d(e){e&&O(t),n=!1,s()}}}function Hg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[11]),n||(s=M(t,"input",e[23]),n=!0)},p(e,n){2048&n&&q(t,e[11])},d(e){e&&O(t),n=!1,s()}}}function qg(e){let t,n,s;return{c(){t=P("input"),F(t,"type","color")},m(o,i){L(o,t,i),q(t,e[12]),n||(s=M(t,"input",e[24]),n=!0)},p(e,n){4096&n&&q(t,e[12])},d(e){e&&O(t),n=!1,s()}}}function Wg(e){let t,n,s,o,i,r,l,c,a,u,d,f,p,h,m,g,$,b,y,w,v,x,_,k;return t=new Bm({props:{title:e[0].settings.databus_ext_color.title,description:e[0].settings.databus_ext_color.description,$$slots:{default:[Cg]},$$scope:{ctx:e}}}),s=new Bm({props:{title:e[0].settings.databus_int_color.title,description:e[0].settings.databus_int_color.description,$$slots:{default:[Pg]},$$scope:{ctx:e}}}),i=new Bm({props:{title:e[0].settings.databus_ext_anim_color.title,description:e[0].settings.databus_ext_anim_color.description,$$slots:{default:[Rg]},$$scope:{ctx:e}}}),l=new Bm({props:{title:e[0].settings.databus_int_anim_color.title,description:e[0].settings.databus_int_anim_color.description,$$slots:{default:[Dg]},$$scope:{ctx:e}}}),a=new Bm({props:{title:e[0].settings.addressbus_ext_color.title,description:e[0].settings.addressbus_ext_color.description,$$slots:{default:[Ug]},$$scope:{ctx:e}}}),d=new Bm({props:{title:e[0].settings.addressbus_int_color.title,description:e[0].settings.addressbus_int_color.description,$$slots:{default:[Bg]},$$scope:{ctx:e}}}),p=new Bm({props:{title:e[0].settings.addressbus_ext_anim_color.title,description:e[0].settings.addressbus_ext_anim_color.description,$$slots:{default:[Mg]},$$scope:{ctx:e}}}),m=new Bm({props:{title:e[0].settings.addressbus_int_anim_color.title,description:e[0].settings.addressbus_int_anim_color.description,$$slots:{default:[Fg]},$$scope:{ctx:e}}}),$=new Bm({props:{title:e[0].settings.controlbus_ext_color.title,description:e[0].settings.controlbus_ext_color.description,$$slots:{default:[Qg]},$$scope:{ctx:e}}}),y=new Bm({props:{title:e[0].settings.controlbus_int_color.title,description:e[0].settings.controlbus_int_color.description,$$slots:{default:[jg]},$$scope:{ctx:e}}}),v=new Bm({props:{title:e[0].settings.controlbus_ext_anim_color.title,description:e[0].settings.controlbus_ext_anim_color.description,$$slots:{default:[Hg]},$$scope:{ctx:e}}}),_=new Bm({props:{title:e[0].settings.controlbus_int_anim_color.title,description:e[0].settings.controlbus_int_anim_color.description,$$slots:{default:[qg]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment),o=U(),qe(i.$$.fragment),r=U(),qe(l.$$.fragment),c=U(),qe(a.$$.fragment),u=U(),qe(d.$$.fragment),f=U(),qe(p.$$.fragment),h=U(),qe(m.$$.fragment),g=U(),qe($.$$.fragment),b=U(),qe(y.$$.fragment),w=U(),qe(v.$$.fragment),x=U(),qe(_.$$.fragment)},m(e,E){We(t,e,E),L(e,n,E),We(s,e,E),L(e,o,E),We(i,e,E),L(e,r,E),We(l,e,E),L(e,c,E),We(a,e,E),L(e,u,E),We(d,e,E),L(e,f,E),We(p,e,E),L(e,h,E),We(m,e,E),L(e,g,E),We($,e,E),L(e,b,E),We(y,e,E),L(e,w,E),We(v,e,E),L(e,x,E),We(_,e,E),k=!0},p(e,[n]){const o={};1&n&&(o.title=e[0].settings.databus_ext_color.title),1&n&&(o.description=e[0].settings.databus_ext_color.description),33554434&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};1&n&&(r.title=e[0].settings.databus_int_color.title),1&n&&(r.description=e[0].settings.databus_int_color.description),33554436&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const c={};1&n&&(c.title=e[0].settings.databus_ext_anim_color.title),1&n&&(c.description=e[0].settings.databus_ext_anim_color.description),33554440&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const u={};1&n&&(u.title=e[0].settings.databus_int_anim_color.title),1&n&&(u.description=e[0].settings.databus_int_anim_color.description),33554448&n&&(u.$$scope={dirty:n,ctx:e}),l.$set(u);const f={};1&n&&(f.title=e[0].settings.addressbus_ext_color.title),1&n&&(f.description=e[0].settings.addressbus_ext_color.description),33554464&n&&(f.$$scope={dirty:n,ctx:e}),a.$set(f);const h={};1&n&&(h.title=e[0].settings.addressbus_int_color.title),1&n&&(h.description=e[0].settings.addressbus_int_color.description),33554496&n&&(h.$$scope={dirty:n,ctx:e}),d.$set(h);const g={};1&n&&(g.title=e[0].settings.addressbus_ext_anim_color.title),1&n&&(g.description=e[0].settings.addressbus_ext_anim_color.description),33554560&n&&(g.$$scope={dirty:n,ctx:e}),p.$set(g);const b={};1&n&&(b.title=e[0].settings.addressbus_int_anim_color.title),1&n&&(b.description=e[0].settings.addressbus_int_anim_color.description),33554688&n&&(b.$$scope={dirty:n,ctx:e}),m.$set(b);const w={};1&n&&(w.title=e[0].settings.controlbus_ext_color.title),1&n&&(w.description=e[0].settings.controlbus_ext_color.description),33554944&n&&(w.$$scope={dirty:n,ctx:e}),$.$set(w);const x={};1&n&&(x.title=e[0].settings.controlbus_int_color.title),1&n&&(x.description=e[0].settings.controlbus_int_color.description),33555456&n&&(x.$$scope={dirty:n,ctx:e}),y.$set(x);const k={};1&n&&(k.title=e[0].settings.controlbus_ext_anim_color.title),1&n&&(k.description=e[0].settings.controlbus_ext_anim_color.description),33556480&n&&(k.$$scope={dirty:n,ctx:e}),v.$set(k);const E={};1&n&&(E.title=e[0].settings.controlbus_int_anim_color.title),1&n&&(E.description=e[0].settings.controlbus_int_anim_color.description),33558528&n&&(E.$$scope={dirty:n,ctx:e}),_.$set(E)},i(e){k||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),Ce(d.$$.fragment,e),Ce(p.$$.fragment,e),Ce(m.$$.fragment,e),Ce($.$$.fragment,e),Ce(y.$$.fragment,e),Ce(v.$$.fragment,e),Ce(_.$$.fragment,e),k=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),Pe(l.$$.fragment,e),Pe(a.$$.fragment,e),Pe(d.$$.fragment,e),Pe(p.$$.fragment,e),Pe(m.$$.fragment,e),Pe($.$$.fragment,e),Pe(y.$$.fragment,e),Pe(v.$$.fragment,e),Pe(_.$$.fragment,e),k=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),e&&O(o),Ke(i,e),e&&O(r),Ke(l,e),e&&O(c),Ke(a,e),e&&O(u),Ke(d,e),e&&O(f),Ke(p,e),e&&O(h),Ke(m,e),e&&O(g),Ke($,e),e&&O(b),Ke(y,e),e&&O(w),Ke(v,e),e&&O(x),Ke(_,e)}}}function Kg(e,t,n){let s,o,i,r,l,c,a,u,f,p,h,m,g;return d(e,Oi,(e=>n(0,s=e))),d(e,Ct,(e=>n(1,o=e))),d(e,Pt,(e=>n(2,i=e))),d(e,Rt,(e=>n(3,r=e))),d(e,Dt,(e=>n(4,l=e))),d(e,Ut,(e=>n(5,c=e))),d(e,Bt,(e=>n(6,a=e))),d(e,Mt,(e=>n(7,u=e))),d(e,Ft,(e=>n(8,f=e))),d(e,Qt,(e=>n(9,p=e))),d(e,jt,(e=>n(10,h=e))),d(e,Ht,(e=>n(11,m=e))),d(e,qt,(e=>n(12,g=e))),[s,o,i,r,l,c,a,u,f,p,h,m,g,function(){o=this.value,Ct.set(o)},function(){i=this.value,Pt.set(i)},function(){r=this.value,Rt.set(r)},function(){l=this.value,Dt.set(l)},function(){c=this.value,Ut.set(c)},function(){a=this.value,Bt.set(a)},function(){u=this.value,Mt.set(u)},function(){f=this.value,Ft.set(f)},function(){p=this.value,Qt.set(p)},function(){h=this.value,jt.set(h)},function(){m=this.value,Ht.set(m)},function(){g=this.value,qt.set(g)}]}class Vg extends ze{constructor(e){super(),Ve(this,e,Kg,Wg,c,{})}}function zg(e){let t,n,s,o,i,r,l,c,a,u,d=e[1].settings.title+"";return r=new Zh({}),r.$on("click",e[2]),c=new ym({props:{class:"p-5",$$slots:{default:[s$]},$$scope:{ctx:e}}}),{c(){t=P("div"),n=P("div"),s=P("h1"),o=D(d),i=U(),qe(r.$$.fragment),l=U(),qe(c.$$.fragment),F(s,"class","text-[2.8rem] font-bold"),F(n,"class","w-full flex flex-row items-center justify-between pt-3 pb-5 px-9 border-b border-neutral-500"),F(t,"class","fixed w-screen h-screen top-0 left-0 bg-gray-100 overflow-y-auto")},m(e,a){L(e,t,a),S(t,n),S(n,s),S(s,o),S(n,i),We(r,n,null),S(t,l),We(c,t,null),u=!0},p(e,t){(!u||2&t)&&d!==(d=e[1].settings.title+"")&&H(o,d);const n={};10&t&&(n.$$scope={dirty:t,ctx:e}),c.$set(n)},i(e){u||(Ce(r.$$.fragment,e),Ce(c.$$.fragment,e),we((()=>{a||(a=Ue(t,ul,{duration:75},!0)),a.run(1)})),u=!0)},o(e){Pe(r.$$.fragment,e),Pe(c.$$.fragment,e),a||(a=Ue(t,ul,{duration:75},!1)),a.run(0),u=!1},d(e){e&&O(t),Ke(r),Ke(c),e&&a&&a.end()}}}function Gg(e){let t,n=e[1].settings.sections_titles.general+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.general+"")&&H(t,n)},d(e){e&&O(t)}}}function Xg(e){let t,n=e[1].settings.sections_titles.tts+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.tts+"")&&H(t,n)},d(e){e&&O(t)}}}function Jg(e){let t,n=e[1].settings.sections_titles.busses+"";return{c(){t=D(n)},m(e,n){L(e,t,n)},p(e,s){2&s&&n!==(n=e[1].settings.sections_titles.busses+"")&&H(t,n)},d(e){e&&O(t)}}}function Zg(e){let t,n,s,o,i,r;return t=new _m({props:{class:"border-t border-t-gray-500",$$slots:{default:[Gg]},$$scope:{ctx:e}}}),s=new _m({props:{$$slots:{default:[Xg]},$$scope:{ctx:e}}}),i=new _m({props:{$$slots:{default:[Jg]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment),o=U(),qe(i.$$.fragment)},m(e,l){We(t,e,l),L(e,n,l),We(s,e,l),L(e,o,l),We(i,e,l),r=!0},p(e,n){const o={};10&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};10&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};10&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),r=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),r=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),e&&O(o),Ke(i,e)}}}function Yg(e){let t,n;return t=new gg({}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function e$(e){let t,n;return t=new Og({}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function t$(e){let t,n;return t=new Vg({}),{c(){qe(t.$$.fragment)},m(e,s){We(t,e,s),n=!0},i(e){n||(Ce(t.$$.fragment,e),n=!0)},o(e){Pe(t.$$.fragment,e),n=!1},d(e){Ke(t,e)}}}function n$(e){let t,n,s,o,i,r;return t=new Rm({props:{$$slots:{default:[Yg]},$$scope:{ctx:e}}}),s=new Rm({props:{$$slots:{default:[e$]},$$scope:{ctx:e}}}),i=new Rm({props:{$$slots:{default:[t$]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment),o=U(),qe(i.$$.fragment)},m(e,l){We(t,e,l),L(e,n,l),We(s,e,l),L(e,o,l),We(i,e,l),r=!0},p(e,n){const o={};8&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r);const l={};8&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){r||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),Ce(i.$$.fragment,e),r=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),Pe(i.$$.fragment,e),r=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e),e&&O(o),Ke(i,e)}}}function s$(e){let t,n,s,o;return t=new Im({props:{class:"mt-4",$$slots:{default:[Zg]},$$scope:{ctx:e}}}),s=new Lm({props:{$$slots:{default:[n$]},$$scope:{ctx:e}}}),{c(){qe(t.$$.fragment),n=U(),qe(s.$$.fragment)},m(e,i){We(t,e,i),L(e,n,i),We(s,e,i),o=!0},p(e,n){const o={};10&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};8&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i)},i(e){o||(Ce(t.$$.fragment,e),Ce(s.$$.fragment,e),o=!0)},o(e){Pe(t.$$.fragment,e),Pe(s.$$.fragment,e),o=!1},d(e){Ke(t,e),e&&O(n),Ke(s,e)}}}function o$(e){let t,n,s=e[0]&&zg(e);return{c(){s&&s.c(),t=B()},m(e,o){s&&s.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&Ce(s,1)):(s=zg(e),s.c(),Ce(s,1),s.m(t.parentNode,t)):s&&(Le(),Pe(s,1,1,(()=>{s=null})),Oe())},i(e){n||(Ce(s),n=!0)},o(e){Pe(s),n=!1},d(e){s&&s.d(e),e&&O(t)}}}function i$(e,t,n){let s,o;return d(e,wt,(e=>n(0,s=e))),d(e,Oi,(e=>n(1,o=e))),[s,o,function(){w(wt,s=!1,s),yt.debug("Settings closed",$t.USER_INPUT)}]}class r$ extends ze{constructor(e){super(),Ve(this,e,i$,o$,c,{})}}const{window:l$}=Be;function c$(e){let t,n,s,o,i,l,c,a,u,d,f,p,h,m,g;n=new xc({props:{cpu:e[0],ram:e[1],symbolTable:e[2],animationsEnabled:e[5]}});let $={cpu:e[0],programExecution:e[3]};o=new $u({props:$}),e[14](o);l=new mm({props:{}}),e[15](l);a=new ea({props:{}}),e[17](a);d=new Hc({props:{}}),e[18](d);return p=new r$({props:{}}),e[19](p),{c(){t=P("div"),qe(n.$$.fragment),s=U(),qe(o.$$.fragment),i=U(),qe(l.$$.fragment),c=U(),qe(a.$$.fragment),u=U(),qe(d.$$.fragment),f=U(),qe(p.$$.fragment),F(t,"class","relative w-app h-app origin-top-left")},m(r,$){L(r,t,$),We(n,t,null),S(t,s),We(o,t,null),S(t,i),We(l,t,null),e[16](t),L(r,c,$),We(a,r,$),L(r,u,$),We(d,r,$),L(r,f,$),We(p,r,$),h=!0,m||(g=[M(l$,"resize",e[11]),M(l$,"error",e[12])],m=!0)},p(e,[t]){const s={};1&t&&(s.cpu=e[0]),2&t&&(s.ram=e[1]),4&t&&(s.symbolTable=e[2]),32&t&&(s.animationsEnabled=e[5]),n.$set(s);const i={};1&t&&(i.cpu=e[0]),8&t&&(i.programExecution=e[3]),o.$set(i);l.$set({});a.$set({});d.$set({});p.$set({})},i(e){h||(Ce(n.$$.fragment,e),Ce(o.$$.fragment,e),Ce(l.$$.fragment,e),Ce(a.$$.fragment,e),Ce(d.$$.fragment,e),Ce(p.$$.fragment,e),h=!0)},o(e){Pe(n.$$.fragment,e),Pe(o.$$.fragment,e),Pe(l.$$.fragment,e),Pe(a.$$.fragment,e),Pe(d.$$.fragment,e),Pe(p.$$.fragment,e),h=!1},d(s){s&&O(t),Ke(n),e[14](null),Ke(o),e[15](null),Ke(l),e[16](null),s&&O(c),e[17](null),Ke(a,s),s&&O(u),e[18](null),Ke(d,s),s&&O(f),e[19](null),Ke(p,s),m=!1,r(g)}}}function a$(e,t,n){let s,o,i,r,l,c;d(e,It,(e=>n(5,s=e))),d(e,st,(e=>n(6,o=e))),d(e,rt,(e=>n(7,i=e))),d(e,it,(e=>n(8,r=e))),d(e,ot,(e=>n(9,l=e))),d(e,ct,(e=>n(10,c=e)));let a,{cpu:u}=t,{ram:f}=t,{symbolTable:p}=t,{programExecution:h}=t,{onMountCallback:m}=t;function g(){let e=window.innerWidth/1400,t=window.innerHeight/800,s=e<t?e:t;n(4,a.style.transform=`scale(${s})`,a)}return ie((()=>{g(),m()})),e.$$set=e=>{"cpu"in e&&n(0,u=e.cpu),"ram"in e&&n(1,f=e.ram),"symbolTable"in e&&n(2,p=e.symbolTable),"programExecution"in e&&n(3,h=e.programExecution),"onMountCallback"in e&&n(13,m=e.onMountCallback)},[u,f,p,h,a,s,o,i,r,l,c,g,function(e){e.preventDefault(),yt.unexpected_error(e.message,$t.UNCAUGHT)},m,function(e){pe[e?"unshift":"push"]((()=>{o=e,st.set(o)}))},function(e){pe[e?"unshift":"push"]((()=>{i=e,rt.set(i)}))},function(e){pe[e?"unshift":"push"]((()=>{a=e,n(4,a)}))},function(e){pe[e?"unshift":"push"]((()=>{r=e,it.set(r)}))},function(e){pe[e?"unshift":"push"]((()=>{l=e,ot.set(l)}))},function(e){pe[e?"unshift":"push"]((()=>{c=e,ct.set(c)}))}]}class u$ extends ze{constructor(e){super(),Ve(this,e,a$,c$,c,{cpu:0,ram:1,symbolTable:2,programExecution:3,onMountCallback:13})}}class d${constructor(){this.data_main=Ze(new qi(16,0)),this.data_ir_cu=Ze(new qi(16,0)),this.data_alu_acc=Ze(new qi(16,0)),this.data_alu_sw=Ze(new qi(16,0)),this.data_mux_alu=Ze(new qi(16,0)),this.ctrl_cu_mux=Ze(new qi(16,0)),this.ctrl_cu_ram=Ze(new qi(16,0)),this.ctrl_cu_alu=Ze(new qi(16,0)),this.addr_main=Ze(new qi(16,0)),this.addr_inc_pc=Ze(new qi(16,0))}set(e,t){this[e].set(t)}}class f${constructor(e,t=f$.DEFAULT_INTERVAL_MS){if(!e)throw new Error("Null or undefined cyclable");if(t<1)throw new Error("intervalMs must be greater than 0");this.intervalId=null,this.cyclable=e,this.intervalMs=t,this.isLocked=!1}start(){null===this.intervalId&&(this.intervalId=setInterval((()=>e(this,void 0,void 0,(function*(){this.isLocked||(this.isLocked=!0,yield this.cyclable.cycle(),this.isLocked=!1)}))),this.intervalMs))}stop(){null!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}}let p$;return f$.DEFAULT_INTERVAL_MS=200,function(){e(this,void 0,void 0,(function*(){yt.debug("Instantiating models",$t.INIT);const t=new nl,n=new Yi,s=new cl,o=new d$,i=new Oc;yt.debug("Models instantiated",$t.INIT),yt.debug("Setting model's stores",$t.INIT),ur.set(t),ar.set(n),dr.set(s),fr.set(o),mr.set(i),yt.debug("Model's stores setted",$t.INIT),yt.debug("Subscribing symbol table change synchers",$t.INIT),s.addLabelEditedListener((e=>t.updateLabel(e.oldLabel,e.newLabel))),s.addLabelEditedListener((e=>{yt.debug(`Label edited - oldValue: "${e.oldLabel}" newValue: "${e.newLabel}"`,$t.INIT)})),s.addLabelMovedListener((e=>t.updateLabelAddress(e.label,e.newAddress))),s.addLabelMovedListener((e=>{yt.debug(`Label moved - label: "${e.label}" oldAddress: "${e.oldAddress}" newAddress: "${e.newAddress}"`,$t.INIT)})),s.addLabelRemovedListener((e=>t.removeLabel(e.removedLabel))),s.addLabelRemovedListener((e=>{yt.debug(`Label removed - label: "${e.removedLabel}" address: "${e.address}"`,$t.INIT)})),yt.debug("Symbol table change synchers subscribed",$t.INIT),yt.debug("Subscribing local storage program synchers",$t.INIT),t.instructions.subscribe((e=>ft.set("program",rc(t,s)))),s.labels.subscribe((e=>ft.set("program",rc(t,s)))),yt.debug("Local storage program synchers subscribed",$t.INIT),yield function(){return e(this,void 0,void 0,(function*(){yt.debug("Initializing settings",$t.INIT),yt.debug("Initializing settings values",$t.INIT),wt.set(Wt.showSettings),vt.set(Wt.showLogsExplorer),xt.set(Wt.displayAsBinary),_t.set("true"===ft.getOrElse("displayComponentsLabels",Wt.displayComponentsLabels)),kt.set("true"===ft.getOrElse("displayBussesLabels",Wt.displayBussesLabels)),Et.set("true"===ft.getOrElse("displayStepText",Wt.displayStepText)),At.set(Wt.minimalAnimations),It.set(Wt.animationsEnabled),St.set(parseFloat(ft.getOrElse("animationSpeed",Wt.animationSpeed))),Tt.set(ft.getOrElse("language",Wt.language)),Nt.set("true"===ft.getOrElse("ttsEnabled",Wt.ttsEnabled)),Lt.set(parseFloat(ft.getOrElse("ttsSpeed",Wt.ttsSpeed))),Ct.set(ft.getOrElse("extDataBusColor",Wt.extDataBusColor)),Pt.set(ft.getOrElse("intDataBusColor",Wt.intDataBusColor)),Rt.set(ft.getOrElse("extDataBusAnimationColor",Wt.extDataBusAnimationColor)),Dt.set(ft.getOrElse("intDataBusAnimationColor",Wt.intDataBusAnimationColor)),Ut.set(ft.getOrElse("extAddressBusColor",Wt.extAddressBusColor)),Bt.set(ft.getOrElse("intAddressBusColor",Wt.intAddressBusColor)),Mt.set(ft.getOrElse("extAddressBusAnimationColor",Wt.extAddressBusAnimationColor)),Ft.set(ft.getOrElse("intAddressBusAnimationColor",Wt.intAddressBusAnimationColor)),Qt.set(ft.getOrElse("extControlBusColor",Wt.extControlBusColor)),jt.set(ft.getOrElse("intControlBusColor",Wt.intControlBusColor)),Ht.set(ft.getOrElse("extControlBusAnimationColor",Wt.extControlBusAnimationColor)),qt.set(ft.getOrElse("intControlBusAnimationColor",Wt.intControlBusAnimationColor)),yt.debug("Settings values initialized",$t.INIT),yield new Promise((e=>{const t=()=>{yt.debug("Initializing ttsVoice setting (onvoicechanged event)",$t.INIT),Ot.set(ft.getOrElse("ttsVoice",ht.getAvailableVoices(Tt.get())[0].name));const n=Ot.get();Tt.subscribe((e=>Ot.set(ht.getAvailableVoices(e)[0].name))),Ot.subscribe((e=>ft.set("ttsVoice",e))),Ot.set(n),window.speechSynthesis.removeEventListener("voiceschanged",t),yt.debug("ttsVoice setting initialized",$t.INIT),e()};0===window.speechSynthesis.getVoices().length?window.speechSynthesis.onvoiceschanged=t:t()})),yt.debug("Subscribing local storage settings synchers",$t.INIT),_t.subscribe((e=>ft.set("displayComponentsLabels",e))),kt.subscribe((e=>ft.set("displayBussesLabels",e))),Et.subscribe((e=>ft.set("displayStepText",e))),St.subscribe((e=>ft.set("animationSpeed",e))),Tt.subscribe((e=>ft.set("language",e))),Nt.subscribe((e=>ft.set("ttsEnabled",e))),Lt.subscribe((e=>ft.set("ttsSpeed",e))),Ct.subscribe((e=>ft.set("extDataBusColor",e))),Pt.subscribe((e=>ft.set("intDataBusColor",e))),Rt.subscribe((e=>ft.set("extDataBusAnimationColor",e))),Dt.subscribe((e=>ft.set("intDataBusAnimationColor",e))),Ut.subscribe((e=>ft.set("extAddressBusColor",e))),Bt.subscribe((e=>ft.set("intAddressBusColor",e))),Mt.subscribe((e=>ft.set("extAddressBusAnimationColor",e))),Ft.subscribe((e=>ft.set("intAddressBusAnimationColor",e))),Qt.subscribe((e=>ft.set("extControlBusColor",e))),jt.subscribe((e=>ft.set("intControlBusColor",e))),Ht.subscribe((e=>ft.set("extControlBusAnimationColor",e))),qt.subscribe((e=>ft.set("intControlBusAnimationColor",e))),yt.debug("Local storage settings synchers subscribed",$t.INIT),yt.debug("Settings initialized",$t.INIT)}))}(),yield function(){return e(this,void 0,void 0,(function*(){yt.debug("Initializing text",$t.INIT),yield Ci(u(Tt)),Tt.subscribe(Ci),yt.debug("Text initialized",$t.INIT)}))}(),yield i.fetchMessages("resources/messages.yaml"),yt.debug("Instantiating program execution and program execution loop",$t.INIT);const r=new eu(n,t,s,o),l=new f$(r,20);yt.debug("Program execution and program execution loop instantiated",$t.INIT),yt.debug("Setting program execution and program execution loop stores",$t.INIT),pr.set(r),hr.set(l),yt.debug("Program execution and program execution loop stores setted",$t.INIT),yt.debug("Instantiating App",$t.INIT),p$=new u$({target:document.body,props:{cpu:n,ram:t,symbolTable:s,programExecution:r,onMountCallback:()=>{yt.debug("Initializing execution context",$t.INIT),yt.debug("Fetching ui components from stores",$t.INIT);const e=tt.get(),t=et.get(),n=nt.get(),s=lt.get();if(!e)throw new Error("cpu component not yet initialized");if(!t)throw new Error("ram component not yet initialized");if(!n)throw new Error("wires component not yet initialized");if(!s)throw new Error("step text component not yet initialized");yt.debug("Ui components fetched",$t.INIT),yt.debug("Passing ui components to executionContext",$t.INIT),r.executionContext.cpu.component=e,r.executionContext.ram.component=t,r.executionContext.wires.component=n,r.executionContext.stepTextComponent=s,yt.debug("Ui components passed to executionContext",$t.INIT),yt.debug("Starting execution loop",$t.INIT),l.start(),yt.debug("Execution loop started",$t.INIT),yt.debug("Execution context initialized",$t.INIT)}}}),yt.debug("App instantiated",$t.INIT),yt.debug("Checking url params for base64 encoded program",$t.INIT,$t.USER_INPUT);const c=new URLSearchParams(window.location.search);if(c.has("program")){yt.debug("Base64 encoded program found in page url",$t.INIT,$t.USER_INPUT);try{const e=c.get("program");yt.debug(`Loading program from url: ${e}`,$t.INIT,$t.USER_INPUT);const n=ic(window.atob(e));t.import(n.ram),s.import(n.symbolTable)}catch(e){i.error(e.message),yt.handled_error(e.message,$t.INIT,$t.USER_INPUT)}yt.debug("Base64 encoded program loaded",$t.INIT,$t.USER_INPUT)}else{yt.debug("No base64 encoded program found in the page url",$t.INIT),yt.debug("Loading program from local storage",$t.INIT);const e=ic(ft.getOrElse("program","NOP"));t.import(e.ram),s.import(e.symbolTable),yt.debug("Program from local storage loaded",$t.INIT)}}))}(),p$}();
//# sourceMappingURL=app.bundle.js.map
